<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Mambo</title>
  
  <subtitle>Today I Learned ğŸ”¥</subtitle>
  <link href="https://kdevkr.github.io/atom.xml" rel="self"/>
  
  <link href="https://kdevkr.github.io/"/>
  <updated>2022-03-19T05:27:27.228Z</updated>
  <id>https://kdevkr.github.io/</id>
  
  <author>
    <name>Mambo</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ìë°” ë‚ ì§œ ë° ì‹œê°„ í¬ë§·</title>
    <link href="https://kdevkr.github.io/java-datetime-format/"/>
    <id>https://kdevkr.github.io/java-datetime-format/</id>
    <published>2022-03-19T00:00:00.000Z</published>
    <updated>2022-03-19T05:27:27.228Z</updated>
    
    <content type="html"><![CDATA[<p>ì—¬ëŸ¬ êµ­ê°€ë¥¼ ëŒ€ìƒìœ¼ë¡œ í•´ì•¼í•˜ëŠ” ì„œë¹„ìŠ¤ë¥¼ ë§Œë“¤ì–´ê°€ê²Œ ë˜ëŠ” ê²½ìš° ì–¸ì–´ ë¿ë§Œ ì•„ë‹ˆë¼ ì‹œê°„ì„ ë‹¤ë£¨ëŠ” ê²ƒë„ ì¤‘ìš”í•©ë‹ˆë‹¤. ë‹¨ìˆœí•˜ê²Œ ë§í•´ì„œ í•œêµ­ì—ì„œ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•œë‹¤ê³ í•´ì„œ í•œêµ­ ì‹œê°„ìœ¼ë¡œ ëª¨ë“  ì‹œê°„ ë°ì´í„°ë¥¼ ë‹¤ë£¨ëŠ” ê²ƒì€ ì¢‹ì€ ë°©ì‹ì´ ì•„ë‹™ë‹ˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œëŠ” UTCë¼ê³  í•˜ëŠ” ì„¸ê³„ í˜‘ì • ì‹œê°„ì„ ê¸°ì¤€ìœ¼ë¡œ ì‹œê°„ì„ ì €ì¥í•´ì•¼í•©ë‹ˆë‹¤. PostgreSQLê³¼ ê°™ì€ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œë„ Timestampë¥¼ ì €ì¥í•˜ê²Œ ë˜ëŠ” ê²½ìš° ë‚´ë¶€ì ìœ¼ë¡œëŠ” UTCë¡œ ì €ì¥ë©ë‹ˆë‹¤. ë”°ë¼ì„œ, 2022ë…„ 3ì›” 19ì¼ 12ì‹œ ë¼ëŠ” ì‹œê°„ì€ <code>2022ë…„ 3ì›” 19ì¼ 03ì‹œ</code>ë¡œ ì €ì¥ë˜ëŠ”ê²ƒì´ì£ .</p><blockquote><p>ì• í”Œë¦¬ì¼€ì´ì…˜ ë¿ë§Œ ì•„ë‹ˆë¼ ì„œë²„ ê·¸ë¦¬ê³  ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë‘ UTCë¡œ ì„¤ì •í•˜ì—¬ ì‚¬ìš©í•˜ëŠ”ê²Œ ì¼ë°˜ì ì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì•„ë§ˆì¡´ ì›¹ ì„œë¹„ìŠ¤ì˜ EC2ëŠ” í•œêµ­ ë¦¬ì „ì¸ë°ë„ ë¶ˆêµ¬í•˜ê³  í•œêµ­ ì‹œê°„ëŒ€ê°€ ì•„ë‹Œ UTCë¡œ ì„¤ì •ë˜ì–´ìˆìŠµë‹ˆë‹¤.</p></blockquote><p>ê·¸ë¦¬ê³  ì‹œê°„ ë°ì´í„°ë¥¼ ì „ë‹¬í•  ë•ŒëŠ” <code>2022-03-19 12:00</code>ê³¼ ê°™ì€ ë¬¸ìì—´ í˜•íƒœê°€ ì•„ë‹Œ <a href="https://www.unixtimestamp.com/">Unix Timestamp</a>ì˜ ë°€ë¦¬ì´ˆê°€ ë¶€ì—¬ëœ ìƒíƒœë¡œ ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ê°„ ìš”ì²­ê³¼ ì‘ë‹µì— ì‚¬ìš©ë©ë‹ˆë‹¤. ê°€ë”ì”© êµ­ë‚´ ì‹œê°„ë§Œ ë‹¤ë£¨ë˜ ê°œë°œìë“¤ì´ UTC ë˜ëŠ” Unix Timestampì— ëŒ€í•´ì„œ ëª¨ë¥´ëŠ” ê²½ìš°ë„ ê½¤ ë§ì•˜ìŠµë‹ˆë‹¤. ë°€ë¦¬ì´ˆ í˜•ì‹ì˜ Unix Timestampë¥¼ ì „ë‹¬ë°›ì•˜ìœ¼ë‚˜ ì‹¤ì œë¡œ ë³€í™˜í•´ë³´ë‹ˆ 9ì‹œê°„ì´ ë¹ ì§„ê²Œ ì•„ë‹ˆë¼ ì˜¤íˆë ¤ 9ì‹œê°„ì´ ë”í•´ì§„ ìƒíƒœë¡œ ì „ë‹¬í•˜ë˜ ê²½í—˜ë„ ìˆìŠµë‹ˆë‹¤.</p><h2 id="Java-Date-Format"><a href="#Java-Date-Format" class="headerlink" title="Java Date Format"></a>Java Date Format</h2><p>ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ê°„ì— ì‹œê°„ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ê±°ë‚˜ ê°œë°œì ì‚¬ì´ì— APIë¥¼ ì œê³µí•  ë•Œì—ëŠ” ì•ì„œ ì´ì•¼ê¸°í•œ Unix Timestampë¡œ ì „ë‹¬í•˜ë„ë¡ ìŠ¤í™ì„ ë§ì¶œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ê°œë°œìê°€ ì•„ë‹Œ ì¼ë°˜ ì‚¬ìš©ìê°€ ì„œë¹„ìŠ¤ ë‚´ì—ì„œ CSV ë˜ëŠ” ì—‘ì…€ íŒŒì¼ í˜•ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì—…ë¡œë“œí•˜ê±°ë‚˜ ë‹¤ìš´ë¡œë“œ ë°›ì„ë•Œì—ëŠ” ìˆ«ìê°’ì¸ Unix Timestampê°€ ì•„ë‹Œ <code>2022-03-19 12:00:00</code>ê³¼ ê°™ì€ ì–´ë– í•œ ë¬¸ì í˜•íƒœì´ì–´ì•¼í•©ë‹ˆë‹¤. ì™œëƒí•˜ë©´ ì¼ë°˜ì¸ë“¤ì€ UTCê°€ ë¬´ì—‡ì¸ì§€ Unix Timestampê°€ ë¬´ì—‡ì¸ì§€ ëª¨ë¥´ëŠ” ì‚¬ëŒì´ ë§ìœ¼ë‹ˆê¹Œìš”. ì‹¬ì§€ì–´ëŠ” ê°œë°œìë“¤ ì¤‘ì—ì„œë„â€¦</p><blockquote><p>ìë°” 8ì˜ Date&#x2F;Time APIì— ëŒ€í•´ì„œëŠ” ë„¤ì´ë²„ D2ì— ê³µìœ ëœ <a href="%5Bhttps://d2.naver.com/helloworld/645609">Javaì˜ ë‚ ì§œì™€ ì‹œê°„ API</a>ë¥¼ ì°¸ê³ í•˜ì‹œë©´ ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.</p></blockquote><h3 id="DateTimeFormatter"><a href="#DateTimeFormatter" class="headerlink" title="DateTimeFormatter"></a>DateTimeFormatter</h3><p>ìë°” 8ì˜ ë‚ ì§œ ë° ì‹œê°„ í´ë˜ìŠ¤ì— ëŒ€í•´ì„œ ë‚ ì§œ í¬ë§·ì„ ì ìš©í•´ì•¼í•˜ëŠ” ê²½ìš° <a href="https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html">DateTimeFormatter</a>ë¥¼ ì‚¬ìš©í•´ì•¼í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì¼ë°˜ì ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì€ ì½”ë“œë¡œ ë‚ ì§œ ë°ì´í„°ë¥¼ ë³€í™˜í•  ìˆ˜ ìˆì£ .</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">TimeZone</span> tzSeoul <span class="token operator">=</span> <span class="token class-name">TimeZone</span><span class="token punctuation">.</span><span class="token function">getTimeZone</span><span class="token punctuation">(</span><span class="token string">"Asia/Seoul"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">String</span> dateStr <span class="token operator">=</span> <span class="token string">"2022-03-19 12:00:00"</span><span class="token punctuation">;</span><span class="token class-name">DateTimeFormatter</span> dateTimeFormatter <span class="token operator">=</span> <span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd HH:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withZone</span><span class="token punctuation">(</span>tzSeoul<span class="token punctuation">.</span><span class="token function">toZoneId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">ZonedDateTime</span> dateTime <span class="token operator">=</span> <span class="token class-name">ZonedDateTime</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>dateStr<span class="token punctuation">,</span> dateTimeFormatter<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s -> %s%n"</span><span class="token punctuation">,</span> dateStr<span class="token punctuation">,</span> dateTime<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><blockquote><p>ìœ„ ì½”ë“œëŠ” ì´í•´í•˜ê¸°ì—ëŠ” ì‰¬ìš°ë‚˜ í•œê°€ì§€ ë¬¸ì œì ì€ ì–´ë–¤ íŠ¹ì •í•œ í˜•íƒœì˜ ë¬¸ìì—´ë¡œ êµ¬ì„±ëœ ë°ì´í„°ë§Œ ë³€í™˜í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì…ë‹ˆë‹¤.</p></blockquote><p>ë§Œì•½, ì„œë¹„ìŠ¤ ì‚¬ìš©ìê°€ 2022ë…„ 3ì›” 19ì¼ 0ì‹œì˜ ì‹œê°„ì„ í‘œí˜„í•˜ê³ ì í•œë‹¤ë©´ 2022-03-19 00:00:00ê³¼ ê°™ì´ ë¶ˆí•„ìš”í•˜ê²Œ 00:00:00ì„ ë¶™ì—¬ì•¼í•˜ëŠ” ë‹¨ì ì´ ìƒê¸°ê²Œ ë©ë‹ˆë‹¤. ì´ë¥¼ ë³´ì™„í•˜ê¸° ìœ„í•´ì„œëŠ” ì—¬ëŸ¬ê°€ì§€ í˜•ì‹ì˜ ë‚ ì§œ í¬ë§·ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ì½”ë“œê°€ í•„ìš”í•©ë‹ˆë‹¤.</p><h3 id="DateTimeFormatterBuilder"><a href="#DateTimeFormatterBuilder" class="headerlink" title="DateTimeFormatterBuilder"></a>DateTimeFormatterBuilder</h3><p>ì—¬ëŸ¬ê°€ì§€ í˜•íƒœì˜ ë‚ ì§œ í˜•ì‹ì„ ì§€ì›í•´ì•¼í•˜ëŠ” ê²½ìš°ì—ëŠ” <strong>Optional íŒ¨í„´</strong>ì„ ì ìš©í•´ì„œ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. DateTimeFormatterì— ê·¸ëŒ€ë¡œ ì ìš©í• ìˆ˜ë„ ìˆìœ¼ë‚˜ DateTimeFormatterBuilderë¥¼ í†µí•´ ì—¬ëŸ¬ê°€ì§€ ì²˜ë¦¬ ë°©ì‹ì— ëŒ€í•œ ì˜µì…˜ì´ ì ìš©ëœ í˜•íƒœë¡œ DateTimeFormatterë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">TimeZone</span> tzSeoul <span class="token operator">=</span> <span class="token class-name">TimeZone</span><span class="token punctuation">.</span><span class="token function">getTimeZone</span><span class="token punctuation">(</span><span class="token string">"Asia/Seoul"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">DateTimeFormatter</span> dateTimeFormatter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DateTimeFormatterBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">appendPattern</span><span class="token punctuation">(</span><span class="token string">"[yyyy-MM-dd HH:mm:ss]"</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">appendPattern</span><span class="token punctuation">(</span><span class="token string">"[yyyy-MM-dd HH:mm]"</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">appendPattern</span><span class="token punctuation">(</span><span class="token string">"[yyyy-MM-dd]"</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">parseDefaulting</span><span class="token punctuation">(</span><span class="token class-name">ChronoField</span><span class="token punctuation">.</span>HOUR_OF_DAY<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">parseDefaulting</span><span class="token punctuation">(</span><span class="token class-name">ChronoField</span><span class="token punctuation">.</span>MINUTE_OF_HOUR<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">parseDefaulting</span><span class="token punctuation">(</span><span class="token class-name">ChronoField</span><span class="token punctuation">.</span>SECOND_OF_MINUTE<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">toFormatter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">withZone</span><span class="token punctuation">(</span>tzSeoul<span class="token punctuation">.</span><span class="token function">toZoneId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> dateStrArr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">&#123;</span><span class="token string">"2022-03-19 00:00:00"</span><span class="token punctuation">,</span> <span class="token string">"2022-03-19 00:00"</span><span class="token punctuation">,</span> <span class="token string">"2022-03-19"</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> dateStr <span class="token operator">:</span> dateStrArr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">ZonedDateTime</span> dateTime <span class="token operator">=</span> <span class="token class-name">ZonedDateTime</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>dateStr<span class="token punctuation">,</span> dateTimeFormatter<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s -> %s%n"</span><span class="token punctuation">,</span> dateStr<span class="token punctuation">,</span> dateTime<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// 2022-03-19 00:00:00 -> 2022-03-19T00:00+09:00[Asia/Seoul]</span><span class="token comment">// 2022-03-19 00:00 -> 2022-03-19T00:00+09:00[Asia/Seoul]</span><span class="token comment">// 2022-03-19 -> 2022-03-19T00:00+09:00[Asia/Seoul]</span></code></pre><h4 id="Unable-to-obtain-LocalTime-from-TemporalAccessor"><a href="#Unable-to-obtain-LocalTime-from-TemporalAccessor" class="headerlink" title="Unable to obtain LocalTime from TemporalAccessor"></a>Unable to obtain LocalTime from TemporalAccessor</h4><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">TimeZone</span> tzSeoul <span class="token operator">=</span> <span class="token class-name">TimeZone</span><span class="token punctuation">.</span><span class="token function">getTimeZone</span><span class="token punctuation">(</span><span class="token string">"Asia/Seoul"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">DateTimeFormatter</span> dateTimeFormatter <span class="token operator">=</span> <span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token string">"[yyyy-MM-dd HH:mm:ss][yyyy-MM-dd HH:mm][yyyy-MM-dd]"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withZone</span><span class="token punctuation">(</span>tzSeoul<span class="token punctuation">.</span><span class="token function">toZoneId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> dateStrArr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">&#123;</span><span class="token string">"2022-03-19 00:00:00"</span><span class="token punctuation">,</span> <span class="token string">"2022-03-19 00:00"</span><span class="token punctuation">,</span> <span class="token string">"2022-03-19"</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> dateStr <span class="token operator">:</span> dateStrArr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">ZonedDateTime</span> dateTime <span class="token operator">=</span> <span class="token class-name">ZonedDateTime</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>dateStr<span class="token punctuation">,</span> dateTimeFormatter<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s -> %s%n"</span><span class="token punctuation">,</span> dateStr<span class="token punctuation">,</span> dateTime<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><p>ìœ„ì™€ ê°™ì´ DateTimeFormatterBuilderë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ ì„œë„ DateTimeFormatter íŒ¨í„´ ìì²´ë¡œ ë‚ ì§œ í¬ë§· ì²´ì´ë‹ì„ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜, 2022-03-19ì™€ ê°™ì´ ì‹œê°„ ë¶€ë¶„ì´ ì—†ëŠ” í˜•íƒœì˜ ê²½ìš°ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì²˜ë¦¬í•  ìˆ˜ ì—†ë‹¤ëŠ” ì˜ˆì™¸ê°€ ë°œìƒí•˜ê²Œ ë©ë‹ˆë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>format<span class="token punctuation">.</span></span>DateTimeParseException</span><span class="token operator">:</span> <span class="token class-name">Text</span> '<span class="token number">2022</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">19</span>' could not be parsed<span class="token operator">:</span> <span class="token class-name">Unable</span> <span class="token keyword">to</span> <span class="token namespace">obtain</span> <span class="token class-name">ZonedDateTime</span> from <span class="token class-name">TemporalAccessor</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>ISO<span class="token punctuation">,</span><span class="token class-name">Asia</span><span class="token operator">/</span><span class="token class-name">Seoul</span> resolved <span class="token keyword">to</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">19</span> of type <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>format<span class="token punctuation">.</span></span>Parsed</span>at java<span class="token punctuation">.</span>base<span class="token operator">/</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>format<span class="token punctuation">.</span></span>DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">createError</span><span class="token punctuation">(</span><span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">2017</span><span class="token punctuation">)</span>at java<span class="token punctuation">.</span>base<span class="token operator">/</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>format<span class="token punctuation">.</span></span>DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">1952</span><span class="token punctuation">)</span>at java<span class="token punctuation">.</span>base<span class="token operator">/</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span>ZonedDateTime</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token class-name">ZonedDateTime</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">598</span><span class="token punctuation">)</span>at <span class="token class-name"><span class="token namespace">test<span class="token punctuation">.</span></span>Main</span><span class="token punctuation">.</span><span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">Main</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">17</span><span class="token punctuation">)</span><span class="token class-name">Caused</span> by<span class="token operator">:</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span>DateTimeException</span><span class="token operator">:</span> <span class="token class-name">Unable</span> <span class="token keyword">to</span> <span class="token namespace">obtain</span> <span class="token class-name">ZonedDateTime</span> from <span class="token class-name">TemporalAccessor</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>ISO<span class="token punctuation">,</span><span class="token class-name">Asia</span><span class="token operator">/</span><span class="token class-name">Seoul</span> resolved <span class="token keyword">to</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">19</span> of type <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>format<span class="token punctuation">.</span></span>Parsed</span>at java<span class="token punctuation">.</span>base<span class="token operator">/</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span>ZonedDateTime</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token class-name">ZonedDateTime</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">566</span><span class="token punctuation">)</span><span class="token class-name">Caused</span> by<span class="token operator">:</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span>DateTimeException</span><span class="token operator">:</span> <span class="token class-name">Unable</span> <span class="token keyword">to</span> <span class="token namespace">obtain</span> <span class="token class-name">ZonedDateTime</span> from <span class="token class-name">TemporalAccessor</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>ISO<span class="token punctuation">,</span><span class="token class-name">Asia</span><span class="token operator">/</span><span class="token class-name">Seoul</span> resolved <span class="token keyword">to</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">19</span> of type <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>format<span class="token punctuation">.</span></span>Parsed</span>at java<span class="token punctuation">.</span>base<span class="token operator">/</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>format<span class="token punctuation">.</span></span>Parsed</span><span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token class-name">Parsed</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">235</span><span class="token punctuation">)</span>at java<span class="token punctuation">.</span>base<span class="token operator">/</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>format<span class="token punctuation">.</span></span>DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">1948</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token number">2</span> more<span class="token class-name">Caused</span> by<span class="token operator">:</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span>DateTimeException</span><span class="token operator">:</span> <span class="token class-name">Unable</span> <span class="token keyword">to</span> <span class="token namespace">obtain</span> <span class="token class-name">LocalTime</span> from <span class="token class-name">TemporalAccessor</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>ISO<span class="token punctuation">,</span><span class="token class-name">Asia</span><span class="token operator">/</span><span class="token class-name">Seoul</span> resolved <span class="token keyword">to</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">19</span> of type <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>format<span class="token punctuation">.</span></span>Parsed</span><span class="token class-name">Caused</span> by<span class="token operator">:</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span>DateTimeException</span><span class="token operator">:</span> <span class="token class-name">Unable</span> <span class="token keyword">to</span> <span class="token namespace">obtain</span> <span class="token class-name">LocalTime</span> from <span class="token class-name">TemporalAccessor</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>ISO<span class="token punctuation">,</span><span class="token class-name">Asia</span><span class="token operator">/</span><span class="token class-name">Seoul</span> resolved <span class="token keyword">to</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">19</span> of type <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>format<span class="token punctuation">.</span></span>Parsed</span>at java<span class="token punctuation">.</span>base<span class="token operator">/</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span>LocalTime</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token class-name">LocalTime</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">431</span><span class="token punctuation">)</span>at java<span class="token punctuation">.</span>base<span class="token operator">/</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span>ZonedDateTime</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token class-name">ZonedDateTime</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">561</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token number">4</span> more</code></pre><blockquote><p>ë”°ë¼ì„œ, DateTimeFormatterBuilderë¡œ ë¬¸ìì—´ë¡œ êµ¬ì„±ëœ ë‚ ì§œ ë° ì‹œê°„ ë°ì´í„°ì— êµ¬ì„±ë˜ì§€ ì•ŠëŠ” ë¶€ë¶„ì„ ì–´ë–»ê²Œ ì²˜ë¦¬í•  ê²ƒì¸ê°€ì— ëŒ€í•œ ì˜µì…˜ì„ ì ìš©í•˜ì—¬ DateTimeFormatterë¥¼ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•˜ëŠ”ê²Œ ì¢‹ì•„ë³´ì…ë‹ˆë‹¤.</p></blockquote><p>ë§Œì•½, ì´ ê¸€ì„ ë³´ì‹œëŠ” ì—¬ëŸ¬ë¶„ë“¤ì´ ì—¬ëŸ¬ê°€ì§€ í˜•íƒœì˜ ë‚ ì§œ í¬ë§·ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ì„œ ì•„ë˜ì™€ ê°™ì´ DateTimeFormattterë¥¼ ì—¬ëŸ¬ê°œ ë§Œë“¤ì–´ì„œ ì²˜ë¦¬í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í–ˆë‹¤ë©´ DateTimeFormatterBuilderë¡œ í•˜ë‚˜ì˜ DateTimeFormatterë¥¼ ì‚¬ìš©í•´ì„œ ì¢€ ë” ê¹”ë”í•œ í˜•íƒœì˜ ì½”ë“œë¡œ ë§Œë“¤ì–´ë³´ì‹œê¸°ë¥¼ ì¶”ì²œí•´ë“œë¦½ë‹ˆë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">String</span> dateStr <span class="token operator">=</span> <span class="token string">"2022-03-19"</span><span class="token punctuation">;</span><span class="token class-name">ZonedDateTime</span> dateTime <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token keyword">try</span> <span class="token punctuation">&#123;</span>    dateTime <span class="token operator">=</span> <span class="token class-name">ZonedDateTime</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>dateStr<span class="token punctuation">,</span> <span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd HH:mm"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withZone</span><span class="token punctuation">(</span>tzSeoul<span class="token punctuation">.</span><span class="token function">toZoneId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">DateTimeException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">LocalDateTime</span> localDateTime <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>dateStr<span class="token punctuation">,</span> <span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withZone</span><span class="token punctuation">(</span>tzSeoul<span class="token punctuation">.</span><span class="token function">toZoneId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">atStartOfDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    dateTime <span class="token operator">=</span> <span class="token class-name">ZonedDateTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>localDateTime<span class="token punctuation">,</span> tzSeoul<span class="token punctuation">.</span><span class="token function">toZoneId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>dateTime<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>ê°ì‚¬í•©ë‹ˆë‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ì—¬ëŸ¬ êµ­ê°€ë¥¼ ëŒ€ìƒìœ¼ë¡œ í•´ì•¼í•˜ëŠ” ì„œë¹„ìŠ¤ë¥¼ ë§Œë“¤ì–´ê°€ê²Œ ë˜ëŠ” ê²½ìš° ì–¸ì–´ ë¿ë§Œ ì•„ë‹ˆë¼ ì‹œê°„ì„ ë‹¤ë£¨ëŠ” ê²ƒë„ ì¤‘ìš”í•©ë‹ˆë‹¤. ë‹¨ìˆœí•˜ê²Œ ë§í•´ì„œ í•œêµ­ì—ì„œ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•œë‹¤ê³ í•´ì„œ í•œêµ­ ì‹œê°„ìœ¼ë¡œ ëª¨ë“  ì‹œê°„ ë°ì´í„°ë¥¼ ë‹¤ë£¨ëŠ” ê²ƒì€ ì¢‹ì€ ë°©ì‹ì´ ì•„ë‹™ë‹ˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œëŠ” UT</summary>
      
    
    
    
    
    <category term="TimeZone" scheme="https://kdevkr.github.io/tags/TimeZone/"/>
    
    <category term="ZoneId" scheme="https://kdevkr.github.io/tags/ZoneId/"/>
    
    <category term="Instant" scheme="https://kdevkr.github.io/tags/Instant/"/>
    
    <category term="ZonedDateTime" scheme="https://kdevkr.github.io/tags/ZonedDateTime/"/>
    
    <category term="DateTimeFormatter" scheme="https://kdevkr.github.io/tags/DateTimeFormatter/"/>
    
  </entry>
  
  <entry>
    <title>í”„ë¦¬ë§ˆì»¤ í…œí”Œë¦¿</title>
    <link href="https://kdevkr.github.io/freemarker-template/"/>
    <id>https://kdevkr.github.io/freemarker-template/</id>
    <published>2022-03-05T00:00:00.000Z</published>
    <updated>2022-03-19T05:27:27.228Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ë³¸ ê¸€ì€ <a href="/sending-mail-with-freemarker-template/">í”„ë¦¬ë§ˆì»¤ í…œí”Œë¦¿ìœ¼ë¡œ ì´ë©”ì¼ ë°œì†¡í•˜ê¸°</a>ì— ì´ì–´ì„œ í”„ë¦¬ë§ˆì»¤ í…œí”Œë¦¿ì— ëŒ€í•´ì„œ ì¡°ê¸ˆ ë” í•™ìŠµí•´ë³´ê³  ì •ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤.<br>ì´ ê¸€ì—ì„œ ì•Œì•„ë³´ëŠ” ë‚´ìš©ì„ ì½”ë“œë¡œ í™•ì¸í•˜ê³  ì‹¶ë‹¤ë©´ <a href="https://github.com/kdevkr/spring-demo-freemarker">spring-demo-freemarker</a>ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.</p></blockquote><h2 id="í”„ë¦¬ë§ˆì»¤-í…œí”Œë¦¿"><a href="#í”„ë¦¬ë§ˆì»¤-í…œí”Œë¦¿" class="headerlink" title="í”„ë¦¬ë§ˆì»¤ í…œí”Œë¦¿"></a>í”„ë¦¬ë§ˆì»¤ í…œí”Œë¦¿</h2><p><a href="https://freemarker.apache.org/">í”„ë¦¬ë§ˆì»¤(FreeMarker)</a> í…œí”Œë¦¿ ì—”ì§„ì€ ìŠ¤í”„ë§ ë¶€íŠ¸ì—ì„œ ê³µì‹ì ìœ¼ë¡œ ì§€ì›í•˜ëŠ” í…œí”Œë¦¿ ì—”ì§„ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤. <a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Template_literals">í…œí”Œë¦¿ ë¦¬í„°ëŸ´</a>ì²˜ëŸ¼ ë¯¸ë¦¬ ì •ì˜ëœ í…œí”Œë¦¿ íŒŒì¼ì„ ë§Œë“¤ì–´ì„œ ì–´ë– í•œ ë°ì´í„° ëª¨ë¸ì„ ê²°í•©í•˜ì—¬ ë™ì ìœ¼ë¡œ ì»¨í…ì¸ ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ì„œ ì‚¬ìš©í•©ë‹ˆë‹¤. ì—¬ëŸ¬ê°€ì§€ <a href="https://github.com/jreijn/spring-comparing-template-engines">í…œí”Œë¦¿ ì—”ì§„ê³¼ ë¹„êµ</a>í•´ì„œë„ ì¤€ìˆ˜í•œ ë Œë”ë§ ì„±ëŠ¥ì„ ë³´ì—¬ì£¼ê³  ìˆìŠµë‹ˆë‹¤.</p><p><img data-src="https://freemarker.apache.org/images/overview.png" alt="Template + data-model = output"></p><h3 id="í…œí”Œë¦¿-ë¡œë”"><a href="#í…œí”Œë¦¿-ë¡œë”" class="headerlink" title="í…œí”Œë¦¿ ë¡œë”"></a>í…œí”Œë¦¿ ë¡œë”</h3><p>í”„ë¦¬ë§ˆì»¤ í…œí”Œë¦¿ ì—”ì§„ì€ ë‹¤ì–‘í•­ ë°©ì‹ìœ¼ë¡œ í…œí”Œë¦¿ì„ ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ <a href="https://freemarker.apache.org/docs/api/freemarker/cache/TemplateLoader.html">TemplateLoader</a> ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ë‚´ì¥ë˜ì–´ìˆëŠ” êµ¬í˜„ì²´ë„ ì¡´ì¬í•˜ë©° í”„ë¦¬ë§ˆì»¤ í…œí”Œë¦¿ ì—”ì§„ì„ ê³µì‹ì ìœ¼ë¡œ ì§€ì›í•˜ëŠ” ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ì—ëŠ” SpringTemplateLoaderë¼ëŠ” êµ¬í˜„ì²´ë¥¼ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤. ë³¸ ê¸€ì—ì„œ ë‹¤ë£¨ëŠ” TemplateLoaderëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.</p><ul><li><a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/ui/freemarker/SpringTemplateLoader.html">SpringTemplateLoader</a></li><li><a href="https://freemarker.apache.org/docs/api/freemarker/cache/StringTemplateLoader.html">StringTemplateLoader</a></li><li><a href="https://freemarker.apache.org/docs/api/freemarker/cache/MultiTemplateLoader.html">MultiTemplateLoader</a></li></ul><blockquote><p>ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ì—ì„œ ì œê³µí•˜ëŠ” SpringTemplateLoaderëŠ” ResourceLoaderë¥¼ í†µí•´ í…œí”Œë¦¿ì„ ë¡œë“œí•©ë‹ˆë‹¤.</p></blockquote><h3 id="êµ­ì œí™”"><a href="#êµ­ì œí™”" class="headerlink" title="êµ­ì œí™”"></a>êµ­ì œí™”</h3><p>êµ­ì œí™”(Internationalization)ëŠ” êµ¬ê¸€ì²˜ëŸ¼ ë‹¤ì–‘í•œ ì–¸ì–´ë¥¼ ì‚¬ìš©í•˜ëŠ” ì„œë¹„ìŠ¤ ì‚¬ìš©ìê°€ ìˆë‹¤ë©´ ë‹¤êµ­ì–´ ì„œë¹„ìŠ¤ë¥¼ ìœ„í•´ì„œ í•„ìˆ˜ì ìœ¼ë¡œ ì§€ì›í•´ì•¼í•˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤. ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ì—ì„œëŠ” <a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/MessageSource.html">ë©”ì‹œì§€ ì†ŒìŠ¤</a>ë¥¼ í†µí•´ ë‹¤êµ­ì–´ ë©”ì‹œì§€ ì²˜ë¦¬ë¥¼ ì§€ì›í•©ë‹ˆë‹¤. í”„ë¦¬ë§ˆì»¤ í…œí”Œë¦¿ ì—”ì§„ì€ ìŠ¤í”„ë§ì˜ ë©”ì‹œì§€ ì†ŒìŠ¤ì™€ëŠ” ì—°ê´€ì„±ì´ ì—†ìœ¼ë¯€ë¡œ ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ì—ì„œëŠ” í”„ë¦¬ë§ˆì»¤ í…œí”Œë¦¿ì—ì„œ ë©”ì‹œì§€ ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ <a href="https://github.com/spring-projects/spring-framework/blob/main/spring-webmvc/src/main/resources/org/springframework/web/servlet/view/freemarker/spring.ftl">spring.ftl</a>ë¥¼ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤. </p><p>ë”°ë¼ì„œ, í”„ë¦¬ë§ˆì»¤ í…œí”Œë¦¿ì—ì„œ ìŠ¤í”„ë§ ë©”ì‹œì§€ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì„ ì°¾ì•„ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì´ í•´ì•¼í•œë‹¤ëŠ” ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><pre class="language-ftl" data-language="ftl"><code class="language-ftl"><span class="token ftl language-ftl"><span class="token ftl-directive"><span class="token punctuation">&lt;</span><span class="token directive keyword">#import</span><span class="token content ftl"> <span class="token string">"/spring.ftl"</span> <span class="token keyword">as</span> spring</span><span class="token punctuation">/></span></span></span><span class="token ftl language-ftl"><span class="token ftl-directive"><span class="token punctuation">&lt;</span><span class="token directive keyword">@spring</span><span class="token content ftl"><span class="token punctuation">.</span>message <span class="token string">"messageKey"</span></span><span class="token punctuation">/></span></span></span></code></pre><blockquote><p>ë‹¨, ë©”ì‹œì§€ ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì •ì˜ëœ FTL íŒŒì¼ì€ RequestContextë¥¼ í•„ìš”ë¡œí•˜ê¸° ë•Œë¬¸ì— ì‚¬ìš©ìì˜ ìš”ì²­ì— ëŒ€í•´ ì‘ë‹µí•˜ëŠ” ë·°ê°€ ì•„ë‹Œ ê²½ìš°ì—ëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ, ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…ì˜ ìŠ¤ë ˆë“œì—ëŠ” RequestContextê°€ ì¡´ì¬í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë©”ì‹œì§€ ì†ŒìŠ¤ë¡œ ë‹¤êµ­ì–´ ë©”ì‹œì§€ ì²˜ë¦¬ê°€ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.</p></blockquote><h4 id="ResourceBundleModel"><a href="#ResourceBundleModel" class="headerlink" title="ResourceBundleModel"></a>ResourceBundleModel</h4><p>ì‚¬ìš©ìì˜ ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µì´ ì•„ë‹Œ ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…ì—ì„œ í”„ë¦¬ë§ˆì»¤ í…œí”Œë¦¿ ì—”ì§„ì„ ì‚¬ìš©í•  ë•Œ ë‹¤êµ­ì–´ ë©”ì‹œì§€ë¥¼ ì œê³µí•˜ê¸° ìœ„í•´ì„œëŠ” í”„ë¦¬ë§ˆì»¤ í…œí”Œë¦¿ ì—”ì§„ì—ì„œ ì§€ì›í•˜ëŠ” ë°©ë²•ì„ ì‚¬ìš©í•´ì•¼ë§Œ í•©ë‹ˆë‹¤. í”„ë¦¬ë§ˆì»¤ í…œí”Œë¦¿ ì—”ì§„ì€ ë¦¬ì†ŒìŠ¤ ë²ˆë“¤ì„ ëª¨ë¸ë¡œ ì‚¬ìš©í•´ì„œ ë‹¤êµ­ì–´ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” <strong>ResourceBundleModel</strong>ì„ ì œê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤.</p><p>ì˜ˆë¥¼ ë“¤ì–´, í´ë˜ìŠ¤íŒ¨ìŠ¤ì— ë¦¬ì†ŒìŠ¤ ë²ˆë“¤ì„ êµ¬ì„±í•˜ê³  ResourceBundleModelë¡œ ë³€í™˜í•˜ì—¬ ë°ì´í„° ëª¨ë¸ë¡œ ì „ë‹¬í•˜ë©´ ë©”ì‹œì§€ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤.</p><p><img data-src="/images/posts/freemarker-template/resource-bundle.png" alt="Resource Bundle"></p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Locale</span> locale <span class="token operator">=</span> <span class="token class-name">Locale</span><span class="token punctuation">.</span>ROOT<span class="token punctuation">;</span><span class="token class-name">Configuration</span> configuration <span class="token operator">=</span> configurationFactoryBean<span class="token punctuation">.</span><span class="token function">createConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">StringTemplateLoader</span> stringTemplateLoader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringTemplateLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>stringTemplateLoader<span class="token punctuation">.</span><span class="token function">putTemplate</span><span class="token punctuation">(</span><span class="token string">"template"</span><span class="token punctuation">,</span> <span class="token string">"$&#123;bundle(\"application.name\")&#125;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>configuration<span class="token punctuation">.</span><span class="token function">setTemplateLoader</span><span class="token punctuation">(</span>stringTemplateLoader<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Template</span> template <span class="token operator">=</span> configuration<span class="token punctuation">.</span><span class="token function">getTemplate</span><span class="token punctuation">(</span><span class="token string">"template"</span><span class="token punctuation">,</span> locale<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">ResourceBundle</span> resourceBundle <span class="token operator">=</span> <span class="token class-name">ResourceBundle</span><span class="token punctuation">.</span><span class="token function">getBundle</span><span class="token punctuation">(</span><span class="token string">"messages"</span><span class="token punctuation">,</span> locale<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> model <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>model<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"bundle"</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ResourceBundleModel</span><span class="token punctuation">(</span>resourceBundle<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">BeansWrapperBuilder</span><span class="token punctuation">(</span><span class="token class-name">Configuration</span><span class="token punctuation">.</span>DEFAULT_INCOMPATIBLE_IMPROVEMENTS<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">String</span> content <span class="token operator">=</span> <span class="token class-name">FreeMarkerTemplateUtils</span><span class="token punctuation">.</span><span class="token function">processTemplateIntoString</span><span class="token punctuation">(</span>template<span class="token punctuation">,</span> model<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><blockquote><p>ê¸°ë³¸ì ìœ¼ë¡œëŠ” í”„ë¡œí¼í‹° íŒŒì¼ë¡œ ë¦¬ì†ŒìŠ¤ ë²ˆë“¤ì„ ë§Œë“¤ì§€ë§Œ <a href="https://docs.oracle.com/javase/7/docs/api/java/util/ResourceBundle.Control.html">XML</a> ë˜ëŠ” <a href="https://github.com/akkinoc/yaml-resource-bundle">YAML</a>ë¡œ ë¦¬ì†ŒìŠ¤ ë²ˆë“¤ì„ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</p></blockquote><h3 id="í…œí”Œë¦¿-ì²´ì´ë‹"><a href="#í…œí”Œë¦¿-ì²´ì´ë‹" class="headerlink" title="í…œí”Œë¦¿ ì²´ì´ë‹"></a>í…œí”Œë¦¿ ì²´ì´ë‹</h3><p><a href="https://freemarker.apache.org/docs/api/freemarker/cache/MultiTemplateLoader.html">MultiTemplateLoader</a>ë¥¼ ì‚¬ìš©í•˜ë©´ ì—¬ëŸ¬ê°€ì§€ ë°©ì‹ì˜ <a href="https://freemarker.apache.org/docs/pgui_config_templateloading.html">í…œí”Œë¦¿ ë¡œë”©</a>ì„ í†µí•´ í…œí”Œë¦¿ ë¡œë”ì— ì˜í•´ ë¡œë“œë˜ëŠ” í…œí”Œë¦¿ì„ í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ, MultiTemplateLoaderì— ì „ë‹¬ë˜ëŠ” í…œí”Œë¦¿ ë¡œë”ì˜ ìˆœì„œì— ë”°ë¼ SpringTemplateLoaderë¡œ ê¸°ë³¸ í…œí”Œë¦¿ ë ˆì´ì•„ì›ƒì„ ë§Œë“¤ê³  ì‹¤ì œ í…œí”Œë¦¿ ë‚´ìš©ì€ StringTemplateLoaderë¡œ ì¬ì •ì˜í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">StringTemplateLoader</span> stringTemplateLoader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringTemplateLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>stringTemplateLoader<span class="token punctuation">.</span><span class="token function">putTemplate</span><span class="token punctuation">(</span><span class="token string">"email.ftlh"</span><span class="token punctuation">,</span> <span class="token string">"$&#123;bundle(\"application.name\")&#125;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>stringTemplateLoader<span class="token punctuation">.</span><span class="token function">putTemplate</span><span class="token punctuation">(</span><span class="token string">"template"</span><span class="token punctuation">,</span> <span class="token string">"&lt;#include \"email.ftlh\" >"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Configuration</span> configuration <span class="token operator">=</span> configurationFactoryBean<span class="token punctuation">.</span><span class="token function">createConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">SpringTemplateLoader</span> springTemplateLoader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SpringTemplateLoader</span><span class="token punctuation">(</span>resourceLoader<span class="token punctuation">,</span> <span class="token string">"classpath:/templates/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">MultiTemplateLoader</span> multiTemplateLoader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MultiTemplateLoader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TemplateLoader</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">&#123;</span>stringTemplateLoader<span class="token punctuation">,</span> springTemplateLoader<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>configuration<span class="token punctuation">.</span><span class="token function">setTemplateLoader</span><span class="token punctuation">(</span>multiTemplateLoader<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Template</span> template <span class="token operator">=</span> configuration<span class="token punctuation">.</span><span class="token function">getTemplate</span><span class="token punctuation">(</span><span class="token string">"template"</span><span class="token punctuation">,</span> locale<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><blockquote><p>MultiTemplateLoaderì˜ ìƒì„±ìì— ì „ë‹¬ë˜ëŠ” í…œí”Œë¦¿ ë¡œë”ì˜ ìˆœì„œëŒ€ë¡œ í…œí”Œë¦¿ì„ ì°¾ë„ë¡ ìœ„ì„í•œë‹¤ëŠ” ê²ƒì— ì£¼ì˜í•´ì•¼í•©ë‹ˆë‹¤.</p></blockquote><p>ì‚¬ìš©ìì˜ ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µì„ ë·°ë¡œ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ì„œ í…œí”Œë¦¿ ì—”ì§„ì„ ì ìš©í•˜ê¸°ë„ í•˜ì§€ë§Œ ì´ë©”ì¼ ë°œì†¡ê³¼ ê°™ì€ ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…ì—ì„œë„ í”„ë¦¬ë§ˆì»¤ í…œí”Œë¦¿ ì—”ì§„ì„ ë‹¤ì–‘í•œ ë°©ì‹ìœ¼ë¡œ í™œìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œê²Œë˜ì—ˆìŠµë‹ˆë‹¤. í”„ë¦¬ë§ˆì»¤ í…œí”Œë¦¿ì„ ë™ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ì„œ ê³ ë¯¼í•˜ê²Œ ë˜ë©´ì„œ ì•Œì•„ë³¸ ë‚´ìš©ì´ì§€ë§Œ ë§ì€ ë¶„ë“¤ì—ê²Œ ë„ì›€ì´ ë˜ì—ˆìœ¼ë©´ í•©ë‹ˆë‹¤.</p><p>ê°ì‚¬í•©ë‹ˆë‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;ë³¸ ê¸€ì€ &lt;a href=&quot;/sending-mail-with-freemarker-template/&quot;&gt;í”„ë¦¬ë§ˆì»¤ í…œí”Œë¦¿ìœ¼ë¡œ ì´ë©”ì¼ ë°œì†¡í•˜ê¸°&lt;/a&gt;ì— ì´ì–´ì„œ í”„ë¦¬ë§ˆì»¤ í…œí”Œë¦¿ì— ëŒ€í•´ì„œ ì¡°ê¸ˆ ë” í•™ìŠµí•´ë³´ê³  ì •ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤.&lt;br&gt;ì´ ê¸€</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>X509 Certificate Signed by Unknown Authority</title>
    <link href="https://kdevkr.github.io/docker-registry-certificate/"/>
    <id>https://kdevkr.github.io/docker-registry-certificate/</id>
    <published>2022-02-26T00:00:00.000Z</published>
    <updated>2022-03-19T05:27:27.224Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Error response from daemon: Get https://registry.domain.com&#x2F;v2&#x2F;: x509: certificate signed by unknown authority</p></blockquote><p>ìƒê°ë³´ë‹¤ ë§ì€ ì¡°ì§ì—ì„œ ì‚¬ë‚´ ì •ì±…ì´ë‚˜ ë„ì»¤ í—ˆë¸Œì˜ <a href="https://docs.docker.com/docker-hub/download-rate-limit/">ë‹¤ìš´ë¡œë“œ ì œí•œëŸ‰</a>ì„ ê²½í—˜í•˜ê³  ë„ì»¤ì—ì„œ ì œê³µí•˜ëŠ” <a href="https://hub.docker.com/_/registry">ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì´ë¯¸ì§€</a>ë¡œ ì‚¬ì„¤ ë„ì»¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì„œë²„ë¥¼ êµ¬ì¶•í•˜ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤. ìœ„ ì˜¤ë¥˜ëŠ” ë„ì»¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì„œë²„ì— ë¡œê·¸ì¸ì„ ì‹œë„í•  ë•Œ ë‚˜íƒ€ë‚  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìš°ë¦¬ê°€ ì‚¬ìš©í•˜ëŠ” ë„ì»¤ ì—”ì§„ì´ë¼ê³ í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ ë„ì»¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì„œë²„ê°€ ì „ë‹¬í•´ì¤€ ì¸ì¦ì„œë¥¼ ì‹ ë¢°í•  ìˆ˜ ì—†ë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤. ê·¸ëŸ¬ë©´ ìœ„ì™€ ê°™ì´ ë‚´ ì»´í“¨í„°ì— ì„¤ì¹˜ëœ ë„ì»¤ ì—”ì§„ì—ì„œ ì‚¬ì„¤ë¡œ êµ¬ì¶•í•œ ë„ì»¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì„œë²„ì˜ ì¸ì¦ì„œë¥¼ ì‹ ë¢°í•  ìˆ˜ ì—†ëŠ” ë¬¸ì œê°€ ë°œìƒí•˜ë©´ ì–´ë–»ê²Œ í•´ê²°í•˜ëŠ”ì§€ë¥¼ ì•Œì•„ë³´ë„ë¡ í•˜ì£ .</p><h2 id="ë„ì»¤-ë ˆì§€ìŠ¤íŠ¸ë¦¬-ì¸ì¦ì„œ"><a href="#ë„ì»¤-ë ˆì§€ìŠ¤íŠ¸ë¦¬-ì¸ì¦ì„œ" class="headerlink" title="ë„ì»¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì¸ì¦ì„œ"></a>ë„ì»¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì¸ì¦ì„œ</h2><p>ë„ì»¤ ì—”ì§„ì—ì„œ ì°¸ì¡°í•˜ëŠ” ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì„œë²„ì— ëŒ€í•œ ì¸ì¦ì„œ í´ë”ëŠ” <strong>certs.d</strong> ì…ë‹ˆë‹¤.</p><ul><li>Windows: C:&#x2F;ProgramData&#x2F;Docker&#x2F;certs.d&#x2F;</li><li>Linux: &#x2F;etc&#x2F;docker&#x2F;certs.d&#x2F;</li><li>Mac: ~&#x2F;.docker&#x2F;certs.d&#x2F;</li></ul><pre class="language-sh" data-language="sh"><code class="language-sh">&#x2F;etc&#x2F;docker&#x2F;certs.d&#x2F;         &lt;-- Certificate directoryâ””â”€â”€ registry.domain.com:5000 &lt;-- Hostname:port   â”œâ”€â”€ client.cert           &lt;-- Client certificate   â”œâ”€â”€ client.key            &lt;-- Client key   â””â”€â”€ ca.crt                &lt;-- Certificate authority that signed the registry certificate</code></pre><h3 id="ì•ˆì „í•˜ì§€-ì•Šì€-ë ˆì§€ìŠ¤íŠ¸ë¦¬"><a href="#ì•ˆì „í•˜ì§€-ì•Šì€-ë ˆì§€ìŠ¤íŠ¸ë¦¬" class="headerlink" title="ì•ˆì „í•˜ì§€ ì•Šì€ ë ˆì§€ìŠ¤íŠ¸ë¦¬"></a>ì•ˆì „í•˜ì§€ ì•Šì€ ë ˆì§€ìŠ¤íŠ¸ë¦¬</h3><p>HTTPSë¡œ ì‹¤í–‰ëœ ë„ì»¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì„œë²„ì— ëŒ€í•´ì„œ ë„ì»¤ ì—”ì§„ì´ ì‹ ë¢°í•  ìˆ˜ ì—†ëŠ” ì¸ì¦ì„œë¥¼ ë¬´ì‹œí•˜ë„ë¡ <a href="https://docs.docker.com/registry/insecure/">insecure-registries</a>ì˜µì…˜ì„ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ë§Œ, ì´ ë°©ë²•ì€ í•´ë‹¹ ë„ë©”ì¸ ì£¼ì†Œì˜ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì„œë²„ê°€ ì˜¬ë°”ë¥¸ ì¸ì¦ì„œë¥¼ ì‚¬ìš©í•˜ëŠ”ì§€ ê²€ì¦í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë³´ì•ˆì ì¸ ë¶€ë¶„ì„ ìƒê°í•œë‹¤ë©´ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©í•´ì„œëŠ” ì•ˆë˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.</p><h3 id="ì‹ ë¢°í• -ìˆ˜-ìˆëŠ”-ì¸ì¦-ê¸°ê´€"><a href="#ì‹ ë¢°í• -ìˆ˜-ìˆëŠ”-ì¸ì¦-ê¸°ê´€" class="headerlink" title="ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì¸ì¦ ê¸°ê´€"></a>ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì¸ì¦ ê¸°ê´€</h3><p>ë„ì»¤ ì—”ì§„ì€ ê¸°ë³¸ì ìœ¼ë¡œ ì‹œìŠ¤í…œì— ë“±ë¡ëœ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì¸ì¦ ê¸°ê´€ì˜ ì¸ì¦ì„œ ëª©ë¡ìœ¼ë¡œ ë„ì»¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì„œë²„ì˜ í´ë¼ì´ì–¸íŠ¸ ì¸ì¦ì„œë¥¼ ê²€ì¦í•©ë‹ˆë‹¤. ì´ëŠ” í¬ë¡¬ê³¼ ê°™ì€ ë¸Œë¼ìš°ì €ì—ì„œ HTTPS í†µì‹  ì‹œ ì„œë²„ì—ì„œ ì „ë‹¬í•˜ëŠ” ì¸ì¦ì„œê°€ ìœ íš¨í•œì§€ë¥¼ í™•ì¸í•˜ëŠ” ê²ƒê³¼ ë‹¤ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤. ì €ëŠ” <strong>ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì¸ì¦ ê¸°ê´€ìœ¼ë¡œë¶€í„° ë°œê¸‰ë°›ì€ ë„ë©”ì¸ ì¸ì¦ì„œë¥¼ ì‚¬ìš©</strong>í•˜ì—¬ ë„ì»¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì„œë²„ë¥¼ êµ¬ì¶•í•˜ì˜€ëŠ”ë°ë„ ë¶ˆêµ¬í•˜ê³  ë„ì»¤ ì—”ì§„ì—ì„œëŠ” íšŒì‚¬ ë„ë©”ì¸ ì£¼ì†Œë¡œëœ ë„ì»¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì„œë²„ì—ì„œ ì „ë‹¬ëœ ì¸ì¦ì„œê°€ ì˜¬ë°”ë¥´ì§€ ì•Šë‹¤ë©° ë™ì¼í•˜ê²Œ <code>x509: certificate signed by unknown authority</code> ì˜¤ë¥˜ë¥¼ ì•Œë ¤ì£¼ì—ˆìŠµë‹ˆë‹¤.</p><h3 id="CA-ì¸ì¦ì„œ-ì²´ì¸"><a href="#CA-ì¸ì¦ì„œ-ì²´ì¸" class="headerlink" title="CA ì¸ì¦ì„œ ì²´ì¸"></a>CA ì¸ì¦ì„œ ì²´ì¸</h3><p>ë„ì»¤ ì—”ì§„ì—ì„œ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì„œë²„ì˜ ì¸ì¦ì„œë¥¼ ì‹ ë¢°í•  ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒì€ ëª‡ê°€ì§€ ì‚¬í•­ì— ëŒ€í•œ ì˜ë¯¸ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì²«ë²ˆì§¸ë¡œ, ë„ì»¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì„œë²„ êµ¬ì¶• ì‹œ ì‚¬ìš©í•œ CA ì¸ì¦ì„œê°€ í´ë¼ì´ì–¸íŠ¸ ì¸ì¦ì„œì™€ ì¸ì¦ ê¸°ê´€ë“¤ì— ëŒ€í•œ ì¸ì¦ì„œê°€ ì—°ê²°ëœ CA ì¸ì¦ì„œ ì²´ì¸ì´ ì•„ë‹ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ì‹¤ì œë¡œ ì§€ê¸ˆì€ UI ê¸°ë°˜ì˜ ì‚¬ìš©ì ë° ì´ë¯¸ì§€ ê´€ë¦¬ë¥¼ ìœ„í•´ <a href="https://goharbor.io/">Harbor</a>ë¡œ ë„ì»¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì„œë²„ë¥¼ ì¬êµ¬ì¶•í•˜ì˜€ìœ¼ë‚˜ ê¸°ì¡´ ë„ì»¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì„œë²„ì— ì‚¬ìš©ëœ CA ì¸ì¦ì„œ íŒŒì¼ì—ëŠ” í´ë¼ì´ì–¸íŠ¸ ì¸ì¦ì„œë§Œ ì¡´ì¬í–ˆë˜ ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ì¡°ì§ ë‚´ ê°œë°œìë“¤ì—ê²Œ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì„œë²„ì—ì„œ ì‚¬ìš©ëœ CA ì¸ì¦ì„œ íŒŒì¼ê³¼ í´ë¼ì´ì–¸íŠ¸ ì¸ì¦ì„œ ë° í‚¤ë¥¼ ì „ë‹¬í•˜ê³  ë„ì»¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì¸ì¦ì„œ í´ë”ì— ì €ì¥í•˜ì—¬ ì‚¬ìš©í•´ë‹¬ë¼ê³  ì•ˆë‚´í–ˆì—ˆìŠµë‹ˆë‹¤. ê²°êµ­ì€ ë„ì»¤ ì—”ì§„ì´ ë„ì»¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì„œë²„ë¥¼ ì‹ ë¢°í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ CA ì¸ì¦ì„œ ì²´ì¸ì„ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì¸ì¦ì„œ ëª©ë¡ì— í¬í•¨ì‹œí‚¤ë©´ ë©ë‹ˆë‹¤.</p><p>ì˜ˆë¥¼ ë“¤ì–´, <a href="https://support.apple.com/ko-kr/guide/keychain-access/kyca2431/mac">Macìš© í‚¤ì²´ì¸ ì ‘ê·¼ì„ ì‚¬ìš©í•˜ì—¬ í‚¤ì²´ì¸ì— ì¸ì¦ì„œ ì¶”ê°€í•˜ê¸°</a>ì— ë”°ë¼ CA ì¸ì¦ì„œë¥¼ ì¶”ê°€í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ìœ íš¨í•œ ì¸ì¦ì„œì„ì´ í‘œì‹œë¨ì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.</p><p><img data-src="/images/posts/docker-registry-certificate/trust-certificate.png"></p><pre class="language-sh" data-language="sh"><code class="language-sh">docker login registry.domain.com -u &#39;username&#39; -p &#39;password&#39;WARNING! Using --password via the CLI is insecure. Use --password-stdin.Login Succeeded</code></pre><blockquote><p>ë„ì»¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì„œë²„ì˜ CA ì¸ì¦ì„œ ì²´ì¸ì„ ì‹œìŠ¤í…œ ì¸ì¦ì„œë¡œ ë“±ë¡í•˜ê³ ë‚˜ì„œëŠ” ë„ì»¤ ì—”ì§„ì´ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì¸ì¦ì„œ ëª©ë¡ì— ë”°ë¼ ì¸ì¦ì„œê°€ ìœ íš¨í•¨ì„ í™•ì¸í•¨ìœ¼ë¡œ ì •ìƒì ìœ¼ë¡œ HTTPS í†µì‹ ì´ ì´ë£¨ì–´ì§€ê³  ë¡œê·¸ì¸ì— ì„±ê³µí•˜ì˜€ìŠµë‹ˆë‹¤. ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì„œë²„ì— ëŒ€í•œ ë¡œê·¸ì¸ ì˜ˆì‹œì´ë¯€ë¡œ CLI ê²½ê³  ë¬¸êµ¬ëŠ” ë¬´ì‹œí•´ì£¼ì„¸ìš”.</p></blockquote><h4 id="ì‹œìŠ¤í…œ-ë°-ì‚¬ìš©ì-ì •ì˜-CA-ì¸ì¦ì„œ-ë³‘í•©"><a href="#ì‹œìŠ¤í…œ-ë°-ì‚¬ìš©ì-ì •ì˜-CA-ì¸ì¦ì„œ-ë³‘í•©" class="headerlink" title="ì‹œìŠ¤í…œ ë° ì‚¬ìš©ì ì •ì˜ CA ì¸ì¦ì„œ ë³‘í•©"></a>ì‹œìŠ¤í…œ ë° ì‚¬ìš©ì ì •ì˜ CA ì¸ì¦ì„œ ë³‘í•©</h4><p><em>On Linux any root certificates authorities are merged with the system defaults, including the hostâ€™s root CA set. If you are running Docker on Windows Server, or Docker Desktop for Windows with Windows containers, the system default certificates are only used when no custom root certificates are configured.</em></p><p><a href="https://docs.docker.com/engine/security/certificates/#understand-the-configuration">ê³µì‹ë¬¸ì„œ</a>ì— ë”°ë¥´ë©´ ìœ„ì™€ ê°™ì´ ì‚¬ìš©ì ì •ì˜ ì¸ì¦ì„œ(certs.d)ëŠ” ì‹œìŠ¤í…œ ì¸ì¦ì„œì™€ CA ì¸ì¦ì„œê°€ í•©ì³ì ¸ì„œ ë“±ë¡ëœë‹¤ëŠ” ë‚´ìš©ì´ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ, ë„ì»¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì„œë²„ì˜ CA ì¸ì¦ì„œ ì²´ì¸ì„ <strong>ì‹œìŠ¤í…œ ì¸ì¦ì„œ ëª©ë¡</strong>ì´ë‚˜ <strong>certs.d</strong> í´ë”ì— ë‘ë©´ ëœë‹¤ëŠ” ì´ì•¼ê¸°ì…ë‹ˆë‹¤. ì‹¤ì œë¡œ ì‹œìŠ¤í…œ ì¸ì¦ì„œë¡œ ë“±ë¡í•˜ì§€ ì•Šì•„ë„ certs.d í´ë”ì— ca.crtë¼ëŠ” ì´ë¦„ìœ¼ë¡œ CA ì¸ì¦ì„œ ì²´ì¸ì„ ë‘ê²Œë˜ë©´ ë™ì¼í•˜ê²Œ ë™ì‘í•¨ì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.</p><blockquote><p>í•œê°€ì§€ í¥ë¯¸ë¡œìš´ ì ì€ ì´ ê¸€ì„ ì‘ì„±í•˜ê¸° ìœ„í•´ Docker Desktop for Windows ì—ì„œë„ í…ŒìŠ¤íŠ¸ë¥¼ í•´ë³¸ ê²°ê³¼ ë„ì»¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì„œë²„ì˜ CA ì¸ì¦ì„œ ì²´ì¸ì„ êµ³ì´ ë“±ë¡í•˜ì§€ ì•Šì•„ë„ ì •ìƒì ìœ¼ë¡œ ë¡œê·¸ì¸ì´ ë˜ì—ˆë‹¤ëŠ” ì ì…ë‹ˆë‹¤. ì´ì ìœ¼ë¡œ ë³´ì•˜ì„ë•Œ ëª¨ë“  ìš´ì˜ì²´ì œì—ì„œ ë™ì¼í•˜ê²Œ ë™ì‘í•˜ì§€ëŠ” ì•ŠëŠ” ê²ƒ ê°™ì•„ë³´ì…ë‹ˆë‹¤. ë”°ë¼ì„œ, ë„ì»¤ ì—”ì§„ì—ì„œ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì„œë²„ë¥¼ ì‹ ë¢°í•  ìˆ˜ ì—†ë‹¤ê³  í•œë‹¤ë©´ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì„œë²„ ê´€ë¦¬ìì—ê²Œ ì¸ì¦ì„œ ì²´ì¸ì„ ì „ë‹¬ë°›ì•„ì„œ ë“±ë¡í•˜ëŠ”ê²Œ ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.</p></blockquote><p>ê°ì‚¬í•©ë‹ˆë‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;Error response from daemon: Get https://registry.domain.com&amp;#x2F;v2&amp;#x2F;: x509: certificate signed by unknown authority&lt;/p&gt;</summary>
      
    
    
    
    
    <category term="Docker Registry" scheme="https://kdevkr.github.io/tags/Docker-Registry/"/>
    
    <category term="Harbor" scheme="https://kdevkr.github.io/tags/Harbor/"/>
    
    <category term="Certificate" scheme="https://kdevkr.github.io/tags/Certificate/"/>
    
  </entry>
  
  <entry>
    <title>HTTP/2ë¥¼ ì‚¬ìš©í•˜ëŠ” ê°œë°œ í™˜ê²½</title>
    <link href="https://kdevkr.github.io/local-for-http2/"/>
    <id>https://kdevkr.github.io/local-for-http2/</id>
    <published>2022-02-22T00:00:00.000Z</published>
    <updated>2022-03-19T05:27:27.228Z</updated>
    
    <content type="html"><![CDATA[<p>ì§€ë‚œ <a href="/ssl-certificate">SSL ì¸ì¦ì„œ</a>ì™€ <a href="/tls-offload">TLS ì˜¤í”„ë¡œë“œ</a>ë¼ëŠ” ê¸€ì„ í†µí•´ HTTPSì— ëŒ€í•´ì„œ ì‚´í´ë³¸ ì ì´ ìˆìŠµë‹ˆë‹¤. ì´ì²˜ëŸ¼ HTTPSëŠ” ì‚¬ìš©ìì˜ ìš”ì²­ì´ ì•ˆì „í•˜ê²Œ ì„œë²„ë¡œ ì „ë‹¬ë˜ëŠ” ê²ƒì„ ëª©ì ìœ¼ë¡œ ë„ì…í•˜ì§€ë§Œ <a href="https://developers.google.com/web/fundamentals/performance/http2?hl=ko">HTTP&#x2F;2</a>ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•¨ë„ ìˆìŠµë‹ˆë‹¤. ì¼ë°˜ ì‚¬ìš©ìì˜ ì»´í“¨í„°ë‚˜ ëª¨ë°”ì¼ ë””ë°”ì´ìŠ¤ì— ëŒ€í•œ ì„±ëŠ¥ì´ ì¢‹ì•„ì§€ë©´ì„œ TLS í•¸ë“œì‰ì´í‚¹ì— ëŒ€í•œ ë¹„ìš©ì€ ê·¸ë‹¤ì§€ í¬ì§€ ì•ŠìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ HTTP 1.1ì—ì„œì˜ Keep Alive ë„ì…ì€ ì´ë¯¸ ì—°ê²°ì¤‘ì¸ TCPë¥¼ ë‹¤ì‹œ ì‚¬ìš©í•˜ë¯€ë¡œ ì–´ëŠì •ë„ì˜ TLS í•¸ë“œì‰ì´í‚¹ì— ëŒ€í•œ ë¹„ìš©ì„ ì¤„ì¼ ìˆ˜ ìˆì§€ë§Œ ìˆ˜ ë§ì€ ìš”ì²­ì´ ë°œìƒí•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” ì´ë¯¸ ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ëŠ” ìš”ì²­ì´ ëë‚˜ê¸°ë¥¼ í˜„ì¬ ìš”ì²­ì´ ëŒ€ê¸°í•´ì•¼í•˜ëŠ” ë¬¸ì œë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.</p><blockquote><p>HTTP 1.1ì€ keep-alive ì»¤ë„¥ì…˜ì„ í†µí•´ ì—¬ëŸ¬ê°œì˜ TCP ì—°ê²°ì„ ì¼ì • ì‹œê°„ ì—´ì–´ë†“ê³  ìš”ì²­ì„ ì°¨ë¡€ëŒ€ë¡œ ìˆ˜í–‰í•˜ê¸° ë•Œë¬¸ì— ë¸Œë¼ìš°ì €ì—ì„œëŠ” <a href="https://stackoverflow.com/a/985704">HTTP 1.1ë¥¼ ì‚¬ìš©í•  ë•Œ ë„ë©”ì¸ ë‹¹ ìµœëŒ€ ì—°ê²° ìˆ˜ë¥¼ ì œí•œ</a>í•©ë‹ˆë‹¤.</p></blockquote><h2 id="HTTP-x2F-2"><a href="#HTTP-x2F-2" class="headerlink" title="HTTP&#x2F;2"></a>HTTP&#x2F;2</h2><p>HTTP 1.1ì´ ì´ë¯¸ ì—°ê²°ëœ TCP ì»¤ë„¥ì…˜ì„ ë‹¤ì‹œ ì¬ì‚¬ìš©í•œë‹¤ë©´ HTTP2ëŠ” ë‹¨ì¼ TCP ì—°ê²°ì„ ìˆ˜í–‰í•˜ê³  ìˆ˜ ë§ì€ ìš”ì²­ì„ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤. ê·¸ë ‡ê¸°ì— ê½¤ ë§ì€ ìš”ì²­ì„ ë™ì‹œì— ìˆ˜í–‰í•´ë„ ë¸Œë¼ìš°ì €ëŠ” ì´ë¥¼ ì œí•œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ <strong>í”„ë¡œë¯¸ìŠ¤ë¡œ ì—¬ëŸ¬ê°œ ìš”ì²­ì„ ë™ì‹œì— ìˆ˜í–‰í•˜ë„ë¡</strong> ì½”ë“œë¥¼ ì‘ì„±í•˜ë”ë¼ë„ ë‹¤ë¥¸ ìš”ì²­ì´ ëë‚˜ê¸°ê¹Œì§€ ìš”ì²­ì´ ëŒ€ê¸°í•˜ëŠ” í˜„ìƒì´ ì¤„ì–´ë“¤ê²Œë˜ë©°, ì›¹íŒ©ì„ í†µí•´ í´ë¼ì´ì–¸íŠ¸ UIë¥¼ êµ¬ì„±í•˜ëŠ” ì—ì…‹ íŒŒì¼ë“¤ì„ <strong>ì—¬ëŸ¬ê°œì˜ ì‘ì€ ì‚¬ì´ì¦ˆë¡œ ë‚˜ëˆ„ëŠ” ì²­í¬ë¥¼ ìˆ˜í–‰</strong>í•˜ê³  ì›¹ í˜ì´ì§€ ë¡œë”© ì‹œ ë¶„í• ëœ ì²­í¬ë¥¼ ë¹ ë¥´ê²Œ ì‘ë‹µë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><blockquote><p>ë¸Œë¼ìš°ì €ì—ì„œ HTTP&#x2F;2ë„ ë„ë©”ì¸ ë‹¹ TCP ì—°ê²°ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ëŒ€ë¶€ë¶„ì˜ ë¸Œë¼ìš°ì €ì™€ ì„œë²„ì—ì„œëŠ” HTTP&#x2F;2 ì—°ê²°ì„ ìœ„í•´ TLS ì‚¬ìš©ì„ ìš”êµ¬í•©ë‹ˆë‹¤.</p></blockquote><h3 id="ALPN"><a href="#ALPN" class="headerlink" title="ALPN"></a>ALPN</h3><p>HTTP2.Pro ì‚¬ì´íŠ¸ë¥¼ ì‚¬ìš©í•´ì„œ <a href="https://http2.pro/check?url=https://naver.com/">ë„¤ì´ë²„</a>ì™€ <a href="https://http2.pro/check?url=https://okky.kr/">ì˜¤í‚¤</a> ì„œë¹„ìŠ¤ ì£¼ì†Œë¥¼ ì…ë ¥í•´ë³´ë©´ ALPN ì§€ì› ì—¬ë¶€ì— ëŒ€í•œ ì •ë³´ê°€ í‘œì‹œë©ë‹ˆë‹¤. ALPNì€ TLS í•¸ë“œì‰ì´í¬ë¥¼ ìˆ˜í–‰í•˜ê³  ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ê°„ ì—°ê²°ì—ì„œ ì–´ë–¤ HTTP í”„ë¡œí† ì½œì„ ì‚¬ìš©í•  ê²ƒì¸ì§€ë¥¼ ê²°ì •í•˜ê¸° ìœ„í•œ ì •ì±…ì…ë‹ˆë‹¤. ì•„ë§ˆì¡´ ì›¹ ì„œë¹„ìŠ¤ëŠ” <a href="https://aws.amazon.com/ko/about-aws/whats-new/2020/05/network-load-balancer-now-supports-tls-alpn-policies/">NLB</a>ì—ì„œë„ TLS ALPN ì •ì±…ì„ ì§€ì›í•˜ê¸°ë„ í•˜ì£ .</p><blockquote><p>HTTP&#x2F;2 ì—°ê²°ì„ ìš°ì„ ì ìœ¼ë¡œ ìš”êµ¬í•˜ê³  í´ë¼ì´ì–¸íŠ¸ê°€ ë¶ˆê°€ëŠ¥í•˜ë‹¤ë©´ HTTP 1.1ë¡œ ì—°ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p></blockquote><h3 id="Local-CA-with-mkcert"><a href="#Local-CA-with-mkcert" class="headerlink" title="Local CA with mkcert"></a>Local CA with mkcert</h3><p><a href="https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.webserver.configure-http2.undertow">ìŠ¤í”„ë§ ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜</a> ë¿ë§Œ ì•„ë‹ˆë¼ <a href="/reverse-proxy-using-nginx">ì—”ì§„ì—‘ìŠ¤</a>ì—ì„œë„ TLS êµ¬ì„±ì„ ìœ„í•´ì„œëŠ” ì¸ì¦ì„œê°€ í•„ìš”í•©ë‹ˆë‹¤. ê·¸ë˜ì„œ ì§€ë‚œ SSL ì¸ì¦ì„œ ê¸€ì—ì„œëŠ” <a href="/ssl-certificate/#%EC%9E%90%EC%B2%B4-%EC%84%9C%EB%AA%85-CA-%EC%9D%B8%EC%A6%9D%EC%84%9C-%EB%B0%9C%EA%B8%89">ìì²´ ì„œëª… CA ì¸ì¦ì„œ ë°œê¸‰</a>ì„ í•œê²ƒì²˜ëŸ¼ ë¡œì»¬ ê°œë°œ í™˜ê²½ì„ ìœ„í•œ ì¸ì¦ì„œë¥¼ ë§Œë“¤ê³  ì ìš©í•˜ëŠ” ê³¼ì •ì„ ê³µìœ í–ˆìŠµë‹ˆë‹¤. ì´ ê³¼ì •ë“¤ì€ ìƒê°ë³´ë‹¤ ê¹Œë‹¤ë¡­ê³  ë¶ˆí¸í•œ ë¶€ë¶„ì´ ë§ìŠµë‹ˆë‹¤. ê²°êµ­ ë¶ˆí¸í•œ ê²ƒì„ ê·¹íˆ ì‹«ì–´í•˜ëŠ” ê°œë°œìë“¤ì€ <a href="https://github.com/FiloSottile/mkcert">mkcert</a>ë¼ê³  í•˜ëŠ” ë¡œì»¬ í™˜ê²½ì„ ìœ„í•œ CA ì¸ì¦ì„œë¥¼ ìë™ìœ¼ë¡œ ì‹ ë¢° ê¸°ê´€ì— ë“±ë¡í•˜ëŠ” ë„êµ¬ë¥¼ ë§Œë“¤ì–´ëƒ…ë‹ˆë‹¤.</p><pre class="language-ps" data-language="ps"><code class="language-ps">PS C:\Users\Mambo\cert&gt; mkcert -installThe local CA is now installed in the system trust store! âš¡ï¸PS C:\Users\Mambo\docker\nginx.conf&gt; mkcert -ecdsa localhost 127.0.0.1 ::1 mambo.krCreated a new certificate valid for the following names ğŸ“œ - &quot;localhost&quot; - &quot;127.0.0.1&quot; - &quot;::1&quot; - &quot;mambo.kr&quot;The certificate is at &quot;.&#x2F;localhost+3.pem&quot; and the key at &quot;.&#x2F;localhost+3-key.pem&quot; âœ…It will expire on 22 May 2024 ğŸ—“</code></pre><blockquote><p>ê°„ë‹¨í•˜ê²Œ CA ì¸ì¦ì„œë¥¼ ì‹ ë¢° ê¸°ê´€ì— ë“±ë¡í•˜ê³  ë¡œì»¬ ì»´í“¨í„°ë¥¼ ìœ„í•œ ì¸ì¦ì„œë¥¼ ë°œê¸‰í–ˆìŠµë‹ˆë‹¤.<br>ë¡œì»¬ ì»´í“¨í„°ë¥¼ ìœ„í•œ ì¸ì¦ì„œì— ëŒ€í•œ ì‹ ë¢° ì¸ì¦ì„œë¥¼ ë“±ë¡í•œë‹¤ëŠ” ì ì„ ìŠì§€ ë§ˆì„¸ìš”.</p></blockquote><h2 id="ë¡œì»¬-ê°œë°œ-í™˜ê²½"><a href="#ë¡œì»¬-ê°œë°œ-í™˜ê²½" class="headerlink" title="ë¡œì»¬ ê°œë°œ í™˜ê²½"></a>ë¡œì»¬ ê°œë°œ í™˜ê²½</h2><p>ì¼ë°˜ì ìœ¼ë¡œ TLS í•¸ë“œì‰ì´í¬ë¥¼ ìˆ˜í–‰í•˜ëŠ” ì´í›„ì˜ íŠ¸ë˜í”½ ì „ë‹¬ì—ëŠ” TLS ì—°ê²°ì„ ìˆ˜í–‰í•˜ë„ë¡ í•˜ì§€ ì•Šë„ë¡ êµ¬ì„±í•©ë‹ˆë‹¤. ì¼ë¶€ ì—”ì§€ë‹ˆì–´ë“¤ì€ ëª¨ë“  íŠ¸ë˜í”½ ì „ë‹¬ì— TLS ì—°ê²°ì„ í•´ì•¼í•œë‹¤ê³  ë§í•©ë‹ˆë‹¤. ì–´ëŠì •ë„ì˜ ë³´ì•ˆì ì¸ êµ¬ì„±ì„ í•˜ëŠëƒëŠ” ì¡°ì§ì—ì„œ ê²°ì •í•´ì•¼í•  ì¼ì…ë‹ˆë‹¤. í˜„ì¬ ì¡°ì§ì€ ì•„ë§ˆì¡´ ì›¹ ì„œë¹„ìŠ¤ì˜ ë¡œë“œë°¸ëŸ°ì„œì—ì„œ TLS í•¸ë“œì‰ì´í¬ë¥¼ ìˆ˜í–‰í•˜ë„ë¡ í•˜ê³  ë‚´ë¶€ì ì¸ íŠ¸ë˜í”½ ì „ë‹¬ì—ëŠ” TLSë¥¼ ì‚¬ìš©í•˜ì—¬ íŒ¨í‚·ì„ ë³´í˜¸í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. </p><p>TLS ì˜¤í”„ë¡œë“œ ë° ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œë¥¼ ìœ„í•œ ì—”ì§„ì—‘ìŠ¤ë¥¼ êµ¬ì„±í•˜ê³  HTTPë¡œ ì‹¤í–‰ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ì— íŠ¸ë˜í”½ì„ ì „ë‹¬í•˜ë©° HTTP&#x2F;2ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë§Œë“¤ê² ìŠµë‹ˆë‹¤. ì´ë¯¸ ì‚¬ìš©ì¤‘ì¸ ì—”ì§„ì—‘ìŠ¤ê°€ ì—†ë‹¤ë©´ ì œ ê¹ƒí—ˆë¸Œ ë¦¬íŒŒì§€í† ë¦¬ <a href="https://github.com/kdevkr/nginx.conf">nginx.conf</a>ì˜ ì½”ë“œë¥¼ í™œìš©í•´ì„œ ë„ì»¤ ì»´í¬ì¦ˆë¡œ ì—”ì§„ì—‘ìŠ¤ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•˜ì…”ë„ ì¢‹ìŠµë‹ˆë‹¤.</p><pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3.8'</span><span class="token key atrule">services</span><span class="token punctuation">:</span>   <span class="token key atrule">nginx</span><span class="token punctuation">:</span>    <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx<span class="token punctuation">:</span>1.21.3<span class="token punctuation">-</span>alpine    <span class="token key atrule">ports</span><span class="token punctuation">:</span>       <span class="token punctuation">-</span> <span class="token datetime number">80:80</span>      <span class="token punctuation">-</span> 443<span class="token punctuation">:</span><span class="token number">443</span>    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> ./nginx.conf<span class="token punctuation">:</span>/etc/nginx/nginx.conf      <span class="token punctuation">-</span> ./localhost+3.pem<span class="token punctuation">:</span>/etc/nginx/server.crt      <span class="token punctuation">-</span> ./localhost+3<span class="token punctuation">-</span>key.pem<span class="token punctuation">:</span>/etc/nginx/server.key      <span class="token punctuation">-</span> ./static<span class="token punctuation">:</span>/etc/nginx/static  <span class="token key atrule">app</span><span class="token punctuation">:</span>    <span class="token key atrule">image</span><span class="token punctuation">:</span> amazoncorretto<span class="token punctuation">:</span>11<span class="token punctuation">-</span>alpine    <span class="token key atrule">command</span><span class="token punctuation">:</span> <span class="token string">'java -jar /etc/app.jar'</span>    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> ./demo<span class="token punctuation">-</span>0.0.1<span class="token punctuation">-</span>SNAPSHOT.jar<span class="token punctuation">:</span>/etc/app.jar</code></pre><blockquote><p>ì €ëŠ” ë¦¬íŒŒì§€í† ë¦¬ì— ìˆëŠ” ì‚¬ì„¤ ì¸ì¦ì„œ ëŒ€ì‹ ì— mkcertë¥¼ í†µí•´ ë§Œë“¤ì–´ì§„ ì¸ì¦ì„œë¥¼ ì‚¬ìš©í•˜ë„ë¡ ë³€ê²½í–ˆìŠµë‹ˆë‹¤.</p></blockquote><p>ë¦¬íŒŒì§€í† ë¦¬ì— ì €ì¥ëœ ìƒ˜í”Œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í–ˆì§€ë§Œ ë¡œì»¬ í˜¸ìŠ¤íŠ¸ì—ì„œ ì¸í…”ë¦¬ì œì´ì™€ ê°™ì€ ê°œë°œ ë„êµ¬ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ì…¨ë‹¤ë©´ nginx.conf íŒŒì¼ì˜ ë°±ì—”ë“œ ìŠ¤íŠ¸ë¦¼ì— ëŒ€í•œ ì£¼ì†Œë¥¼ <code>host.docker.internal</code>ë¡œ ë³€ê²½í•˜ì„¸ìš”. ì»¨í…Œì´ë„ˆë¡œ ì‹¤í–‰ëœ ì—”ì§„ì—‘ìŠ¤ì—ì„œ ë¡œì»¬ í˜¸ìŠ¤íŠ¸ë¡œ íŠ¸ë˜í”½ì´ ì „ë‹¬ë˜ê²Œ ë©ë‹ˆë‹¤.</p><p><img data-src="/images/posts/local-for-http2/security-overview.png" alt="TLS Handshake"><br><img data-src="/images/posts/local-for-http2/network-overview.png" alt="HTTP/2"></p><blockquote><p>mkcertê°€ ìë™ìœ¼ë¡œ ì‹ ë¢° ê¸°ê´€ ëª©ë¡ì— ìì‹ ì˜ CA ì¸ì¦ì„œë¥¼ ë“±ë¡í•˜ì˜€ê¸° ë•Œë¬¸ì— ë¸Œë¼ìš°ì €ëŠ” ì¸ì¦ì„œë¥¼ ì‹ ë¢°í•  ìˆ˜ ìˆë‹¤ê³  íŒë‹¨í–ˆê³  HTTPS ì—°ê²°ì´ ì •ìƒì ìœ¼ë¡œ ìˆ˜í–‰ë˜ì—ˆìŠµë‹ˆë‹¤.</p></blockquote><p>ì´ì œ ì—¬ëŸ¬ë¶„ë“¤ë„ ë¡œì»¬ í™˜ê²½ì—ì„œ ê°œë°œí•˜ì‹¤ë•Œ HTTPSì™€ ê·¸ë¦¬ê³  HTTP 1.1ì´ ì•„ë‹Œ HTTP&#x2F;2ë¥¼ ì‚¬ìš©í•´ë³´ì‹œê¸° ë°”ëë‹ˆë‹¤.</p><p>ê°ì‚¬í•©ë‹ˆë‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ì§€ë‚œ &lt;a href=&quot;/ssl-certificate&quot;&gt;SSL ì¸ì¦ì„œ&lt;/a&gt;ì™€ &lt;a href=&quot;/tls-offload&quot;&gt;TLS ì˜¤í”„ë¡œë“œ&lt;/a&gt;ë¼ëŠ” ê¸€ì„ í†µí•´ HTTPSì— ëŒ€í•´ì„œ ì‚´í´ë³¸ ì ì´ ìˆìŠµë‹ˆë‹¤. ì´ì²˜ëŸ¼ HTTPSëŠ” ì‚¬ìš©ìì˜ ìš”ì²­ì´ ì•ˆì „í•˜ê²Œ ì„œ</summary>
      
    
    
    
    
    <category term="Spring Boot" scheme="https://kdevkr.github.io/tags/Spring-Boot/"/>
    
    <category term="Nginx" scheme="https://kdevkr.github.io/tags/Nginx/"/>
    
    <category term="TLS" scheme="https://kdevkr.github.io/tags/TLS/"/>
    
    <category term="HTTP2" scheme="https://kdevkr.github.io/tags/HTTP2/"/>
    
    <category term="mkcert" scheme="https://kdevkr.github.io/tags/mkcert/"/>
    
  </entry>
  
  <entry>
    <title>EC2 ì¸ìŠ¤í„´ìŠ¤ ìœ í˜•ì„ êµì²´í•˜ëŠ” ì´ìœ </title>
    <link href="https://kdevkr.github.io/reason-for-replacing-ec2-instance-type/"/>
    <id>https://kdevkr.github.io/reason-for-replacing-ec2-instance-type/</id>
    <published>2022-02-20T00:00:00.000Z</published>
    <updated>2022-03-19T05:27:27.228Z</updated>
    
    <content type="html"><![CDATA[<p>ì„œë¹„ìŠ¤ì˜ ê·œëª¨ ê·¸ë¦¬ê³  ì„œë¹„ìŠ¤ë¥¼ ìš´ì˜í•˜ëŠ” ì¡°ì§ì˜ ê·œëª¨ê°€ í¬ê±´ ì‘ê±´ ì„œë¹„ìŠ¤ë¥¼ ìœ ì§€í•˜ê¸° ìœ„í•´ ë“¤ì–´ê°€ëŠ” í´ë¼ìš°ë“œ ì¸í”„ë¼ í™˜ê²½ì— ëŒ€í•œ ë¹„ìš©ì€ ìƒê°ë³´ë‹¤ ì¤‘ìš”í•œ ë¶€ë¶„ì…ë‹ˆë‹¤. ì‘ì€ ì¡°ì§ì—ì„œ ë¹„ìš©ì— ëŒ€í•´ ì˜ˆë¯¼í• ì§€ëŠ” ëª°ë¼ë„ ì˜¤íˆë ¤ ì¸í”„ë¼ íŒ€ì´ ë³„ë„ë¡œ ì¡´ì¬í•˜ëŠ” ì¡°ì§ì´ë¼ë©´ ë” íš¨ìœ¨ì ìœ¼ë¡œ ì¸í”„ë¼ í™˜ê²½ì„ êµ¬ì„±í•  ìˆ˜ ë°–ì— ì—†ì–´ë³´ì…ë‹ˆë‹¤. ê·¸ë˜ì„œ ë§ì€ ì¡°ì§ì—ì„œëŠ” ì„œë¹„ìŠ¤ ì¸í”„ë¼ ë¹„ìš©ì„ ì¤„ì´ê¸° ìœ„í•´ <a href="https://gameanalytics.com/product-updates/reduce-costs-https-api-aws/">ëª‡ê°€ì§€ íŠ¸ë˜í”½ì„ ì¤„ì¼ ìˆ˜ ìˆëŠ” ë…¸ë ¥</a>ì„ í•œë‹¤ê±°ë‚˜ <a href="https://aws.amazon.com/ko/blogs/korea/cost-optimization-cases-ridibooks-reserved-instance/">ì¼ì • ê¸°ê°„ë™ì•ˆ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìì›ì„ êµ¬ë§¤í•´ì„œ ì‚¬ìš©</a>í•˜ê³  <a href="https://www.grumatic.com/ko/aws-ebs-gp3-cost-saving/">ì¸í”„ë¼ ìì›ì˜ ì„±ëŠ¥ì„ ë¹„êµí•´ì„œ ë™ì¼í•œ ì„±ëŠ¥ ëŒ€ë¹„ ê°€ê²©ì´ ì‘ì€ ê²ƒì„ ì„ íƒ</a>í•˜ê¸°ë„ í•©ë‹ˆë‹¤.</p><h2 id="EC2-ì¸ìŠ¤í„´ìŠ¤-ìœ í˜•"><a href="#EC2-ì¸ìŠ¤í„´ìŠ¤-ìœ í˜•" class="headerlink" title="EC2 ì¸ìŠ¤í„´ìŠ¤ ìœ í˜•"></a>EC2 ì¸ìŠ¤í„´ìŠ¤ ìœ í˜•</h2><p>ì•„ë§ˆì¡´ ì›¹ ì„œë¹„ìŠ¤ì—ì„œëŠ” ë‹¤ì–‘í•œ ëª©ì ì— ë§ëŠ” <a href="https://aws.amazon.com/ko/ec2/instance-types/">ì¸ìŠ¤í„´ìŠ¤ ìœ í˜•</a>ì„ ì œê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤. ì—¬ëŸ¬ê°€ì§€ ì¸ìŠ¤í„´ìŠ¤ ìœ í˜• ì¤‘ <a href="https://aws.amazon.com/ko/ec2/graviton/">ARM ê¸°ë°˜ì˜ AWS Graviton</a> í”„ë¡œì„¸ì„œë¥¼ ì‚¬ìš©í•˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ê°€ ë™ì¼í•œ ì„±ëŠ¥ ëŒ€ë¹„ ë” ì ˆì•½ëœ ìš”ê¸ˆìœ¼ë¡œ ì„œë²„ë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Graviton í”„ë¡œì„¸ì„œì— ëŒ€í•´ ìì„¸í•˜ê²Œ ì•Œê³  ì‹¶ë‹¤ë©´ <a href="https://engineering.ab180.co/stories/migrating-python-application-to-arm">Python x ARM: Graviton2 ì‹¤ì „ ë„ì…ê¸°</a>ë¥¼ ì°¸ê³ í•˜ì‹œë©´ ë  ê²ƒ ê°™ìŠµë‹ˆë‹¤.</p><p>ì•„ë˜ëŠ” <a href="https://ec2.shop/?region=ap-northeast-2&filter=t2,t3,t3a,t4g">EC ì¸ìŠ¤í„´ìŠ¤ ìœ í˜•ë³„ ìš”ê¸ˆ ë¹„êµ</a> ì¤‘ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë ë§Œí•œ CPUì™€ ë©”ëª¨ë¦¬ êµ¬ì„±ì„ ê°€ì§„ ì¸ìŠ¤í„´ìŠ¤ë§Œì„ í•„í„°í•œ ê²°ê³¼ì…ë‹ˆë‹¤.</p><p><img data-src="/images/posts/reason-for-replacing-ec2-instance-type/ec2-instance-type-compare-pricing.png" alt="ec2.shop/?region=ap-northeast-2&amp;filter=t2,t3,t3a,t4g">  </p><p>ê° ì¸ìŠ¤í„´ìŠ¤ë³„ë¡œ ì¼ë¶€ ìŠ¤í™ì— ì˜í•œ ì„±ëŠ¥ ì°¨ì´ëŠ” ìˆê² ì§€ë§Œ T2 ì¸ìŠ¤í„´ìŠ¤ë³´ë‹¤ëŠ” <a href="https://aws.amazon.com/ko/ec2/nitro/">Nitro System</a>ìœ¼ë¡œ í™•ì¥ëœ <strong>T3 ì¸ìŠ¤í„´ìŠ¤</strong>ê°€ ë” ì‘ì€ ìš”ê¸ˆì´ í• ë‹¹ë©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì¸í…” í”„ë¡œì„¸ì„œ ê¸°ë°˜ì˜ T3 ì¸ìŠ¤í„´ìŠ¤ ë³´ë‹¤ëŠ” AMD í”„ë¡œì„¸ì„œ ê¸°ë°˜ì˜ <strong>T3a ì¸ìŠ¤í„´ìŠ¤</strong>ê°€ ë” ì‘ì€ ìš”ê¸ˆì´ ë“­ë‹ˆë‹¤. ê·¸ë¦¬ê³  AWS Graviton í”„ë¡œì„¸ì„œë¥¼ ì‚¬ìš©í•˜ëŠ” ARM ì•„í‚¤í…ì²˜ ê¸°ë°˜ì˜ <strong>T4g ì¸ìŠ¤í„´ìŠ¤</strong>ê°€ ë” ìš”ê¸ˆì´ ì ê²Œ ë“­ë‹ˆë‹¤.</p><h3 id="ì•„í‚¤í…ì²˜-ë³€ê²½-ì œí•œ"><a href="#ì•„í‚¤í…ì²˜-ë³€ê²½-ì œí•œ" class="headerlink" title="ì•„í‚¤í…ì²˜ ë³€ê²½ ì œí•œ"></a>ì•„í‚¤í…ì²˜ ë³€ê²½ ì œí•œ</h3><p>íŠ¹ì • ì•„í‚¤í…ì²˜ ê¸°ë°˜ì˜ AMIë¡œ ì‹œì‘ëœ ì¸ìŠ¤í„´ìŠ¤ ìœ í˜•ì€ ë‹¤ë¥¸ ì•„í‚¤í…ì²˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ ìœ í˜•ìœ¼ë¡œ êµì²´í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì´ëŠ” ì•„í‚¤í…ì²˜ê°„ í˜¸í™˜ì„±ì´ ì—†ê¸° ë•Œë¬¸ì´ë¯€ë¡œ x86 ì•„í‚¤í…ì²˜ ê¸°ë°˜ì˜ ê¸°ì¡´ ì¸ìŠ¤í„´ìŠ¤ ìœ í˜•ì„ ARM ì•„í‚¤í…ì²˜ ê¸°ë°˜ìœ¼ë¡œ ë³€ê²½í•˜ê¸° ìœ„í•´ì„œëŠ” ARM ê¸°ë°˜ì˜ AMIë¡œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‹œì‘í•˜ê³  ê¸°ì¡´ ì¸ìŠ¤í„´ìŠ¤ë¡œë¶€í„° ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ìˆ˜í–‰í•´ì•¼ë§Œí•©ë‹ˆë‹¤.</p><blockquote><p>í˜„ì¬ ì¡°ì§ì—ì„œë„ ì˜ˆì•½ ì¸ìŠ¤í„´ìŠ¤ë¥¼ êµ¬ë§¤í•˜ì—¬ ì‚¬ìš©ì¤‘ì¸ ê²ƒì€ ë§Œë£Œëœ ì´í›„ Graviton ì¸ìŠ¤í„´ìŠ¤ë¡œ ë³€ê²½í•˜ë ¤ê³  ì˜ˆì •í•˜ê³  ìˆê³  ì•„í‚¤í…ì²˜ ì „í™˜ ë¬¸ì œë¡œ ì¸í•˜ì—¬ Gravitonìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ì—†ëŠ” ì¼ë¶€ ì¸ìŠ¤í„´ìŠ¤ë“¤ì€ AMD í”„ë¡œì„¸ì„œ ê¸°ë°˜ì˜ ì¸ìŠ¤í„´ìŠ¤ë¡œ ì¼ë¶€ ë³€ê²½í•˜ì˜€ìŠµë‹ˆë‹¤.</p></blockquote><p>ê°ì‚¬í•©ë‹ˆë‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ì„œë¹„ìŠ¤ì˜ ê·œëª¨ ê·¸ë¦¬ê³  ì„œë¹„ìŠ¤ë¥¼ ìš´ì˜í•˜ëŠ” ì¡°ì§ì˜ ê·œëª¨ê°€ í¬ê±´ ì‘ê±´ ì„œë¹„ìŠ¤ë¥¼ ìœ ì§€í•˜ê¸° ìœ„í•´ ë“¤ì–´ê°€ëŠ” í´ë¼ìš°ë“œ ì¸í”„ë¼ í™˜ê²½ì— ëŒ€í•œ ë¹„ìš©ì€ ìƒê°ë³´ë‹¤ ì¤‘ìš”í•œ ë¶€ë¶„ì…ë‹ˆë‹¤. ì‘ì€ ì¡°ì§ì—ì„œ ë¹„ìš©ì— ëŒ€í•´ ì˜ˆë¯¼í• ì§€ëŠ” ëª°ë¼ë„ ì˜¤íˆë ¤ ì¸í”„ë¼ íŒ€ì´ ë³„ë„ë¡œ ì¡´ì¬í•˜ëŠ” ì¡°ì§</summary>
      
    
    
    
    
    <category term="EC2" scheme="https://kdevkr.github.io/tags/EC2/"/>
    
    <category term="AWS Graviton2" scheme="https://kdevkr.github.io/tags/AWS-Graviton2/"/>
    
  </entry>
  
  <entry>
    <title>ë²¨ë¦¬ë°ì´ì…˜ ì˜¤ë¥˜ ë©”ì‹œì§€ê°€ ì‚¬ìš©ì ì–¸ì–´ë¡œ ì²˜ë¦¬ë˜ì§€ ì•Šì€ ì´ìœ </title>
    <link href="https://kdevkr.github.io/spring-validation/"/>
    <id>https://kdevkr.github.io/spring-validation/</id>
    <published>2022-02-17T00:00:00.000Z</published>
    <updated>2022-03-19T05:27:27.228Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ìŠ¤í”„ë§ ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë²¨ë¦¬ë°ì´ì…˜ ì˜¤ë¥˜ ë©”ì‹œì§€ê°€ ì‚¬ìš©ìê°€ ì–¸ì–´ë¡œ ì²˜ë¦¬ë˜ì§€ ì•ŠëŠ” ì‚¬ìœ ë¥¼ ê²½í—˜í•˜ì—¬ ì´ì™€ ê°™ì€ ë¬¸ì œê°€ ë°œìƒí•œ ì´ìœ ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ê³  ìŠ¤í”„ë§ì—ì„œ ì œê³µí•˜ëŠ” ë²¨ë¦¬ë°ì´ì…˜ì— ëŒ€í•´ì„œ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.<br>ê´€ë ¨ ì½”ë“œëŠ” <a href="https://github.com/kdevkr/spring-demo-validation">spring-demo-validation</a>ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p></blockquote><h2 id="ìì¹´ë¥´íƒ€-ë²¨ë¦¬ë°ì´ì…˜"><a href="#ìì¹´ë¥´íƒ€-ë²¨ë¦¬ë°ì´ì…˜" class="headerlink" title="ìì¹´ë¥´íƒ€ ë²¨ë¦¬ë°ì´ì…˜"></a>ìì¹´ë¥´íƒ€ ë²¨ë¦¬ë°ì´ì…˜</h2><p>ìŠ¤í”„ë§ ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” ë²¨ë¦¬ë°ì´ì…˜ ìŠ¤íƒ€í„°ë¥¼ í†µí•´ <a href="https://beanvalidation.org/2.0/">ìì¹´ë¥´íƒ€ ë²¨ë¦¬ë°ì´ì…˜</a> ê¸°ë°˜ì˜ <a href="https://hibernate.org/validator/">í•˜ì´ë²„ë„¤ì´íŠ¸ ë²¨ë¦¬ë°ì´í„°</a>ë¥¼ ì‚¬ìš©í•˜ì—¬ ë²¨ë¦¬ë°ì´ì…˜ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. ì´ ìŠ¤íƒ€í„°ê°€ í¬í•¨ë˜ë©´ <strong>ValidationAutoConfiguration</strong>ì´ë¼ëŠ” ìë™ êµ¬ì„± í´ë˜ìŠ¤ë¥¼ í†µí•´ ê¸°ë³¸ì ì¸ ë²¨ë¦¬ë°ì´í„°(Validator)ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë¹ˆìœ¼ë¡œ ë“±ë¡í•´ì¤ë‹ˆë‹¤.</p><pre class="language-groovy" data-language="groovy"><code class="language-groovy">dependencies <span class="token punctuation">&#123;</span>    implementation <span class="token string">'org.springframework.boot:spring-boot-starter-validation'</span><span class="token punctuation">&#125;</span></code></pre><p>ê·¸ë˜ì„œ ìŠ¤í”„ë§ ë¶€íŠ¸ ê°œë°œìë“¤ì€ ë³„ë„ì˜ ì„¤ì •ì—†ì´ ì»¨íŠ¸ë¡¤ëŸ¬ í•¸ë“¤ëŸ¬ í•¨ìˆ˜ì— ì „ë‹¬ë˜ëŠ” ì‚¬ìš©ì ìš”ì²­ ì •ë³´ë¥¼ ê°„ë‹¨í•˜ê²Œ ê²€ì¦í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤. ë˜í•œ, í•˜ì´ë²„ë„¤ì´íŠ¸ ë²¨ë¦¬ë°ì´í„° ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ëŠ” ë²¨ë¦¬ë°ì´ì…˜ì„ ìœ„í•œ ì–´ë…¸í…Œì´ì…˜ì— ëŒ€í•œ ê¸°ë³¸ì ì¸ <strong>ë²¨ë¦¬ë°ì´ì…˜ ë©”ì‹œì§€ ì†ŒìŠ¤ ë²ˆë“¤</strong> ì„ í¬í•¨í•˜ê³  ìˆì–´ í•œêµ­ì–´ë‚˜ ì˜ì–´ì™€ ê°™ì´ ì£¼ìš” êµ­ê°€ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì–¸ì–´ì— ëŒ€í•´ì„œëŠ” ë©”ì‹œì§€ë¥¼ ì²˜ë¦¬í•˜ì—¬ ë²ˆì—­ëœ ë©”ì‹œì§€ë¥¼ ì‚¬ìš©ìì—ê²Œ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p><img data-src="/images/posts/spring-validation/hibernate-validator-01.png" alt="org.hibernate.validator.ValidationMessages"></p><h3 id="ìœ íš¨ì„±-ê²€ì‚¬"><a href="#ìœ íš¨ì„±-ê²€ì‚¬" class="headerlink" title="ìœ íš¨ì„± ê²€ì‚¬"></a>ìœ íš¨ì„± ê²€ì‚¬</h3><p><a href="https://meetup.toast.com/posts/223">Validation ì–´ë””ê¹Œì§€ í•´ë´¤ë‹ˆ?</a>ì—ì„œ ì•Œ ìˆ˜ ìˆë“¯ì´ ìì¹´ë¥´íƒ€ ë²¨ë¦¬ë°ì´ì…˜ì˜ íŒ©í† ë¦¬ í•¨ìˆ˜ë¥¼ í†µí•´ ê°„ë‹¨í•˜ê²Œ ë²¨ë¦¬ë°ì´í„°ë¥¼ ìƒì„±í•˜ê³  ìë°” ë¹ˆ í´ë˜ìŠ¤ì— ì €ì¥ëœ ì •ë³´ê°€ ì˜¬ë°”ë¥¸ì§€ í•„ë“œ ê²€ì¦ì„ ì‰½ê²Œ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Service</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoginService</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">validate</span><span class="token punctuation">(</span><span class="token class-name">Account<span class="token punctuation">.</span>Login</span> login<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Validator</span> validator <span class="token operator">=</span> <span class="token class-name">Validation</span><span class="token punctuation">.</span><span class="token function">buildDefaultValidatorFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getValidator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ConstraintViolation</span><span class="token punctuation">&lt;</span><span class="token class-name">Account<span class="token punctuation">.</span>Login</span><span class="token punctuation">></span><span class="token punctuation">></span></span> constraintViolations <span class="token operator">=</span> validator<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>login<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> constraintViolations<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><h3 id="ë¡œì¼€ì¼-ì´ìŠˆ"><a href="#ë¡œì¼€ì¼-ì´ìŠˆ" class="headerlink" title="ë¡œì¼€ì¼ ì´ìŠˆ"></a>ë¡œì¼€ì¼ ì´ìŠˆ</h3><p>ìì¹´ë¥´íƒ€ ë²¨ë¦¬ë°ì´ì…˜ì˜ íŒ©í† ë¦¬ í•¨ìˆ˜ë¡œ ë§Œë“¤ì–´ì§€ëŠ” ë²¨ë¦¬ë°ì´í„°ëŠ” ê¸°ë³¸ê°’ìœ¼ë¡œ ì •ì˜ëœ ì„¤ì •ì„ í†µí•´ì„œ ë²¨ë¦¬ë°ì´ì…˜ì„ ìˆ˜í–‰í•˜ê¸° ë•Œë¬¸ì— <code>ì‚¬ìš©ìì˜ ì–¸ì–´ ì •ë³´ì— ë”°ë¼ ë²¨ë¦¬ë°ì´ì…˜ì— ëŒ€í•œ ì˜¤ë¥˜ ë©”ì‹œì§€ê°€ ë²ˆì—­ë˜ì§€ ì•ŠëŠ” ë¬¸ì œ</code>ê°€ ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ë¬¸ì œëŠ” ê³ ê°ì˜ ìš”êµ¬ì‚¬í•­ì— ì˜í•´ì„œ CSV ë˜ëŠ” ì—‘ì…€ íŒŒì¼ì„ ì—…ë¡œë“œí•˜ì—¬ ì›¹ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•  ë•Œ í•„ìˆ˜ë¡œ ë“±ë¡ë˜ì–´ì•¼í•˜ëŠ” ê³¼ì •ì„ ë²Œí¬ í˜•ì‹ìœ¼ë¡œ ì§€ì›í•´ì•¼í–ˆê³  êµ¬í˜„ ê³¼ì •ì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ì— ë“±ë¡ëœ ë²¨ë¦¬ë°ì´í„°ê°€ ì•„ë‹Œ íŒ©í† ë¦¬ í•¨ìˆ˜ë¡œ ë§Œë“¤ì–´ì§€ëŠ” ë²¨ë¦¬ë°ì´í„°ë¥¼ ì‚¬ìš©í•´ì„œ ë²¨ë¦¬ë°ì´ì…˜ì„ ìˆ˜í–‰í•˜ë©´ì„œ ë°œê²¬ë˜ì—ˆìŠµë‹ˆë‹¤.</p><pre class="language-sh" data-language="sh"><code class="language-sh">LoginController : [ConstraintViolationImpl&#123;interpolatedMessage&#x3D;&#39;ê³µë°±ì¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤&#39;, propertyPath&#x3D;loginId, rootBeanClass&#x3D;class com.example.springboot.bean.Account$Login, messageTemplate&#x3D;&#39;&#123;javax.validation.constraints.NotBlank.message&#125;&#39;&#125;]LoginController : locale: en_US</code></pre><blockquote><p>ìœ„ì™€ ê°™ì´ ë¡œê·¸ì¸ ìš”ì²­ ì •ë³´ì— ëŒ€í•œ ë²¨ë¦¬ë°ì´ì…˜ì„ ìˆ˜í–‰í•˜ì˜€ê³  ë¡œê·¸ì¸ ìš”ì²­ì„ í•œ ì‚¬ìš©ìì˜ ì–¸ì–´ ì •ë³´ì™€ í•¨ê»˜ ë²¨ë¦¬ë°ì´ì…˜ ì˜¤ë¥˜ì— ëŒ€í•œ ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•´ë³´ë©´ ì‚¬ìš©ìì˜ ì–¸ì–´ê°€ ì•„ë‹ˆë¼ ì‹œìŠ¤í…œ ë¡œì¼€ì¼ ì •ë³´ì¸ í•œêµ­ì–´ë¡œ ë©”ì‹œì§€ê°€ ë²ˆì—­ë˜ì–´ ì²˜ë¦¬ë˜ì—ˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p></blockquote><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">MessageInterpolator</span> messageInterpolator <span class="token operator">=</span> <span class="token class-name">Validation</span><span class="token punctuation">.</span><span class="token function">byDefaultProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDefaultMessageInterpolator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>messageInterpolator <span class="token keyword">instanceof</span> <span class="token class-name">ResourceBundleMessageInterpolator</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"defaultMessageInterpolator is ResourceBundleMessageInterpolator"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">Validator</span> validator <span class="token operator">=</span> <span class="token class-name">Validation</span><span class="token punctuation">.</span><span class="token function">byDefaultProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">messageInterpolator</span><span class="token punctuation">(</span>messageInterpolator<span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">buildValidatorFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">getValidator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ConstraintViolation</span><span class="token punctuation">&lt;</span><span class="token class-name">Account<span class="token punctuation">.</span>Login</span><span class="token punctuation">></span><span class="token punctuation">></span></span> constraintViolations <span class="token operator">=</span> validator<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>loginInfo<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>ê¸°ë³¸ ë©”ì‹œì§€ ì¸í„°í´ë ˆì´í„°ë¥¼ ê°€ì ¸ì™€ì„œ ResourceBundleMessageInterpolator í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ì¸ì§€ë¥¼ ë¹„êµí•´ë³´ë©´ ìœ„ ë¡œê·¸ê°€ ì¶œë ¥ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ë™ì¼í•˜ê²Œ ì‚¬ìš©ì ì–¸ì–´ê°€ ì•„ë‹Œ ì‹œìŠ¤í…œ ë¡œì¼€ì¼ì„ ê¸°ë°˜ìœ¼ë¡œ ë©”ì‹œì§€ê°€ ì²˜ë¦¬ë¨ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.</p><pre class="language-none"><code class="language-none">LoginController : defaultMessageInterpolator is ResourceBundleMessageInterpolatorLoginController : [ConstraintViolationImpl&#123;interpolatedMessage&#x3D;&#39;ê³µë°±ì¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤&#39;, propertyPath&#x3D;loginId, rootBeanClass&#x3D;class com.example.springboot.bean.Account$Login, messageTemplate&#x3D;&#39;&#123;javax.validation.constraints.NotBlank.message&#125;&#39;&#125;]LoginController : locale: en_US</code></pre><h2 id="ì‚¬ìš©ì-ì–¸ì–´-ê¸°ë°˜ì˜-ë©”ì‹œì§€-ì²˜ë¦¬"><a href="#ì‚¬ìš©ì-ì–¸ì–´-ê¸°ë°˜ì˜-ë©”ì‹œì§€-ì²˜ë¦¬" class="headerlink" title="ì‚¬ìš©ì ì–¸ì–´ ê¸°ë°˜ì˜ ë©”ì‹œì§€ ì²˜ë¦¬"></a>ì‚¬ìš©ì ì–¸ì–´ ê¸°ë°˜ì˜ ë©”ì‹œì§€ ì²˜ë¦¬</h2><p>ê¸°ë³¸ ë²¨ë¦¬ë°ì´í„°ëŠ” ì‹œìŠ¤í…œ ë¡œì¼€ì¼ì„ ê¸°ë°˜ìœ¼ë¡œ ë©”ì‹œì§€ê°€ ì²˜ë¦¬ë¨ì„ í™•ì¸í•˜ì˜€ìœ¼ë‹ˆ ì‚¬ìš©ìì˜ ì–¸ì–´ ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë©”ì‹œì§€ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ì„œëŠ” ì–´ë–»ê²Œ í•˜ì—¬ì•¼í•˜ëŠ”ì§€ ì•Œì•„ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤. <a href="https://docs.jboss.org/hibernate/validator/3.0/api/org/hibernate/validator/MessageInterpolator.html">MessageInterpolator</a> ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ë©”ì‹œì§€ë¥¼ ì²˜ë¦¬í•˜ë„ë¡ ë˜ì–´ìˆê¸° ë•Œë¬¸ì— ì‚¬ìš©ìì˜ ì–¸ì–´ ì •ë³´ë¥¼ ì‚¬ìš©í•˜ëŠ” MessageInterpolatorë¥¼ ì ìš©í•´ì•¼í•©ë‹ˆë‹¤.</p><p>ìŠ¤í”„ë§ì—ì„œ ì‚¬ìš©ìì˜ ìš”ì²­ì— ì˜í•œ ìŠ¤ë ˆë“œ ë‚´ì—ì„œëŠ” LocaleContextHolder í´ë˜ìŠ¤ë¥¼ í†µí•´ ì‚¬ìš©ìì˜ ë¡œì¼€ì¼ ì •ë³´ë¥¼ ì‰½ê²Œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë„ë¡ ì œê³µí•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì´ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•´ì„œ ë¡œì¼€ì¼ ì •ë³´ë¥¼ ê°€ì ¸ì™€ì„œ ë©”ì‹œì§€ë¥¼ ì²˜ë¦¬í•˜ëŠ” <a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/validation/beanvalidation/LocaleContextMessageInterpolator.html"><strong>LocaleContextMessageInterpolator</strong></a>ë¥¼ ì œê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤.</p><p>ê¸°ë³¸ ë©”ì‹œì§€ ì¸í„°í´ë ˆì´í„°ì¸ ResourceBundleMessageInterpolatorë¥¼ LocaleContextMessageInterpolatorì˜ ìƒì„±ìë¡œ ì „ë‹¬í•˜ì—¬ MessageInterpolatorë¥¼ ëŒ€ì²´í•˜ì—¬ ì ìš©í•´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">MessageInterpolator</span> messageInterpolator <span class="token operator">=</span> <span class="token class-name">Validation</span><span class="token punctuation">.</span><span class="token function">byDefaultProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDefaultMessageInterpolator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>messageInterpolator <span class="token keyword">instanceof</span> <span class="token class-name">ResourceBundleMessageInterpolator</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"defaultMessageInterpolator is ResourceBundleMessageInterpolator"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>messageInterpolator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LocaleContextMessageInterpolator</span><span class="token punctuation">(</span>messageInterpolator<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Validator</span> validator <span class="token operator">=</span> <span class="token class-name">Validation</span><span class="token punctuation">.</span><span class="token function">byDefaultProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">messageInterpolator</span><span class="token punctuation">(</span>messageInterpolator<span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">buildValidatorFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">getValidator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ConstraintViolation</span><span class="token punctuation">&lt;</span><span class="token class-name">Account<span class="token punctuation">.</span>Login</span><span class="token punctuation">></span><span class="token punctuation">></span></span> constraintViolations <span class="token operator">=</span> validator<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>loginInfo<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>ê·¸ë¦¬ê³  ë‹¤ì‹œ ì‚¬ìš©ìì˜ ë¡œê·¸ì¸ ìš”ì²­ì„ ìˆ˜í–‰í•´ë³´ê³  ì–´ë–»ê²Œ ë²¨ë¦¬ë°ì´ì…˜ ì˜¤ë¥˜ ë©”ì‹œì§€ê°€ ë²ˆì—­ë˜ëŠ”ì§€ í™•ì¸í•´ë³´ì£ .</p><pre class="language-sh" data-language="sh"><code class="language-sh">LoginController : [ConstraintViolationImpl&#123;interpolatedMessage&#x3D;&#39;must not be blank&#39;, propertyPath&#x3D;loginId, rootBeanClass&#x3D;class com.example.springboot.bean.Account$Login, messageTemplate&#x3D;&#39;&#123;javax.validation.constraints.NotBlank.message&#125;&#39;&#125;]LoginController : locale: en_US</code></pre><blockquote><p>ì•ì„  ê³¼ì •ì„ í†µí•´ì„œ ë²¨ë¦¬ë°ì´ì…˜ì— ëŒ€í•œ ë©”ì‹œì§€ ì²˜ë¦¬ëŠ” MessageInterpolatorë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ LocaleContextMessageInterpolatorë¥¼ ì ìš©í•˜ë©´ ìŠ¤í”„ë§ì—ì„œ ê´€ë¦¬í•˜ëŠ” ë¡œì¼€ì¼ ì •ë³´ë¥¼ ì‚¬ìš©í•´ì„œ ë©”ì‹œì§€ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆìŒì„ ì´í•´í–ˆìŠµë‹ˆë‹¤.</p></blockquote><h3 id="LocalValidatorFactoryBean"><a href="#LocalValidatorFactoryBean" class="headerlink" title="LocalValidatorFactoryBean"></a>LocalValidatorFactoryBean</h3><p><a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/validation/beanvalidation/LocalValidatorFactoryBean.html">LocalValidatorFactoryBean</a>ëŠ” ë²¨ë¦¬ë°ì´ì…˜ ìŠ¤íƒ€í„°ì— ì˜í•´ì„œ ìë™ìœ¼ë¡œ ë“±ë¡ë˜ëŠ” ë²¨ë¦¬ë°ì´í„°ì…ë‹ˆë‹¤. ì»¨íŠ¸ë¡¤ëŸ¬ì˜ í•¸ë“¤ëŸ¬ í•¨ìˆ˜ë¡œ ì „ë‹¬ë˜ëŠ” ê³¼ì •ì—ì„œ ì´ ë²¨ë¦¬ë°ì´í„°ë¥¼ í†µí•´ì„œ ì‚¬ìš©ìì˜ ìš”ì²­ ì •ë³´ë¥¼ ê²€ì¦í•˜ë©° ë²¨ë¦¬ë°ì´ì…˜ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ì œê³µí•˜ê²Œ ë©ë‹ˆë‹¤.</p><p>í˜„ì¬ ì¡°ì§ì—ì„œëŠ” ì˜¤ë˜ì „ì— ê³µìœ í•œ <a href="managing-i18n-messages-with-xml">XMLë¡œ ë‹¤êµ­ì–´ ë©”ì‹œì§€ ê´€ë¦¬í•˜ê¸°</a>ì—ì„œì²˜ëŸ¼ XML íŒŒì¼ì„ ê¸°ë°˜ìœ¼ë¡œ ë‹¤êµ­ì–´ ë©”ì‹œì§€ ì •ë³´ë¥¼ ê´€ë¦¬í•˜ê³  ìˆìœ¼ë©° ì´ ë©”ì‹œì§€ ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ìë™ êµ¬ì„±ì´ ì•„ë‹Œ LocalValidatorFactoryBeanë¥¼ ì§ì ‘ ë²¨ë¦¬ë°ì´í„° ë¹ˆìœ¼ë¡œ ë“±ë¡í•˜ì—¬ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">MessageSource</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>validation<span class="token punctuation">.</span>beanvalidation<span class="token punctuation">.</span></span><span class="token class-name">LocalValidatorFactoryBean</span><span class="token punctuation">;</span><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MessageConfig</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">LocalValidatorFactoryBean</span> <span class="token function">validator</span><span class="token punctuation">(</span><span class="token class-name">CustomMessageSource</span> customMessageSource<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">LocalValidatorFactoryBean</span> factoryBean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LocalValidatorFactoryBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        factoryBean<span class="token punctuation">.</span><span class="token function">setValidationMessageSource</span><span class="token punctuation">(</span>customMessageSource<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> factoryBean<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>ìœ„ì™€ ê°™ì´ LocalValidatorFactoryBeanë¥¼ ë“±ë¡í•  ë•Œ ë²¨ë¦¬ë°ì´ì…˜ ë©”ì‹œì§€ ì†ŒìŠ¤ë¥¼ ì§€ì •í•˜ëŠ” ê²ƒì€ í•˜ì´ë²„ë„¤ì´íŠ¸ ë²¨ë¦¬ë°ì´í„°ì— ì˜í•´ í´ë˜ìŠ¤íŒ¨ìŠ¤ì— í¬í•¨ëœ ValidationMessagesë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•œë‹¤ëŠ” ë‚´ì¬ëœ ê²°í•¨ì„ ê°€ì§€ê²Œ ë©ë‹ˆë‹¤.</p><pre class="language-sh" data-language="sh"><code class="language-sh">LoginController : [ConstraintViolationImpl&#123;interpolatedMessage&#x3D;&#39;javax.validation.constraints.NotBlank.message&#39;, propertyPath&#x3D;loginId, rootBeanClass&#x3D;class com.example.springboot.bean.Account$Login, messageTemplate&#x3D;&#39;&#123;javax.validation.constraints.NotBlank.message&#125;&#39;&#125;]LoginController : locale: en_US</code></pre><blockquote><p>ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ValidationMessages ëŒ€ì‹ ì— ë²¨ë¦¬ë°ì´ì…˜ ë©”ì‹œì§€ ì†ŒìŠ¤ë¥¼ ì§€ì •í•˜ì˜€ê¸°ì— í•´ë‹¹ ë©”ì‹œì§€ë¡œ ì²˜ë¦¬ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì™œëƒí•˜ë©´ JSR-303 ì–´ë…¸í…Œì´ì…˜ì— ëŒ€í•œ ë©”ì‹œì§€ëŠ” ì§ì ‘ ì •ì˜í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì´ì£ .</p></blockquote><pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Bean</span><span class="token keyword">public</span> <span class="token class-name">LocalValidatorFactoryBean</span> <span class="token function">validator</span><span class="token punctuation">(</span><span class="token class-name">CustomMessageSource</span> messageSource<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">LocalValidatorFactoryBean</span> factoryBean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LocalValidatorFactoryBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    factoryBean<span class="token punctuation">.</span><span class="token function">setValidationMessageSource</span><span class="token punctuation">(</span>messageSource<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">MessageInterpolator</span> defaultMessageInterpolator <span class="token operator">=</span> <span class="token class-name">Validation</span><span class="token punctuation">.</span><span class="token function">byDefaultProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDefaultMessageInterpolator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">LocaleContextMessageInterpolator</span> localeContextMessageInterpolator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LocaleContextMessageInterpolator</span><span class="token punctuation">(</span>defaultMessageInterpolator<span class="token punctuation">)</span><span class="token punctuation">;</span>    factoryBean<span class="token punctuation">.</span><span class="token function">setMessageInterpolator</span><span class="token punctuation">(</span>localeContextMessageInterpolator<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> factoryBean<span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><p>í˜„ì¬ ì¡°ì§ì²˜ëŸ¼ ì‚¬ìš©ì ì •ì˜ ë©”ì‹œì§€ ì†ŒìŠ¤ë¥¼ ë²¨ë¦¬ë°ì´ì…˜ ë©”ì‹œì§€ ì†ŒìŠ¤ë¡œë„ ì‚¬ìš©í•˜ë„ë¡ ì§€ì •í•˜ì˜€ë‹¤ë©´ ìœ„ì™€ ê°™ì´ MessageInterpolatorë¥¼ ì§€ì •í•˜ëŠ”ê²Œ ì¢‹ìŠµë‹ˆë‹¤. ì´ë•Œì—ë„ ì‚¬ìš©ìì˜ ì–¸ì–´ ì •ë³´ì— ë”°ë¼ ë©”ì‹œì§€ê°€ ì²˜ë¦¬ë˜ë„ë¡ LocaleContextMessageInterpolatorë¥¼ ì ìš©í•´ì•¼í•©ë‹ˆë‹¤.</p><h4 id="MessageInterpolatorFactory"><a href="#MessageInterpolatorFactory" class="headerlink" title="MessageInterpolatorFactory"></a>MessageInterpolatorFactory</h4><p>LocalValidatorFactoryBeanì„ ìë™ êµ¬ì„±í•˜ëŠ” ValidationAutoConfiguration í´ë˜ìŠ¤ë¥¼ ì‚´í´ë³´ë©´ LocaleContextMessageInterpolatorì´ ì•„ë‹ˆë¼ ìŠ¤í”„ë§ ë¶€íŠ¸ì—ì„œ ì¶”ê°€ëœ MessageInterpolatorFactoryë¥¼ í†µí•´ MessageInterpolatorë¥¼ ê°€ì ¸ì™€ì„œ ë“±ë¡í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ValidationAutoConfiguration</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">LocalValidatorFactoryBean</span> <span class="token function">defaultValidator</span><span class="token punctuation">(</span><span class="token class-name">ApplicationContext</span> applicationContext<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">LocalValidatorFactoryBean</span> factoryBean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LocalValidatorFactoryBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">MessageInterpolatorFactory</span> interpolatorFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MessageInterpolatorFactory</span><span class="token punctuation">(</span>applicationContext<span class="token punctuation">)</span><span class="token punctuation">;</span>        factoryBean<span class="token punctuation">.</span><span class="token function">setMessageInterpolator</span><span class="token punctuation">(</span>interpolatorFactory<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> factoryBean<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>ì´ë¥¼ ì°¸ê³ í•˜ì—¬ ì‚¬ìš©ì ì •ì˜ ë©”ì‹œì§€ ì†ŒìŠ¤ ë²ˆë“¤ì„ ë²¨ë¦¬ë°ì´ì…˜ ë©”ì‹œì§€ ì†ŒìŠ¤ë¡œ ì§€ì •í•˜ì˜€ë”ë¼ë„ MessageInterpolatorFactoryë¥¼ í†µí•´ ResourceBundleMessageInterpolatorì— ì˜í•´ì„œ ë©”ì‹œì§€ê°€ ë²ˆì—­ë˜ì–´ ì²˜ë¦¬ë¨ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Bean</span><span class="token keyword">public</span> <span class="token class-name">LocalValidatorFactoryBean</span> <span class="token function">validator</span><span class="token punctuation">(</span><span class="token class-name">CustomMessageSource</span> messageSource<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">LocalValidatorFactoryBean</span> factoryBean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LocalValidatorFactoryBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    factoryBean<span class="token punctuation">.</span><span class="token function">setValidationMessageSource</span><span class="token punctuation">(</span>messageSource<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">MessageInterpolatorFactory</span> messageInterpolatorFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MessageInterpolatorFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    factoryBean<span class="token punctuation">.</span><span class="token function">setMessageInterpolator</span><span class="token punctuation">(</span>messageInterpolatorFactory<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> factoryBean<span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><blockquote><p>ê·¸ëŸ°ë° ì•ì„  ìì¹´ë¥´íƒ€ íŒ©í† ë¦¬ í•¨ìˆ˜ì— ì˜í•´ ìƒì„±ëœ ë²¨ë¦¬ë°ì´í„°ë„ ResourceBundleMessageInterpolatorë¥¼ ì‚¬ìš©í•˜ì˜€ëŠ”ë° ì–´ë–»ê²Œ LocalValidatorFactoryBeanëŠ” ì‚¬ìš©ì ì–¸ì–´ ì •ë³´ì— ë”°ë¼ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ì²˜ë¦¬í•´ì£¼ê²Œ ë˜ëŠ” ê²ƒì¼ê¹Œìš”?</p></blockquote><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">MessageInterpolator</span> targetInterpolator <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>messageInterpolator<span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>targetInterpolator <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    targetInterpolator <span class="token operator">=</span> configuration<span class="token punctuation">.</span><span class="token function">getDefaultMessageInterpolator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>configuration<span class="token punctuation">.</span><span class="token function">messageInterpolator</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LocaleContextMessageInterpolator</span><span class="token punctuation">(</span>targetInterpolator<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>ìœ„ ì½”ë“œëŠ” LocalValidatorFactoryBeanì´ ë¹ˆìœ¼ë¡œ ë“±ë¡ë˜ê³  ë‚œ í›„ afterPropertiesSet í•¨ìˆ˜ì— ì˜í•´ ìˆ˜í–‰ë˜ëŠ” ì½”ë“œ ì¤‘ ì¼ë¶€ì…ë‹ˆë‹¤. LocalValidatorFactoryBeanì„ ë¹ˆìœ¼ë¡œ ë“±ë¡í•  ë•Œ MessageInterpolatorFactoryì— ì˜í•´ ê°€ì ¸ì˜¨ ResourceBundleMessageInterpolatorë¥¼ ì§€ì •í•˜ì˜€ì§€ë§Œ ì´ë¥¼ ë‹¤ì‹œ LocaleContextMessageInterpolatorë¡œ ë³€í™˜í•˜ì—¬ ë“±ë¡í•¨ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. </p><p>ê²°êµ­ LocalValidatorFactoryBeanì„ ë¹ˆìœ¼ë¡œ ë“±ë¡í•  ë•ŒëŠ” ë‹¤ìŒê³¼ ê°™ì´ LocaleContextMessageInterpolatorë¥¼ ì „ë‹¬í•˜ì§€ ì•Šì•„ë„ ë¨ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Bean</span><span class="token keyword">public</span> <span class="token class-name">LocalValidatorFactoryBean</span> <span class="token function">validator</span><span class="token punctuation">(</span><span class="token class-name">CustomMessageSource</span> messageSource<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">LocalValidatorFactoryBean</span> factoryBean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LocalValidatorFactoryBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    factoryBean<span class="token punctuation">.</span><span class="token function">setValidationMessageSource</span><span class="token punctuation">(</span>messageSource<span class="token punctuation">)</span><span class="token punctuation">;</span>    factoryBean<span class="token punctuation">.</span><span class="token function">setMessageInterpolator</span><span class="token punctuation">(</span><span class="token class-name">Validation</span><span class="token punctuation">.</span><span class="token function">byDefaultProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDefaultMessageInterpolator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> factoryBean<span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><h3 id="ì‚¬ìš©ì-ì •ì˜-ë©”ì‹œì§€"><a href="#ì‚¬ìš©ì-ì •ì˜-ë©”ì‹œì§€" class="headerlink" title="ì‚¬ìš©ì ì •ì˜ ë©”ì‹œì§€"></a>ì‚¬ìš©ì ì •ì˜ ë©”ì‹œì§€</h3><p>ê·¸ë ‡ë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ValidationMessagesì— ì •ì˜ëœ ë©”ì‹œì§€ ì½”ë“œë¥¼ ì •ì˜í•˜ë©´ ì–´ë–»ê²Œ ë©”ì‹œì§€ê°€ ì²˜ë¦¬ë ê¹Œìš”?</p><pre class="language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>messages</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>entry</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>javax.validation.constraints.NotBlank.message<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ko_KR</span><span class="token punctuation">></span></span><span class="token cdata">&lt;![CDATA[[ì‚¬ìš©ì ì •ì˜] ê³µë°±ì¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤]]></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ko_KR</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>en_US</span><span class="token punctuation">></span></span><span class="token cdata">&lt;![CDATA[[Custom] must not be blank]]></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>en_US</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>entry</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>messages</span><span class="token punctuation">></span></span></code></pre><p>NotBlankì— ëŒ€í•œ ë©”ì‹œì§€ë¥¼ ì •ì˜í–ˆì§€ë§Œ ValidationMessagesì— ì •ì˜ëœ ë©”ì‹œì§€ë¡œ ì²˜ë¦¬ë¨ì„ í™•ì¸í•  ìˆ˜ ìˆì„ê²ë‹ˆë‹¤. ì´ë ‡ê²Œ ë˜ëŠ” ì´ìœ ëŠ” setValidationMessageSource í•¨ìˆ˜ ë™ì‘ì— ìˆìŠµë‹ˆë‹¤. setValidationMessageSource í•¨ìˆ˜ì˜ ì½”ë“œë¥¼ ì‚´í´ë³´ë©´ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ëœ ë©”ì‹œì§€ ì†ŒìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ResourceBundleMessageInterpolatorë¥¼ ë§Œë“¤ì–´ì„œ MessageInterpolatorë¥¼ ë³€ê²½í•˜ë„ë¡ ë˜ì–´ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setValidationMessageSource</span><span class="token punctuation">(</span><span class="token class-name">MessageSource</span> messageSource<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>messageInterpolator <span class="token operator">=</span> <span class="token class-name">HibernateValidatorDelegate</span><span class="token punctuation">.</span><span class="token function">buildMessageInterpolator</span><span class="token punctuation">(</span>messageSource<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">HibernateValidatorDelegate</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">MessageInterpolator</span> <span class="token function">buildMessageInterpolator</span><span class="token punctuation">(</span><span class="token class-name">MessageSource</span> messageSource<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ResourceBundleMessageInterpolator</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MessageSourceResourceBundleLocator</span><span class="token punctuation">(</span>messageSource<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><blockquote><p>ê²°êµ­ setValidationMessageSourceì™€ setMessageInterpolatorëŠ” ë™ì‹œì— ì ìš©í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ì‚¬ìš©ì ì •ì˜ ë©”ì‹œì§€ ì†ŒìŠ¤ë¥¼ ì§€ì •í•œ ê²ƒì´ ì˜ë¯¸ì—†ëŠ” ì“°ë ˆê¸° ì½”ë“œê°€ ë©ë‹ˆë‹¤.</p></blockquote><p>ìŠ¤í”„ë§ ë¶€íŠ¸ 2.6.0 ë²„ì „ë¶€í„°ëŠ” MessageInterpolatorFactory ìƒì„±ìê°€ ë©”ì‹œì§€ ì†ŒìŠ¤ë¥¼ ë°›ì„ ìˆ˜ ìˆë„ë¡ ìˆ˜ì •ë˜ì—ˆê³  ìƒì„±ìì— ì˜í•´ ì „ë‹¬ëœ ë©”ì‹œì§€ ì†ŒìŠ¤ê°€ ìˆë‹¤ë©´ MessageSourceMessageInterpolatorë¡œ ë³€ê²½í•˜ì—¬ì£¼ëŠ” ì½”ë“œê°€ ì¶”ê°€ë˜ì–´ìˆìŠµë‹ˆë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Override</span><span class="token keyword">public</span> <span class="token class-name">MessageInterpolator</span> <span class="token function">getObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">MessageInterpolator</span> messageInterpolator <span class="token operator">=</span> <span class="token function">getMessageInterpolator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>messageSource <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">MessageSourceMessageInterpolator</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>messageSource<span class="token punctuation">,</span> messageInterpolator<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> messageInterpolator<span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><h3 id="ì‚¬ìš©ì-ì •ì˜-ì œì•½ì‚¬í•­"><a href="#ì‚¬ìš©ì-ì •ì˜-ì œì•½ì‚¬í•­" class="headerlink" title="ì‚¬ìš©ì ì •ì˜ ì œì•½ì‚¬í•­"></a>ì‚¬ìš©ì ì •ì˜ ì œì•½ì‚¬í•­</h3><p>ì‚¬ìš©ì ì •ì˜ ë©”ì‹œì§€ ì†ŒìŠ¤ë¥¼ ì œê³µí•˜ë”ë¼ë„ ë©”ì‹œì§€ íŒ¨í„´ì—ì„œ {value}ì™€ ê°™ì€ íŒŒë¼ë¯¸í„° í‘œí˜„ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë‹¤ìŒê³¼ ê°™ì´ ì–´ë–¤ ê°’ì— ëŒ€í•œ ê¸¸ì´ë¥¼ ì œí•œí•œë‹¤ê³  ê°€ì •í•˜ì—¬ @Min ì–´ë…¸í…Œì´ì…˜ì„ ë¶€ì—¬í–ˆë‹¤ê³  ê°€ì •í•˜ê² ìŠµë‹ˆë‹¤.</p><pre class="language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>messages</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>entry</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>javax.validation.constraints.Min.message<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ko_KR</span><span class="token punctuation">></span></span><span class="token cdata">&lt;![CDATA[(ì‚¬ìš©ì ì •ì˜) &#123;value&#125; ë³´ë‹¤ ê°™ê±°ë‚˜ ì»¤ì•¼í•©ë‹ˆë‹¤]]></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ko_KR</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>en_US</span><span class="token punctuation">></span></span><span class="token cdata">&lt;![CDATA[(Custom) must be greater than or equal to &#123;value&#125;]]></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>en_US</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>entry</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>messages</span><span class="token punctuation">></span></span></code></pre><p>ì‚¬ìš©ì ì •ì˜ ë©”ì‹œì§€ì—ì„œ VailidationMessagesì— ì •ì˜ëœ ê²ƒì²˜ëŸ¼ íŒŒë¼ë¯¸í„° í‘œí˜„ì„ ì‚¬ìš©í•´ë³´ê² ìŠµë‹ˆë‹¤.</p><pre class="language-none"><code class="language-none">org.springframework.web.util.NestedServletException: Request processing failed; nested exception is javax.validation.ValidationException: HV000149: An exception occurred during message interpolation...Caused by: java.lang.IllegalArgumentException: can&#39;t parse argument number: valueat java.base&#x2F;java.text.MessageFormat.makeFormat(MessageFormat.java:1451) ~[na:na]at java.base&#x2F;java.text.MessageFormat.applyPattern(MessageFormat.java:491) ~[na:na]at java.base&#x2F;java.text.MessageFormat.&lt;init&gt;(MessageFormat.java:390) ~[na:na]...Caused by: java.lang.NumberFormatException: For input string: &quot;value&quot;at java.base&#x2F;java.lang.NumberFormatException.forInputString(NumberFormatException.java:65) ~[na:na]at java.base&#x2F;java.lang.Integer.parseInt(Integer.java:652) ~[na:na]at java.base&#x2F;java.lang.Integer.parseInt(Integer.java:770) ~[na:na]at java.base&#x2F;java.text.MessageFormat.makeFormat(MessageFormat.java:1449) ~[na:na]</code></pre><blockquote><p>ì´ëŸ¬í•œ íŒŒë¼ë¯¸í„° í‘œí˜„ì€ Hibernate Validatorì—ì„œ ì§€ì›í•˜ëŠ” í‘œí˜„ì‹ì´ë¯€ë¡œ MessageFormatê°€ ì§€ì›í•˜ëŠ” í‘œí˜„ì‹ê³¼ëŠ” ë‹¤ë¦…ë‹ˆë‹¤. MessageFormatëŠ” {0}, {1} ì´ë ‡ê²Œ ìˆ«ì ê¸°ë°˜ì˜ í‘œí˜„ì‹ì„ ì§€ì›í•˜ê¸° ë•Œë¬¸ì— í‘œí˜„ì‹ ì œì•½ì´ ë°œìƒí•©ë‹ˆë‹¤. ì•„ì‰½ì§€ë§Œ ì‚¬ìš©ì ì •ì˜ ë©”ì‹œì§€ì—ì„œ íŒŒë¼ë¯¸í„° í‘œí˜„ì‹ì„ ì‚¬ìš©í•˜ì§€ ì•Šì„ ìˆ˜ ë°–ì— ì—†ê³  íŒŒë¼ë¯¸í„° í‘œí˜„ì‹ì„ ì‚¬ìš©í•´ì•¼í•œë‹¤ë©´ ValidationMessages ë¦¬ì†ŒìŠ¤ ë²ˆë“¤ì„ í´ë˜ìŠ¤íŒ¨ìŠ¤ì— ì¬ì •ì˜í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ë°–ì— ì—†ìŠµë‹ˆë‹¤. </p></blockquote><p>ì–¸ì–´ë³„ ë©”ì‹œì§€ê°€ ì •ì˜ëœ í”„ë¡œí¼í‹° íŒŒì¼ì„ ë³´ì™„í•˜ê³ ì XMLë¡œ ë©”ì‹œì§€ë¥¼ ì •ì˜í•˜ì—¬ ë©”ì‹œì§€ ì†ŒìŠ¤ë¥¼ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í–ˆì§€ë§Œ ì˜ë„í•˜ì§€ ì•Šì€ ì œì•½ì´ ìƒê²¨ë²„ë ¸ìŠµë‹ˆë‹¤. ë¶ˆí¸í•˜ë”ë¼ë„ ë²¨ë¦¬ë°ì´ì…˜ ë©”ì‹œì§€ëŠ” í”„ë¡œí¼í‹° íŒŒì¼ë¡œ ê´€ë¦¬í•´ì„œ ResourceBundleMessageInterpolatorì— ì˜í•´ ì²˜ë¦¬ë˜ë„ë¡ í•´ì•¼í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤.</p><p>ê°ì‚¬í•©ë‹ˆë‹¤.</p><h2 id="ì°¸ê³ "><a href="#ì°¸ê³ " class="headerlink" title="ì°¸ê³ "></a>ì°¸ê³ </h2><ul><li><a href="/managing-i18n-messages-with-xml">XMLë¡œ ë‹¤êµ­ì–´ ë©”ì‹œì§€ ê´€ë¦¬í•˜ê¸°</a></li><li><a href="https://meetup.toast.com/posts/223">Validation ì–´ë””ê¹Œì§€ í•´ë´¤ë‹ˆ?</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;ìŠ¤í”„ë§ ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë²¨ë¦¬ë°ì´ì…˜ ì˜¤ë¥˜ ë©”ì‹œì§€ê°€ ì‚¬ìš©ìê°€ ì–¸ì–´ë¡œ ì²˜ë¦¬ë˜ì§€ ì•ŠëŠ” ì‚¬ìœ ë¥¼ ê²½í—˜í•˜ì—¬ ì´ì™€ ê°™ì€ ë¬¸ì œê°€ ë°œìƒí•œ ì´ìœ ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ê³  ìŠ¤í”„ë§ì—ì„œ ì œê³µí•˜ëŠ” ë²¨ë¦¬ë°ì´ì…˜ì— ëŒ€í•´ì„œ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.&lt;br&gt;ê´€ë ¨ ì½”ë“œëŠ”</summary>
      
    
    
    
    
    <category term="Jakarta Bean Validation" scheme="https://kdevkr.github.io/tags/Jakarta-Bean-Validation/"/>
    
    <category term="Hibernate Validator" scheme="https://kdevkr.github.io/tags/Hibernate-Validator/"/>
    
  </entry>
  
  <entry>
    <title>ìŠ¤í”„ë§ ë¶€íŠ¸ ì•¡ì„¸ìŠ¤ ë¡œê·¸ë¥¼ ì—˜ë¼ìŠ¤í‹±ì„œì¹˜ì— ê¸°ë¡í•˜ê¸°</title>
    <link href="https://kdevkr.github.io/spring-boot-accesslog-with-elasticsearch/"/>
    <id>https://kdevkr.github.io/spring-boot-accesslog-with-elasticsearch/</id>
    <published>2022-02-10T00:00:00.000Z</published>
    <updated>2022-03-19T05:27:27.228Z</updated>
    
    <content type="html"><![CDATA[<p>ì•ˆë…•í•˜ì„¸ìš” Mambo ì…ë‹ˆë‹¤.</p><p>ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ë¡œ ìš”ì²­ë˜ëŠ” ì •ë³´ë¥¼ ê¸°ë¡í•˜ëŠ” <a href="https://d2.naver.com/helloworld/3585246">ì•¡ì„¸ìŠ¤ ë¡œê·¸</a>ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ìš´ì˜ê³¼ ì¥ì•  ëŒ€ì‘ì— ìˆì–´ì„œ ìƒë‹¹íˆ ì¤‘ìš”í•œ ì •ë³´ì…ë‹ˆë‹¤. ì•„ë§ˆì¡´ ì›¹ ì„œë¹„ìŠ¤ì—ì„œë„ <a href="https://docs.aws.amazon.com/ko_kr/AmazonS3/latest/userguide/enable-server-access-logging.html">Amazon S3 ì„œë²„ ì•¡ì„¸ìŠ¤ ë¡œê¹… í™œì„±í™”</a>ì²˜ëŸ¼ ì•¡ì„¸ìŠ¤ ë¡œê·¸ë¥¼ ê¸°ë¡í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•˜ì£ . ìŠ¤í”„ë§ ë¶€íŠ¸ëŠ” <strong>í†°ìº£(Tomcat)</strong> ì´ë‚˜ <strong>ì–¸ë”í† ìš°(Undertow)</strong> ì™€ ê°™ì€ WASì— ëŒ€í•˜ì—¬ ì•¡ì„¸ìŠ¤ ë¡œê·¸ë¥¼ íŒŒì¼ë¡œ ì €ì¥í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ê¸°ë³¸ì ìœ¼ë¡œ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p><p>ë§Œì•½, ì–¸ë”í† ìš°ë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì•¡ì„¸ìŠ¤ ë¡œê·¸ë¥¼ í™œì„±í™”í•˜ê³  íŒ¨í„´ì„ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><pre class="language-properties" data-language="properties"><code class="language-properties"><span class="token attr-name">server.undertow.accesslog.enabled</span><span class="token punctuation">=</span><span class="token attr-value">true</span><span class="token attr-name">server.undertow.accesslog.pattern</span><span class="token punctuation">=</span><span class="token attr-value">common</span></code></pre><h2 id="ìŠ¤í”„ë§-ë¶€íŠ¸-ë¡œê¹…"><a href="#ìŠ¤í”„ë§-ë¶€íŠ¸-ë¡œê¹…" class="headerlink" title="ìŠ¤í”„ë§ ë¶€íŠ¸ ë¡œê¹…"></a>ìŠ¤í”„ë§ ë¶€íŠ¸ ë¡œê¹…</h2><p>ìŠ¤í”„ë§ ë¶€íŠ¸ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ Slf4j ê¸°ë°˜ì˜ <a href="https://logback.qos.ch/">ë¡œê·¸ë°±(Logback)</a>ì„ ë¡œê¹… í”„ë ˆì„ì›Œí¬ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤. ê·¸ë˜ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë¡œê·¸ë¥¼ ì—˜ë¼ìŠ¤í‹±ì„œì¹˜ì— ê¸°ë¡í•˜ê¸° ìœ„í•´ì„œëŠ” <a href="https://github.com/logfellow/logstash-logback-encoder">Logstash Logback Encoder</a>ì™€ ê°™ì´ ë¡œê·¸ë°±ìœ¼ë¡œ ê¸°ë¡ë˜ëŠ” ë¡œê·¸ë¥¼ ì—˜ë¼ìŠ¤í‹±ì„œì¹˜ë¡œ ì „ë‹¬í•  ìˆ˜ ìˆê²Œ êµ¬í˜„í•´ì•¼í•©ë‹ˆë‹¤.</p><h3 id="Logback-Elasticsearch-Appender"><a href="#Logback-Elasticsearch-Appender" class="headerlink" title="Logback Elasticsearch Appender"></a>Logback Elasticsearch Appender</h3><p><a href="https://github.com/internetitem/logback-elasticsearch-appender">Logback Elasticsearch Appender</a>ëŠ” ELK ìŠ¤íƒì´ ì•„ë‹ˆë”ë¼ë„ ë¡œê·¸ë°±ìœ¼ë¡œ ê¸°ë¡ë˜ëŠ” ë¡œê·¸ë¥¼ ì—˜ë¼ìŠ¤í‹±ì„œì¹˜ë¡œ ì „ë‹¬í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. ì˜¤ëŠ˜ì€ ì´ê²ƒì„ í™œìš©í•˜ì—¬ ìŠ¤í”„ë§ ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë°œìƒí•˜ëŠ” ì•¡ì„¸ìŠ¤ ë¡œê·¸ë¥¼ ì—˜ë¼ìŠ¤í‹±ì„œì¹˜ì— ê¸°ë¡í•´ë³´ê³ ì í•©ë‹ˆë‹¤. </p><p><img data-src="/images/posts/spring-boot-accesslog-with-elasticsearch/logback-elasticsearch-appender-01.png"></p><p>ê·¸ë¦¬ê³  ìœ„ ì²˜ëŸ¼ <a href="https://logback.qos.ch/access.html">Logback Access</a>ì— ëŒ€í•œ Appenderë¥¼ í¬í•¨í•˜ê³  ìˆìœ¼ë¯€ë¡œ ì•¡ì„¸ìŠ¤ ë¡œê·¸ë¥¼ ì‰½ê²Œ ì—˜ë¼ìŠ¤í‹±ì„œì¹˜ë¡œ ì „ë‹¬í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.</p><h3 id="Logback-Access-Spring-Boot-Starter"><a href="#Logback-Access-Spring-Boot-Starter" class="headerlink" title="Logback Access Spring Boot Starter"></a>Logback Access Spring Boot Starter</h3><p><a href="https://github.com/akkinoc/logback-access-spring-boot-starter">logback-access-spring-boot-starter</a>ëŠ” ë¡œê·¸ë°± ì—‘ì„¸ìŠ¤ ì„¤ì •ì— ëŒ€í•œ ìŠ¤í”„ë§ ë¶€íŠ¸ ìŠ¤íƒ€í„°ì…ë‹ˆë‹¤. ì–¸ë”í† ìš°ê¹Œì§€ ì§€ì›í•˜ë¯€ë¡œ ì–¸ë”í† ìš°ì— ëŒ€í•´ ë¡œê·¸ë°± ì—‘ì„¸ìŠ¤ ì„¤ì •ì„ ìœ„í•œ <a href="https://gist.github.com/cdmatta/2a4536ab687bf7a92482faf031e8a0b5">ì»¤ìŠ¤í„°ë§ˆì´ì €</a>ë¥¼ ì§ì ‘ êµ¬í˜„í•˜ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.</p><h3 id="ë”°ë¼í•˜ê¸°"><a href="#ë”°ë¼í•˜ê¸°" class="headerlink" title="ë”°ë¼í•˜ê¸°"></a>ë”°ë¼í•˜ê¸°</h3><p>ìŠ¤í”„ë§ ë¶€íŠ¸ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ê³  ì €ëŠ” ì–¸ë”í† ìš°ë¥¼ ì„ í˜¸í•˜ë¯€ë¡œ í†°ìº£ ëª¨ë“ˆì„ ì œì™¸í•˜ê³  ì–¸ë”í† ìš° ìŠ¤íƒ€í„°ë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.</p><pre class="language-groovy" data-language="groovy"><code class="language-groovy">configurations<span class="token punctuation">.</span>all <span class="token punctuation">&#123;</span>    exclude module<span class="token punctuation">:</span> <span class="token string">'spring-boot-starter-tomcat'</span><span class="token punctuation">&#125;</span>dependencies <span class="token punctuation">&#123;</span>    implementation <span class="token string">'org.springframework.boot:spring-boot-starter-web'</span>    implementation <span class="token string">'org.springframework.boot:spring-boot-starter-undertow'</span>    implementation <span class="token string">'com.internetitem:logback-elasticsearch-appender:1.6'</span>    implementation <span class="token string">'dev.akkinoc.spring.boot:logback-access-spring-boot-starter:3.2.1'</span><span class="token punctuation">&#125;</span></code></pre><blockquote><p>ë¡œê·¸ë°± ì—‘ì„¸ìŠ¤ ìŠ¤íƒ€í„°ëŠ” ì–¸ë”í† ìš° ë¿ë§Œ ì•„ë‹ˆë¼ í†°ìº£ë„ ì§€ì›í•˜ë¯€ë¡œ ì„¤ì •ì— ëŒ€í•œ ì°¨ì´ëŠ” ì—†ìŠµë‹ˆë‹¤.</p></blockquote><p>ê·¸ë¦¬ê³  ë‹¤ìŒê³¼ ê°™ì´ ë¡œê·¸ë°± ì—‘ì„¸ìŠ¤ë¥¼ ìœ„í•œ ì„¤ì • íŒŒì¼ì„ í´ë˜ìŠ¤íŒ¨ìŠ¤ì— ì¶”ê°€í•©ë‹ˆë‹¤. ì„¤ì • íŒŒì¼ì„ ë¶ˆëŸ¬ì˜¤ëŠ” <a href="https://github.com/akkinoc/logback-access-spring-boot-starter#priority-order">ìš°ì„ ìˆœìœ„</a>ì— ë”°ë¼ ì„¤ì • íŒŒì¼ëª…ì€ logback-access-spring.xml ì´ë¼ê³  ìƒì„±í•˜ê² ìŠµë‹ˆë‹¤.</p><p><strong>logback-access-spring.xml</strong></p><pre class="language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>springProperty</span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>context<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>elasticsearch_uris<span class="token punctuation">"</span></span> <span class="token attr-name">source</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>spring.elasticsearch.uris<span class="token punctuation">"</span></span> <span class="token attr-name">defaultValue</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://localhost:9200<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ELASTIC<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.internetitem.logback.elasticsearch.ElasticsearchAccessAppender<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">></span></span>$&#123;elasticsearch_uris&#125;/_bulk<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>index</span><span class="token punctuation">></span></span>application-accesslog-%date&#123;yyyy-MM-dd&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>index</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>headers</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>Content-Type<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>application/json<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>headers</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ELASTIC<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span></code></pre><p>ìŠ¤í”„ë§ ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ê³  ë¸Œë¼ìš°ì € ë˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ë„êµ¬ë¥¼ í†µí•´ ì•¡ì„¸ìŠ¤ ê¸°ë¡ì„ ë‚¨ê²¨ë³´ê³  ì—˜ë¼ìŠ¤í‹±ì„œì¹˜ì— ì˜ ì €ì¥ë˜ëŠ”ì§€ í™•ì¸í•´ë´…ë‹ˆë‹¤.</p><p><img data-src="/images/posts/spring-boot-accesslog-with-elasticsearch/elasticsearch-devtools-01.png"></p><p>ì¸ë±ìŠ¤ëŠ” ìƒì„±ë˜ì—ˆì§€ë§Œ ì•¡ì„¸ìŠ¤ ë¡œê·¸ì— ëŒ€í•œ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤. ì•¡ì„¸ìŠ¤ ë¡œê·¸ ì •ë³´ë¥¼ ê¸°ë¡í•˜ê¸° ìœ„í•´ì„œëŠ” <a href="https://logback.qos.ch/manual/layouts.html#logback-access">Logback Access conversion words</a>ë¥¼ ì°¸ê³ í•´ì„œ í”„ë¡œí¼í‹°ë¥¼ ì„¤ì •í•´ì•¼í•©ë‹ˆë‹¤. ì•ì„œ ìƒì„±í•œ ë¡œê·¸ë°± ì—‘ì„¸ìŠ¤ ì„¤ì • íŒŒì¼ì— ë‹¤ìŒê³¼ ê°™ì´ í”„ë¡œí¼í‹° í•­ëª©ì„ ì¶”ê°€ë¡œ ì •ì˜í•˜ê² ìŠµë‹ˆë‹¤.</p><pre class="language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>springProperty</span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>context<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>elasticsearch_uris<span class="token punctuation">"</span></span> <span class="token attr-name">source</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>spring.elasticsearch.uris<span class="token punctuation">"</span></span> <span class="token attr-name">defaultValue</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://localhost:9200<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ELASTIC<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.internetitem.logback.elasticsearch.ElasticsearchAccessAppender<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">></span></span>$&#123;elasticsearch_uris&#125;/_bulk<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>index</span><span class="token punctuation">></span></span>application-accesslog-%date&#123;yyyy-MM-dd&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>index</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>contentLength<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>%b<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>remoteHost<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>%h<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>protocol<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>%H<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>referer<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>%i&#123;Referer&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>userAgent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>%i&#123;User-Agent&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>requestMethod<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>%m<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>statusCode<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>%s<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>elapsedTime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>%D<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>date<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>%t&#123;yyyy-MM-dd'T'HH:mm:ss&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>user<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>%u<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>queryString<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>%q<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>requestURI<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>%U<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>headers</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>Content-Type<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>application/json<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>headers</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ELASTIC<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span></code></pre><blockquote><p>ë¯¸ë¦¬ ì •ì˜ëœ íŒ¨í„´ì¸ combinedë¥¼ ì°¸ê³ í•˜ì—¬ ë¦¬í¼ëŸ¬ì™€ ìœ ì € ì—ì´ì „íŠ¸ í—¤ë”ë¥¼ í¬í•¨í•˜ë„ë¡ í”„ë¡œí¼í‹°ë¥¼ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.</p></blockquote><p><img data-src="/images/posts/spring-boot-accesslog-with-elasticsearch/elasticsearch-devtools-02.png"></p><p>ìœ„ ì²˜ëŸ¼ í”„ë¡œí¼í‹°ë¥¼ ì„¤ì •í•˜ì˜€ìœ¼ë¯€ë¡œ ìš”ì²­ëœ ì•¡ì„¸ìŠ¤ì— ëŒ€í•œ ë¡œê·¸ë¥¼ í†µí•´ ìœ ì € ì—ì´ì „íŠ¸ê°€ í¬ìŠ¤íŠ¸ë§¨ì´ë©° ìš”ì²­ëœ ê²½ë¡œëŠ” ì•¡ì¶”ì—ì´í„°ì¸ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ë”°ë¼í•˜ì‹œëŠ” ì—¬ëŸ¬ë¶„ì€ ë‹¤ì–‘í•œ í•­ëª©ì— ëŒ€í•´ì„œë„ ê¸°ë¡í•´ë³´ì‹œë©´ ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.</p><h4 id="ì•¡ì„¸ìŠ¤-ë¡œê·¸-ì¸ë±ìŠ¤-í…œí”Œë¦¿"><a href="#ì•¡ì„¸ìŠ¤-ë¡œê·¸-ì¸ë±ìŠ¤-í…œí”Œë¦¿" class="headerlink" title="ì•¡ì„¸ìŠ¤ ë¡œê·¸ ì¸ë±ìŠ¤ í…œí”Œë¦¿"></a>ì•¡ì„¸ìŠ¤ ë¡œê·¸ ì¸ë±ìŠ¤ í…œí”Œë¦¿</h4><p>ìƒì„±ëœ ì•¡ì„¸ìŠ¤ ë¡œê·¸ì— ëŒ€í•œ ì¸ë±ìŠ¤ ë§¤í•‘ ì •ë³´ë¥¼ ì¡°íšŒí•˜ë©´ ë™ì  ë§¤í•‘ì— ì˜í•´ì„œ ì—˜ë¼ìŠ¤í‹±ì„œì¹˜ê°€ í•„ë“œ ìœ í˜•ì„ ì„ì˜ëŒ€ë¡œ ì§€ì •í•œ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë™ì  ë§¤í•‘ì€ ì €ì¥ë˜ëŠ” ë„íë¨¼íŠ¸ì˜ í•„ë“œ ì •ë³´ë¥¼ ì•Œê¸° ì–´ë ¤ìš¸ ë•ŒëŠ” í¸ë¦¬í•œ ê¸°ëŠ¥ì´ì§€ë§Œ ì§€ê¸ˆì²˜ëŸ¼ ì•¡ì„¸ìŠ¤ ë¡œê·¸ì— ì €ì¥ë˜ëŠ” í•„ë“œê°€ ê³ ì •ë˜ì–´ìˆê³  í•„ë“œ ìœ í˜•ì„ íŒŒì•…í•  ìˆ˜ ìˆë‹¤ë©´ ì •ì  ë§¤í•‘ì„ ì •ì˜í•´ë‘ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.</p><p><img data-src="/images/posts/spring-boot-accesslog-with-elasticsearch/elasticsearch-devtools-03.png"></p><p>ì•¡ì„¸ìŠ¤ ë¡œê·¸ì— ê¸°ë¡ë˜ëŠ” ì •ë³´ê°€ ëª…í™•í•˜ë¯€ë¡œ ë™ì  ë§¤í•‘ì„ ìˆ˜í–‰í•˜ì§€ ì•Šê³  ë¯¸ë¦¬ ì •ì˜ëœ ë§¤í•‘ì„ ì‚¬ìš©í•˜ë„ë¡ ì¸ë±ìŠ¤ í…œí”Œë¦¿ì„ ì •ì˜í•´ë‘ê² ìŠµë‹ˆë‹¤. </p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>  <span class="token property">"index_patterns"</span><span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token string">"applicaiton-accesslog-*"</span>  <span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token property">"template"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token property">"settings"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>      <span class="token property">"analysis"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>        <span class="token property">"analyzer"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>          <span class="token property">"path_analyzer"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>            <span class="token property">"tokenizer"</span><span class="token operator">:</span> <span class="token string">"path_hierarchy"</span>          <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token property">"mappings"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>      <span class="token property">"properties"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>        <span class="token property">"@timestamp"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"date"</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token property">"contentLength"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"long"</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token property">"date"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"date"</span><span class="token punctuation">,</span>          <span class="token property">"format"</span><span class="token operator">:</span> <span class="token string">"date_hour_minute_second || epoch_millis"</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token property">"elapsedTime"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"integer"</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token property">"protocol"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"keyword"</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token property">"referer"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"keyword"</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token property">"remoteHost"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"ip"</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token property">"requestMethod"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"keyword"</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token property">"requestURI"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"text"</span><span class="token punctuation">,</span>          <span class="token property">"analyzer"</span><span class="token operator">:</span> <span class="token string">"path_analyzer"</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token property">"statusCode"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"short"</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token property">"user"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"keyword"</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token property">"userAgent"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"keyword"</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><blockquote><p>í˜„ì¬ ì¡°ì§ì—ì„œëŠ” ì—˜ë¼ìŠ¤í‹±ì„œì¹˜ì— ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë¡œê·¸ ë° ì•¡ì„¸ìŠ¤ ë¡œê·¸ë¥¼ ê¸°ë¡í•˜ì§€ëŠ” ì•Šê³  ìˆìŠµë‹ˆë‹¤ë§Œ, ì—˜ë¼ìŠ¤í‹±ì„œì¹˜ë¥¼ í•™ìŠµí•˜ê¸° ìœ„í•œ ìƒ˜í”Œ ë°ì´í„°ê°€ ì—†ì–´ì„œ ê°„ë‹¨í•˜ê²Œë‚˜ë§ˆ ì•¡ì„¸ìŠ¤ ë¡œê·¸ë¥¼ ê¸°ë¡í•´ë³´ë©´ ì–´ë– í• ê¹Œ ìƒê°í•´ì„œ ì‹œë„í•´ë³´ì•˜ìŠµë‹ˆë‹¤. í˜„ì¬ ëŒ€ëŸ‰ì˜ <a href="https://github.com/kdevkr/elasticsearch/blob/main/sample/access.q">ëœë¤ ì•¡ì„¸ìŠ¤ ë¡œê·¸</a>ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ì„œ ì»¬ëŸ¼í˜• ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ì¸ KDBë¥¼ í™œìš©í•´ë³´ê³ ëŠ” ìˆìŠµë‹ˆë‹¤ë§Œ ì‰½ì§€ëŠ” ì•Šë„¤ìš”. ì´ ë¶€ë¶„ì— ëŒ€í•´ì„œëŠ” ë§ì´ ì‹œë„í•´ë³´ê³  ì •ë¦¬í•˜ì—¬ ê³µìœ í•´ë³´ê² ìŠµë‹ˆë‹¤.</p></blockquote><p>ê°ì‚¬í•©ë‹ˆë‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ì•ˆë…•í•˜ì„¸ìš” Mambo ì…ë‹ˆë‹¤.&lt;/p&gt;
&lt;p&gt;ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ë¡œ ìš”ì²­ë˜ëŠ” ì •ë³´ë¥¼ ê¸°ë¡í•˜ëŠ” &lt;a href=&quot;https://d2.naver.com/helloworld/3585246&quot;&gt;ì•¡ì„¸ìŠ¤ ë¡œê·¸&lt;/a&gt;ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ìš´ì˜ê³¼ ì¥ì•  ëŒ€ì‘ì— ìˆì–´ì„œ ìƒë‹¹íˆ </summary>
      
    
    
    
    
    <category term="Spring Boot" scheme="https://kdevkr.github.io/tags/Spring-Boot/"/>
    
    <category term="Elasticsearch" scheme="https://kdevkr.github.io/tags/Elasticsearch/"/>
    
    <category term="Access Log" scheme="https://kdevkr.github.io/tags/Access-Log/"/>
    
  </entry>
  
  <entry>
    <title>Base64</title>
    <link href="https://kdevkr.github.io/base64/"/>
    <id>https://kdevkr.github.io/base64/</id>
    <published>2022-01-22T00:00:00.000Z</published>
    <updated>2022-03-19T05:27:27.224Z</updated>
    
    <content type="html"><![CDATA[<p><img data-src="/images/posts/base64/base64-01.png"></p><p>ìœ„ì™€ ê°™ì´ ì–´ë–¤ ì„œë¹„ìŠ¤ì— ëŒ€í•œ íšŒì›ê°€ì…ì„ ìˆ˜í–‰í•˜ê±°ë‚˜ ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°ì™€ ê°™ì€ ê¸°ëŠ¥ì„ ìˆ˜í–‰í–ˆì„ê²½ìš° ì¸ì¦ ê´€ë ¨ ë©”ì¼ì´ ë°œì†¡ë˜ëŠ” ê²ƒì„ ìì£¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ìœ„ì™€ ê°™ì´ ì¸ì¦í™•ì¸ ë²„íŠ¼ì„ í´ë¦­í–ˆì„ë•Œ ì–´ë– í•œ ë™ì‘ì„ í•˜ëŠ”ì§€ ê¶ê¸ˆí•˜ì‹œì§€ ì•Šìœ¼ì‹ ê°€ìš”? ìœ„ì™€ ê°™ì€ ì¸ì¦ ë²„íŠ¼ì€ ë§í¬ ì—˜ë¦¬ë¨¼íŠ¸ë¡œ ë˜ì–´ìˆìœ¼ë©° ì¼ë°˜ì ì¸ GET ìš”ì²­ì…ë‹ˆë‹¤. ê·¸ë¦¬ê³  ê·¸ URIì—ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì–´ë– í•œ í˜•íƒœì˜ ë¬¸ìì—´ì´ í¬í•¨ë˜ê²Œ ë©ë‹ˆë‹¤.</p><blockquote><p>a2RldmtyQGdtYWlsLmNvbTp5Rm5iTUtrblZrRW85ckdxTVlmTGtWNE03UUtMTldXWg&#x3D;&#x3D;</p></blockquote><p>ìœ„ì™€ ê°™ì´ êµ¬ì„±ëœ ë¬¸ìì—´ì€ Base64ë¡œ ì¸ì½”ë”©ëœ ë°ì´í„°ì´ë©° í¬ë¡¬ ê°œë°œìë„êµ¬ì˜ ì½˜ì†”ì„ í†µí•´ ì´ ì•„ìŠ¤í‚¤ ë¬¸ìì—´ì„ ë””ì½”ë”©í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ìì—´ ë°ì´í„°ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">atob</span><span class="token punctuation">(</span><span class="token string">"a2RldmtyQGdtYWlsLmNvbTp5Rm5iTUtrblZrRW85ckdxTVlmTGtWNE03UUtMTldXWg=="</span><span class="token punctuation">)</span><span class="token string">'kdevkr@gmail.com:yFnbMKknVkEo9rGqMYfLkV4M7QKLNWWZ'</span></code></pre><p>ì œ ì´ë©”ì¼ ì£¼ì†Œì™€ í•¨ê»˜ ì–´ë– í•œ ë¬¸ìì—´ì„ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì•„ë§ˆë„ ì € ì•Œìˆ˜ì—†ëŠ” ë¬¸ìì—´ì€ ì•”í˜¸í™”ëœ ì¸ì¦ ì •ë³´ì¼ ê²ƒì…ë‹ˆë‹¤. ì¸ì¦ ì •ë³´ì™€ GET ìš”ì²­ì— í¬í•¨ëœ ì´ë©”ì¼ ì£¼ì†Œê°€ ë™ì¼í•œì§€ë¥¼ ë‚´ë¶€ì ìœ¼ë¡œ ê²€ì¦í•˜ê² ì£ . ì´ëŸ¬í•œ ì¸ì¦ ì •ë³´ë¥¼ ì™œ Base64ë¡œ ì¸ì½”ë”©í•˜ì—¬ ì „ì†¡í•˜ê²Œ ë˜ëŠ” ê²ƒì¼ê¹Œìš”? <strong>ì•ˆì „í•œ í˜•íƒœë¡œ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ê³ ìí•˜ëŠ” ëª©ì </strong>ì— ìˆìŠµë‹ˆë‹¤.</p><h2 id="ì•„ìŠ¤í‚¤-ì½”ë“œ"><a href="#ì•„ìŠ¤í‚¤-ì½”ë“œ" class="headerlink" title="ì•„ìŠ¤í‚¤ ì½”ë“œ"></a>ì•„ìŠ¤í‚¤ ì½”ë“œ</h2><p>ì‚¬ëŒë“¤ì€ ìˆ˜ ë§ì€ ë¬¸ìì˜ í˜•íƒœë¥¼ ì½ê³  êµ¬ë¶„í•  ìˆ˜ ìˆì§€ë§Œ 0ê³¼ 1ë¡œ ì´ë£¨ì–´ì§„ ì»´í“¨í„° ì‹œìŠ¤í…œì€ ì‹œìŠ¤í…œì— ë”°ë¼ 0ê³¼ 1ì„ ì½ê³  êµ¬ë¶„í•˜ëŠ” ë°©ì‹ì´ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‹œìŠ¤í…œì˜ ë°œì „ì— ë”°ë¼ ì•„ìŠ¤í‚¤ ì½”ë“œë¶€í„° ìœ ë‹ˆì½”ë“œ ê·¸ë¦¬ê³  ì—¬ëŸ¬ê°€ì§€ ë¬¸ì ì¡°í•©ì´ í™•ì¥ë˜ê³  ìˆìŠµë‹ˆë‹¤. ëŒ€ë¶€ë¶„ì˜ ë¬¸ì í˜•ì‹ì€ ì•„ìŠ¤í‚¤ ì½”ë“œë¥¼ ê¸°ì´ˆë¡œ ë§Œë“¤ì–´ì§€ê¸° ë•Œë¬¸ì— ì•„ìŠ¤í‚¤ ì½”ë“œ ì¤‘ ì¼ë¶€ ë¬¸ì ì§‘í•©ì€ ê±°ì˜ ëª¨ë“  ì‹œìŠ¤í…œì—ì„œ ê³µí†µìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ë¬¸ìì…ë‹ˆë‹¤. ê·¸ëŸ¬í•œ ë¬¸ìë“¤ì„ ëª¨ì•„ ë§Œë“¤ì–´ì§€ëŠ”ê²Œ Base64 ì¸ì½”ë”©ì…ë‹ˆë‹¤.</p><h3 id="Base64-ì´ë¯¸ì§€"><a href="#Base64-ì´ë¯¸ì§€" class="headerlink" title="Base64 ì´ë¯¸ì§€"></a>Base64 ì´ë¯¸ì§€</h3><p>ë¸Œë¼ìš°ì €ì—ì„œëŠ” ë°”ì´ë„ˆë¦¬ ë°ì´í„° ë¿ë§Œ ì•„ë‹ˆë¼ Base64ë¡œ ì´ë£¨ì–´ì§„ ì´ë¯¸ì§€ ë°ì´í„°ë¥¼ í‘œí˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. </p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">data-src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAA+VJREFUeF7tnclu4zAUBEf//9EeYG6SAhUKTdJUpnMV1663kbKd4/P5fP70bxsFjgLZhsW/hRTIXjwKZDMeBVIguymw2XqaQwpkMwU2Ww56yHEcS5d8PRZd56djU9p+9mZx/XQOKZCxiAoELiK+bXBX3A1ZXw7JMRByOevgFPNTC6b10vx2PzeBL8BxPTaH0IB2AyRIgVwUJcEsAGtBBVIgqY2d+luD1kmdzgm0G+pPIdF6jB2P1jd9f2kOSQXSFiSrogIBEyILtAJai52dw+L91UPOV0MkqDUAHQHeBsRaOAlIgi0PyQVSD4nKwnoIHP1Xu3SBfBkIxfgUEI2/2uC2PxiSYAVyeb8w24IKRN5lFchZMDrH4ME3LXupzqfn5AH2+XU+FEC+r6D9xCG0QJ7PIRZAgcBlYz1EmpQNSRSj/7uQJfXWzUnw2c/1gmUH9FibQ+T8uvlswWl8vWDZoUAG3zRI/W/NC+S3AUktIu1PST8tM9P1je6Pd1mjJ7TjFYhVbHL7ApkssB2+QOBykQTFKkKerNPLS8oxtJ/0oKn7jz6HFMjzF5xQnwJxPoKCyghw8+ACeTkQunqwFmTHG53kR49HOQv1sR5iBbQLJIHo+ej57Hhx+wJxL6hGG0ScQ+ohkwFaD6G62p4baDxKuWSxuz+PPYQELJDz78GRQRQIfK7MhmQSnJ4XyNuBUBlnQxjV4TZnUPt0Ptr/8PEpqdOCCmTsb4jqF1SUtG0MJgu3BkEGYuej+eshg7+FawHZJK3Hp5A1egGph5EH0Pir+1sPwpBVIM82PjpEF8ji77tQCCuQtwEhorOfz84JFOPT+a0+6CF2wNHtU0Gof4FIYiRoWjUVSIE8KoAhy1qo1PvWPLXYtAxN9xvPbw+GqeDUv0BAgdRiCADlALpLov72YJvutx5yIRILIu/KhhuEDVkUUqxHkAXTc/KgFNDy8QvEvc8gA6HnZLC6yqqHuB88s3oViPyvgeQB9Hy6h9iqZHVMtzkABQu/REoeE3tIgTx/DouqsJvBpEm9QArkZFQ2Ztv2NuSRgf66kDVaUAopJDDlHALw+pBVIGFVYS2QLKpACoSi0uNzMrDXhSyK4bRh8igaP6LxQ2dc7+5lLwmGGxzs4SkgXG+BfPc/mTZkhZ/D2t5D0gXaGD/6LowOfrQ/CkHUf7iH2AlJACs4AbXro5xFZbydr0BAsQKRVZD1IGuxrwNiN2jbW8GtgGnIsSFSt7dlrxXYti+QzT+XRRZWD7EmL9vXQ0YX0hJAm58VwHfqFWytAgWyVm+crUBQorUNCmSt3jhbgaBEaxsUyFq9cbYCQYnWNvgLqC4vPjN7siAAAAAASUVORK5CYII=<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAA+VJREFUeF7tnclu4zAUBEf//9EeYG6SAhUKTdJUpnMV1663kbKd4/P5fP70bxsFjgLZhsW/hRTIXjwKZDMeBVIguymw2XqaQwpkMwU2Ww56yHEcS5d8PRZd56djU9p+9mZx/XQOKZCxiAoELiK+bXBX3A1ZXw7JMRByOevgFPNTC6b10vx2PzeBL8BxPTaH0IB2AyRIgVwUJcEsAGtBBVIgqY2d+luD1kmdzgm0G+pPIdF6jB2P1jd9f2kOSQXSFiSrogIBEyILtAJai52dw+L91UPOV0MkqDUAHQHeBsRaOAlIgi0PyQVSD4nKwnoIHP1Xu3SBfBkIxfgUEI2/2uC2PxiSYAVyeb8w24IKRN5lFchZMDrH4ME3LXupzqfn5AH2+XU+FEC+r6D9xCG0QJ7PIRZAgcBlYz1EmpQNSRSj/7uQJfXWzUnw2c/1gmUH9FibQ+T8uvlswWl8vWDZoUAG3zRI/W/NC+S3AUktIu1PST8tM9P1je6Pd1mjJ7TjFYhVbHL7ApkssB2+QOBykQTFKkKerNPLS8oxtJ/0oKn7jz6HFMjzF5xQnwJxPoKCyghw8+ACeTkQunqwFmTHG53kR49HOQv1sR5iBbQLJIHo+ej57Hhx+wJxL6hGG0ScQ+ohkwFaD6G62p4baDxKuWSxuz+PPYQELJDz78GRQRQIfK7MhmQSnJ4XyNuBUBlnQxjV4TZnUPt0Ptr/8PEpqdOCCmTsb4jqF1SUtG0MJgu3BkEGYuej+eshg7+FawHZJK3Hp5A1egGph5EH0Pir+1sPwpBVIM82PjpEF8ji77tQCCuQtwEhorOfz84JFOPT+a0+6CF2wNHtU0Gof4FIYiRoWjUVSIE8KoAhy1qo1PvWPLXYtAxN9xvPbw+GqeDUv0BAgdRiCADlALpLov72YJvutx5yIRILIu/KhhuEDVkUUqxHkAXTc/KgFNDy8QvEvc8gA6HnZLC6yqqHuB88s3oViPyvgeQB9Hy6h9iqZHVMtzkABQu/REoeE3tIgTx/DouqsJvBpEm9QArkZFQ2Ztv2NuSRgf66kDVaUAopJDDlHALw+pBVIGFVYS2QLKpACoSi0uNzMrDXhSyK4bRh8igaP6LxQ2dc7+5lLwmGGxzs4SkgXG+BfPc/mTZkhZ/D2t5D0gXaGD/6LowOfrQ/CkHUf7iH2AlJACs4AbXro5xFZbydr0BAsQKRVZD1IGuxrwNiN2jbW8GtgGnIsSFSt7dlrxXYti+QzT+XRRZWD7EmL9vXQ0YX0hJAm58VwHfqFWytAgWyVm+crUBQorUNCmSt3jhbgaBEaxsUyFq9cbYCQYnWNvgLqC4vPjN7siAAAAAASUVORK5CYII=<span class="token punctuation">"</span></span> <span class="token attr-name">data-loaded</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre><p><img data-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAA+VJREFUeF7tnclu4zAUBEf//9EeYG6SAhUKTdJUpnMV1663kbKd4/P5fP70bxsFjgLZhsW/hRTIXjwKZDMeBVIguymw2XqaQwpkMwU2Ww56yHEcS5d8PRZd56djU9p+9mZx/XQOKZCxiAoELiK+bXBX3A1ZXw7JMRByOevgFPNTC6b10vx2PzeBL8BxPTaH0IB2AyRIgVwUJcEsAGtBBVIgqY2d+luD1kmdzgm0G+pPIdF6jB2P1jd9f2kOSQXSFiSrogIBEyILtAJai52dw+L91UPOV0MkqDUAHQHeBsRaOAlIgi0PyQVSD4nKwnoIHP1Xu3SBfBkIxfgUEI2/2uC2PxiSYAVyeb8w24IKRN5lFchZMDrH4ME3LXupzqfn5AH2+XU+FEC+r6D9xCG0QJ7PIRZAgcBlYz1EmpQNSRSj/7uQJfXWzUnw2c/1gmUH9FibQ+T8uvlswWl8vWDZoUAG3zRI/W/NC+S3AUktIu1PST8tM9P1je6Pd1mjJ7TjFYhVbHL7ApkssB2+QOBykQTFKkKerNPLS8oxtJ/0oKn7jz6HFMjzF5xQnwJxPoKCyghw8+ACeTkQunqwFmTHG53kR49HOQv1sR5iBbQLJIHo+ej57Hhx+wJxL6hGG0ScQ+ohkwFaD6G62p4baDxKuWSxuz+PPYQELJDz78GRQRQIfK7MhmQSnJ4XyNuBUBlnQxjV4TZnUPt0Ptr/8PEpqdOCCmTsb4jqF1SUtG0MJgu3BkEGYuej+eshg7+FawHZJK3Hp5A1egGph5EH0Pir+1sPwpBVIM82PjpEF8ji77tQCCuQtwEhorOfz84JFOPT+a0+6CF2wNHtU0Gof4FIYiRoWjUVSIE8KoAhy1qo1PvWPLXYtAxN9xvPbw+GqeDUv0BAgdRiCADlALpLov72YJvutx5yIRILIu/KhhuEDVkUUqxHkAXTc/KgFNDy8QvEvc8gA6HnZLC6yqqHuB88s3oViPyvgeQB9Hy6h9iqZHVMtzkABQu/REoeE3tIgTx/DouqsJvBpEm9QArkZFQ2Ztv2NuSRgf66kDVaUAopJDDlHALw+pBVIGFVYS2QLKpACoSi0uNzMrDXhSyK4bRh8igaP6LxQ2dc7+5lLwmGGxzs4SkgXG+BfPc/mTZkhZ/D2t5D0gXaGD/6LowOfrQ/CkHUf7iH2AlJACs4AbXro5xFZbydr0BAsQKRVZD1IGuxrwNiN2jbW8GtgGnIsSFSt7dlrxXYti+QzT+XRRZWD7EmL9vXQ0YX0hJAm58VwHfqFWytAgWyVm+crUBQorUNCmSt3jhbgaBEaxsUyFq9cbYCQYnWNvgLqC4vPjN7siAAAAAASUVORK5CYII=" alt="Base64ë¡œ í‘œì‹œëœ QRì½”ë“œ ì´ë¯¸ì§€"></p><blockquote><p>ì›¹íŒ©ì˜ <a href="https://v4.webpack.js.org/loaders/url-loader/">url-loader</a>ëŠ” ìœ„ì™€ ê°™ì€ Base64 í˜•ì‹ì˜ URIë¡œ ë³€í™˜í•©ë‹ˆë‹¤. </p></blockquote><h3 id="HTTP-ê¸°ë³¸-ì¸ì¦"><a href="#HTTP-ê¸°ë³¸-ì¸ì¦" class="headerlink" title="HTTP ê¸°ë³¸ ì¸ì¦"></a>HTTP ê¸°ë³¸ ì¸ì¦</h3><p>ì‚¬ìš©ì ì´ë¦„ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ Authorization í—¤ë”ì— í¬í•¨í•˜ì—¬ ì „ë‹¬í•˜ëŠ” HTTP ê¸°ë³¸ ì¸ì¦ì˜ ê²½ìš°ì—ë„ Base64 ì¸ì½”ë”©ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ì´ëŠ” HTTP í—¤ë”ì˜ ê°’ì´ <strong>ì•„ìŠ¤í‚¤ ì½”ë“œ</strong>ë¡œ ì¸ì½”ë”©ë˜ì–´ì•¼í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ë”°ë¼ì„œ, ì•„ìŠ¤í‚¤ ì½”ë“œë¡œ í‘œí˜„í•  ìˆ˜ ì—†ëŠ” ë°ì´í„°ë„ ì „ë‹¬í•  ìˆ˜ ìˆë„ë¡ Base64 ì¸ì½”ë”©ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.</p><blockquote><p>Authorization: Basic bWFtYm86cGFzc3dvcmQ&#x3D;</p></blockquote><h3 id="JWT-Base64Url"><a href="#JWT-Base64Url" class="headerlink" title="JWT Base64Url"></a>JWT Base64Url</h3><p>ìµœê·¼ ì‚¬ìš©ì ì¸ì¦ì„ ìœ„í•´ ë§ì´ ë„ì…í•˜ëŠ” JWT(JSON Web Token)ëŠ” í˜ì´ë¡œë“œì™€ ì‹œê·¸ë‹ˆì²˜ ë¶€ë¶„ì„ <strong>Base64Url(URL Safe Base64)</strong> ë¡œ ì¸ì½”ë”©í•©ë‹ˆë‹¤. JWTë¥¼ Base64ë¡œ ì¸ì½”ë”©í•˜ëŠ” ì´ìœ ëŠ” í† í°ì´ URL íŒŒë¼ë¯¸í„°ë¡œ ì „ì†¡ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. </p><h2 id="ëë§ˆì¹˜ë©°"><a href="#ëë§ˆì¹˜ë©°" class="headerlink" title="ëë§ˆì¹˜ë©°"></a>ëë§ˆì¹˜ë©°</h2><p>Base64ë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ì— ëŒ€í•´ì„œ ê°„ë‹¨í•˜ê²Œ ì•Œì•„ë³´ì•˜ìŠµë‹ˆë‹¤. ì´ˆë³´ ê°œë°œìë¶„ë“¤ ë¿ë§Œ ì•„ë‹ˆë¼ ì €ì²˜ëŸ¼ Base64ì— ëŒ€í•´ì„œ ì¸ì§€í•˜ê³  ìˆì—ˆë˜ ë¶„ë“¤ì—ê²Œë„ ë„ì›€ì´ ë˜ì—ˆìœ¼ë©´ í•©ë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤.</p><blockquote><p>Base64ì— ëŒ€í•´ì„œ ìì„¸í•œ ë‚´ìš©ì„ ì•Œê³  ì‹¶ë‹¤ë©´ <a href="https://datatracker.ietf.org/doc/html/rfc4648">RFC4648</a>ì„ ì°¸ê³ í•˜ì„¸ìš”.</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img data-src=&quot;/images/posts/base64/base64-01.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;ìœ„ì™€ ê°™ì´ ì–´ë–¤ ì„œë¹„ìŠ¤ì— ëŒ€í•œ íšŒì›ê°€ì…ì„ ìˆ˜í–‰í•˜ê±°ë‚˜ ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°ì™€ ê°™ì€ ê¸°ëŠ¥ì„ ìˆ˜í–‰í–ˆì„ê²½ìš° ì¸ì¦ ê´€ë ¨ ë©”ì¼ì´ ë°œì†¡ë˜ëŠ” ê²ƒì„ ìì£¼ í™•ì¸í•  ìˆ˜</summary>
      
    
    
    
    
    <category term="Base64" scheme="https://kdevkr.github.io/tags/Base64/"/>
    
  </entry>
  
  <entry>
    <title>Webpack 5 ë¹Œë“œ ì†ë„ ê°œì„ í•˜ê¸°</title>
    <link href="https://kdevkr.github.io/improve-webpack5-build-speed/"/>
    <id>https://kdevkr.github.io/improve-webpack5-build-speed/</id>
    <published>2022-01-15T00:00:00.000Z</published>
    <updated>2022-03-19T05:27:27.228Z</updated>
    
    <content type="html"><![CDATA[<p>ì•ˆë…•í•˜ì„¸ìš” Mambo ì…ë‹ˆë‹¤.</p><p>í˜„ì¬ ì¡°ì§ì—ì„œëŠ” ì›¹íŒ© 4ë¡œ êµ¬ì„±ëœ í”„ë¡œì íŠ¸ë¥¼ ì›¹íŒ© 5ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì—…ê·¸ë ˆì´ë“œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ì˜€ê³  ë§ì€ ë…¸ë ¥ ëì— ìµœì‹  ë²„ì „ì˜ ì›¹íŒ© êµ¬ì„±ìœ¼ë¡œ ë³€ê²½í•˜ëŠ” ê²ƒì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì˜¤íˆë ¤ ì›¹íŒ© 5ìœ¼ë¡œ ì „í™˜í•˜ê²Œ ëœ í›„ ë¹Œë“œ ì‹œê°„ì´ ë” ëŠ˜ì–´ë‚¨ì„ ê²½í—˜í•˜ê²Œ ë˜ì—ˆëŠ”ë° ì˜¤ëŠ˜ì€ ì™œ ì´ëŸ° ë¬¸ì œê°€ ë°œìƒí–ˆëŠ”ì§€ë¥¼ ê³µìœ í•˜ê³ ì í•©ë‹ˆë‹¤.</p><h2 id="Webpack5"><a href="#Webpack5" class="headerlink" title="Webpack5"></a>Webpack5</h2><p>ì–´ë–¤ ë„êµ¬ì— ëŒ€í•œ ìµœì‹  ë²„ì „ì„ ì‚¬ìš©í•˜ë ¤ëŠ” ëª©ì ì€ ë²„ê·¸ ê°œì„  ë¿ë§Œ ì•„ë‹ˆë¼ êµ¬ì¡°ì ì¸ ê°œì„ ìœ¼ë¡œ ì¸í•œ ì„±ëŠ¥ í–¥ìƒì— ìˆê¸°ë„ í•©ë‹ˆë‹¤. ë¬¼ë¡  ë°˜ë“œì‹œ ìµœì‹  ë²„ì „ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•˜ëŠ” ê²ƒì´ ì„±ëŠ¥ ìƒìœ¼ë¡œ ì¢‹ì•„ì§ì„ ë³´ì¥í•  ìˆœ ì—†ìŠµë‹ˆë‹¤. ì›¹íŒ©ì—ì„œ ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ ë¬¸ì„œë¥¼ ì œê³µí•œë‹¤ê³ í•´ë„ ë§ì€ ë¡œë”ì™€ í”ŒëŸ¬ê·¸ì¸ë“±ì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ë¹Œë“œ ì„±ëŠ¥ì´ ì¢‹ì§€ ì•Šë‹¤ëŠ” ê²ƒì„ ê²€í† í•˜ê¸°ì—ëŠ” ì–´ë ¤ì›€ì´ ë§ìŠµë‹ˆë‹¤.</p><h3 id="ëŠë ¤ì§„-ì¬ë¹Œë“œ-ì‹œê°„"><a href="#ëŠë ¤ì§„-ì¬ë¹Œë“œ-ì‹œê°„" class="headerlink" title="ëŠë ¤ì§„ ì¬ë¹Œë“œ ì‹œê°„"></a>ëŠë ¤ì§„ ì¬ë¹Œë“œ ì‹œê°„</h3><p>ì›¹íŒ© 5ë¡œ ì „í™˜í•˜ê³ ë‚˜ì„œ ì¼ë¶€ ì‹œìŠ¤í…œ í™˜ê²½ì— ë”°ë¼ ì‹œê°„ì€ ë‹¤ë¥´ì§€ë§Œ ë‹¤ìŒê³¼ ê°™ì´ ë¹Œë“œ ì‹œê°„ì´ ìƒë‹¹íˆ ëŠë ¤ì§ì„ ê²½í—˜í–ˆìŠµë‹ˆë‹¤. ì´ˆê¸° ë¹Œë“œ ì‹œê°„ì€ ê·¸ë‹¤ì§€ ì°¨ì´ê°€ ë°œìƒí•˜ì§€ ì•Šì•˜ìœ¼ë‚˜ ì›¹íŒ© 5ê°€ ì¡°ê¸ˆì€ ë¹¨ëìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜, ì  í‚¨ìŠ¤ì™€ ê°™ì€ CI ë„êµ¬ì—ì„œëŠ” ì¬ë¹Œë“œë¥¼ ìˆ˜í–‰í•˜ê¸°ë„ í•˜ë¯€ë¡œ ë‹¤ìŒê³¼ ê°™ì´ ì¬ë¹Œë“œì— ëŒ€í•´ì„œ ê²€í† í•œ ê²°ê³¼ ì˜¤íˆë ¤ ë¹Œë“œê°€ ëŠë¦¼ì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤. </p><p><img data-src="/images/posts/improve-webpack5-build-speed/wp5-build-02.png#full"></p><p>ì¬ë¹Œë“œ ì‹œì—ë§Œ ì›¹íŒ© 5ì—ì„œ ì‹¬ê°í•˜ê²Œ ëŠë¦¼ì„ ë³´ì´ëŠ” ì´ìœ ëŠ” <strong>ìºì‹œ</strong>ì— ìˆì—ˆìŠµë‹ˆë‹¤. ì›¹íŒ© 5ì—ì„œëŠ” ì˜êµ¬ ìºì‹œ(íŒŒì¼ì‹œìŠ¤í…œ ìºì‹œ)ë¥¼ ì§€ì›í•˜ê¸° ìœ„í•´ì„œ ìºì‹œ ë°©ì‹ì„ ë³€ê²½í•˜ì˜€ìŠµë‹ˆë‹¤. ì´ì „ ì›¹íŒ© 4ì—ì„œëŠ” ìºì‹œ ë°©ì‹ì´ ì—†ìœ¼ë¯€ë¡œ ë‹¤ìŒê³¼ ê°™ì´ ë¡œë”ì™€ í”ŒëŸ¬ê·¸ì¸ì—ì„œ ìì²´ì ì¸ ìºì‹œ íŒŒì¼ì„ ë§Œë“œëŠ” ê²ƒì„ ì œí•œí•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p><p><img data-src="/images/posts/improve-webpack5-build-speed/wp5-build-03.png"></p><p>ê·¸ëŸ¬ë‚˜ ìš°ì¸¡ì˜ ì›¹íŒ© 5ì—ì„œëŠ” <code>terser-webpack-plugin</code> ê³¼ <code>css-minimizer-webpack-plugin</code>ì— ëŒ€í•œ ìºì‹œ í´ë”ê°€ ìƒì„±ë˜ì§€ ì•Šì•˜ìŒì„ í™•ì¸í•  ìˆ˜ ìˆëŠ”ë°ìš”. ì´ë ‡ê²Œ ëœ ì •í™•í•œ ì´ìœ ëŠ” ì°¾ì„ ìˆ˜ ì—†ì—ˆì§€ë§Œ ì˜ˆìƒí•˜ëŠ” ë°”ëŠ” ìºì‹œ êµ¬ì¡° ë³€ê²½ìœ¼ë¡œ ì¸í•˜ì—¬ ì›¹íŒ© ìì²´ì ìœ¼ë¡œ ì œê³µí•˜ëŠ” ë¡œë”ì™€ í”ŒëŸ¬ê·¸ì¸ì— ëŒ€í•´ì„œëŠ” ìºì‹œ íŒŒì¼ì„ ë§Œë“¤ì§€ì•Šë„ë¡ ìˆ˜ì •ëœ ê²ƒ ê°™ìŠµë‹ˆë‹¤.</p><h4 id="ì˜êµ¬-ìºì‹œ"><a href="#ì˜êµ¬-ìºì‹œ" class="headerlink" title="ì˜êµ¬ ìºì‹œ"></a>ì˜êµ¬ ìºì‹œ</h4><p>ì˜êµ¬ ìºì‹œ(Persistent Cache)ë¥¼ ìœ„í•´ íŒŒì¼ì‹œìŠ¤í…œ ìºì‹œë¥¼ ì§€ì •í•˜ë©´ ì–´ë–»ê²Œ ë˜ëŠ”ì§€ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤. </p><pre class="language-js" data-language="js"><code class="language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token literal-property property">cache</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'filesystem'</span><span class="token punctuation">,</span>        <span class="token literal-property property">buildDependencies</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>            <span class="token literal-property property">config</span><span class="token operator">:</span> <span class="token punctuation">[</span>__filename<span class="token punctuation">]</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>node_modules í•˜ìœ„ì˜ ìºì‹œ í´ë”ë¥¼ ì§€ìš´ ìƒíƒœì—ì„œ ë¹Œë“œë¥¼ ìˆ˜í–‰í•˜ê³  ë‹¤ì‹œí•œë²ˆ ì¬ë¹Œë“œë¥¼ ìˆ˜í–‰í•œ ê²°ê³¼ë¥¼ ë¹„êµí•´ë´…ë‹ˆë‹¤.</p><p><img data-src="/images/posts/improve-webpack5-build-speed/wp5-build-04.png"></p><p>ì›¹íŒ© 5ì—ì„œ ì§€ì›í•˜ëŠ” íŒŒì¼ì‹œìŠ¤í…œ ìºì‹œë¥¼ ì ìš©í•˜ê³ ë‚˜ë‹ˆ ì¬ë¹Œë“œ ì‹œê°„ì´ ë¬´ë ¤ 15ì´ˆë¡œ ë‹¨ì¶•ë¨ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ì²˜ëŸ¼ ì›¹íŒ© 5ë¡œ ë³€ê²½í•˜ê³ ë‚˜ì„œ ì˜¤íˆë ¤ ë¹Œë“œ ì‹œê°„ì´ ëŠë ¤ì§ì„ ê²½í—˜í–ˆë˜ ë¶„ì´ë¼ë©´ ì‚¬ìš©ì¤‘ì¸ ë¡œë”ì™€ í”ŒëŸ¬ê·¸ì¸ì—ì„œ ìì²´ì ì¸ ìºì‹œë¥¼ ì‚¬ìš©í–ˆëŠ”ì§€ ê²€í† í•˜ê³  <strong>íŒŒì¼ì‹œìŠ¤í…œ ìºì‹œ</strong>ë¥¼ ì ìš©í•˜ì…”ì•¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><h3 id="ë¡œë”-ë°-í”ŒëŸ¬ê·¸ì¸-ëŒ€ì²´"><a href="#ë¡œë”-ë°-í”ŒëŸ¬ê·¸ì¸-ëŒ€ì²´" class="headerlink" title="ë¡œë” ë° í”ŒëŸ¬ê·¸ì¸ ëŒ€ì²´"></a>ë¡œë” ë° í”ŒëŸ¬ê·¸ì¸ ëŒ€ì²´</h3><p>ìµœì‹ ë²„ì „ì˜ ì›¹íŒ© êµ¬ì„±ì„ ìœ„í•´ì„œëŠ” ì‚¬ìš©í•˜ëŠ” ë¡œë”ì™€ í”ŒëŸ¬ê·¸ì¸ë“¤ì˜ í˜¸í™˜ì„±ì„ ìœ„í•´ ìµœì‹  ë²„ì „ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•´ì•¼ë§Œ í•©ë‹ˆë‹¤. ë¡œë”ì™€ í”ŒëŸ¬ê·¸ì¸ë“¤ì˜ ë²„ì „ì´ ì—…ë°ì´íŠ¸ë˜ë©´ì„œ ì˜¤íˆë ¤ ìˆ˜í–‰í•˜ëŠ” ì¼ì´ ë” ë§ì•„ì§ˆ ìˆ˜ ìˆìŒì„ ì¸ì§€í•´ì•¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë°”ë²¨ì„ ì ìš©ì¤‘ì´ë¼ë©´ ë” ë§ì€ ë¬¸ë²•ì„ ì§€ì›í•˜ê±°ë‚˜ í”„ë¦¬ì…‹ì— ë” ë§ì€ í”ŒëŸ¬ê·¸ì¸ì´ ê¸°ë³¸ì ìœ¼ë¡œ í¬í•¨ë  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</p><h4 id="esbuild-loader"><a href="#esbuild-loader" class="headerlink" title="esbuild-loader"></a>esbuild-loader</h4><p><a href="https://github.com/privatenumber/esbuild-loader">esbuild-loader</a>ëŠ” esbuildë¥¼ í†µí•´ ì›¹íŒ© ë¹Œë“œë¥¼ ë” ë¹ ë¥´ê²Œ ìˆ˜í–‰í•˜ê¸° ìœ„í•œ ë¡œë” ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤. ì´ì™¸ì—ë„ <a href="https://github.com/swc-project/swc-loader">swc-loader</a>ë„ ìˆìŠµë‹ˆë‹¤.</p><blockquote><p>esbuildì™€ swcëŠ” ë– ì˜¤ë¥´ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ë²ˆë“¤ëŸ¬ì…ë‹ˆë‹¤!</p></blockquote><p>esbuildëŠ” ìì²´ì ìœ¼ë¡œ ë¹ ë¥¸ ê²ƒë„ ìˆì§€ë§Œ Minificationë„ í•¨ê»˜ ì§€ì›í•œë‹¤ëŠ” ì¥ì ë„ ìˆìŠµë‹ˆë‹¤. ê¸°ì¡´ì—ëŠ” íŠ¸ëœìŠ¤íŒŒì¼ë§ì„ ìœ„í•´ ë°”ë²¨ ë¡œë”ë¥¼ ì‚¬ìš©í•˜ê³  ìë°”ìŠ¤í¬ë¦½íŠ¸ ë˜ëŠ” CSS íŒŒì¼ ì¶•ì†Œë¥¼ ìœ„í•´ì„œ terser-webpack-pluginê³¼ css-minimizer-pluginì„ ì ìš©í•´ì•¼í–ˆìŠµë‹ˆë‹¤. esbuild ë§Œìœ¼ë¡œë„ ìœ„ ê¸°ëŠ¥ì„ ëŒ€ì²´í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì—¬ëŸ¬ê°€ì§€ ë¡œë”ì™€ í”ŒëŸ¬ê·¸ì¸ì„ ìˆ˜í–‰í•˜ëŠ” ê²ƒë³´ë‹¤ëŠ” ë” ì¢‹ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><blockquote><p>ì›¹íŒ© ë¬¸ì„œì—ì„œë„ ìµœëŒ€í•œ ë¡œë”ì™€ í”ŒëŸ¬ê·¸ì¸ì„ ì¤„ì—¬ì•¼í•œë‹¤ê³  ì•ˆë‚´í•©ë‹ˆë‹¤.</p></blockquote><pre class="language-js" data-language="js"><code class="language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>        <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token punctuation">&#123;</span>                <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>                <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(node_modules)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>                <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>                <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">cacheDirectory</span><span class="token operator">:</span> <span class="token boolean">true</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">]</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>        <span class="token literal-property property">mimimizer</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>                <span class="token literal-property property">minimizerOptions</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">preset</span><span class="token operator">:</span> <span class="token punctuation">[</span>                        <span class="token string">'default'</span><span class="token punctuation">,</span>                        <span class="token punctuation">&#123;</span>                            <span class="token literal-property property">discardDuplicates</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">removeAll</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                            <span class="token literal-property property">discardComments</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">removeAll</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span>                        <span class="token punctuation">&#125;</span>                    <span class="token punctuation">]</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>        <span class="token punctuation">]</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>ì´ì œ ë°”ë²¨ì„ esbuild-loaderë¡œ ë³€ê²½í•´ë³´ê³  ë¹Œë“œë¥¼ í•´ë³´ê² ìŠµë‹ˆë‹¤.</p><pre class="language-js" data-language="js"><code class="language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>        <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token punctuation">&#123;</span>                <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>                <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(node_modules)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>                <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">'esbuild-loader'</span><span class="token punctuation">,</span>                <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">'es2015'</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">]</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p><img data-src="/images/posts/improve-webpack5-build-speed/wp5-build-05.png" alt="esbuild-loader + teser + css-miminizer"></p><p>ì´ˆê¸° ë¹Œë“œ ì‹œ 2ë¶„ 54ì´ˆë¼ëŠ” ì‹œê°„ì—ì„œ <strong>2ë¶„ 21ì´ˆ</strong>ë¡œ ë‹¨ì¶•ë˜ì—ˆìŠµë‹ˆë‹¤.</p><h4 id="TerserPlugin-esbuildMinify"><a href="#TerserPlugin-esbuildMinify" class="headerlink" title="TerserPlugin.esbuildMinify"></a>TerserPlugin.esbuildMinify</h4><p>terser-webpack-pluginì€ esbuildë¡œ ìë°”ìŠ¤í¬ë¦½íŠ¸ì— ëŒ€í•œ ìµœì í™”ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ <code>TerserPlugin.esbuildMinify</code>ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.</p><pre class="language-js" data-language="js"><code class="language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>        <span class="token literal-property property">mimimizer</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>                <span class="token literal-property property">minify</span><span class="token operator">:</span> TerserPlugin<span class="token punctuation">.</span>esbuildMinify            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">]</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p><img data-src="/images/posts/improve-webpack5-build-speed/wp5-build-06.png" alt="esbuild-loader + teser[esbuild] + css-miminizer"></p><h4 id="CssMinimizerPlugin-esbuildMinify"><a href="#CssMinimizerPlugin-esbuildMinify" class="headerlink" title="CssMinimizerPlugin.esbuildMinify"></a>CssMinimizerPlugin.esbuildMinify</h4><p>css-minimizer-webpack-pluginë„ esbuildë¡œ CSSì— ëŒ€í•œ ìµœì í™”ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ <code>CssMinimizerPlugin.esbuildMinify</code>ì„ ì§€ì›í•©ë‹ˆë‹¤.</p><pre class="language-js" data-language="js"><code class="language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>        <span class="token literal-property property">mimimizer</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>                <span class="token literal-property property">minify</span><span class="token operator">:</span> CssMinimizerPlugin<span class="token punctuation">.</span>esbuildMinify            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">]</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p><img data-src="/images/posts/improve-webpack5-build-speed/wp5-build-07.png" alt="esbuild-loader + teser[esbuild] + css-miminizer[esbuild]"></p><h4 id="ESBuildMinifyPlugin"><a href="#ESBuildMinifyPlugin" class="headerlink" title="ESBuildMinifyPlugin"></a>ESBuildMinifyPlugin</h4><p>esbuild-loaderì—ëŠ” <a href="https://github.com/privatenumber/esbuild-loader#css-assets">ESBuildMinifyPlugin</a>ê°€ í¬í•¨ë˜ì–´ìˆìœ¼ë¯€ë¡œ êµ³ì´ terser-webpack-pluginê³¼ css-minimizer-webpack-pluginì„ ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤. ë‘ê°œì˜ í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œ ìˆ˜í–‰í•˜ëŠ” ê²ƒë³´ë‹¤ëŠ” í•˜ë‚˜ì˜ í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ”ê²Œ ë” íš¨ìœ¨ì ì…ë‹ˆë‹¤. ìµœì í™”ì— ëŒ€í•œ ë²¤ì¹˜ë§ˆí¬ëŠ” <a href="https://github.com/privatenumber/minification-benchmarks">JS minification benchmarks</a>ë¥¼ ì°¸ê³ í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">&#123;</span> ESBuildMinifyPlugin <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'esbuild-loader'</span><span class="token punctuation">)</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>        <span class="token literal-property property">mimimizer</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token keyword">new</span> <span class="token class-name">ESBuildMinifyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>                <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">'es2015'</span><span class="token punctuation">,</span>                <span class="token literal-property property">css</span><span class="token operator">:</span> <span class="token boolean">true</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">]</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p><img data-src="/images/posts/improve-webpack5-build-speed/wp5-build-08.png" alt="esbuild-loader + esbuild-minify"></p><h3 id="ë¹Œë“œ-ê²°ê³¼-ì¢…í•©"><a href="#ë¹Œë“œ-ê²°ê³¼-ì¢…í•©" class="headerlink" title="ë¹Œë“œ ê²°ê³¼ ì¢…í•©"></a>ë¹Œë“œ ê²°ê³¼ ì¢…í•©</h3><p>ê¸°ì¡´ì— ì‚¬ìš©í•˜ë˜ ë¡œë”ì™€ í”ŒëŸ¬ê·¸ì¸ì„ ëŒ€ì²´í•˜ë©´ì„œ ë¹Œë“œ ì‹œê°„ì´ ë‹¨ì¶•ë¨ì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì—¬ëŸ¬ë¶„ì˜ í”„ë¡œì íŠ¸ì—ì„œ ìš”êµ¬í•˜ëŠ” ë²ˆë“¤ë§ í’ˆì§ˆì— ëŒ€í•´ì„œë„ ê²€í† í•˜ì…”ì•¼ë§Œ í•©ë‹ˆë‹¤. ë‹¨ìˆœíˆ ë¹Œë“œ ì‹œê°„ì´ ë‹¨ì¶•ë˜ì—ˆë‹¤ê³  ë” ì¢‹ë‹¤ê³  í•  ìˆ˜ëŠ” ì—†ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, esbuildì—ì„œ ì§€ì›í•˜ëŠ” ë¬¸ë²•ì˜ í•œê³„ê°€ ìˆìœ¼ë¯€ë¡œ ë°˜ë“œì‹œ ëª©í‘œë¡œí•˜ëŠ” ë¸Œë¼ìš°ì €ì—ì„œ ë™ì‘í•˜ëŠ”ì§€ ê²€ì¦í•´ì•¼í•©ë‹ˆë‹¤. </p><table><thead><tr><th>ë¡œë”</th><th>í”ŒëŸ¬ê·¸ì¸</th><th>ë¹Œë“œì‹œê°„</th></tr></thead><tbody><tr><td>babel-loader</td><td>teser + css-minimizer</td><td>2 mins, 54.35 secs</td></tr><tr><td>esbuild-loader</td><td>teser + css-minimizer</td><td>2 mins, 21.11 secs</td></tr><tr><td>esbuild-loader</td><td>teser[esbuild] + css-minimizer</td><td>1 mins, 29.034 secs</td></tr><tr><td>esbuild-loader</td><td>teser[esbuild] + css-minimizer[esbuild]</td><td>1 mins, 19.44 secs</td></tr><tr><td>esbuild-loader</td><td>esbuild-minify</td><td>1 mins, 16.92 secs</td></tr></tbody></table><blockquote><p>ë¹Œë“œ í’ˆì§ˆì— ìƒê´€ì—†ìœ¼ì‹  ë¶„ë“¤ì´ë¼ë©´ esbuild ë„ì…ì„ ê²€í† í•´ë³´ì‹œëŠ” ê²ƒë„ ë‚˜ì˜ì§€ ì•Šì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.</p></blockquote><p>ê°ì‚¬í•©ë‹ˆë‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ì•ˆë…•í•˜ì„¸ìš” Mambo ì…ë‹ˆë‹¤.&lt;/p&gt;
&lt;p&gt;í˜„ì¬ ì¡°ì§ì—ì„œëŠ” ì›¹íŒ© 4ë¡œ êµ¬ì„±ëœ í”„ë¡œì íŠ¸ë¥¼ ì›¹íŒ© 5ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì—…ê·¸ë ˆì´ë“œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ì˜€ê³  ë§ì€ ë…¸ë ¥ ëì— ìµœì‹  ë²„ì „ì˜ ì›¹íŒ© êµ¬ì„±ìœ¼ë¡œ ë³€ê²½í•˜ëŠ” ê²ƒì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì˜¤íˆë ¤ ì›¹íŒ© 5ìœ¼ë¡œ ì „</summary>
      
    
    
    
    
    <category term="Webpack5" scheme="https://kdevkr.github.io/tags/Webpack5/"/>
    
    <category term="Persistent cache" scheme="https://kdevkr.github.io/tags/Persistent-cache/"/>
    
  </entry>
  
  <entry>
    <title>ì¥ì• ëŠ” ì‚¬ì†Œí•œ ê²ƒì—ì„œ ë°œìƒí•œë‹¤</title>
    <link href="https://kdevkr.github.io/system-failure-occurs-from-trivial-things/"/>
    <id>https://kdevkr.github.io/system-failure-occurs-from-trivial-things/</id>
    <published>2022-01-08T00:00:00.000Z</published>
    <updated>2022-03-19T05:27:27.228Z</updated>
    
    <content type="html"><![CDATA[<p>ì•ˆë…•í•˜ì„¸ìš” Mambo ì…ë‹ˆë‹¤.</p><p>ê°‘ì‘ìŠ¤ëŸ½ê²Œ ë°œìƒí•˜ëŠ” ì‹œìŠ¤í…œ ì¥ì• ëŠ” ëŠ˜ ê°œë°œìë¥¼ í˜ê²¹ê²Œ í•©ë‹ˆë‹¤.<br>ì˜¤ëŠ˜ì€ ì‚¬ì†Œí•œ ê²ƒìœ¼ë¡œë¶€í„° ë°œìƒí•œ ì‹œìŠ¤í…œ ì¥ì• ì— ëŒ€í•œ ê²½í—˜ì„ ê³µìœ í•˜ê³ ì í•©ë‹ˆë‹¤.</p><h2 id="ì‹œìŠ¤í…œ-ì¥ì• "><a href="#ì‹œìŠ¤í…œ-ì¥ì• " class="headerlink" title="ì‹œìŠ¤í…œ ì¥ì• "></a>ì‹œìŠ¤í…œ ì¥ì• </h2><p>í˜„ì¬ ì¡°ì§ì—ì„œëŠ” ì‹œê³„ì—´ ë°ì´í„°ì— ëŒ€í•œ ê´€ë¦¬ ë° í†µê³„ë¥¼ ìœ„í•´ì„œ ì»¬ëŸ¼í˜• ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ì¸ <a href="https://kx.com/">KDB+</a>ë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ë¶„ì‚°ìœ¼ë¡œ ì‹¤í–‰ë˜ì–´ìˆëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ RDBMSì—ì„œ ì¡°íšŒëœ ì¼ë¶€ ë°ì´í„°ë¥¼ ì»¬ëŸ¼í˜• ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ë¡œ ë™ê¸°í™”í•˜ëŠ” ìŠ¤ì¼€ì¤„ì´ ë™ì‘í•©ë‹ˆë‹¤. ê·¸ëŸ°ë° ìŠ¤ì¼€ì¤„ë¡œ ì¸í•˜ì—¬ ë°ì´í„°ê°€ ë™ê¸°í™” ëœ ì´í›„ì— ì»¬ëŸ¼í˜• ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ì— ìˆëŠ” ë™ê¸°í™”ëœ ë°ì´í„°ê°€ ì¡°ê¸ˆì”© ì‚¬ë¼ì§€ê¸° ì‹œì‘í•˜ê³  ë™ê¸°í™”ëœ ëª¨ë“  ë°ì´í„°ê°€ ì‚­ì œë˜ëŠ” í˜„ìƒì´ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.</p><h3 id="ì›ì¸-ë¶„ì„"><a href="#ì›ì¸-ë¶„ì„" class="headerlink" title="ì›ì¸ ë¶„ì„"></a>ì›ì¸ ë¶„ì„</h3><p>ì²˜ìŒì—ëŠ” ë™ê¸°í™”ëœ ë°ì´í„°ê°€ ì €ì¥ë˜ëŠ” í…Œì´ë¸”ì— ë°ì´í„°ê°€ ì—†ë‹¤ëŠ” ê²ƒì„ ë³´ê³ ë°›ê³  ì‹œìŠ¤í…œ ê³„ì •ìœ¼ë¡œ ì ‘ì†í•˜ì—¬ ìˆ˜ë™ìœ¼ë¡œ í•´ë‹¹ ìŠ¤ì¼€ì¤„ì„ ë™ì‘í•˜ì—¬ ë°ì´í„°ë¥¼ ë³µêµ¬í•˜ì˜€ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ í•´ë‹¹ ìŠ¤ì¼€ì¤„ì€ 5ë¶„ë§ˆë‹¤ ë™ì‘í•˜ê³  í•´ë‹¹ ìŠ¤ì¼€ì¤„ì´ ëŒê²Œë˜ë©´ ë°ì´í„°ê°€ ì ì  ì—†ì–´ì§€ëŠ” ê²ƒì„ í™•ì¸í•˜ì˜€ìŠµë‹ˆë‹¤. í•´ë‹¹ ìŠ¤ì¼€ì¤„ì´ ë™ì‘í•˜ê³ ë‚˜ì„œ <strong>ìˆ˜ë™ìœ¼ë¡œ ë™ì‘ì‹œí‚¤ê³  ë‚œ í›„ì—ëŠ”</strong> ë°ì´í„°ê°€ ì‚¬ë¼ì§€ëŠ” í˜„ìƒì´ ë‚˜íƒ€ë‚˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p><p><img data-src="/images/posts/system-failure-occurs-from-trivial-things/01.gif" alt="ë˜‘ê°™ì€ ìŠ¤ì¼€ì¤„ ë™ì‘ì¸ë°?..."></p><p>ê²°êµ­ ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ê°€ ì„¤ì¹˜ëœ ì¸ìŠ¤í„´ìŠ¤ë¡œ ì ‘ì†í•˜ì—¬ ë¡œê·¸ë¥¼ ì‚´í´ë³´ë‹ˆ ìŠ¤ì¼€ì¤„ì´ ë™ì‘í•˜ê³  ë°ì´í„° ì €ì¥ì„ ì™„ë£Œí–ˆë‹¤ëŠ” ë¡œê·¸ ì´í›„ì— ë˜ë‹¤ë¥¸ ë¡œê·¸ê°€ ê¸°ë¡ë˜ë”ë‹ˆ ë¬´ìˆ˜íˆ ë§ì€ <strong>ì˜ëª»ëœ ìœ í˜•(&#96;type)ì´ë¼ëŠ” ë¶ˆì¹œì ˆí•œ ì˜¤ë¥˜ ë¡œê·¸</strong>ë¥¼ í™•ì¸í•˜ê²Œ ë©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì´ë²ˆì£¼ ì‘ì—…ìœ¼ë¡œ íŠ¹ì • ì»¬ëŸ¼ì˜ ìœ í˜•ì„ ë°”ê¾¸ì–´ì•¼í•˜ëŠ” ìš”êµ¬ì‚¬í•­ì— ëŒ€í•œ ì²˜ë¦¬ë¥¼ í–ˆë‹¤ëŠ” ê²ƒë„ ì¸ì§€í•˜ê²Œ ë©ë‹ˆë‹¤. ë‹¤ë§Œ, ì´ ì‘ì—…ì€ ê°œë°œ í™˜ê²½ì—ì„œ ì‘ì—…í•˜ì˜€ê³  ì•„ì§ ë°°í¬ì „ì´ë¯€ë¡œ ì‹¤í–‰ì¤‘ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ëŠ” í•´ë‹¹ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p><h3 id="ë¬¸ì œ-í•´ê²°"><a href="#ë¬¸ì œ-í•´ê²°" class="headerlink" title="ë¬¸ì œ í•´ê²°"></a>ë¬¸ì œ í•´ê²°</h3><p>ê·¸ëŸ¬ë˜ ì¤‘ ìŠ¤ì¼€ì¤„ì€ í™˜ê²½ë³„ë¡œ ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰ë˜ë„ë¡ êµ¬ì„±ë˜ì–´ìˆë‹¤ëŠ” ì ì„ ë– ì˜¬ë¦¬ê²Œ ë©ë‹ˆë‹¤. ì¦‰, ë¡œì»¬ í™˜ê²½ í”„ë¡œíŒŒì¼ë¡œ ì‹¤í–‰í•˜ë©´ ë¡œì»¬ í™˜ê²½ì—ì„œë§Œ ë…ë¦½ì ì´ë¼ëŠ” ì´ì•¼ê¸°ì£ . ê·¸ë¦¬ê³  ëˆ„êµ°ê°€ ë¡œì»¬ ì†ŒìŠ¤ì½”ë“œ ê¸°ì¤€ìœ¼ë¡œ (ì¥ì• ê°€ ë°œìƒí•œ) íŠ¹ì • ë°°í¬ í™˜ê²½ì— ì—°ê²°í•œê²Œ ì•„ë‹Œê°€ ì˜ì‹¬í•˜ì˜€ê³  ì¡°ì§ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë©”ì‹ ì € ì±„ë„ì¸ ìŠ¬ë™ì— ì•Œë ¤ë³´ì•˜ìŠµë‹ˆë‹¤. ìŠ¬ì© ì†ì„ ë“œì‹ ë¶„ì€ ë§ˆì¹¨ íœ´ê°€ë¥¼ ì“°ì‹  íŒ€ì¥ë‹˜ì´ì—ˆê³  ì›ê²©ìœ¼ë¡œ íŒ€ì¥ë‹˜ ì»´í“¨í„°ì— ì‹¤í–‰ì¤‘ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì¤‘ì§€í•´ë‹¬ë¼ê³  ìš”ì²­í–ˆê³  ì¥ì• ëŠ” ìì—°ìŠ¤ëŸ½ê²Œ í•´ê²°ë˜ì—ˆìŠµë‹ˆë‹¤.</p><p><img data-src="/images/posts/system-failure-occurs-from-trivial-things/02.gif#compact" alt="ì–´ì¨Œë“  ë²”ì¸ ê²€ê±°..."></p><h3 id="ì¥ì• -ëŒ€ì‘-ì†Œê°"><a href="#ì¥ì• -ëŒ€ì‘-ì†Œê°" class="headerlink" title="ì¥ì•  ëŒ€ì‘ ì†Œê°"></a>ì¥ì•  ëŒ€ì‘ ì†Œê°</h3><p>ë‹¤í–‰íˆë„ ì§€ì›Œì§€ë˜ ë°ì´í„°ëŠ” ì¤‘ìš”í•œ ë°ì´í„°ê°€ ì•„ë‹ˆë¼ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ í†µê³„ í‘œì‹œë¥¼ ìœ„í•œ ê¸°ì¤€ í…Œì´ë¸”ì´ì–´ì„œ ì¼ë¶€ ë°ì´í„°ê°€ í‘œì‹œë˜ì§€ ì•ŠëŠ” ì‚¬ì†Œí•œ ì¥ì• ì˜€ìŠµë‹ˆë‹¤. ê·¸ëŸ¼ì—ë„ ë¶ˆêµ¬í•˜ê³  ì¥ì• ë¥¼ íŒë‹¨í•˜ê³  ì›ì¸ì„ ë¶„ì„í•˜ì—¬ í•´ê²°í•˜ê¸°ê¹Œì§€ëŠ” ìƒê°ë³´ë‹¤ ì‰½ì§€ ì•Šì•˜ë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ì‚¬ì‹¤ ì´ ì¥ì• ëŠ” ëª¨ë‹ˆí„°ë§ ì²´ê³„ë¥¼ ë„ì…í•˜ë”ë¼ë„ ê²€ì¶œë˜ì§€ ì•ŠëŠ” ì‚¬ì†Œí•˜ì§€ ì•ŠëŠ” ì¥ì• ì´ê¸°ë„ í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì´ ì¥ì• ë¥¼ ë³´ë‹¤ë³´ë‹ˆ ìœ íŠœë¸Œ ê°œë°œë°”ë‹¥ì— ê³µìœ ëœ <a href="https://youtu.be/SWZcrdmmLEU">ì¬ë‚œê¸‰ ì„œë²„ ì¥ì• ë‚´ê³  ê°œë°œì ì¸ìƒ ëë‚ ë»” í•œ ì°</a>ì´ ë– ì˜¤ë¥´ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤.</p><p>ê°ì‚¬í•©ë‹ˆë‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ì•ˆë…•í•˜ì„¸ìš” Mambo ì…ë‹ˆë‹¤.&lt;/p&gt;
&lt;p&gt;ê°‘ì‘ìŠ¤ëŸ½ê²Œ ë°œìƒí•˜ëŠ” ì‹œìŠ¤í…œ ì¥ì• ëŠ” ëŠ˜ ê°œë°œìë¥¼ í˜ê²¹ê²Œ í•©ë‹ˆë‹¤.&lt;br&gt;ì˜¤ëŠ˜ì€ ì‚¬ì†Œí•œ ê²ƒìœ¼ë¡œë¶€í„° ë°œìƒí•œ ì‹œìŠ¤í…œ ì¥ì• ì— ëŒ€í•œ ê²½í—˜ì„ ê³µìœ í•˜ê³ ì í•©ë‹ˆë‹¤.&lt;/p&gt;
&lt;h2 id=&quot;ì‹œìŠ¤í…œ-ì¥ì• &quot;&gt;&lt;a href=&quot;#ì‹œ</summary>
      
    
    
    
    
    <category term="System Failure" scheme="https://kdevkr.github.io/tags/System-Failure/"/>
    
    <category term="Troubleshooting" scheme="https://kdevkr.github.io/tags/Troubleshooting/"/>
    
  </entry>
  
  <entry>
    <title>ë¡¬ë³µ ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì„œ</title>
    <link href="https://kdevkr.github.io/lombok-annotation-processor/"/>
    <id>https://kdevkr.github.io/lombok-annotation-processor/</id>
    <published>2021-12-29T00:00:00.000Z</published>
    <updated>2022-03-19T05:27:27.228Z</updated>
    
    <content type="html"><![CDATA[<p>ì•ˆë…•í•˜ì„¸ìš” Mambo ì…ë‹ˆë‹¤.</p><p>ì˜¤ëŠ˜ì€ ì¸í…”ë¦¬ì œì´ì—ì„œ ë¡¬ë³µ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì ìš©í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ê°€ê¸° ìœ„í•œ ë‚´ìš©ì„ ê³µìœ í•˜ê³ ì í•©ë‹ˆë‹¤.</p><h2 id="Lombok"><a href="#Lombok" class="headerlink" title="Lombok"></a>Lombok</h2><p><a href="https://projectlombok.org/">ë¡¬ë³µ ë¼ì´ë¸ŒëŸ¬ë¦¬</a>ëŠ” ìë°” í”„ë¡œì íŠ¸ì—ì„œ í•„ìˆ˜ì ìœ¼ë¡œ ì‚¬ìš©ë ë§Œí¼ í¸ë¦¬í•˜ê³  ìœ ìš©í•œ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. ë¡¬ë³µ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” <a href="https://docs.oracle.com/javase/7/docs/technotes/guides/apt/GettingStarted.html">APT(Annotation Processing Tool)</a>ë¥¼ í†µí•´ ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì„œ(Annotation Processor)ë¡œ ì»´íŒŒì¼ ë‹¨ê³„ì—ì„œ ìˆ˜í–‰í•˜ê²Œ ë©ë‹ˆë‹¤. ë”°ë¼ì„œ, ë¡¬ë³µ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” í”„ë¡œì íŠ¸ì—ì„œ ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì„œë¥¼ ë™ì‘ì‹œí‚¤ê¸° ìœ„í•œ ì„¤ì •ì„ í•´ì•¼í•©ë‹ˆë‹¤.</p><h3 id="ì¸í…”ë¦¬ì œì´-ì–´ë…¸í…Œì´ì…˜-í”„ë¡œì„¸ì„œ"><a href="#ì¸í…”ë¦¬ì œì´-ì–´ë…¸í…Œì´ì…˜-í”„ë¡œì„¸ì„œ" class="headerlink" title="ì¸í…”ë¦¬ì œì´ ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì„œ"></a>ì¸í…”ë¦¬ì œì´ ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì„œ</h3><p>ì¸í…”ë¦¬ì œì´ì—ì„œëŠ” í´ë˜ìŠ¤íŒ¨ìŠ¤ì— ìˆëŠ” ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì„œë¥¼ êµ¬ì„±í•˜ê¸° ìœ„í•œ <a href="https://www.jetbrains.com/help/idea/annotation-processors-support.html">ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì‹± ê¸°ëŠ¥</a>ì„ ì§€ì›í•©ë‹ˆë‹¤. ì´ ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì‹± ê¸°ëŠ¥ì´ í™œì„±í™”ë˜ë©´ í´ë˜ìŠ¤íŒ¨ìŠ¤ì— ìˆëŠ” ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì„œë¥¼ ìë™ìœ¼ë¡œ ë“±ë¡í•˜ê²Œ ë©ë‹ˆë‹¤.</p><p><img data-src="/images/posts/lombok-annotation-processor/intellij-annotation-processing.png"></p><h4 id="ê·¸ë˜ë“¤-í”„ë¡œì íŠ¸"><a href="#ê·¸ë˜ë“¤-í”„ë¡œì íŠ¸" class="headerlink" title="ê·¸ë˜ë“¤ í”„ë¡œì íŠ¸"></a>ê·¸ë˜ë“¤ í”„ë¡œì íŠ¸</h4><p>ì¸í…”ë¦¬ì œì´ëŠ” ê·¸ë˜ë“¤ í”„ë¡œì íŠ¸ì— ìˆëŠ” ê¸°ë³¸ ê·¸ë˜ë“¤ ë˜í¼ë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡œì íŠ¸ë¥¼ ë¹Œë“œí•˜ê³  ì‹¤í–‰í•˜ë„ë¡ ì„¤ì •ë˜ì–´ìˆìŠµë‹ˆë‹¤. <strong>Build Tools &gt; Gradle</strong> ë©”ë‰´ì—ì„œ ê¸°ë³¸ ê·¸ë˜ë“¤ ë˜í¼ê°€ ì•„ë‹Œ ì¸í…”ë¦¬ì œì´ ìì²´ë¡œ ë¹Œë“œí•˜ê³  ì‹¤í–‰ë˜ë„ë¡ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¸í…”ë¦¬ì œì´ ìì²´ì ìœ¼ë¡œëŠ” ë¡¬ë³µ í”ŒëŸ¬ê·¸ì¸ì„ ë²ˆë“¤ì— í¬í•¨í•˜ê³  ìˆìœ¼ë¯€ë¡œ ë¡¬ë³µ ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì„œê°€ í´ë˜ìŠ¤íŒ¨ìŠ¤ì— ìœ„ì¹˜í•˜ê¸° ë•Œë¬¸ì— ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì‹± ê¸°ëŠ¥ì´ í™œì„±í™”ë˜ì–´ìˆë‹¤ë©´ ë¡¬ë³µì— ëŒ€í•œ ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì„œê°€ ìë™ìœ¼ë¡œ ë“±ë¡ë˜ê²Œ ë©ë‹ˆë‹¤.</p><pre class="language-groovy" data-language="groovy"><code class="language-groovy">dependencies <span class="token punctuation">&#123;</span>    compileOnly <span class="token string">'org.projectlombok:lombok'</span><span class="token punctuation">&#125;</span></code></pre><blockquote><p><em>ì¸í…”ë¦¬ì œì´ëŠ” ì¹œì ˆí•˜ê²Œë„ ë¡¬ë³µ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í´ë˜ìŠ¤íŒ¨ìŠ¤ì— ìˆì§€ë§Œ ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì‹± ê¸°ëŠ¥ì´ ë¹„í™œì„±í™”ë˜ì–´ìˆìœ¼ë©´ ì´ë²¤íŠ¸ ë¡œê·¸ì— ê¸°ëŠ¥ í™œì„±í™”ë¥¼ ë¬»ëŠ” ì•Œë¦¼ì„ ì œê³µí•©ë‹ˆë‹¤.</em><br><em>ë˜í•œ, ì¸í…”ë¦¬ì œì´ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ì„ íƒí•œ í™˜ê²½ì—ì„œëŠ” ë³„ë‹¤ë¥¸ ì„¤ì •ì—†ì´ë„ í´ë˜ìŠ¤íŒ¨ìŠ¤ì— ë¡¬ë³µ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ìˆìœ¼ë©´ ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì„œê°€ ë™ì‘í•¨ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</em></p></blockquote><h4 id="ê·¸ë˜ë“¤-ì–´ë…¸í…Œì´ì…˜-í”„ë¡œì„¸ì„œ-êµ¬ì„±"><a href="#ê·¸ë˜ë“¤-ì–´ë…¸í…Œì´ì…˜-í”„ë¡œì„¸ì„œ-êµ¬ì„±" class="headerlink" title="ê·¸ë˜ë“¤ ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì„œ êµ¬ì„±"></a>ê·¸ë˜ë“¤ ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì„œ êµ¬ì„±</h4><p>í”„ë¡œì íŠ¸ì˜ ê¸°ë³¸ ì„¤ì •ì€ í”„ë¡œì íŠ¸ì˜ ê·¸ë˜ë“¤ ë˜í¼ë¡œ ì‹¤í–‰í•˜ëŠ” í™˜ê²½ì´ë¼ê³  í•˜ì˜€ìŠµë‹ˆë‹¤. ì´ ê²½ìš°ì—ëŠ” ë¡¬ë³µ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ëŒ€í•œ ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì„œë¥¼ ê·¸ë˜ë“¤ êµ¬ì„± íŒŒì¼ì— ì •ì˜í•´ì•¼í•©ë‹ˆë‹¤.</p><p><img data-src="/images/posts/lombok-annotation-processor/intellij-gradle-build-and-run.png"></p><pre class="language-groovy" data-language="groovy"><code class="language-groovy">dependencies <span class="token punctuation">&#123;</span>    compileOnly <span class="token string">'org.projectlombok:lombok'</span>    annotationProcessor <span class="token string">'org.projectlombok:lombok'</span><span class="token punctuation">&#125;</span></code></pre><p>ê·¸ë˜ë“¤ì˜ annotationProcessorë¥¼ í†µí•´ ë¡¬ë³µ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì„œê°€ ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì„œê°€ ìœ„ì¹˜í•˜ëŠ” í´ë˜ìŠ¤íŒ¨ìŠ¤ì— ë“±ë¡ë¨ì— ë”°ë¼ ì¸í…”ë¦¬ì œì´ëŠ” ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì‹± ê¸°ëŠ¥ í™œì„±í™” ì—¬ë¶€ë¥¼ í™•ì¸í•˜ê³  í™œì„±í™”ì— ëŒ€í•œ ì•Œë¦¼ì„ ì œê³µí•©ë‹ˆë‹¤. </p><pre class="language-groovy" data-language="groovy"><code class="language-groovy">configurations <span class="token punctuation">&#123;</span>   compileOnly <span class="token punctuation">&#123;</span>       extendsFrom annotationProcessor   <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>ê·¸ë˜ë“¤ ê¸°ë°˜ì˜ ìŠ¤í”„ë§ ë¶€íŠ¸ í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•  ë•Œ ë¡¬ë³µì„ ì¶”ê°€í•˜ë©´ ìœ„ êµ¬ë¬¸ì´ í¬í•¨ë˜ëŠ” ê²ƒì„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ êµ¬ë¬¸ì˜ ì—­í• ì´ ë¬´ì—‡ì¸ì§€ ê¶ê¸ˆí•˜ì§€ ì•Šìœ¼ì‹ ê°€ìš”? ì¸í…”ë¦¬ì œì´ëŠ” ê·¸ë˜ë“¤ ì„¤ì • íŒ¡ë¦¬ì— ìœ„ êµ¬ë¬¸ì´ í¬í•¨ë˜ëŠ” ê²½ìš° <code>Gradle Imported</code>ë¼ëŠ” ì´ë¦„ì˜ í”„ë¡œíŒŒì¼ë¡œì¨ ë¡¬ë³µ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì„œë¡œ ë“±ë¡í•˜ê¸° ìœ„í•œ ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì‹± ê¸°ëŠ¥ì„ í™œì„±í™”í•˜ëŠ” ê²ƒì„ ìë™ìœ¼ë¡œ êµ¬ì„±í•˜ê²Œ ë©ë‹ˆë‹¤.</p><p><img data-src="/images/posts/lombok-annotation-processor/intellij-lombok-annotation-processing-extends-from.png"></p><blockquote><p><em>ì¸í…”ë¦¬ì œì´ëŠ” ê¸°ë³¸ í”„ë¡œíŒŒì¼ì— ëŒ€í•´ ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì‹± ê¸°ëŠ¥ì´ í™œì„±í™”ë˜ì–´ìˆì§€ ì•Šìœ¼ë©´ ì´ë²¤íŠ¸ ë¡œê·¸ë¥¼ í†µí•´ ë¡¬ë³µì„ ìœ„í•œ ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì‹± ê¸°ëŠ¥ í™œì„±í™”ë¥¼ ì•ˆë‚´í•˜ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤.</em></p></blockquote><h3 id="ë¡¬ë³µ-ì–´ë…¸í…Œì´ì…˜-í”„ë¡œì„¸ì„œ"><a href="#ë¡¬ë³µ-ì–´ë…¸í…Œì´ì…˜-í”„ë¡œì„¸ì„œ" class="headerlink" title="ë¡¬ë³µ ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì„œ"></a>ë¡¬ë³µ ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì„œ</h3><p>ë‹¤ì‹œ ë‚´ìš©ì„ ì •ë¦¬í•´ë³´ìë©´, ë¡¬ë³µ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ë¡¬ë³µ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì„œë¥¼ ë“±ë¡í•˜ê¸° ìœ„í•œ ì„¤ì •ì„ ìˆ˜í–‰í•´ì•¼í•©ë‹ˆë‹¤.</p><ul><li>ì¸í…”ë¦¬ì œì´ ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì‹± í™œì„±í™”(Enable annotation processing)</li><li>ê·¸ë˜ë“¤ ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì„œ êµ¬ì„±</li></ul><h4 id="ê·¸ë˜ë“¤-ì–´ë…¸í…Œì´ì…˜-í”„ë¡œì„¸ì„œ-êµ¬ì„±-1"><a href="#ê·¸ë˜ë“¤-ì–´ë…¸í…Œì´ì…˜-í”„ë¡œì„¸ì„œ-êµ¬ì„±-1" class="headerlink" title="ê·¸ë˜ë“¤ ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì„œ êµ¬ì„±"></a>ê·¸ë˜ë“¤ ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì„œ êµ¬ì„±</h4><p>ì¸í…”ë¦¬ì œì´ë¥¼ ì‚¬ìš©í•˜ëŠ” ê°œë°œ í™˜ê²½ì—ì„œëŠ” ì¸í…”ë¦¬ì œì´ ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì‹± í™œì„±í™” ê¸°ëŠ¥ì„ í†µí•´ í´ë˜ìŠ¤íŒ¨ìŠ¤ì— ìˆëŠ” ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì„œë¥¼ ìë™ìœ¼ë¡œ ë“±ë¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ë§Œ, ì  í‚¨ìŠ¤ì™€ ê°™ì€ ë¹Œë“œ í™˜ê²½ì—ì„œ ê·¸ë˜ë“¤ë¡œ ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì„œë¥¼ ë“±ë¡í•˜ê¸° ìœ„í•´ì„œëŠ” ì´ë¥¼ ìœ„í•œ êµ¬ì„±ì„ í•´ì•¼í•©ë‹ˆë‹¤.</p><pre class="language-groovy" data-language="groovy"><code class="language-groovy">configurations <span class="token punctuation">&#123;</span>    compileOnly <span class="token punctuation">&#123;</span>        extendsFrom annotationProcessor    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>dependencies <span class="token punctuation">&#123;</span>    compileOnly <span class="token string">'org.projectlombok:lombok'</span>    annotationProcessor <span class="token string">'org.projectlombok:lombok'</span>    testCompileOnly <span class="token string">'org.projectlombok:lombok'</span>    testAnnotationProcessor <span class="token string">'org.projectlombok:lombok'</span><span class="token punctuation">&#125;</span></code></pre><p>ê·¸ë¦¬ê³  ìœ„ êµ¬ì„±ì€ ê°„ë‹¨í•˜ê²Œ <strong>ê·¸ë˜ë“¤ ë¡¬ë³µ í”ŒëŸ¬ê·¸ì¸</strong> ìœ¼ë¡œ ëŒ€ì²´í•  ìˆ˜ ìˆëŠ”ë° ë¹Œë“œ ë„êµ¬ì˜ í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ê³µì‹ í™ˆí˜ì´ì§€ì—ì„œë„ ì¶”ì²œí•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.</p><pre class="language-groovy" data-language="groovy"><code class="language-groovy">plugins <span class="token punctuation">&#123;</span>   id <span class="token string gstring">"io.freefair.lombok"</span> version <span class="token string gstring">"6.3.0"</span><span class="token punctuation">&#125;</span></code></pre><p>ê°ì‚¬í•©ë‹ˆë‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ì•ˆë…•í•˜ì„¸ìš” Mambo ì…ë‹ˆë‹¤.&lt;/p&gt;
&lt;p&gt;ì˜¤ëŠ˜ì€ ì¸í…”ë¦¬ì œì´ì—ì„œ ë¡¬ë³µ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì ìš©í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ê°€ê¸° ìœ„í•œ ë‚´ìš©ì„ ê³µìœ í•˜ê³ ì í•©ë‹ˆë‹¤.&lt;/p&gt;
&lt;h2 id=&quot;Lombok&quot;&gt;&lt;a href=&quot;#Lombok&quot; class=&quot;headerlink&quot; ti</summary>
      
    
    
    
    
    <category term="IntelliJ" scheme="https://kdevkr.github.io/tags/IntelliJ/"/>
    
    <category term="Lombok" scheme="https://kdevkr.github.io/tags/Lombok/"/>
    
    <category term="Annotation Processor" scheme="https://kdevkr.github.io/tags/Annotation-Processor/"/>
    
  </entry>
  
  <entry>
    <title>Webpack 5 ê¸°ë°˜ì˜ Vue ê°œë°œ í™˜ê²½</title>
    <link href="https://kdevkr.github.io/webpack5-for-vue/"/>
    <id>https://kdevkr.github.io/webpack5-for-vue/</id>
    <published>2021-12-28T00:00:00.000Z</published>
    <updated>2022-03-19T05:27:27.228Z</updated>
    
    <content type="html"><![CDATA[<p>ì•ˆë…•í•˜ì„¸ìš” Mambo ì…ë‹ˆë‹¤.</p><p>ì˜¤ëŠ˜ì€ <strong>Webpack 5 ê¸°ë°˜ì˜ Vue ê°œë°œ í™˜ê²½</strong>ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ëŠ” ì‹œê°„ì„ ê°€ì ¸ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.<br>ë³¸ ê¸€ì—ì„œ ì„¤ëª…í•œ ë‚´ìš©ì— ëŒ€í•œ ì½”ë“œëŠ” <a href="https://github.com/kdevkr/webpack5">kdevkr&#x2F;webpack5</a>ì—ì„œ ì œê³µí•©ë‹ˆë‹¤.</p><h2 id="Webpack"><a href="#Webpack" class="headerlink" title="Webpack"></a>Webpack</h2><p>ë°˜ë“œì‹œ ê·¸ëŸ° ê²ƒì€ ì•„ë‹ˆì§€ë§Œ ë§ì€ ë¶„ë“¤ì´ <a href="https://create-react-app.dev/">Create React App</a> ë˜ëŠ” <a href="https://cli.vuejs.org/">Vue CLI</a>ë¼ëŠ” ë„êµ¬ë¥¼ í†µí•´ì„œ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ í™˜ê²½ì— ëŒ€í•œ ê¸°ë³¸ í”„ë¦¬ì…‹ì„ ê¸°ë°˜ìœ¼ë¡œ í•™ìŠµì„ ì‹œì‘í•˜ê±°ë‚˜ ê°œë°œ í™˜ê²½ì„ êµ¬ì¶•í•©ë‹ˆë‹¤. ì´ ë„êµ¬ë“¤ì€ ì—¬ëŸ¬ê°€ì§€ ì‚¬í•­ì— ëŒ€í•œ ì›¹íŒ© êµ¬ì„±ì„ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µí•¨ìœ¼ë¡œì¨ ì›¹íŒ©ì— ëŒ€í•œ ë‚´ìš©ì„ ì•Œì§€ ëª»í•˜ë”ë¼ë„ ì‰½ê²Œ ë¦¬ì•¡íŠ¸ ë˜ëŠ” ë·°ì— ëŒ€í•œ í•™ìŠµì„ ì§„í–‰í•  ìˆ˜ ìˆê²Œ ë„ì™€ì£¼ëŠ” ìœ ìš©í•œ ë„êµ¬ì…ë‹ˆë‹¤. </p><p>ê·¸ëŸ¼ì—ë„ ë¶ˆêµ¬í•˜ê³ , ì‹¤ë¬´ í™˜ê²½ì—ì„œëŠ” ì´ ë„êµ¬ë“¤ì„ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì§ì ‘ ì›¹íŒ© ì„¤ì •ì— ëŒ€í•´ êµ¬ì„±í•˜ì—¬ ì‚¬ìš©í•©ë‹ˆë‹¤. ë˜í•œ, Vue CLIëŠ” ì•ˆíƒ€ê¹ê²Œë„ ì›¹íŒ© 4ì— ëŒ€í•œ êµ¬ì„±ì„ ì œê³µí•˜ë¯€ë¡œ ì´ ë„êµ¬ë¡œ ë§Œë“¤ì–´ì§€ëŠ” í™˜ê²½ì€ ë¬´ì¡°ê±´ ì›¹íŒ© 4ë¡œ ì œí•œë˜ëŠ” ë¬¸ì œì ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. <a href="https://webpack.js.org/blog/2020-10-10-webpack-5-release/">2020ë…„ 10ì›”ì— ë¦´ë¦¬ì¦ˆëœ ì›¹íŒ© 5</a> ê¸°ë°˜ì˜ ê°œë°œ í™˜ê²½ì„ ë§Œë“¤ê¸° ìœ„í•´ì„œëŠ” ì§ì ‘ ì›¹íŒ© êµ¬ì„±ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆì–´ì•¼ë§Œ í•©ë‹ˆë‹¤.</p><h3 id="ìš”êµ¬ì‚¬í•­"><a href="#ìš”êµ¬ì‚¬í•­" class="headerlink" title="ìš”êµ¬ì‚¬í•­"></a>ìš”êµ¬ì‚¬í•­</h3><p>ì‹œì‘í•˜ê¸°ì— ì•ì„œ, ì›¹íŒ© 5ëŠ” ë…¸ë“œ 10.13.0 ì´ìƒì˜ ë²„ì „ì„ ìš”êµ¬í•˜ë©° í•¨ê»˜ ê°œë°œ í”„ë¡ì‹œ ì„œë²„ë¡œ í™œìš©í•  ìˆ˜ ìˆëŠ” webpack-dev-server@4 ì—ì„œëŠ” ë…¸ë“œ 12.13.0 ì´ìƒì„ ìš”êµ¬í•©ë‹ˆë‹¤. </p><ul><li>Webpack5 required v10.13.0+</li><li>webpack-dev-server@4 v12.13.0+</li></ul><h4 id="í”„ë¡œì íŠ¸-ë…¸ë“œ-ë²„ì „-ì œí•œ"><a href="#í”„ë¡œì íŠ¸-ë…¸ë“œ-ë²„ì „-ì œí•œ" class="headerlink" title="í”„ë¡œì íŠ¸ ë…¸ë“œ ë²„ì „ ì œí•œ"></a>í”„ë¡œì íŠ¸ ë…¸ë“œ ë²„ì „ ì œí•œ</h4><p>ìœ„ ìš”êµ¬ì‚¬í•­ì— ë”°ë¼ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë…¸ë“œ ë²„ì „ì„ ì œí•œí•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. ì œê°€ ì´ì „ì— ê³µìœ í•œ <a href="https://kdevkr.github.io/strict-nodejs-version-for-project/">í”„ë¡œì íŠ¸ì˜ ë…¸ë“œ ë²„ì „ ì œí•œí•˜ê¸°</a>ë¥¼ ì°¸ê³ í•˜ì—¬ ë…¸ë“œ ì—”ì§„ ë²„ì „ì„ 12.13.0 ì´ìƒìœ¼ë¡œ ì„¤ì •í•´ë‘ëŠ” ê²ƒì„ ì¶”ì²œí•˜ëŠ” ë°”ì…ë‹ˆë‹¤.</p><h3 id="ì»¤ë°‹ë³„ë¡œ-í™•ì¸í•˜ëŠ”-êµ¬ì„±"><a href="#ì»¤ë°‹ë³„ë¡œ-í™•ì¸í•˜ëŠ”-êµ¬ì„±" class="headerlink" title="ì»¤ë°‹ë³„ë¡œ í™•ì¸í•˜ëŠ” êµ¬ì„±"></a>ì»¤ë°‹ë³„ë¡œ í™•ì¸í•˜ëŠ” êµ¬ì„±</h3><p>ê° ì»¤ë°‹ ë‹¨ìœ„ì˜ Browser Filesë¥¼ í†µí•´ ì–´ë–»ê²Œ êµ¬ì„±ì´ ë³€í™”í•˜ëŠ”ì§€ë¥¼ ì°¸ê³ í•˜ì‹œë©´ ì¢‹ìŠµë‹ˆë‹¤.</p><h4 id="Add-webpack-config-js-for-default-configuration"><a href="#Add-webpack-config-js-for-default-configuration" class="headerlink" title="Add webpack.config.js for default configuration"></a><a href="https://github.com/kdevkr/webpack5/commit/3f858c2702720088b8647bdb55a9f830d54a8d91">Add webpack.config.js for default configuration</a></h4><p>ê¸°ë³¸ êµ¬ì„±ì„ ìœ„í•œ webpack.config.js íŒŒì¼ì„ ë§Œë“¤ê³  node-env ê°’ì— ë”°ë¼ ë²ˆë“¤ íŒŒì¼ëª…ì„ ë‹¤ë¥´ê²Œ ì§€ì •í•  ìˆ˜ ìˆìŒì„ ë³´ì—¬ì¤ë‹ˆë‹¤.</p><pre class="language-sh" data-language="sh"><code class="language-sh">npx webpack --node-env production # ëª¨ë“œë¥¼ ì§€ì •í•˜ì§€ ì•Šì•˜ì§€ë§Œ node-env ê°’ì— ì˜í•´ ì²˜ë¦¬ë©ë‹ˆë‹¤.</code></pre><h4 id="Add-vue-loader"><a href="#Add-vue-loader" class="headerlink" title="Add vue-loader"></a><a href="https://github.com/kdevkr/webpack5/commit/3ca2fc1de5573ae339b0271ea482a73bf3dac397">Add vue-loader</a></h4><p>Vue SFC íŒŒì¼ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ vue-loaderë¥¼ ì¶”ê°€í•˜ê³  Vue ê°œë°œ í™˜ê²½ì„ ì¤€ë¹„í•˜ê³  ê°„ë‹¨í•œ ìƒ˜í”Œ HTML íŒŒì¼ì„ ë§Œë“¤ì–´ì„œ Vue ì½”ë“œê°€ ì •ìƒì ìœ¼ë¡œ ë³€í™˜ë˜ì—ˆìŒì„ í™•ì¸í•©ë‹ˆë‹¤.</p><h4 id="Add-sass-postcss"><a href="#Add-sass-postcss" class="headerlink" title="Add sass, postcss"></a><a href="https://github.com/kdevkr/webpack5/commit/68ffce2b18c64e67b944a383b216c2e6fe784396">Add sass, postcss</a></h4><p>Vue SFCì˜ ìŠ¤íƒ€ì¼ ë¸”ë¡ì˜ ì–¸ì–´ë¥¼ SCSSë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ sass ë° postcssì— ëŒ€í•œ ì„¤ì •ì„ ì¶”ê°€í•©ë‹ˆë‹¤. </p><h4 id="Add-stylelint"><a href="#Add-stylelint" class="headerlink" title="Add stylelint"></a><a href="https://github.com/kdevkr/webpack5/commit/7e1e00735738e9106033c6df675977846b159552">Add stylelint</a></h4><p>ë°˜ë“œì‹œ í•„ìš”í•œ ì„¤ì •ì€ ì•„ë‹ˆì§€ë§Œ CSSì— ëŒ€í•œ ë¦°íŠ¸ë¥¼ ì ìš©í•˜ê¸° ìœ„í•´ stylelintë¥¼ postcss í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œ ì¶”ê°€í•©ë‹ˆë‹¤.</p><h4 id="Add-eslint"><a href="#Add-eslint" class="headerlink" title="Add eslint"></a><a href="https://github.com/kdevkr/webpack5/commit/f7f566314fd675e18d3f7b3dd35283317c5891ae">Add eslint</a></h4><p>ìë°”ìŠ¤í¬ë¦½íŠ¸ì— ëŒ€í•œ ë¦°íŠ¸ë¥¼ ì ìš©í•˜ê¸° ìœ„í•´ eslintë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.</p><h4 id="Add-babel"><a href="#Add-babel" class="headerlink" title="Add babel"></a><a href="https://github.com/kdevkr/webpack5/commit/c5211b28ab8176e8c5c9fb39c755083679cb24df">Add babel</a></h4><p>ES6+ ë¬¸ë²•ì„ ì§€ì›í•˜ì§€ ì•ŠëŠ” ë¸Œë¼ìš°ì €ë¥¼ ìœ„í•´ ES5 ë¬¸ë²•ìœ¼ë¡œ ë³€í™˜í•˜ê¸° ìœ„í•œ babelì„ ì¶”ê°€í•©ë‹ˆë‹¤. babel 7 ë¶€í„°ëŠ” í´ë¦¬í•„ ì ìš© ë°©ì‹ì´ ë³€ê²½ë˜ì—ˆìŒì„ ì£¼ì˜í•´ì•¼í•©ë‹ˆë‹¤. ë°”ë²¨ í´ë¦¬í•„ì— ëŒ€í•´ì„œëŠ” ë‹¤ìŒì˜ ë‘ ë§í¬ë¥¼ ì°¸ê³ í•˜ì‹œë©´ ì¢‹ìŠµë‹ˆë‹¤.</p><ul><li><a href="https://poiemaweb.com/babel-polyfill">íì§€ëœ @babel&#x2F;polyfill ëŒ€ì‹  @babel&#x2F;plugin-transform-runtimeì„ ì‚¬ìš©í•´ í´ë¦¬í•„ ì¶”ê°€í•˜ê¸°</a></li><li><a href="https://tech.kakao.com/2020/12/01/frontend-growth-02/">Babel7ê³¼ corejs3 ì„¤ì •ìœ¼ë¡œ ì „ì—­ ì˜¤ì—¼ ì—†ëŠ” í´ë¦¬í•„ ì‚¬ìš©í•˜ê¸°</a></li></ul><h4 id="Add-browserslist"><a href="#Add-browserslist" class="headerlink" title="Add browserslist"></a><a href="https://github.com/kdevkr/webpack5/commit/c911ef73aa85ebde4d9c738c07999300c05bfaf8">Add browserslist</a></h4><p>postcssì˜ autoprefixer ë˜ëŠ” babelì—ì„œ ì°¸ê³ í•  íƒ€ê²Ÿ ì •ë³´ë¥¼ ìœ„í•´ browserslistë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.</p><h4 id="Add-prettierrc"><a href="#Add-prettierrc" class="headerlink" title="Add prettierrc"></a><a href="https://github.com/kdevkr/webpack5/commit/b5c8e20ebdb2224f1268b431aafb82a6b49e7b3a">Add prettierrc</a></h4><p>ë¶ˆí•„ìš”í•œ í¬ë§·íŒ…ì„ ë°©ì§€í•˜ê¸° ìœ„í•œ prettier ì˜µì…˜ì„ ì¡°ì •í•©ë‹ˆë‹¤.</p><h4 id="Add-asset"><a href="#Add-asset" class="headerlink" title="Add asset"></a><a href="https://github.com/kdevkr/webpack5/commit/1ba05ff066806fb2c7b59eace748e04e73756243">Add asset</a></h4><p>ì´ë¯¸ì§€ ë˜ëŠ” í°íŠ¸ ë“±ì„ ìœ„í•œ ì—ì…‹ ëª¨ë“ˆì„ ì¶”ê°€í•©ë‹ˆë‹¤.</p><h4 id="Apply-strict-npm-engines"><a href="#Apply-strict-npm-engines" class="headerlink" title="Apply strict npm engines"></a><a href="https://github.com/kdevkr/webpack5/commit/1b768c5881db9d8348d54f926a11e537a50050ac">Apply strict npm engines</a></h4><p>ì§€ê¸ˆê¹Œì§€ ì„¤ì¹˜ëœ íŒ¨í‚¤ì§€ì—ì„œ ìµœì†Œë¡œ ìš”êµ¬í•˜ëŠ” ë…¸ë“œ ë²„ì „ì„ ëª…ì‹œí•˜ê³  ì œí•œë˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤.</p><h4 id="Apply-settings-for-vscode"><a href="#Apply-settings-for-vscode" class="headerlink" title="Apply settings for vscode"></a><a href="https://github.com/kdevkr/webpack5/commit/9008824470873ce172e52294ddac7eee8304c256">Apply settings for vscode</a></h4><p>VSCodeë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ì €ì¥ë  ë•Œ ESLintê°€ ë™ì‘í•˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤.</p><h4 id="Add-project-version-in-output-filename"><a href="#Add-project-version-in-output-filename" class="headerlink" title="Add project version in output filename"></a><a href="https://github.com/kdevkr/webpack5/commit/769171d627bb1f4bfbb4bacce62dc067ff9b617a">Add project version in output filename</a></h4><p>(Optional) package.jsonì— ì •ì˜ëœ í”„ë¡œì íŠ¸ ë²„ì „ì„ ë²ˆë“¤ íŒŒì¼ëª…ì— í¬í•¨ì‹œí‚¬ ìˆ˜ ìˆìŒì„ ë³´ì—¬ì¤ë‹ˆë‹¤.</p><h4 id="Apply-optimization"><a href="#Apply-optimization" class="headerlink" title="Apply optimization"></a><a href="https://github.com/kdevkr/webpack5/commit/bab1505c643b4ae3ea5e7a86bdc90317f4afe470">Apply optimization</a></h4><p>í”„ë¡œë•ì…˜ í™˜ê²½ì„ ìœ„í•œ ìµœì í™” êµ¬ì„±ì„ ì¡°ì •í•©ë‹ˆë‹¤.</p><h4 id="Add-manifest"><a href="#Add-manifest" class="headerlink" title="Add manifest"></a><a href="https://github.com/kdevkr/webpack5/commit/7d0cd27b85a8f1df757e16c3ddb6ad32b8f7b39e">Add manifest</a></h4><p>ë§¤ë‹ˆí˜ìŠ¤íŠ¸ íŒŒì¼ì´ ìƒì„±í•  ìˆ˜ ìˆë„ë¡ í”ŒëŸ¬ê·¸ì¸ì„ ì¶”ê°€í•©ë‹ˆë‹¤. </p><pre class="language-sh" data-language="sh"><code class="language-sh">npx webpack --node-env production --env manifest</code></pre><h4 id="Add-bootstrap-vue"><a href="#Add-bootstrap-vue" class="headerlink" title="Add bootstrap-vue"></a><a href="https://github.com/kdevkr/webpack5/commit/c3da5f586c6ec368778e2c90478196e4af037a82">Add bootstrap-vue</a></h4><p>BootstrapVueë¥¼ ì¶”ê°€í•´ë³´ê³  <a href="https://kdevkr.github.io/no-emit-deprecation-warnings-of-dart-sass/">ìµœì‹  ë²„ì „ì˜ Sassì—ì„œ ì¶œë ¥ë˜ëŠ” Deprecation ê²½ê³ ê°€ ì¶œë ¥ë˜ì§€ ì•Šë„ë¡</a> ì„¤ì •í•©ë‹ˆë‹¤.</p><p>ê°ì‚¬í•©ë‹ˆë‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ì•ˆë…•í•˜ì„¸ìš” Mambo ì…ë‹ˆë‹¤.&lt;/p&gt;
&lt;p&gt;ì˜¤ëŠ˜ì€ &lt;strong&gt;Webpack 5 ê¸°ë°˜ì˜ Vue ê°œë°œ í™˜ê²½&lt;/strong&gt;ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ëŠ” ì‹œê°„ì„ ê°€ì ¸ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.&lt;br&gt;ë³¸ ê¸€ì—ì„œ ì„¤ëª…í•œ ë‚´ìš©ì— ëŒ€í•œ ì½”ë“œëŠ” &lt;a href=&quot;https://</summary>
      
    
    
    
    
    <category term="Webpack5" scheme="https://kdevkr.github.io/tags/Webpack5/"/>
    
  </entry>
  
  <entry>
    <title>íŠ¹ì • ë””íœë˜ì‹œì— ëŒ€í•œ Dart Sassì˜ Deprecation ê²½ê³  ì œì™¸í•˜ê¸°</title>
    <link href="https://kdevkr.github.io/no-emit-deprecation-warnings-of-dart-sass/"/>
    <id>https://kdevkr.github.io/no-emit-deprecation-warnings-of-dart-sass/</id>
    <published>2021-12-27T00:00:00.000Z</published>
    <updated>2022-03-19T05:27:27.228Z</updated>
    
    <content type="html"><![CDATA[<p>ì•ˆë…•í•˜ì„¸ìš” Mambo ì…ë‹ˆë‹¤.</p><p>ì˜¤ëŠ˜ì€ íŠ¹ì • ë””íœë˜ì‹œì— ëŒ€í•œ Dart Sassì˜ Deprecation ê²½ê³ ë¥¼ ì œì™¸í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ì„œ ê³µìœ í•˜ë ¤ê³  í•©ë‹ˆë‹¤.</p><h2 id="Deprecation-Warnings"><a href="#Deprecation-Warnings" class="headerlink" title="Deprecation Warnings"></a>Deprecation Warnings</h2><p>ìµœì‹  ì›¹íŒ©ì—ì„œ ì‚¬ìš©í•˜ëŠ” sass-loaderì—ì„œëŠ” sass(Dart Sass)ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤. ë‹¤ë§Œ, Dart Sass ë²„ì „ì— ë”°ë¼ ë‹¤ìŒê³¼ ê°™ì´ Dart Sass 2.0ì—ì„œë¶€í„° ì§€ì›ë˜ì§€ ì•ŠëŠ” ë¬¸ë²•ì— ëŒ€í•œ ê²½ê³  ë¡œê·¸ê°€ ì¶œë ¥ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p><em>Deprecation Using &#x2F; for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0</em></p><h3 id="Bootstrap"><a href="#Bootstrap" class="headerlink" title="Bootstrap"></a>Bootstrap</h3><p>ë¶€íŠ¸ìŠ¤íŠ¸ë©ì˜ ë³€ìˆ˜ë¥¼ ì˜¤ë²„ë¼ì´ë”©í•˜ì—¬ í…Œë§ˆë¥¼ êµ¬ì„±í•˜ê³ ì í•˜ëŠ” ê²½ìš° ì—¬ëŸ¬ë¶„ì˜ SCSS íŒŒì¼ì—ì„œ ë¶€íŠ¸ìŠ¤íŠ¸ë©ì—ì„œ ì œê³µí•˜ëŠ” SCSS íŒŒì¼ì„ ë¶ˆëŸ¬ì˜¤ê²Œë˜ë©´ ì•„ë˜ì²˜ëŸ¼ ê²½ê³  ë¡œê·¸ê°€ ì¶œë ¥ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><pre class="language-ps" data-language="ps"><code class="language-ps">LOG from .&#x2F;node_modules&#x2F;sass-loader&#x2F;dist&#x2F;cjs.js sass-loader .&#x2F;node_modules&#x2F;css-loader&#x2F;dist&#x2F;cjs.js??clonedRuleSet-2[0].rules[0].use[1]!.&#x2F;node_modules&#x2F;postcss-loader&#x2F;dist&#x2F;cjs.js!.&#x2F;node_modules&#x2F;resolve-url-loader&#x2F;index.js!.&#x2F;node_modules&#x2F;sass-loader&#x2F;dist&#x2F;cjs.js??clonedRuleSet-2[0].rules[0].use[4]!.&#x2F;src&#x2F;scss&#x2F;bootstrap.scss&lt;w&gt; Deprecation Using &#x2F; for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.&lt;w&gt;&lt;w&gt; Recommendation: math.div($b-custom-control-indicator-size-lg, 2) or calc($b-custom-control-indicator-size-lg &#x2F; 2)&lt;w&gt;&lt;w&gt; More info and automated migrator: https:&#x2F;&#x2F;sass-lang.com&#x2F;d&#x2F;slash-div&lt;w&gt;&lt;w&gt; node_modules\bootstrap-vue\src\_variables.scss 33:46  @import&lt;w&gt; node_modules\bootstrap-vue\src\index.scss 7:9         @import&lt;w&gt; src\scss\bootstrap.scss 11:9                          root stylesheet&lt;w&gt;&lt;w&gt; Deprecation Using &#x2F; for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.&lt;w&gt;&lt;w&gt; Recommendation: math.div($b-custom-control-indicator-size-sm, 2) or calc($b-custom-control-indicator-size-sm &#x2F; 2)&lt;w&gt;&lt;w&gt; More info and automated migrator: https:&#x2F;&#x2F;sass-lang.com&#x2F;d&#x2F;slash-div&lt;w&gt;&lt;w&gt; node_modules\bootstrap-vue\src\_variables.scss 34:46  @import&lt;w&gt; node_modules\bootstrap-vue\src\index.scss 7:9         @import&lt;w&gt; src\scss\bootstrap.scss 11:9                          root stylesheet&lt;w&gt;&lt;w&gt; Deprecation Using &#x2F; for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.&lt;w&gt;&lt;w&gt; Recommendation: math.div($font-size-lg * $line-height-lg - $b-custom-control-indicator-size-lg, 2) or calc(($font-size-lg * $line-height-lg - $b-custom-control-indicator-size-lg) &#x2F; 2)&lt;w&gt;&lt;w&gt; More info and automated migrator: https:&#x2F;&#x2F;sass-lang.com&#x2F;d&#x2F;slash-div&lt;w&gt;&lt;w&gt; node_modules\bootstrap-vue\src\components\form-checkbox\_form-checkbox.scss 10:10  @import&lt;w&gt; node_modules\bootstrap-vue\src\components\form-checkbox\index.scss 1:9             @import&lt;w&gt; node_modules\bootstrap-vue\src\components\index.scss 5:9                           @import&lt;w&gt; node_modules\bootstrap-vue\src\index.scss 14:9                                     @import&lt;w&gt; src\scss\bootstrap.scss 11:9                                                       root stylesheet&lt;w&gt;&lt;w&gt; Deprecation Using &#x2F; for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.&lt;w&gt;&lt;w&gt; Recommendation: math.div($font-size-lg * $line-height-lg - $b-custom-control-indicator-size-lg, 2) or calc(($font-size-lg * $line-height-lg - $b-custom-control-indicator-size-lg) &#x2F; 2)&lt;w&gt;&lt;w&gt; More info and automated migrator: https:&#x2F;&#x2F;sass-lang.com&#x2F;d&#x2F;slash-div&lt;w&gt;&lt;w&gt; node_modules\bootstrap-vue\src\components\form-checkbox\_form-checkbox.scss 18:10  @import&lt;w&gt; node_modules\bootstrap-vue\src\components\form-checkbox\index.scss 1:9             @import&lt;w&gt; node_modules\bootstrap-vue\src\components\index.scss 5:9                           @import&lt;w&gt; node_modules\bootstrap-vue\src\index.scss 14:9                                     @import&lt;w&gt; src\scss\bootstrap.scss 11:9                                                       root stylesheet&lt;w&gt;&lt;w&gt; Deprecation Using &#x2F; for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.&lt;w&gt;&lt;w&gt; Recommendation: math.div($font-size-sm * $line-height-sm - $b-custom-control-indicator-size-sm, 2) or calc(($font-size-sm * $line-height-sm - $b-custom-control-indicator-size-sm) &#x2F; 2)&lt;w&gt;&lt;w&gt; More info and automated migrator: https:&#x2F;&#x2F;sass-lang.com&#x2F;d&#x2F;slash-div&lt;w&gt;&lt;w&gt; node_modules\bootstrap-vue\src\components\form-checkbox\_form-checkbox.scss 33:10  @import&lt;w&gt; node_modules\bootstrap-vue\src\components\form-checkbox\index.scss 1:9             @import&lt;w&gt; node_modules\bootstrap-vue\src\components\index.scss 5:9                           @import&lt;w&gt; node_modules\bootstrap-vue\src\index.scss 14:9                                     @import&lt;w&gt; src\scss\bootstrap.scss 11:9                                                       root stylesheet&lt;w&gt;&lt;w&gt; 17 repetitive deprecation warnings omitted.&lt;w&gt;&lt;w&gt; null</code></pre><p>ë¶€íŠ¸ìŠ¤íŠ¸ë©ì—ì„œ ì‚¬ìš©ì¤‘ì¸ ë¬¸ë²•ì„ ì–´ë–»ê²Œ ë°”ê¾¸ë¼ê³  ì•ˆë‚´í•˜ì§€ë§Œ ì˜ì¡´ì„±ì—ì„œ ì œê³µí•˜ëŠ” íŒŒì¼ì„ ìˆ˜ì •í•  ìˆ˜ëŠ” ì—†ìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ìœ„ ê²½ê³  ë¡œê·¸ë¥¼ ì¶œë ¥í•˜ì§€ ì•Šê²Œ í•˜ëŠ” ë°©ë²•ì´ í•„ìš”í•©ë‹ˆë‹¤.</p><h3 id="Dart-Sass-quietDeps"><a href="#Dart-Sass-quietDeps" class="headerlink" title="Dart Sass - quietDeps"></a>Dart Sass - quietDeps</h3><p>ë‹¤í–‰ìŠ¤ëŸ½ê²Œë„ Dart Sass ì—ì„œëŠ” <a href="https://sass-lang.com/documentation/cli/dart-sass#quiet-deps">quietDeps</a>ì˜µì…˜ì„ ì œê³µí•˜ì—¬ ì˜ì¡´ì„±ì— ëŒ€í•œ Deprecation ê²½ê³  ì¶œë ¥ì„ í•˜ì§€ ì•Šë„ë¡ ì§€ì›í•©ë‹ˆë‹¤.<br>ë§Œì•½, ì›¹íŒ©ì—ì„œ sass-loaderë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ <strong>sassOptions</strong> ì†ì„±ìœ¼ë¡œ ìœ„ ì˜µì…˜ì„ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><pre class="language-js" data-language="js"><code class="language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token punctuation">&#123;</span>        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.s[ac]ss$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>          <span class="token comment">// ...</span>          <span class="token punctuation">&#123;</span>            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">"sass-loader"</span><span class="token punctuation">,</span>            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>              <span class="token literal-property property">sourceMap</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>              <span class="token literal-property property">sassOptions</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">quietDeps</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"node_modules/bootstrap/**/*.scss"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>              <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>          <span class="token punctuation">&#125;</span>        <span class="token punctuation">]</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">]</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre><p>ì´ì œ ë¶€íŠ¸ìŠ¤íŠ¸ë©ì˜ SCSS íŒŒì¼ì„ ì„í¬íŠ¸í•˜ë”ë¼ë„ ë”ì´ìƒ ê²½ê³  ë¡œê·¸ëŠ” ì¶œë ¥ë˜ì§€ ì•Šê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.<br>ê°ì‚¬í•©ë‹ˆë‹¤.</p><h2 id="ì°¸ê³ "><a href="#ì°¸ê³ " class="headerlink" title="ì°¸ê³ "></a>ì°¸ê³ </h2><ul><li><a href="https://sass-lang.com/documentation/cli/dart-sass#quiet-deps">Dart Sass - quiet-deps</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ì•ˆë…•í•˜ì„¸ìš” Mambo ì…ë‹ˆë‹¤.&lt;/p&gt;
&lt;p&gt;ì˜¤ëŠ˜ì€ íŠ¹ì • ë””íœë˜ì‹œì— ëŒ€í•œ Dart Sassì˜ Deprecation ê²½ê³ ë¥¼ ì œì™¸í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ì„œ ê³µìœ í•˜ë ¤ê³  í•©ë‹ˆë‹¤.&lt;/p&gt;
&lt;h2 id=&quot;Deprecation-Warnings&quot;&gt;&lt;a href=&quot;#De</summary>
      
    
    
    
    
    <category term="Dart Sass" scheme="https://kdevkr.github.io/tags/Dart-Sass/"/>
    
    <category term="quietDeps" scheme="https://kdevkr.github.io/tags/quietDeps/"/>
    
  </entry>
  
  <entry>
    <title>í”„ë¡œì íŠ¸ì˜ ë…¸ë“œ ë²„ì „ ì œí•œí•˜ê¸°</title>
    <link href="https://kdevkr.github.io/strict-nodejs-version-for-project/"/>
    <id>https://kdevkr.github.io/strict-nodejs-version-for-project/</id>
    <published>2021-12-26T00:00:00.000Z</published>
    <updated>2022-03-19T05:27:27.228Z</updated>
    
    <content type="html"><![CDATA[<p>ì•ˆë…•í•˜ì„¸ìš” Mambo ì…ë‹ˆë‹¤.</p><p>ì˜¤ëŠ˜ì€ í•¨ê»˜ ì¼í•˜ëŠ” ê°œë°œìë“¤ì´ í”„ë¡œì íŠ¸ë§ˆë‹¤ ì‚¬ìš©í•´ì•¼í•˜ëŠ” ë…¸ë“œ ë²„ì „ì„ ì œí•œí•˜ëŠ” ë°©ë²•ì— ëŒ€í•˜ì—¬ ê³µìœ í•˜ë ¤ê³  í•´ìš”.</p><h2 id="í”„ë¡œì íŠ¸-ë…¸ë“œ-ë²„ì „-ì œí•œ"><a href="#í”„ë¡œì íŠ¸-ë…¸ë“œ-ë²„ì „-ì œí•œ" class="headerlink" title="í”„ë¡œì íŠ¸ ë…¸ë“œ ë²„ì „ ì œí•œ"></a>í”„ë¡œì íŠ¸ ë…¸ë“œ ë²„ì „ ì œí•œ</h2><p>í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” íŒ¨í‚¤ì§€ë§ˆë‹¤ ì§€ì›í•˜ëŠ” ìµœì†Œ ë…¸ë“œ ë²„ì „ì´ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë‹¤ìŒê³¼ ê°™ì´ íŒ¨í‚¤ì§€ ë²„ì „ì´ ì—…ë°ì´íŠ¸ë˜ë©´ì„œ ìš”êµ¬í•˜ëŠ” ë…¸ë“œ ë²„ì „ì´ ë³€ê²½ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><ul><li><a href="https://webpack.js.org/blog/2020-10-10-webpack-5-release/#minimum-nodejs-version">webpack@5.0.0</a> minimum supported Node.js version is 10.13.0</li><li><a href="https://github.com/webpack-contrib/style-loader/releases/tag/v3.0.0">style-loader@3.0.0</a> minimum supported Node.js version is 12.13.0</li><li><a href="https://github.com/webpack/webpack-dev-server/blob/master/CHANGELOG.md#400-beta3-2021-05-06">webpack-dev-server@4.0.0-beta.3</a> minimum supported Node.js version is 12.13.0</li></ul><h3 id="Package-json"><a href="#Package-json" class="headerlink" title="Package.json"></a>Package.json</h3><p>Package.json íŒŒì¼ì˜ <code>engines</code> ì†ì„±ìœ¼ë¡œ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” NPM ë˜ëŠ” ë…¸ë“œ ë²„ì „ì„ ëª…ì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>  <span class="token property">"engines"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token property">"npm"</span><span class="token operator">:</span> <span class="token string">">=6.4.1"</span><span class="token punctuation">,</span>    <span class="token property">"node"</span><span class="token operator">:</span> <span class="token string">">=12.13.0"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><h3 id="ì—”ì§„-ì œí•œ-ì˜µì…˜-í™œì„±í™”"><a href="#ì—”ì§„-ì œí•œ-ì˜µì…˜-í™œì„±í™”" class="headerlink" title="ì—”ì§„ ì œí•œ ì˜µì…˜ í™œì„±í™”"></a>ì—”ì§„ ì œí•œ ì˜µì…˜ í™œì„±í™”</h3><p>Package.json íŒŒì¼ì— ë…¸ë“œ ë²„ì „ì„ ëª…ì‹œí•˜ë”ë¼ë„ ì‚¬ìš©ìì˜ ì—”ì§„ì„ ì œí•œí•  ìˆ˜ëŠ” ì—†ìŠµë‹ˆë‹¤. ì´ë¥¼ ë³„ë„ë¡œ ì œí•œí•˜ê¸° ìœ„í•´ì„œëŠ” í”„ë¡œì íŠ¸ í´ë”ì— .npmrc íŒŒì¼ì„ ë§Œë“¤ê³  <code>engine-strict</code> ì˜µì…˜ì„ í™œì„±í™”í•´ì•¼í•©ë‹ˆë‹¤.</p><pre class="language-properties" data-language="properties"><code class="language-properties"><span class="token attr-name">engine-strict</span><span class="token punctuation">=</span><span class="token attr-value">true</span></code></pre><h3 id="ë…¸ë“œ-ì—”ì§„-ì œí•œ-ì—¬ë¶€-í™•ì¸"><a href="#ë…¸ë“œ-ì—”ì§„-ì œí•œ-ì—¬ë¶€-í™•ì¸" class="headerlink" title="ë…¸ë“œ ì—”ì§„ ì œí•œ ì—¬ë¶€ í™•ì¸"></a>ë…¸ë“œ ì—”ì§„ ì œí•œ ì—¬ë¶€ í™•ì¸</h3><p>ë…¸ë“œ ë²„ì „ì„ ëª…ì‹œí•˜ê³  ì—”ì§„ ì œí•œ ì˜µì…˜ì„ í™œì„±í™”í•˜ì˜€ìœ¼ë¯€ë¡œ ì‹¤ì œë¡œ ë…¸ë“œ ì—”ì§„ì´ ì œí•œë˜ëŠ”ì§€ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤.</p><pre class="language-sh" data-language="sh"><code class="language-sh">npm inpm ERR! code ENOTSUPnpm ERR! notsup Unsupported engine for @1.0.0: wanted: &#123;&quot;npm&quot;:&quot;&gt;&#x3D;6.4.1&quot;,&quot;node&quot;:&quot;&gt;&#x3D;12.13.0&quot;&#125; (current: &#123;&quot;node&quot;:&quot;10.23.0&quot;,&quot;npm&quot;:&quot;6.14.8&quot;&#125;)npm ERR! notsup Not compatible with your version of node&#x2F;npm: @1.0.0npm ERR! notsup Not compatible with your version of node&#x2F;npm: @1.0.0npm ERR! notsup Required: &#123;&quot;npm&quot;:&quot;&gt;&#x3D;6.4.1&quot;,&quot;node&quot;:&quot;&gt;&#x3D;12.13.0&quot;&#125;npm ERR! notsup Actual:   &#123;&quot;npm&quot;:&quot;6.14.8&quot;,&quot;node&quot;:&quot;10.23.0&quot;&#125;</code></pre><p>í˜„ì¬ ì‚¬ìš©ì¤‘ì¸ ë…¸ë“œ ë²„ì „ì€ 10.23.0 ì´ì§€ë§Œ í”„ë¡œì íŠ¸ì—ì„œ ìš”êµ¬í•˜ëŠ” ë²„ì „ì€ 12.13.0 ì´ìƒì´ë¯€ë¡œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.</p><p>ì´ìƒìœ¼ë¡œ í”„ë¡œì íŠ¸ì—ì„œ ì§€ì›í•˜ëŠ” ìµœì†Œ ë…¸ë“œ ì—”ì§„ ë²„ì „ì„ ëª…ì‹œí•˜ê³  í”„ë¡œì íŠ¸ì— ì°¸ì—¬í•˜ëŠ” ëª¨ë“  ê°œë°œìë“¤ì´ ì•Œë§ì€ ë…¸ë“œ ë²„ì „ì„ ì‚¬ìš©í•˜ë„ë¡ ì•ˆë‚´í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.</p><p>ê°ì‚¬í•©ë‹ˆë‹¤.</p><h2 id="ì°¸ê³ "><a href="#ì°¸ê³ " class="headerlink" title="ì°¸ê³ "></a>ì°¸ê³ </h2><ul><li><a href="https://medium.com/@fabian.illner/force-correct-node-js-version-with-npm-a2a57fd12fa">Force correct Node.js version with npm</a>  </li><li><a href="https://www.geeksforgeeks.org/how-to-define-the-required-node-js-version-in-package-json/">How to define the required Node.js version in package.json?</a>  </li><li><a href="https://reactgo.com/specify-node-version/">Specifying a required Node.js version in Package.json file</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ì•ˆë…•í•˜ì„¸ìš” Mambo ì…ë‹ˆë‹¤.&lt;/p&gt;
&lt;p&gt;ì˜¤ëŠ˜ì€ í•¨ê»˜ ì¼í•˜ëŠ” ê°œë°œìë“¤ì´ í”„ë¡œì íŠ¸ë§ˆë‹¤ ì‚¬ìš©í•´ì•¼í•˜ëŠ” ë…¸ë“œ ë²„ì „ì„ ì œí•œí•˜ëŠ” ë°©ë²•ì— ëŒ€í•˜ì—¬ ê³µìœ í•˜ë ¤ê³  í•´ìš”.&lt;/p&gt;
&lt;h2 id=&quot;í”„ë¡œì íŠ¸-ë…¸ë“œ-ë²„ì „-ì œí•œ&quot;&gt;&lt;a href=&quot;#í”„ë¡œì íŠ¸-ë…¸ë“œ-ë²„ì „-ì œí•œ&quot; </summary>
      
    
    
    
    
    <category term="package.json" scheme="https://kdevkr.github.io/tags/package-json/"/>
    
    <category term="npmrc" scheme="https://kdevkr.github.io/tags/npmrc/"/>
    
    <category term="engines" scheme="https://kdevkr.github.io/tags/engines/"/>
    
  </entry>
  
  <entry>
    <title>Unsupported allowDuplicateContentLengths in Spring Cloud Gateway of Hoxton Version</title>
    <link href="https://kdevkr.github.io/unsupported-allowduplicatecontentlength-in-spring-cloud-gateway-of-hoxton-version/"/>
    <id>https://kdevkr.github.io/unsupported-allowduplicatecontentlength-in-spring-cloud-gateway-of-hoxton-version/</id>
    <published>2021-12-19T00:00:00.000Z</published>
    <updated>2022-03-19T05:27:27.228Z</updated>
    
    <content type="html"><![CDATA[<p>ì•ˆë…•í•˜ì„¸ìš” Mambo ì…ë‹ˆë‹¤.</p><p>ì˜¤ëŠ˜ì€ ìŠ¤í”„ë§ í´ë¼ìš°ë“œ ê²Œì´íŠ¸ì›¨ì´ì—ì„œ ë°œìƒí•˜ëŠ” Content-Length í—¤ë”ì˜ ê°’ì´ ë‹¨ì¼ì´ ì•„ë‹Œ ë³µìˆ˜ë¡œ ì§€ì •ë  ë•Œ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜ì— ëŒ€í•´ ë‹¤ë£¨ì–´ë³´ë ¤ê³  í•©ë‹ˆë‹¤.</p><h2 id="RFC-7230"><a href="#RFC-7230" class="headerlink" title="RFC 7230"></a>RFC 7230</h2><p><a href="https://datatracker.ietf.org/doc/html/rfc7230#section-3.3.2">RFC 7230 - 3.3.2. Content-Length</a>ë¥¼ ì°¸ê³ í•´ë³´ë©´ ë‹¤ë¥¸ í—¤ë”ë“¤ê³¼ëŠ” ë‹¤ë¥´ê²Œ Content-Length í—¤ë”ëŠ” ë‹¨ì¼ë¡œ êµ¬ì„±ë˜ì–´ì•¼ í•œë‹¤ê³  ê·œì •í•©ë‹ˆë‹¤. ë‹¤ë§Œ, ë‹¤ìŒê³¼ ë‚´ìš©ì„ í†µí•´ Content-Length í—¤ë” ê°’ì´ ë³µìˆ˜ë¡œ êµ¬ì„±ë˜ëŠ” ê²½ìš°ëŠ” ìˆ˜ì‹ ìê°€ ì˜¤ë¥˜ë¡œ ì²˜ë¦¬í•˜ê±°ë‚˜ ë‹¨ì¼ ê°’ìœ¼ë¡œ ì²˜ë¦¬í•´ì•¼í•œë‹¤ê³  ì„¤ëª…í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p><blockquote><p>If a message is received that has multiple Content-Length header fields with field-values consisting of the same decimal value, or a single Content-Length header field with a field value containing a list of identical decimal values (e.g., â€œContent-Length: 42, 42â€), indicating that duplicate Content-Length header fields have been generated or combined by an upstream message processor, then the recipient MUST either reject the message as invalid or replace the duplicated field-values with a single valid Content-Length field containing that decimal value prior to determining the message body length or forwarding the message.</p></blockquote><h2 id="ì˜¤ë¥˜-ë°-ì›ì¸-ë¶„ì„"><a href="#ì˜¤ë¥˜-ë°-ì›ì¸-ë¶„ì„" class="headerlink" title="ì˜¤ë¥˜ ë° ì›ì¸ ë¶„ì„"></a>ì˜¤ë¥˜ ë° ì›ì¸ ë¶„ì„</h2><p>ìŠ¤í”„ë§ í´ë¼ìš°ë“œ ê²Œì´íŠ¸ì›¨ì´ì—ì„œ ë°œìƒí•œ ì˜¤ë¥˜ì— ëŒ€í•œ ë‚´ìš©ì€ <a href="https://github.com/spring-cloud/spring-cloud-gateway/issues/2465">Multiple Content-Length values found: [229455, 229455]</a>ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p>ëª¨ë“  ìŠ¤í”„ë§ í´ë¼ìš°ë“œ ê²Œì´íŠ¸ì›¨ì´ ë²„ì „ì—ì„œ ë°œìƒí•˜ëŠ” ìƒí™©ì€ ì•„ë‹ˆì—ˆìœ¼ë©° ìŠ¤í”„ë§ ë¶€íŠ¸ 2.3.xì™€ í˜¸í™˜ì„±ì´ ê²€ì¦ëœ ìŠ¤í”„ë§ í´ë¼ìš°ë“œ Hoxton ë¦´ë¦¬ì¦ˆ íŠ¸ë ˆì¸ìœ¼ë¡œ ê´€ë¦¬ë˜ëŠ” ìŠ¤í”„ë§ í´ë¼ìš°ë“œ ê²Œì´íŠ¸ì›¨ì´ ì„œë²„ì—ì„œ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤. Content-Length í—¤ë” ê°’ì´ ë³µìˆ˜ë¡œ ì§€ì •ë˜ëŠ” ê²ƒì€ ë¸Œë¼ìš°ì €ì—ì„œ ì‹¤í–‰ê°„ìœ¼í•œ wav, mp3, webm íŒŒì¼ì„ ìš”ì²­í•  ë•Œ ë°œìƒí•œ ê²ƒìœ¼ë¡œ ì¼ë°˜ì ì¸ curl ë˜ëŠ” Postmanì„ í†µí•´ì„œëŠ” ì •ìƒì ìœ¼ë¡œ ì‘ë‹µì´ ìˆ˜í–‰ë˜ì—ˆìŠµë‹ˆë‹¤.</p><h3 id="HttpUtil-normalizeAndGetContentLength"><a href="#HttpUtil-normalizeAndGetContentLength" class="headerlink" title="HttpUtil#normalizeAndGetContentLength"></a>HttpUtil#normalizeAndGetContentLength</h3><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>IllegalArgumentException</span><span class="token operator">:</span> <span class="token class-name">Multiple</span> <span class="token class-name">Content</span><span class="token operator">-</span><span class="token class-name">Length</span> values found<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">229455</span><span class="token punctuation">,</span> <span class="token number">229455</span><span class="token punctuation">]</span>at <span class="token class-name"><span class="token namespace">io<span class="token punctuation">.</span>netty<span class="token punctuation">.</span>handler<span class="token punctuation">.</span>codec<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span>HttpUtil</span><span class="token punctuation">.</span><span class="token function">normalizeAndGetContentLength</span><span class="token punctuation">(</span><span class="token class-name">HttpUtil</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">595</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>netty<span class="token operator">-</span>codec<span class="token operator">-</span>http<span class="token operator">-</span><span class="token number">4.1</span><span class="token number">.65</span><span class="token punctuation">.</span>Final<span class="token punctuation">.</span>jar<span class="token operator">:</span><span class="token number">4.1</span><span class="token number">.65</span><span class="token punctuation">.</span>Final<span class="token punctuation">]</span><span class="token class-name">Suppressed</span><span class="token operator">:</span> <span class="token class-name"><span class="token namespace">reactor<span class="token punctuation">.</span>core<span class="token punctuation">.</span>publisher<span class="token punctuation">.</span></span>FluxOnAssembly</span>$<span class="token class-name">OnAssemblyException</span><span class="token operator">:</span> <span class="token class-name">Error</span> has been observed at the following <span class="token function">site</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">:</span></code></pre><p>ìœ„ ìŠ¤íƒíŠ¸ë ˆì´ìŠ¤ ë‚´ìš©ì— ë”°ë¥´ë©´ Netty ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ netty-codec-http ëª¨ë“ˆì—ì„œ HttpUtil.normalizeAndGetContentLength í•¨ìˆ˜ë¡œ ì²˜ë¦¬ë  ë•Œ ì˜¤ë¥˜ê°€ ë˜ì ¸ì¡ŒìŒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ, netty-codec-http ëª¨ë“ˆì˜ <a href="https://github.com/netty/netty/blob/c08beb543a6b8db0c7f3cee225042361b4025e4c/codec-http/src/main/java/io/netty/handler/codec/http/HttpUtil.java#L555-L560">HttpUtil#normarlizeAndGetContentLength</a>ì—ëŠ” allowDuplicateContentLengths íŒŒë¼ë¯¸í„°ë¥¼ í†µí•´ ë³µìˆ˜ì˜ ë™ì¼í•œ ê°’ì´ ì§€ì •ë˜ë”ë¼ë„ ë‹¨ì¼ ê°’ìœ¼ë¡œ ì²˜ë¦¬ë˜ë„ë¡ êµ¬í˜„ë˜ì–´ìˆëŠ” ìƒíƒœì…ë‹ˆë‹¤.</p><h3 id="Reactor-Netty-HttpDecoderSpec"><a href="#Reactor-Netty-HttpDecoderSpec" class="headerlink" title="Reactor Netty - HttpDecoderSpec"></a>Reactor Netty - HttpDecoderSpec</h3><p>ì´ë¯¸ allowDuplicateContentLengths ì˜µì…˜ì„ ì§€ì›í•˜ëŠ”ë°ë„ ë¶ˆêµ¬í•˜ê³  ìŠ¤í”„ë§ í´ë¼ìš°ë“œ Hoxton ë²„ì „ì—ì„œ ì˜ì¡´í•˜ëŠ” reactor-netty:0.9.x.RELEASE ì—ì„œëŠ” HttpDecoderSpec í´ë˜ìŠ¤ê°€ allowDuplicateContentLengths ì˜µì…˜ì„ ì§€ì›í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p><p>ë” ìì„¸í•œ ì •ë³´ë¥¼ ì°¾ì•„ë³¸ ê²°ê³¼ HttpDecoderSpecì—ì„œ allowDuplicateContentLengths ì˜µì…˜ì´ ì§€ì›ë˜ëŠ” ê²ƒì€ <a href="https://github.com/reactor/reactor-netty/pull/1638/commits/978ba8a737f26376d1caab4806e25420e7aac7b7">Add HttpDecoderSpec#allowDuplicateContentLengths(boolean) #1638</a>ìœ¼ë¡œ ì²˜ë¦¬ë˜ì—ˆìœ¼ë©° <a href="https://github.com/reactor/reactor-netty/releases/tag/v1.0.8">Reactor Netty 1.0.8</a>ì—ì„œë¶€í„° ì¶”ê°€ë˜ì–´ ë°˜ì˜ë˜ì—ˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ìœ„ ë°˜ì˜ ë‚´ìš©ì€ Reactor Netty 0.9.x ì‚¬ìš©ìë“¤ì„ ìœ„í•œ Dysprosium ë¦´ë¦¬ì¦ˆ íŠ¸ë ˆì¸ì—ì„œ <a href="https://github.com/reactor/reactor-netty/releases/tag/v0.9.25.RELEASE">Reactor Netty 0.9.25.RELEASE</a>ë¡œ ë¦´ë¦¬ì¦ˆ ê³„íšì´ ì¢…ë£Œë˜ê¸°ê¹Œì§€ ë°˜ì˜ë˜ì§€ ì•Šì€ ì‚¬í•­ì…ë‹ˆë‹¤. </p><blockquote><p>Reactor Netty 0.9.x ì‚¬ìš©ìë“¤ì„ ìœ„í•´ allowDuplicateContentLengths ì˜µì…˜ ì§€ì›ì„ ë°˜ì˜í•  ìˆ˜ ìˆëŠ”ì§€ <a href="https://github.com/reactor/reactor-netty/issues/1942">allowDuplicateContentLengths for Reactor Netty 0.9.x users #1942</a> ì´ìŠˆë¥¼ ë“±ë¡í•´ë‘ì—ˆìŠµë‹ˆë‹¤. ì´ ì´ìŠˆê°€ ì²˜ë¦¬ë˜ê¸°ì „ê¹Œì§€ëŠ” HttpDecoderSpecì—ì„œ allowDuplicateContentLengths íŒŒë¼ë¯¸í„°ë¥¼ í™œì„±í™”í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p></blockquote><h2 id="í•´ê²°ë°©ì•ˆ"><a href="#í•´ê²°ë°©ì•ˆ" class="headerlink" title="í•´ê²°ë°©ì•ˆ"></a>í•´ê²°ë°©ì•ˆ</h2><p>Content-Length í—¤ë”ì— ì¤‘ë³µëœ ë™ì¼í•œ ê°’ì´ ì„¤ì •ë˜ëŠ” ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” allowDuplicateContentLengths ì˜µì…˜ì´ ì ìš©ë  ìˆ˜ ìˆë„ë¡ í•´ì•¼ë§Œí•©ë‹ˆë‹¤. ìŠ¤í”„ë§ í´ë¼ìš°ë“œ ê²Œì´íŠ¸ì›¨ì´ ì„œë²„ ìŠ¤íƒ€í„°ì—ì„œ ìë™ êµ¬ì„±í•  ë•Œ HttpClientì— ëŒ€í•œ HttpClientCustomizerë¥¼ ì§€ì›í•¨ì—ë„ ë¶ˆêµ¬í•˜ê³  ì˜ì¡´í•˜ê³  ìˆëŠ” HttpDecoderSpecì—ì„œ allowDuplicateContentLengthsë¥¼ ì ìš©í•  ìˆ˜ ìˆì–´ì•¼ë§Œ í•©ë‹ˆë‹¤. ë”°ë¼ì„œ, Reactor Netty ì˜ì¡´ì„± ë²„ì „ì„ 1.0.8 ì´ìƒìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ë°–ì— ì—†ìŠµë‹ˆë‹¤.</p><h3 id="ì²«ë²ˆì§¸-ì‹œë„-Reactor-Bom-ë³€ê²½"><a href="#ì²«ë²ˆì§¸-ì‹œë„-Reactor-Bom-ë³€ê²½" class="headerlink" title="ì²«ë²ˆì§¸ ì‹œë„ - Reactor Bom ë³€ê²½"></a>ì²«ë²ˆì§¸ ì‹œë„ - Reactor Bom ë³€ê²½</h3><p>í˜¹ì‹œë‚˜ Reactor Netty ì˜ì¡´ì„± ë²„ì „ì„ ë³€ê²½í•˜ì—¬ ê°€ëŠ¥í• ì§€ë„ ëª¨ë¥¸ë‹¤ëŠ” ìƒê°ìœ¼ë¡œ ë²„ì „ ì—…ê·¸ë ˆì´ë“œë¥¼ ì‹œë„í•´ë³´ì•˜ìŠµë‹ˆë‹¤.</p><pre class="language-groovy" data-language="groovy"><code class="language-groovy">ext <span class="token punctuation">&#123;</span>    <span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'springCloudVersion'</span><span class="token punctuation">,</span> <span class="token string">'Hoxton.SR12'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'reactorNettyVersion'</span><span class="token punctuation">,</span> <span class="token string">'2020.0.8'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>dependencyManagement <span class="token punctuation">&#123;</span>    imports <span class="token punctuation">&#123;</span>        mavenBom <span class="token string gstring">"org.springframework.cloud:spring-cloud-dependencies:<span class="token expression"><span class="token punctuation">$</span><span class="token punctuation">&#123;</span>springCloudVersion<span class="token punctuation">&#125;</span></span>"</span>        mavenBom <span class="token string gstring">"io.projectreactor:reactor-bom:<span class="token expression"><span class="token punctuation">$</span><span class="token punctuation">&#123;</span>reactorNettyVersion<span class="token punctuation">&#125;</span></span>"</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>Reactor Netty ë²„ì „ì„ ë³€ê²½í•˜ê¸° ìœ„í•´ Reactor Bomì„ ì ìš©í•´ë³¸ ê²°ê³¼ ë‹¤ìŒê³¼ ê°™ì´ reactor.netty.tcp.ProxyProviderë¥¼ í´ë˜ìŠ¤ë¡œë”ì—ì„œ ì°¾ì„ ìˆ˜ ì—†ëŠ” ìƒíƒœê°€ ë˜ì—ˆìŠµë‹ˆë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Caused</span> by<span class="token operator">:</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>NoClassDefFoundError</span><span class="token operator">:</span> reactor<span class="token operator">/</span>netty<span class="token operator">/</span>tcp<span class="token operator">/</span><span class="token class-name">ProxyProvider</span>$<span class="token class-name">Builder</span>at java<span class="token punctuation">.</span>base<span class="token operator">/</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>Class</span><span class="token punctuation">.</span><span class="token function">getDeclaredMethods0</span><span class="token punctuation">(</span><span class="token class-name">Native</span> <span class="token class-name">Method</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>na<span class="token operator">:</span>na<span class="token punctuation">]</span>at java<span class="token punctuation">.</span>base<span class="token operator">/</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>Class</span><span class="token punctuation">.</span><span class="token function">privateGetDeclaredMethods</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">3166</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>na<span class="token operator">:</span>na<span class="token punctuation">]</span>at java<span class="token punctuation">.</span>base<span class="token operator">/</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>Class</span><span class="token punctuation">.</span><span class="token function">getDeclaredMethods</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">2309</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>na<span class="token operator">:</span>na<span class="token punctuation">]</span>at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>ReflectionUtils</span><span class="token punctuation">.</span><span class="token function">getDeclaredMethods</span><span class="token punctuation">(</span><span class="token class-name">ReflectionUtils</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">463</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>spring<span class="token operator">-</span>core<span class="token operator">-</span><span class="token number">5.2</span><span class="token number">.15</span><span class="token punctuation">.</span>RELEASE<span class="token punctuation">.</span>jar<span class="token operator">:</span><span class="token number">5.2</span><span class="token number">.15</span><span class="token punctuation">.</span>RELEASE<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token number">19</span> common frames omitted<span class="token class-name">Caused</span> by<span class="token operator">:</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>ClassNotFoundException</span><span class="token operator">:</span> <span class="token class-name"><span class="token namespace">reactor<span class="token punctuation">.</span>netty<span class="token punctuation">.</span>tcp<span class="token punctuation">.</span></span>ProxyProvider</span>$<span class="token class-name">Builder</span>at java<span class="token punctuation">.</span>base<span class="token operator">/</span><span class="token class-name"><span class="token namespace">jdk<span class="token punctuation">.</span>internal<span class="token punctuation">.</span>loader<span class="token punctuation">.</span></span>BuiltinClassLoader</span><span class="token punctuation">.</span><span class="token function">loadClass</span><span class="token punctuation">(</span><span class="token class-name">BuiltinClassLoader</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">581</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>na<span class="token operator">:</span>na<span class="token punctuation">]</span>at java<span class="token punctuation">.</span>base<span class="token operator">/</span><span class="token class-name"><span class="token namespace">jdk<span class="token punctuation">.</span>internal<span class="token punctuation">.</span>loader<span class="token punctuation">.</span></span>ClassLoaders</span>$<span class="token class-name">AppClassLoader</span><span class="token punctuation">.</span><span class="token function">loadClass</span><span class="token punctuation">(</span><span class="token class-name">ClassLoaders</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">178</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>na<span class="token operator">:</span>na<span class="token punctuation">]</span>at java<span class="token punctuation">.</span>base<span class="token operator">/</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>ClassLoader</span><span class="token punctuation">.</span><span class="token function">loadClass</span><span class="token punctuation">(</span><span class="token class-name">ClassLoader</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">522</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>na<span class="token operator">:</span>na<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token number">23</span> common frames omitted</code></pre><p>ì´ëŸ¬í•œ ë¬¸ì œê°€ ë°œìƒí•˜ëŠ” ì´ìœ ëŠ” <a href="https://github.com/reactor/reactor-netty/releases/tag/v1.0.0">Reactor Netty 1.0.0</a>ì—ì„œë¶€í„° reactor.netty.tcp.ProxyProviderê°€ reactor.netty.transport.ProxyProviderë¡œ ë³€ê²½ë˜ì—ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ìŠ¤í”„ë§ í´ë¼ìš°ë“œ Hoxtonì—ì„œëŠ” Reactor Netty 0.9.xì˜ í´ë˜ìŠ¤ë“¤ì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ë‹¨ìˆœí•˜ê²Œ Reactor Netty ì˜ì¡´ì„± ë²„ì „ì„ ë³€ê²½í•  ìˆ˜ëŠ” ì—†ìŠµë‹ˆë‹¤.</p><h3 id="ë‘ë²ˆì§¸-ì‹œë„-Spring-Cloud-ë²„ì „-ì—…ê·¸ë ˆì´ë“œ"><a href="#ë‘ë²ˆì§¸-ì‹œë„-Spring-Cloud-ë²„ì „-ì—…ê·¸ë ˆì´ë“œ" class="headerlink" title="ë‘ë²ˆì§¸ ì‹œë„ - Spring Cloud ë²„ì „ ì—…ê·¸ë ˆì´ë“œ"></a>ë‘ë²ˆì§¸ ì‹œë„ - Spring Cloud ë²„ì „ ì—…ê·¸ë ˆì´ë“œ</h3><p>Reactor Netty 1.0.8ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ìŠ¤í”„ë§ í´ë¼ìš°ë“œ 2020.0.x aka Ilford ë¦´ë¦¬ì¦ˆ íŠ¸ë ˆì¸ì˜ ìŠ¤í”„ë§ í´ë¼ìš°ë“œì™€ í•¨ê»˜ ìŠ¤í”„ë§ ë¶€íŠ¸ 2.4.xë¡œ ì—…ê·¸ë ˆì´ë“œí•´ì•¼í•©ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ ì¤‘ì¸ í”„ë¡œì íŠ¸ì—ì„œëŠ” ê·¸ë˜ë“¤ ë©€í‹° í”„ë¡œì íŠ¸ë¡œ êµ¬ì„±ë˜ì–´ ìŠ¤í”„ë§ í´ë¼ìš°ë“œ ê²Œì´íŠ¸ì›¨ì´ ì„œë²„ì™€ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ê°€ ë™ì¼í•œ ìŠ¤í”„ë§ ë¶€íŠ¸ ë²„ì „ì„ ì‚¬ìš©í•˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤.</p><pre class="language-groovy" data-language="groovy"><code class="language-groovy">plugins <span class="token punctuation">&#123;</span>    id <span class="token string">'rog.springframework.boot'</span> version <span class="token string">'2.4.13'</span><span class="token punctuation">&#125;</span>ext <span class="token punctuation">&#123;</span>    <span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'springCloudVersion'</span><span class="token punctuation">,</span> <span class="token string">'2020.0.0'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'reactorNettyVersion'</span><span class="token punctuation">,</span> <span class="token string">'2020.0.8'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>dependencyManagement <span class="token punctuation">&#123;</span>    imports <span class="token punctuation">&#123;</span>        mavenBom <span class="token string gstring">"org.springframework.cloud:spring-cloud-dependencies:<span class="token expression"><span class="token punctuation">$</span><span class="token punctuation">&#123;</span>springCloudVersion<span class="token punctuation">&#125;</span></span>"</span>        mavenBom <span class="token string gstring">"io.projectreactor:reactor-bom:<span class="token expression"><span class="token punctuation">$</span><span class="token punctuation">&#123;</span>reactorNettyVersion<span class="token punctuation">&#125;</span></span>"</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><blockquote><p>ìŠ¤í”„ë§ ë¶€íŠ¸ 2.4 ë¶€í„° ë³€ê²½ëœ ì‚¬í•­ì— ëŒ€í•´ì„œ ê²€í† í•˜ì—¬ì•¼í•©ë‹ˆë‹¤.</p></blockquote><p>ì•„ì‰½ê²Œë„ ìŠ¤í”„ë§ ë¶€íŠ¸ ë²„ì „ê³¼ ìŠ¤í”„ë§ í´ë¼ìš°ë“œ ë²„ì „ì„ ì—…ê·¸ë ˆì´ë“œ í•˜ê³ ë‚˜ì„œëŠ” Content-Lengthì— ë³µìˆ˜ë¡œ ì„¤ì •ë˜ë˜ íŒŒì¼ë“¤ì´ ì •ìƒì ìœ¼ë¡œ ë‹¨ì¼ ê°’ìœ¼ë¡œ ì²˜ë¦¬ë˜ì–´ allowDuplicateContentLengths ì ìš©ì´ í•„ìš”í•˜ì§€ ì•Šì€ ìƒíƒœê°€ ë˜ì—ˆìŠµë‹ˆë‹¤. ë§Œì•½, allowDuplicateContentLengths ì ìš©ì´ í•„ìš”í•˜ë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ HttpClientCustomzierë¥¼ í†µí•´ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Component</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NettyHttpClientCustomizer</span> <span class="token keyword">implements</span> <span class="token class-name">HttpClientCustomizer</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">HttpClient</span> <span class="token function">customize</span><span class="token punctuation">(</span><span class="token class-name">HttpClient</span> httpClient<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> httpClient<span class="token punctuation">.</span><span class="token function">httpResponseDecoder</span><span class="token punctuation">(</span>decoderSpec <span class="token operator">-></span>             decoderSpec                <span class="token punctuation">.</span><span class="token function">allowDuplicateContentLengths</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>        <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>ì´ ë‚´ìš©ì€ Okky ì»¤ë®¤ë‹ˆí‹°ì— <a href="https://okky.kr/article/1122985">Spring Cloud Hoxtonì˜ Spring Cloud Gatewayì—ì„œëŠ” allowDuplicateContentLengthsì„ ì§€ì›í•˜ì§€ ì•ŠìŒ</a>ë¡œ ê³µìœ ë˜ì—ˆìŒì„ ì•Œë ¤ë“œë¦¬ë©° ë§ˆì¹˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p><p>ê°ì‚¬í•©ë‹ˆë‹¤.</p><blockquote><p><a href="https://github.com/reactor/reactor-netty/issues/1942">https://github.com/reactor/reactor-netty/issues/1942</a><br>Reactor Netty ì¸¡ì— 0.9.x ì‚¬ìš©ìë“¤ì„ ìœ„í•´ ìˆ˜ì • ìš”ì²­í•˜ì˜€ìœ¼ë‚˜ ì—…ë°ì´íŠ¸ ì¤‘ë‹¨ëœ ë²„ì „ì¸ ì‚¬ìœ ë¡œ ê±°ë¶€ë˜ì—ˆìŠµë‹ˆë‹¤.</p></blockquote><h2 id="ì°¸ê³ "><a href="#ì°¸ê³ " class="headerlink" title="ì°¸ê³ "></a>ì°¸ê³ </h2><ul><li><a href="https://datatracker.ietf.org/doc/html/rfc7230">RFC 7230</a>  </li><li><a href="https://spring.io/projects/spring-cloud">Spring Cloud Release train Spring Boot compatibility</a></li><li><a href="https://github.com/spring-cloud/spring-cloud-gateway">spring-cloud&#x2F;spring-cloud-gateway</a></li><li><a href="https://github.com/reactor/reactor-netty/releases/tag/v1.0.8">Reactor Netty 1.0.8 Release</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ì•ˆë…•í•˜ì„¸ìš” Mambo ì…ë‹ˆë‹¤.&lt;/p&gt;
&lt;p&gt;ì˜¤ëŠ˜ì€ ìŠ¤í”„ë§ í´ë¼ìš°ë“œ ê²Œì´íŠ¸ì›¨ì´ì—ì„œ ë°œìƒí•˜ëŠ” Content-Length í—¤ë”ì˜ ê°’ì´ ë‹¨ì¼ì´ ì•„ë‹Œ ë³µìˆ˜ë¡œ ì§€ì •ë  ë•Œ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜ì— ëŒ€í•´ ë‹¤ë£¨ì–´ë³´ë ¤ê³  í•©ë‹ˆë‹¤.&lt;/p&gt;
&lt;h2 id=&quot;RFC-7230&quot;&gt;&lt;a</summary>
      
    
    
    
    
    <category term="Spring Cloud Gateway" scheme="https://kdevkr.github.io/tags/Spring-Cloud-Gateway/"/>
    
    <category term="RFC 7230" scheme="https://kdevkr.github.io/tags/RFC-7230/"/>
    
    <category term="Reactor Netty" scheme="https://kdevkr.github.io/tags/Reactor-Netty/"/>
    
  </entry>
  
  <entry>
    <title>ê·¸ë˜ë“¤ ë©€í‹° ëª¨ë“ˆ í”„ë¡œì íŠ¸</title>
    <link href="https://kdevkr.github.io/gradle-multi-module-project/"/>
    <id>https://kdevkr.github.io/gradle-multi-module-project/</id>
    <published>2021-12-10T00:00:00.000Z</published>
    <updated>2022-03-19T05:27:27.228Z</updated>
    
    <content type="html"><![CDATA[<p>ì•ˆë…•í•˜ì„¸ìš” Mambo ì…ë‹ˆë‹¤.</p><p>ì˜¤ëŠ˜ì€ ê·¸ë˜ë“¤ ë©€í‹° ëª¨ë“ˆ í”„ë¡œì íŠ¸ì˜ ë””íœë˜ì‹œ ê³µìœ ì— ëŒ€í•˜ì—¬ ì´ì•¼ê¸° í•´ë³´ë ¤ê³  í•©ë‹ˆë‹¤. </p><h2 id="ê·¸ë˜ë“¤-ë©€í‹°-ëª¨ë“ˆ"><a href="#ê·¸ë˜ë“¤-ë©€í‹°-ëª¨ë“ˆ" class="headerlink" title="ê·¸ë˜ë“¤ ë©€í‹° ëª¨ë“ˆ"></a>ê·¸ë˜ë“¤ ë©€í‹° ëª¨ë“ˆ</h2><p>ì„œë¹„ìŠ¤ì˜ ê·œëª¨ê°€ ì–´ëŠì •ë„ ì»¤ì§€ê²Œë˜ë©´ ëª¨ë†€ë¦¬ì‹ ì•„í‚¤í…ì²˜ë¡œì¨ ì„œë¹„ìŠ¤ì— ëŒ€í•œ ëª¨ë“  ê¸°ëŠ¥ì´ í•˜ë‚˜ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì— êµ¬í˜„í•˜ëŠ” ê²ƒì„ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ë¥¼ ì°¸ê³ í•˜ì—¬ ì¼ë¶€ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ëŠ” ë³„ë„ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ë¡œ ë…ë¦½ì‹œí‚¤ê¸°ë„ í•©ë‹ˆë‹¤. í˜„ì¬ ë‹¤ë‹ˆê³  ìˆëŠ” íšŒì‚¬ì—ì„œëŠ” ëª¨ë†€ë¦¬ì‹ ì•„í‚¤í…ì²˜ë¡œ ê°œë°œí•˜ê³  ìˆëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì—¬ëŸ¬ ê³ ê°ë“¤ì˜ í™˜ê²½ì— ë§ëŠ” ë°°í¬ ë˜ëŠ” ë³„ë„ì˜ ì»¤ìŠ¤í…€ ê¸°ëŠ¥ì„ ì§€ì›í•˜ê¸° ìœ„í•˜ì—¬ <strong>ê·¸ë˜ë“¤ ë©€í‹° ëª¨ë“ˆ í”„ë¡œì íŠ¸</strong>ë¡œ ì „í™˜í•˜ì˜€ìŠµë‹ˆë‹¤.</p><h3 id="Java-ë¼ì´ë¸ŒëŸ¬ë¦¬-í”ŒëŸ¬ê·¸ì¸"><a href="#Java-ë¼ì´ë¸ŒëŸ¬ë¦¬-í”ŒëŸ¬ê·¸ì¸" class="headerlink" title="Java ë¼ì´ë¸ŒëŸ¬ë¦¬ í”ŒëŸ¬ê·¸ì¸"></a>Java ë¼ì´ë¸ŒëŸ¬ë¦¬ í”ŒëŸ¬ê·¸ì¸</h3><p>ê³µìš© ëª¨ë“ˆì—ì„œ ì‚¬ìš©í•˜ëŠ” ë””íœë˜ì‹œë¥¼ ìƒìœ„ ëª¨ë“ˆì—ì„œë„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ìë°” í”ŒëŸ¬ê·¸ì¸ ëŒ€ì‹  ìë°” ë¼ì´ë¸ŒëŸ¬ë¦¬ í”ŒëŸ¬ê·¸ì¸ì„ ì ìš©í•˜ê³  <code>api</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ ì§€ì •ëœ ë””íœë˜ì‹œë¥¼ ì™¸ë¶€ ëª¨ë“ˆì˜ ì»´íŒŒì¼ í´ë˜ìŠ¤íŒ¨ìŠ¤ì— ë…¸ì¶œì‹œì¼œì•¼í•©ë‹ˆë‹¤. Gradle 7 ë¶€í„°ëŠ” <code>compile</code>ì„ ì§€ì›í•˜ì§€ ì•Šìœ¼ë©° <code>implementation</code>ì€ ì§€ì •í•œ ë””íœë˜ì‹œë¥¼ ì™¸ë¶€ ëª¨ë“ˆì— ë…¸ì¶œì‹œí‚¤ì§€ ì•ŠìŠµë‹ˆë‹¤.</p><blockquote><p>The compile and runtime configurations have been removed with Gradle 7.0. Please refer to the upgrade guide how to migrate to implementation and api configurations&#96;.</p></blockquote><pre class="language-groovy" data-language="groovy"><code class="language-groovy"><span class="token comment">// module-common/build.gradle</span>plugins <span class="token punctuation">&#123;</span>    id <span class="token string">'java-library'</span>    id <span class="token string">'io.spring.dependency-management'</span><span class="token punctuation">&#125;</span>dependencies <span class="token punctuation">&#123;</span>    api <span class="token string">'com.google.code.gson:gson'</span><span class="token punctuation">&#125;</span></code></pre><p>common ëª¨ë“ˆì˜ gson ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” apië¥¼ í†µí•´ ìƒìœ„ ëª¨ë“ˆì˜ í´ë˜ìŠ¤íŒ¨ìŠ¤ì— ë…¸ì¶œë˜ì–´ ìƒìœ„ ëª¨ë“ˆì—ì„œë„ ì‚¬ìš©ì´ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ implementationì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ì™¸ë¶€ ëª¨ë“ˆ í´ë˜ìŠ¤íŒ¨ìŠ¤ì— ë…¸ì¶œì‹œí‚¤ì§€ ì•ŠëŠ” ì´ìœ ëŠ” ë¹ ë¥¸ ì»´íŒŒì¼ê³¼ í´ë˜ìŠ¤íŒ¨ìŠ¤ ì‚¬ì´ì¦ˆë¥¼ ì¤„ì´ê¸° ìœ„í•¨ì´ë©° api ë³´ë‹¤ëŠ” implementationì„ ì„ í˜¸í•´ì•¼í•œë‹¤ê³  í•©ë‹ˆë‹¤.</p><h3 id="Common-Module"><a href="#Common-Module" class="headerlink" title="Common Module"></a>Common Module</h3><p><a href="https://github.com/kdevkr/gradle-multi-module">gradle-multi-module</a> ì²˜ëŸ¼ ê·¸ë˜ë“¤ ë©€í‹° ëª¨ë“ˆ í”„ë¡œì íŠ¸ì— ê³µìš©ìœ¼ë¡œ ì ìš©ë˜ëŠ” ì½”ë“œë¥¼ ê°€ì§€ëŠ” Common ëª¨ë“ˆì´ ìˆì„ë•Œ ë‹¤ìŒê³¼ ê°™ì´ ê³µí†µìœ¼ë¡œ ì ìš©ë˜ì–´ì•¼í•˜ëŠ” ì„¤ì •ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token punctuation">(</span>proxyBeanMethods <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JsonConfig</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">Jackson2ObjectMapperBuilderCustomizer</span> <span class="token function">objectMapperBuilderCustomizer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> builder <span class="token operator">-></span> builder                <span class="token punctuation">.</span><span class="token function">featuresToEnable</span><span class="token punctuation">(</span><span class="token class-name">SerializationFeature</span><span class="token punctuation">.</span>WRITE_DATES_AS_TIMESTAMPS<span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">featuresToDisable</span><span class="token punctuation">(</span><span class="token class-name">SerializationFeature</span><span class="token punctuation">.</span>WRITE_DATE_TIMESTAMPS_AS_NANOSECONDS<span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">modules</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Jdk8Module</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">JavaTimeModule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>ìœ„ ì½”ë“œì—ì„œëŠ” Date ë˜ëŠ” Timestampì™€ ê°™ì€ í´ë˜ìŠ¤ì— ëŒ€í•˜ì—¬ Long ê°’ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ê¸°ëŠ¥ì„ í™œì„±í™”í•˜ê¸° ìœ„í•˜ì—¬ SerializationFeature.WRITE_DATES_AS_TIMESTAMPSë¥¼ ì ìš©í•˜ì˜€ìŠµë‹ˆë‹¤. </p><h4 id="Common-Dependencies"><a href="#Common-Dependencies" class="headerlink" title="Common Dependencies"></a>Common Dependencies</h4><pre class="language-groovy" data-language="groovy"><code class="language-groovy">plugins <span class="token punctuation">&#123;</span>    id <span class="token string">'java-library'</span><span class="token punctuation">&#125;</span>dependencies <span class="token punctuation">&#123;</span>    api <span class="token string">'org.springframework.boot:spring-boot-starter-security'</span>    api <span class="token string">'com.google.code.gson:gson'</span>    api <span class="token string">'com.fasterxml.jackson.core:jackson-databind'</span>    api <span class="token string">'org.hibernate.validator:hibernate-validator'</span>    api <span class="token string">'org.apache.commons:commons-lang3'</span>    api <span class="token string">'org.apache.commons:commons-collections4:4.4'</span>    api <span class="token string">'com.google.guava:guava:31.0.1-jre'</span><span class="token punctuation">&#125;</span></code></pre><p>ìœ„ ì„¤ì •ì²˜ëŸ¼ implementation ëŒ€ì‹ ì— apië¥¼ ì‚¬ìš©í•˜ë©´ ë™ì¼í•œ ë²„ì „ì˜ ë””íœë˜ì‹œë¥¼ ë‹¤ë¥¸ ì™¸ë¶€ ëª¨ë“ˆì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í´ë˜ìŠ¤íŒ¨ìŠ¤ì— ë…¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ê° ëª¨ë“ˆì—ì„œ ì‚¬ìš©ë˜ëŠ” ë””íœë˜ì‹œ ë²„ì „ì´ ë‹¬ë¼ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë¬¸ì œë¥¼ ë°©ì§€í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.</p><h2 id="ì°¸ê³ "><a href="#ì°¸ê³ " class="headerlink" title="ì°¸ê³ "></a>ì°¸ê³ </h2><ul><li><a href="https://docs.gradle.org/current/userguide/dependency_management_for_java_projects.html">Managing Dependencies of JVM Projects</a>  </li><li><a href="https://docs.gradle.org/current/userguide/java_library_plugin.html#sec:java_library_configurations_graph">The Java Library Plugin</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ì•ˆë…•í•˜ì„¸ìš” Mambo ì…ë‹ˆë‹¤.&lt;/p&gt;
&lt;p&gt;ì˜¤ëŠ˜ì€ ê·¸ë˜ë“¤ ë©€í‹° ëª¨ë“ˆ í”„ë¡œì íŠ¸ì˜ ë””íœë˜ì‹œ ê³µìœ ì— ëŒ€í•˜ì—¬ ì´ì•¼ê¸° í•´ë³´ë ¤ê³  í•©ë‹ˆë‹¤. &lt;/p&gt;
&lt;h2 id=&quot;ê·¸ë˜ë“¤-ë©€í‹°-ëª¨ë“ˆ&quot;&gt;&lt;a href=&quot;#ê·¸ë˜ë“¤-ë©€í‹°-ëª¨ë“ˆ&quot; class=&quot;headerlink&quot; ti</summary>
      
    
    
    
    
    <category term="Gradle" scheme="https://kdevkr.github.io/tags/Gradle/"/>
    
  </entry>
  
  <entry>
    <title>KDB+</title>
    <link href="https://kdevkr.github.io/kdbplus/"/>
    <id>https://kdevkr.github.io/kdbplus/</id>
    <published>2021-11-05T00:00:00.000Z</published>
    <updated>2022-03-19T05:27:27.228Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ì´ ê¸€ì€ KDB+ë¼ëŠ” ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ í™œìš©í•˜ë©´ì„œ êµ­ë‚´ ë ˆí¼ëŸ°ìŠ¤ë¥¼ ì°¾ì•„ë³¼ ìˆ˜ ì—†ëŠ” ë¬¸ì œë¡œ ì¸í•˜ì—¬ ë³„ë„ë¡œ ì •ë¦¬í•œ ë‚´ìš©ì…ë‹ˆë‹¤. ë”°ë¼ì„œ, ì „ë¬¸ì ìœ¼ë¡œ í™œìš©í•˜ëŠ” ìˆ˜ì¤€ì€ ì•„ë‹ˆë¯€ë¡œ ì˜ëª»ëœ ì •ë³´ê°€ í¬í•¨ë˜ì–´ìˆì„ ìˆ˜ ìˆìŒì„ ì•Œë ¤ë“œë¦½ë‹ˆë‹¤. KDB+ì— ëŒ€í•œ ë” ìì„¸í•œ ë‚´ìš©ì€ <a href="https://github.com/kdevkr/kdb%EB%A5%BC">https://github.com/kdevkr/kdbë¥¼</a> ì°¸ê³ í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.</p></blockquote><h2 id="KDB"><a href="#KDB" class="headerlink" title="KDB+"></a>KDB+</h2><p><a href="https://kx.com/">KDB+</a>ëŠ” KxSystemsë¼ëŠ” íšŒì‚¬ì—ì„œ ê°œë°œí•˜ê³  ì œê³µí•˜ëŠ” ìƒìš© ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ì…ë‹ˆë‹¤. ë©”ëª¨ë¦¬ ì—”ì§„ì„ ì‚¬ìš©í•˜ë¯€ë¡œ ë°ì´í„°ë¥¼ ë„£ê±°ë‚˜ ì—°ì‚°ì„ ìˆ˜í–‰í•˜ëŠ” ì‹œê°„ì´ êµ‰ì¥íˆ ì§§ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ q ë¼ëŠ” ìì²´ì ìœ¼ë¡œ ê³ ì•ˆí•œ ì–¸ì–´ì— ëŒ€í•´ì„œ ì´í•´í•´ì•¼í•´ì„œ ëŸ¬ë‹ì»¤ë¸Œì— ëŒ€í•œ ë‹¨ì ì´ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë‹¤ìŒì€ KxSystemsì—ì„œ ê¶Œì¥í•˜ëŠ” <a href="https://github.com/KxSystems/kdb-tick/blob/master/tick.q">Tickerplantë¼ëŠ” ì•„í‚¤í…ì²˜ì˜ ìŠ¤í¬ë¦½íŠ¸ ì¼ë¶€ë¶„</a>ì…ë‹ˆë‹¤.</p><pre class="language-q" data-language="q"><code class="language-q">ld<span class="token verb operator">:</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">[</span><span class="token keyword">not</span> <span class="token keyword">type</span> <span class="token keyword">key</span> L<span class="token verb operator">::</span><span class="token symbol">`</span><span class="token verb operator">$</span><span class="token punctuation">(</span><span class="token verb operator">-</span><span class="token number">10</span>_string L<span class="token punctuation">)</span><span class="token verb operator">,</span><span class="token keyword">string</span> x<span class="token punctuation">;</span><span class="token verb operator">.</span><span class="token punctuation">[</span>L<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token verb operator">:</span><span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>i<span class="token verb operator">::</span>j<span class="token verb operator">::</span><span class="token verb operator">-</span><span class="token number">11</span><span class="token verb operator">!</span><span class="token punctuation">(</span><span class="token verb operator">-</span><span class="token number">2</span><span class="token punctuation">;</span>L<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token verb operator">&lt;=</span><span class="token keyword">type</span> i<span class="token punctuation">;</span><span class="token verb operator">-</span><span class="token number">2</span> <span class="token punctuation">(</span><span class="token keyword">string</span> L<span class="token punctuation">)</span><span class="token verb operator">,</span><span class="token string">" is a corrupt log. Truncate to length "</span><span class="token verb operator">,</span><span class="token punctuation">(</span><span class="token keyword">string</span> <span class="token keyword">last</span> i<span class="token punctuation">)</span><span class="token verb operator">,</span><span class="token string">" and restart"</span><span class="token punctuation">;</span><span class="token keyword">exit</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">hopen</span> L<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>tick<span class="token verb operator">:</span><span class="token punctuation">&#123;</span>init<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">[</span><span class="token keyword">not</span> <span class="token keyword">min</span><span class="token punctuation">(</span><span class="token symbol">`time</span><span class="token symbol">`sym</span><span class="token verb operator">~</span><span class="token number">2</span><span class="token verb operator">#</span><span class="token keyword">key</span> <span class="token keyword">flip</span> <span class="token keyword">value</span><span class="token verb operator">@</span><span class="token punctuation">)</span><span class="token adverb function">each</span> t<span class="token punctuation">;</span><span class="token adverb function">'</span><span class="token symbol">`timesym</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token verb operator">@</span><span class="token punctuation">[</span><span class="token punctuation">;</span><span class="token symbol">`sym</span><span class="token punctuation">;</span><span class="token symbol">`g</span><span class="token verb operator">#</span><span class="token punctuation">]</span><span class="token adverb function">each</span> t<span class="token punctuation">;</span>d<span class="token verb operator">::</span><span class="token punctuation">.</span>z<span class="token punctuation">.</span>D<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">[</span>l<span class="token verb operator">::</span><span class="token keyword">count</span> y<span class="token punctuation">;</span>L<span class="token verb operator">::</span><span class="token symbol">`</span><span class="token verb operator">$</span><span class="token string">":"</span><span class="token verb operator">,</span>y<span class="token verb operator">,</span><span class="token string">"/"</span><span class="token verb operator">,</span>x<span class="token verb operator">,</span><span class="token number">10</span><span class="token verb operator">#</span><span class="token string">"."</span><span class="token punctuation">;</span>l<span class="token verb operator">::</span>ld d<span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>endofday<span class="token verb operator">:</span><span class="token punctuation">&#123;</span>end d<span class="token punctuation">;</span>d<span class="token verb operator">+:</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">[</span>l<span class="token punctuation">;</span><span class="token keyword">hclose</span> l<span class="token punctuation">;</span>l<span class="token verb operator">::</span><span class="token number">0</span><span class="token punctuation">(</span><span class="token symbol">`.u.ld</span><span class="token punctuation">;</span>d<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>ts<span class="token verb operator">:</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">[</span>d<span class="token verb operator">&lt;</span>x<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">[</span>d<span class="token verb operator">&lt;</span>x<span class="token verb operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">system</span><span class="token string">"t 0"</span><span class="token punctuation">;</span><span class="token adverb function">'</span><span class="token string">"more than one day?"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>endofday<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">[</span><span class="token keyword">system</span><span class="token string">"t"</span><span class="token punctuation">;</span> <span class="token punctuation">.</span>z<span class="token punctuation">.</span>ts<span class="token verb operator">:</span><span class="token punctuation">&#123;</span>pub<span class="token adverb function">'</span><span class="token punctuation">[</span>t<span class="token punctuation">;</span><span class="token keyword">value</span> <span class="token adverb function">each</span> t<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token verb operator">@</span><span class="token punctuation">[</span><span class="token symbol">`.</span><span class="token punctuation">;</span>t<span class="token punctuation">;</span><span class="token verb operator">@</span><span class="token punctuation">[</span><span class="token punctuation">;</span><span class="token symbol">`sym</span><span class="token punctuation">;</span><span class="token symbol">`g</span><span class="token verb operator">#</span><span class="token punctuation">]</span><span class="token number">0</span><span class="token verb operator">#</span><span class="token punctuation">]</span><span class="token punctuation">;</span>i<span class="token verb operator">::</span>j<span class="token punctuation">;</span>ts <span class="token punctuation">.</span>z<span class="token punctuation">.</span>D<span class="token punctuation">&#125;</span><span class="token punctuation">;</span> upd<span class="token verb operator">:</span><span class="token punctuation">&#123;</span><span class="token punctuation">[</span>t<span class="token punctuation">;</span>x<span class="token punctuation">]</span> <span class="token keyword">if</span><span class="token punctuation">[</span><span class="token keyword">not</span> <span class="token verb operator">-</span><span class="token number">16</span><span class="token verb operator">=</span><span class="token keyword">type</span> <span class="token keyword">first</span> <span class="token keyword">first</span> x<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">[</span>d<span class="token verb operator">&lt;</span><span class="token string">"d"</span><span class="token verb operator">$</span>a<span class="token verb operator">:</span><span class="token punctuation">.</span>z<span class="token punctuation">.</span>P<span class="token punctuation">;</span><span class="token punctuation">.</span>z<span class="token punctuation">.</span>ts<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>a<span class="token verb operator">:</span><span class="token string">"n"</span><span class="token verb operator">$</span>a<span class="token punctuation">;</span>x<span class="token verb operator">:</span><span class="token verb operator">$</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token verb operator">></span><span class="token keyword">type</span> <span class="token keyword">first</span> x<span class="token punctuation">;</span>a<span class="token verb operator">,</span>x<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token keyword">enlist</span><span class="token punctuation">(</span><span class="token keyword">count</span> <span class="token keyword">first</span> x<span class="token punctuation">)</span><span class="token verb operator">#</span>a<span class="token punctuation">)</span><span class="token verb operator">,</span>x<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> t <span class="token keyword">insert</span> x<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">[</span>l<span class="token punctuation">;</span>l <span class="token keyword">enlist</span> <span class="token punctuation">(</span><span class="token symbol">`upd</span><span class="token punctuation">;</span>t<span class="token punctuation">;</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>j<span class="token verb operator">+:</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">[</span><span class="token keyword">not</span> <span class="token keyword">system</span><span class="token string">"t"</span><span class="token punctuation">;</span><span class="token keyword">system</span><span class="token string">"t 1000"</span><span class="token punctuation">;</span> <span class="token punctuation">.</span>z<span class="token punctuation">.</span>ts<span class="token verb operator">:</span><span class="token punctuation">&#123;</span>ts <span class="token punctuation">.</span>z<span class="token punctuation">.</span>D<span class="token punctuation">&#125;</span><span class="token punctuation">;</span> upd<span class="token verb operator">:</span><span class="token punctuation">&#123;</span><span class="token punctuation">[</span>t<span class="token punctuation">;</span>x<span class="token punctuation">]</span>ts<span class="token string">"d"</span><span class="token verb operator">$</span>a<span class="token verb operator">:</span><span class="token punctuation">.</span>z<span class="token punctuation">.</span>P<span class="token punctuation">;</span> <span class="token keyword">if</span><span class="token punctuation">[</span><span class="token keyword">not</span> <span class="token verb operator">-</span><span class="token number">16</span><span class="token verb operator">=</span><span class="token keyword">type</span> <span class="token keyword">first</span> <span class="token keyword">first</span> x<span class="token punctuation">;</span>a<span class="token verb operator">:</span><span class="token string">"n"</span><span class="token verb operator">$</span>a<span class="token punctuation">;</span>x<span class="token verb operator">:</span><span class="token verb operator">$</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token verb operator">></span><span class="token keyword">type</span> <span class="token keyword">first</span> x<span class="token punctuation">;</span>a<span class="token verb operator">,</span>x<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token keyword">enlist</span><span class="token punctuation">(</span><span class="token keyword">count</span> <span class="token keyword">first</span> x<span class="token punctuation">)</span><span class="token verb operator">#</span>a<span class="token punctuation">)</span><span class="token verb operator">,</span>x<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> f<span class="token verb operator">:</span><span class="token keyword">key</span> <span class="token keyword">flip</span> <span class="token keyword">value</span> t<span class="token punctuation">;</span>pub<span class="token punctuation">[</span>t<span class="token punctuation">;</span><span class="token verb operator">$</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token verb operator">></span><span class="token keyword">type</span> <span class="token keyword">first</span> x<span class="token punctuation">;</span><span class="token keyword">enlist</span> f<span class="token verb operator">!</span>x<span class="token punctuation">;</span><span class="token keyword">flip</span> f<span class="token verb operator">!</span>x<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">[</span>l<span class="token punctuation">;</span>l <span class="token keyword">enlist</span> <span class="token punctuation">(</span><span class="token symbol">`upd</span><span class="token punctuation">;</span>t<span class="token punctuation">;</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token verb operator">+:</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p>KDB+ì—ì„œëŠ” që¼ëŠ” ì–¸ì–´ë¡œ ì‘ì„±ëœ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ìœ„ì²˜ëŸ¼ KxSystemsì—ì„œ ì œê³µí•˜ëŠ” ìƒ˜í”Œ ìŠ¤í¬ë¦½íŠ¸ê°€ ì¡´ì¬í•˜ê¸°ëŠ” í•˜ì§€ë§Œ ì½”ë“œì— ëŒ€í•œ ì„¤ëª…ì´ ì—†ìœ¼ë¯€ë¡œ ìœ„ ì½”ë“œë¥¼ ì´í•´í•˜ëŠ” ê±´ ì „ë¶€ ì‚¬ìš©ìì¸ ê°œë°œìì˜ ëª«ì´ë©° ì´ë¡œ ì¸í•˜ì—¬ ëŸ¬ë‹ì»¤ë¸Œê°€ ë†’ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì €ëŠ” Q ì–¸ì–´ì— ëŒ€í•œ íŠœí† ë¦¬ì–¼ì„ ì œê³µí•  ì˜ë„ê°€ ì•„ë‹ˆë¯€ë¡œ ê³µì‹ ë ˆí¼ëŸ°ìŠ¤ì—ì„œ ì œê³µí•˜ëŠ” ì •ë³´ë¥¼ ì°¸ê³ í•˜ë©´ì„œ ì•Œê²Œë˜ê±°ë‚˜ ëŠë‚€ì ì„ ê³µìœ í•´ë³´ë ¤ê³  í•©ë‹ˆë‹¤.</p><blockquote><p>Q ì–¸ì–´ì— ëŒ€í•´ì„œ ê¶ê¸ˆí•˜ì‹œë‹¤ë©´ <a href="https://code.kx.com/q/basics/by-topic/">Q language resources by topic</a>ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.</p></blockquote><h3 id="q-í”„ë¡œì„¸ìŠ¤"><a href="#q-í”„ë¡œì„¸ìŠ¤" class="headerlink" title="q í”„ë¡œì„¸ìŠ¤"></a>q í”„ë¡œì„¸ìŠ¤</h3><p>KDB+&#x2F;q í”„ë¡œì„¸ìŠ¤ëŠ” Windows, Mac OSX, Linux ìš´ì˜ì²´ì œì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•©ë‹ˆë‹¤. ìš´ì˜ì²´ì œì— ë”°ë¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ ëª‡ê°€ì§€ ë¶€ë¶„ì— ëŒ€í•´ì„œ ë‹¤ë¥¼ ìˆ˜ëŠ” ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë¦¬ëˆ…ìŠ¤ ìš´ì˜ì²´ì œì—ì„œëŠ” <a href="https://code.kx.com/q4m3/11_IO/#116-interprocess-communication">í”„ë¡œì„¸ìŠ¤ í†µì‹ </a>ì„ ìœ„í•´ TCP&#x2F;IPë¥¼ ì‚¬ìš©í•  ë•Œ ìœ ë‹‰ìŠ¤ ë„ë©”ì¸ ì†Œì¼“ ë°©ì‹ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><h4 id="ì‹¤í–‰-í™˜ê²½-ë³€ìˆ˜"><a href="#ì‹¤í–‰-í™˜ê²½-ë³€ìˆ˜" class="headerlink" title="ì‹¤í–‰ í™˜ê²½ ë³€ìˆ˜"></a>ì‹¤í–‰ í™˜ê²½ ë³€ìˆ˜</h4><p>KDB+ì˜ q í”„ë¡œì„¸ìŠ¤ëŠ” ì‹¤í–‰ë˜ëŠ” ì‹œì ì— QHOME, QLIC, QINIT í™˜ê²½ ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•©ë‹ˆë‹¤. </p><ul><li>QHOME: KDB í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•˜ì—¬ ë¶€íŠ¸ìŠ¤íŠ¸ë©í•  q.k íŒŒì¼ì„ ì°¾ëŠ” ê²½ë¡œì…ë‹ˆë‹¤.</li><li>QLIC: KDB í”„ë¡œì„¸ìŠ¤ì—ì„œ ì‚¬ìš©í•  ë¼ì´ì„¼ìŠ¤ íŒŒì¼ì„ ì§€ì •í•©ë‹ˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ QHOME ê²½ë¡œì—ì„œ kc.lic íŒŒì¼ì„ ìš”êµ¬í•©ë‹ˆë‹¤.</li><li>QINIT: q.k íŒŒì¼ì´ ë¶€íŠ¸ìŠ¤íŠ¸ë©ëœ ì´í›„ì— ë£¨íŠ¸ ì»¨í…ìŠ¤íŠ¸ ìœ„ì¹˜ì—ì„œ ì‹¤í–‰ë  ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì…ë‹ˆë‹¤. ì´ í™˜ê²½ë³€ìˆ˜ê°€ ì •ì˜ë˜ì§€ ì•Šìœ¼ë©´ QHOME ìœ„ì¹˜ì—ì„œ q.q íŒŒì¼ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.</li></ul><h4 id="í”„ë¡œì„¸ìŠ¤-ì‹¤í–‰-ì¸ìˆ˜"><a href="#í”„ë¡œì„¸ìŠ¤-ì‹¤í–‰-ì¸ìˆ˜" class="headerlink" title="í”„ë¡œì„¸ìŠ¤ ì‹¤í–‰ ì¸ìˆ˜"></a>í”„ë¡œì„¸ìŠ¤ ì‹¤í–‰ ì¸ìˆ˜</h4><p>ê³µì‹ ë¬¸ì„œì˜ <a href="https://code.kx.com/q/basics/cmdline/">ì»¤ë§¨ë“œ ë¼ì¸ ì˜µì…˜</a>ì„ ì°¸ê³ í•˜ë©´ í”„ë¡œì„¸ìŠ¤ ì‹¤í–‰ ì‹œ ì ìš©í•  ìˆ˜ ìˆëŠ” ì¸ìˆ˜ ì˜µì…˜ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹¤í–‰í•  ë•Œ ì§€ì •í•˜ëŠ” ì˜µì…˜ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.</p><pre class="language-q" data-language="q"><code class="language-q"><span class="token comment">// -p: ìˆ˜ì‹  í¬íŠ¸</span><span class="token comment">// -s: ë³‘ë ¬ ì²˜ë¦¬ ì‹œ ì‚¬ìš©ë  ë³´ì¡° ìŠ¤ë ˆë“œ</span>q script<span class="token punctuation">.</span>q <span class="token verb operator">-</span>p <span class="token number">5000</span> <span class="token verb operator">-</span>s <span class="token number">8</span></code></pre><p>í”„ë¡œì„¸ìŠ¤ ì‹¤í–‰ ì‹œ ë³´ì¡° ìŠ¤ë ˆë“œ ì˜µì…˜ì„ ì§€ì •í•´ì•¼ ìŠ¤ë ˆë“œê°€ í™œì„±í™”ë˜ë©° REPLì—ì„œë§Œ ë™ì‘í•©ë‹ˆë‹¤. ë”°ë¼ì„œ, ë°±ê·¸ë¼ìš´ë“œ ë°ëª¬ í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹¤í–‰í•˜ëŠ” ê²½ìš° ë³´ì¡° ìŠ¤ë ˆë“œ ìˆ˜ë¥¼ ë™ì ìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì•„ë˜ì™€ ê°™ì´ í´ë¼ì´ì–¸íŠ¸ë¥¼ í†µí•´ q í”„ë¡œì„¸ìŠ¤ì— ë³´ì¡° ìŠ¤ë ˆë“œ ìˆ˜ë¥¼ ë³€ê²½í•˜ê¸° ìœ„í•œ ì‹œìŠ¤í…œ ëª…ë ¹ì„ ì „ë‹¬í•˜ëŠ” ê²½ìš° ì˜¤ë¥˜ê°€ ë°œìƒí•©ë‹ˆë‹¤.</p><pre class="language-q" data-language="q"><code class="language-q">q<span class="token punctuation">)</span><span class="token keyword">\s</span> <span class="token number">4</span><span class="token adverb function">'</span>enable secondary threads via cmd line <span class="token verb operator">-</span>s only</code></pre><h4 id="í”„ë¡œì„¸ìŠ¤-ì¢…ë£Œ"><a href="#í”„ë¡œì„¸ìŠ¤-ì¢…ë£Œ" class="headerlink" title="í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ"></a>í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ</h4><p>REPL ì„¸ì…˜ ë˜ëŠ” ì—°ê²°ëœ í´ë¼ì´ì–¸íŠ¸ì—ì„œ <a href="https://code.kx.com/q/basics/syscmds/#quit">\</a>ë¥¼ ì…ë ¥í•˜ê±°ë‚˜ <a href="https://code.kx.com/q/ref/exit/">exit 0</a>ì„ ì…ë ¥í•´ì„œ í”„ë¡œì„¸ìŠ¤ë¥¼ ì¢…ë£Œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. </p><pre class="language-q" data-language="q"><code class="language-q"><span class="token adverb function">\</span><span class="token adverb function">\</span><span class="token adverb function">\</span><span class="token keyword">exit</span> <span class="token number">0</span>sublime<span class="token verb operator">-</span>q <span class="token verb operator">></span><span class="token verb operator">></span> í˜„ì¬ ì—°ê²°ì€ ì›ê²© í˜¸ìŠ¤íŠ¸ì— ì˜í•´ ì—°ê²°ì´ ê°•ì œë¡œ ëŠê²¼ìŠµë‹ˆë‹¤<span class="token verb operator">.</span></code></pre><h3 id="ìŠ¤í¬ë¦½íŠ¸-íŒŒì¼"><a href="#ìŠ¤í¬ë¦½íŠ¸-íŒŒì¼" class="headerlink" title="ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼"></a>ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼</h3><p>REPLì¸ q ì„¸ì…˜ì—ì„œëŠ” ë©€í‹° ë¼ì¸ í‘œí˜„ì‹ì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë”°ë¼ì„œ, <a href="https://code.kx.com/q/learn/tour/scripts/">ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼</a>ì„ ì‘ì„±í•˜ëŠ”ê²Œ ë” íš¨ìœ¨ì ì´ë©° ì„œë¸Œë¼ì„ í…ìŠ¤íŠ¸ì˜ <a href="https://github.com/komsit37/sublime-q">sublime-q</a>ì™€ ê°™ì€ íŒ¨í‚¤ì§€ë¥¼ í™œìš©í•˜ë©´ ì‰½ê²Œ q í”„ë¡œì„¸ìŠ¤ì™€ í†µì‹ í•˜ì—¬ ìƒí˜¸ì‘ìš©ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. ë˜í•œ, ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì„ ì‘ì„±í•´ë‘ë©´ q í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹¤í–‰í•  ë•Œ í•´ë‹¹ ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆë„ë¡ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><pre class="language-q" data-language="q"><code class="language-q">q script<span class="token punctuation">.</span>q <span class="token verb operator">-</span>p <span class="token number">5000</span>KDB<span class="token verb operator">+</span> <span class="token number">4.0</span> <span class="token datetime number">2021.07.12</span> Copyright <span class="token punctuation">(</span>C<span class="token punctuation">)</span> <span class="token number">1993</span><span class="token verb operator">-</span><span class="token number">2021</span> Kx Systemsw64<span class="token adverb function">/</span> <span class="token number">12</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span>core <span class="token number">32700</span>MB Mambo desktop<span class="token verb operator">-</span>ojj4tb3 <span class="token number">192.168</span><span class="token verb operator">.</span><span class="token number">0.2</span> EXPIRE <span class="token datetime number">2022.11.01</span> kdevkr<span class="token verb operator">@</span>gmail<span class="token punctuation">.</span>com KOD <span class="token verb operator">#</span><span class="token number">5006323</span><span class="token datetime number">2021.11.04T22:38:41.153</span> <span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> KDB<span class="token verb operator">+</span> Version<span class="token verb operator">:</span> <span class="token number">4</span><span class="token datetime number">2021.11.04T22:38:41.153</span> <span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> KDB<span class="token verb operator">+</span> ProcessID<span class="token verb operator">:</span> <span class="token number">24388</span><span class="token datetime number">2021.11.04T22:38:41.153</span> <span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> KDB<span class="token verb operator">+</span> License<span class="token verb operator">:</span> <span class="token number">16</span> <span class="token datetime number">2022.11.01</span> <span class="token datetime number">2022.11.01</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> kdevkr<span class="token verb operator">@</span>gmail<span class="token punctuation">.</span>com KOD <span class="token verb operator">#</span><span class="token number">5006323</span> <span class="token number">0</span>The script file loaded after q<span class="token punctuation">.</span>q file<span class="token punctuation">.</span></code></pre><blockquote><p>QINIT ë˜ëŠ” q.q íŒŒì¼ì— ì •ì˜ëœ ìŠ¤í¬ë¦½íŠ¸ëŠ” ë¬´ì¡°ê±´ ì‹¤í–‰ë˜ë¯€ë¡œ ê³µí†µìœ¼ë¡œ ì ìš©ë˜ì–´ì•¼í•˜ëŠ” ì‚¬í•­ì€ QINIT ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì— ì‘ì„±í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.</p></blockquote><h4 id="ìŠ¤í¬ë¦½íŠ¸-ë‚´-í”„ë¡œì„¸ìŠ¤-í†µì‹ "><a href="#ìŠ¤í¬ë¦½íŠ¸-ë‚´-í”„ë¡œì„¸ìŠ¤-í†µì‹ " class="headerlink" title="ìŠ¤í¬ë¦½íŠ¸ ë‚´ í”„ë¡œì„¸ìŠ¤ í†µì‹ "></a>ìŠ¤í¬ë¦½íŠ¸ ë‚´ í”„ë¡œì„¸ìŠ¤ í†µì‹ </h4><p>ìŠ¤í¬ë¦½íŠ¸ ë‚´ì—ì„œ í”„ë¡œì„¸ìŠ¤ í†µì‹ ì„ ìœ„í•´ <a href="https://code.kx.com/q/basics/handles/">Connection handles</a>ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ì¼ë°˜ì ì¸ ë¬¸ìì—´ í˜•íƒœì˜ q í‘œí˜„ì‹ì„ ì „ë‹¬í•˜ëŠ” ê²ƒë³´ë‹¤ëŠ” <a href="https://code.kx.com/q/learn/startingkdb/ipc/">ëŒë‹¤ í•¨ìˆ˜ì™€ íŒŒë¼ë¯¸í„°</a>ë¥¼ ë³´ë‚´ëŠ” ë©”ì‹œì§€ í˜•ì‹ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” íš¨ìœ¨ì ì…ë‹ˆë‹¤.</p><pre class="language-q" data-language="q"><code class="language-q">h<span class="token verb operator">:</span> <span class="token keyword">hopen</span> <span class="token symbol">`::5011;</span>h<span class="token punctuation">(</span><span class="token punctuation">&#123;</span>trades<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token verb operator">::</span><span class="token punctuation">)</span></code></pre><p>ìœ„ì™€ ê°™ì´ í•¨ìˆ˜ì™€ íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬í•˜ëŠ” ê²½ìš° IDEì—ì„œ ì§€ì›í•˜ëŠ” êµ¬ë¬¸ ê°•ì¡°ê°€ ì ìš©ë˜ì–´ ì›í•˜ëŠ” ë°”ë¥¼ ë” ëª…í™•í•˜ê²Œ í™•ì¸í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ë„ ì œê³µë©ë‹ˆë‹¤.</p><h4 id="ì»¤ë§¨ë“œ-ë¼ì¸-íŒŒë¼ë¯¸í„°"><a href="#ì»¤ë§¨ë“œ-ë¼ì¸-íŒŒë¼ë¯¸í„°" class="headerlink" title="ì»¤ë§¨ë“œ ë¼ì¸ íŒŒë¼ë¯¸í„°"></a>ì»¤ë§¨ë“œ ë¼ì¸ íŒŒë¼ë¯¸í„°</h4><p>í”„ë¡œì„¸ìŠ¤ì—ì„œ ì‹¤í–‰í•  ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•  ë•Œ í”„ë¡œì„¸ìŠ¤ ì‹¤í–‰ ì‹œ ì…ë ¥í•´ì•¼í•  ì •ë³´ê°€ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. KDBì—ì„œ ì œê³µí•˜ëŠ” ë¯¸ë¦¬ ì •ì˜ëœ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ í†µí•´ ì»¤ë§¨ë“œ ë¼ì¸ì—ì„œ ì…ë ¥í•œ íŒŒë¼ë¯¸í„°ë¥¼ ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><pre class="language-q" data-language="q"><code class="language-q">q <span class="token verb operator">-</span>p <span class="token number">5000</span> <span class="token verb operator">-</span>pidfile q<span class="token punctuation">.</span>pid</code></pre><pre class="language-q" data-language="q"><code class="language-q"><span class="token comment">// .z.xë¥¼ ì‚¬ìš©í•˜ì—¬ ì»¤ë§¨ë“œ ë¼ì¸ ì˜µì…˜ì„ ì œì™¸í•œ ì¸ìˆ˜ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.</span><span class="token punctuation">.</span>z<span class="token punctuation">.</span>x<span class="token string">"-pidfile"</span><span class="token string">"q.pid"</span><span class="token comment">// .Q.optë¥¼ ì‚¬ìš©í•˜ì—¬ ì»¤ë§¨ë“œ ë¼ì¸ íŒŒë¼ë¯¸í„°ë¥¼ Dictë¡œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.</span><span class="token punctuation">.</span>Q<span class="token punctuation">.</span>opt <span class="token punctuation">.</span>z<span class="token punctuation">.</span>xpidfile<span class="token verb operator">|</span> <span class="token string">"q.pid"</span><span class="token comment">// .Q.defë¥¼ ì‚¬ìš©í•˜ì—¬ ì»¤ë§¨ë“œ ë¼ì¸ íŒŒë¼ë¯¸í„°ì— ëŒ€í•œ ê¸°ë³¸ê°’ì„ ì •ì˜í•  ìˆ˜ ìˆë‹¤.</span><span class="token punctuation">.</span>Q<span class="token punctuation">.</span>def<span class="token punctuation">[</span><span class="token symbol">`whoami</span><span class="token symbol">`logdst</span><span class="token symbol">`pidfile</span><span class="token verb operator">!</span><span class="token punctuation">(</span><span class="token symbol">`mambo</span><span class="token punctuation">;</span><span class="token symbol">`</span><span class="token verb operator">$</span><span class="token punctuation">(</span><span class="token string">"logs/q.log"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token symbol">`</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Q<span class="token punctuation">.</span>opt <span class="token punctuation">.</span>z<span class="token punctuation">.</span>xwhoami <span class="token verb operator">|</span> mambologdst <span class="token verb operator">|</span> logs<span class="token adverb function">/</span>q<span class="token punctuation">.</span><span class="token keyword">log</span>pidfile<span class="token verb operator">|</span> q<span class="token punctuation">.</span>pid</code></pre><h3 id="ì‚¬ìš©ì-ë°-íŒ¨ìŠ¤ì›Œë“œ"><a href="#ì‚¬ìš©ì-ë°-íŒ¨ìŠ¤ì›Œë“œ" class="headerlink" title="ì‚¬ìš©ì ë° íŒ¨ìŠ¤ì›Œë“œ"></a>ì‚¬ìš©ì ë° íŒ¨ìŠ¤ì›Œë“œ</h3><p><a href="https://code.kx.com/q/basics/cmdline/#-u-usr-pwd">ì‚¬ìš©ìì— ëŒ€í•œ íŒ¨ìŠ¤ì›Œë“œë¥¼ ì •ì˜í•œ íŒŒì¼ì„ ì§€ì •</a>í•˜ì—¬ q í”„ë¡œì„¸ìŠ¤ì™€ì˜ ì—°ê²°ì„ ì œí•œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¹„ë°€ë²ˆí˜¸ëŠ” í‰ë¬¸, MD5, SHA-1ì„ ì§€ì›í•©ë‹ˆë‹¤. ë‹¨, ì‚¬ìš©ìì™€ ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸ ë°©ì‹ì€ ìœ ì¼í•´ì•¼í•˜ë¯€ë¡œ í‰ë¬¸ì„ ì‚¬ìš©í•˜ëŠ” ì‚¬ìš©ìì™€ SHA-1 í•´ì‹œê°€ ì ìš©ëœ ì‚¬ìš©ìë¥¼ ê°™ì´ êµ¬ì„±í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. q í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹¤í–‰í•  ë•Œ -u ì˜µì…˜ì— íŒ¨ìŠ¤ì›Œë“œ íŒŒì¼ì„ ì§€ì •í•˜ë©´ í”„ë¡œì„¸ìŠ¤ ì‹¤í–‰ í›„ì—ë„ íŒ¨ìŠ¤ì›Œë“œ íŒŒì¼ì„ ìˆ˜ì •í•˜ê³  \u ëª…ë ¹ì–´ë¡œ í”„ë¡œì„¸ìŠ¤ë¥¼ ì¤‘ë‹¨í•˜ì§€ ì•Šê³  ì‚¬ìš©ì ë° íŒ¨ìŠ¤ì›Œë“œë¥¼ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ì™€ ê°™ì€ ì •ë³´ë¥¼ í† ëŒ€ë¡œ ë‹¤ìŒê³¼ ê°™ì€ ë°©ì‹ìœ¼ë¡œë„ ì‚¬ìš©ì ë° íŒ¨ìŠ¤ì›Œë“œë¥¼ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p><strong>ìµëª… ì‚¬ìš©ìì— ëŒ€í•œ íŒ¨ìŠ¤ì›Œë“œ íŒŒì¼ ìƒì„±</strong></p><pre class="language-txt" data-language="txt"><code class="language-txt">:</code></pre><p><strong>q í”„ë¡œì„¸ìŠ¤ ì‹¤í–‰ ì‹œ íŒ¨ìŠ¤ì›Œë“œ íŒŒì¼ ì ìš©</strong></p><pre class="language-q" data-language="q"><code class="language-q">q <span class="token verb operator">-</span>p <span class="token number">5000</span> <span class="token verb operator">-</span>u userpass<span class="token punctuation">.</span>txt</code></pre><p><strong>ì‹ ê·œ ì‚¬ìš©ìì˜ íŒ¨ìŠ¤ì›Œë“œ í•´ì‹œ ìƒì„±</strong></p><pre class="language-q" data-language="q"><code class="language-q"><span class="token comment">// raze string md5 "mambo"</span><span class="token comment">// "dfa67b75dc3d5868c3e88c83774c0d01"</span><span class="token keyword">raze</span> <span class="token keyword">string</span> <span class="token verb operator">-</span><span class="token number">33</span><span class="token verb operator">!</span><span class="token string">"mambo"</span><span class="token string">"78492a38605bdf6e691c4e2f77c69c4a0904c647"</span></code></pre><p><strong>ì‹ ê·œ ì‚¬ìš©ì ë° íŒ¨ìŠ¤ì›Œë“œ ì ìš© í›„ ì €ì¥</strong></p><pre class="language-txt" data-language="txt"><code class="language-txt">mambo:78492a38605bdf6e691c4e2f77c69c4a0904c647</code></pre><p><strong>ì‚¬ìš©ì ë° íŒ¨ìŠ¤ì›Œë“œ ì •ë³´ ê°±ì‹ </strong></p><pre class="language-q" data-language="q"><code class="language-q"><span class="token keyword">\u</span><span class="token keyword">hopen</span> <span class="token symbol">`:localhost:5000:mambo:mambo</span></code></pre><blockquote><p>íŒ¨ìŠ¤ì›Œë“œ íŒŒì¼ì— ì‚¬ìš©ì ì´ë¦„ì„ ìƒëµí•¨ìœ¼ë¡œì¨ ìµëª… ì‚¬ìš©ìì— ëŒ€í•œ ë¹„ë°€ë²ˆí˜¸ë„ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p></blockquote><h3 id="ì•„í‚¤í…ì²˜"><a href="#ì•„í‚¤í…ì²˜" class="headerlink" title="ì•„í‚¤í…ì²˜"></a>ì•„í‚¤í…ì²˜</h3><p>í•™ìŠµ ë‹¨ê³„ì—ì„œëŠ” KDB+ë¥¼ ë‹¨ì¼ q í”„ë¡œì„¸ìŠ¤ë¡œ ì‹¤í–‰í•˜ì—¬ ì‚¬ìš©í•˜ì§€ë§Œ ì‹¤ì œë¡œ ìš´ìš©ë˜ëŠ” í™˜ê²½ì—ì„œëŠ” KxSystemsì—ì„œ ê¶Œì¥í•˜ëŠ” <a href="https://code.kx.com/q/architecture/">Tickerplant ì•„í‚¤í…ì²˜</a>ë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤. q í”„ë¡œì„¸ìŠ¤ì—ì„œ ì‚¬ìš©í•  ë©”ëª¨ë¦¬ê°€ ë¶€ì¡±í•´ì§€ë©´ <strong>&#96;wsfull</strong> ì˜¤ë¥˜ê°€ ë°œìƒí•˜ê³  í”„ë¡œì„¸ìŠ¤ê°€ ì¢…ë£Œë˜ëŠ” ë¬¸ì œì ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. TickerplantëŠ” FeedHandlerì—ì„œ ì „ì†¡ë˜ëŠ” ë°ì´í„°ë¥¼ ìˆ˜ì‹ í•˜ëŠ” TP í”„ë¡œì„¸ìŠ¤ì™€ TP í”„ë¡œì„¸ìŠ¤ë¡œ ë“¤ì–´ì˜¨ ë°ì´í„°ë¥¼ ê°€ì ¸ê°€ëŠ” RDB(Realtime DB) í”„ë¡œì„¸ìŠ¤, ë‚ ì§œ ë˜ëŠ” ì‹œê°„ ë‹¨ìœ„ë¡œ ì €ì¥í•˜ëŠ” HDB(Historical DB) í”„ë¡œì„¸ìŠ¤ë¡œ ë¶„ë¦¬í•˜ê²Œ ë©ë‹ˆë‹¤. ê° í”„ë¡œì„¸ìŠ¤ì˜ ì—­í• ì´ êµ¬ë¶„ë˜ì–´ìˆìœ¼ë¯€ë¡œ í˜„ì¬ ë‚ ì§œ ë˜ëŠ” ì‹œê°„ì— ëŒ€í•œ ë°ì´í„°ë¥¼ ë©”ëª¨ë¦¬ì— ì €ì¥í•˜ëŠ” RDB í”„ë¡œì„¸ìŠ¤ê°€ ì˜ˆê¸°ì¹˜ ëª»í•œ ìƒí™©ì— ì¢…ë£Œë˜ë”ë¼ë„ TP í”„ë¡œì„¸ìŠ¤ëŠ” ì§€ì†ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ìˆ˜ì‹ í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.</p><blockquote><p><a href="https://code.kx.com/q/learn/startingkdb/tick/">Realtime database</a><br>As a minimum, it is recommended to have RAM of at least 4Ã— expected data size, so for 5 GB data per day, the RDB machine should have at least 20 GB RAM. In practice, much larger RAM might be used.</p></blockquote><p>ìœ„ ë‚´ìš©ì— ë”°ë¥´ë©´ ë‚ ì§œë³„ë¡œ íŒŒí‹°ì…”ë‹ë˜ëŠ” êµ¬ì¡°ë¥¼ ê°€ì§€ëŠ” ê²½ìš°ì— RDB í”„ë¡œì„¸ìŠ¤ì— 5GB ê·œëª¨ì˜ ë°ì´í„°ë¥¼ ë³´ìœ í•˜ê³  ìˆì–´ì•¼í•œë‹¤ë©´ ì‹œìŠ¤í…œì ìœ¼ë¡œ ìµœì†Œí•œ 20GB ë§Œí¼ì˜ ë©”ëª¨ë¦¬ê°€ ì¤€ë¹„ë˜ì–´ì•¼í•©ë‹ˆë‹¤. ë˜í•œ, ì‹œìŠ¤í…œ ìì›ì„ ì¤€ë¹„í•  ìˆ˜ ìˆì§€ ì•Šì•„ ë‚ ì§œê°€ ì•„ë‹Œ ì‹œê°„ ë‹¨ìœ„ë¡œ íŒŒí‹°ì…”ë‹í•˜ëŠ” ê²½ìš° ë¬´ìˆ˜íˆ ë§ì€ í´ë”ê°€ ë§Œë“¤ì–´ì§€ë¯€ë¡œ ê¸´ ë²”ìœ„ì˜ ê¸°ê°„ì— ëŒ€í•œ ì—°ì‚°ì„ ìˆ˜í–‰í•˜ì—¬ì•¼í•˜ëŠ” ê²½ìš° I&#x2F;O ì„±ëŠ¥ì´ ì¢‹ì€ ë””ìŠ¤í¬ë¥¼ ì‚¬ìš©í•´ì•¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><h4 id="ë°ì´í„°-ê´€ë¦¬"><a href="#ë°ì´í„°-ê´€ë¦¬" class="headerlink" title="ë°ì´í„° ê´€ë¦¬"></a>ë°ì´í„° ê´€ë¦¬</h4><p>TickerplantëŠ” KDB+ì—ì„œ ê¶Œì¥ë˜ëŠ” ì•„í‚¤í…ì²˜ì´ì§€ë§Œ ë°ì´í„° ê´€ë¦¬ì— ëŒ€í•œ ë¬¸ì œì ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ì¦ê¶Œ ì‹œì¥ì˜ ê²½ìš° ë°ì´í„°ê°€ ìˆœì°¨ì ìœ¼ë¡œ ë°œìƒí•œë‹¤ëŠ” ê²ƒì´ ë³´ì¥ë˜ë©° ì§€ë‚œ ê¸°ê°„ì— ëŒ€í•œ ë°ì´í„°ê°€ í˜„ì¬ ì‹œê°„ì— ë“¤ì–´ì˜¤ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì„ ê¸°ì¤€ìœ¼ë¡œ í•˜ê¸° ë•Œë¬¸ì— ì‚¬ì—… ë¶„ì•¼ì™€ ê³ ê°ì˜ ìš”êµ¬ì‚¬í•­ìœ¼ë¡œ ì¸í•˜ì—¬ í˜„ì¬ ì‹œì ì— ì§€ë‚œ ê¸°ê°„ì— ëŒ€í•œ ë°ì´í„°ë¥¼ ë“±ë¡í•˜ëŠ” ê²½ìš° RDB í”„ë¡œì„¸ìŠ¤ì—ì„œ ë©”ëª¨ë¦¬ì— ì €ì¥ëœ ë°ì´í„°ë¥¼ íŒŒì¼ë¡œ ì €ì¥í•˜ëŠ” ì‹œì ì— í•´ë‹¹ íŒŒí‹°ì…˜ í´ë”ì—ëŠ” ì§€ë‚œ ê¸°ê°„ì— ëŒ€í•œ íŒŒí‹°ì…˜ ë°ì´í„°ê°€ í¬í•¨ë˜ì–´ìˆê²Œ ë©ë‹ˆë‹¤.</p><p>q í”„ë¡œì„¸ìŠ¤ì—ì„œ íŒŒí‹°ì…˜ í…Œì´ë¸”ì— ëŒ€í•´ì„œëŠ” ê° íŒŒí‹°ì…˜ì— ë§ëŠ” ë°ì´í„°ë§Œ ì¡´ì¬í•´ì•¼í•¨ì„ ë³´ì¥í•´ì•¼í•©ë‹ˆë‹¤. ê·¸ ì´ìœ ëŠ” ë°ì´í„° ì—°ì‚° ì‹œ íŒŒí‹°ì…”ë‹ì˜ ê¸°ì¤€ì´ ë˜ëŠ” íŠ¹ìˆ˜í•œ ì»¬ëŸ¼ì„ í†µí•´ ì „ì²´ íŒŒí‹°ì…˜ì„ ì¡°íšŒí•˜ì§€ ì•Šê³ ë„ ë¹ ë¥´ê²Œ í•„ìš”í•œ íŒŒí‹°ì…˜ì˜ ë°ì´í„°ë¥¼ ë©”ëª¨ë¦¬ì— ë¡œë“œí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ê²°êµ­ì—ëŠ” RDB í”„ë¡œì„¸ìŠ¤ê°€ ì €ì¥í•œ íŒŒí‹°ì…˜ í´ë”ì˜ ë°ì´í„°ë¥¼ í™•ì¸í•˜ê³  ì˜¬ë°”ë¥¸ íŒŒí‹°ì…˜ì— ë°ì´í„°ë¥¼ ë³‘í•©í•´ì•¼í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•´ì•¼í•©ë‹ˆë‹¤.</p><p>ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ìš´ìš©í•˜ë©´ì„œ ë°ì´í„° ë³‘í•© ê³¼ì •ì„ ê±°ì¹˜ê³  ë‚œ í›„ íŒŒí‹°ì…”ë‹ëœ í´ë”ê°€ ìˆœì°¨ì ìœ¼ë¡œ ë‚˜ì—´ë˜ì§€ ì•Šì„ ìˆ˜ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ë¬¸ì œê°€ ë°œìƒí•˜ëŠ” ê²½ìš° q í”„ë¡œì„¸ìŠ¤ëŠ” ì •í™•í•œ íŒŒí‹°ì…˜ì„ í™•ì¸í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ì¼ë¶€ ì¡°íšŒê°€ ë¶ˆê°€ëŠ¥í•œ ìƒíƒœê°€ ë  ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤. ë‹¤í–‰íˆë„ KDB+ì—ì„œ ì œê³µí•˜ëŠ” ëª‡ê°€ì§€ í•¨ìˆ˜ë¥¼ ì´ìš©í•´ì„œ ì˜ëª»ëœ íŒŒí‹°ì…”ë‹ì„ ë°”ë¡œ ì¡ë„ë¡ ì‘ì—…ì„ ìˆ˜í–‰í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><ul><li><a href="https://code.kx.com/q/ref/dotq/#qchk-fill-hdb">.Q.chk (fill HDB)</a></li><li><a href="https://code.kx.com/q/ref/dotq/#qbv-build-vp">.Q.bv (build vp)</a></li><li><a href="https://code.kx.com/q/ref/dotq/#qvp-missing-partitions">.Q.vp (missing partitions)</a></li></ul><pre class="language-q" data-language="q"><code class="language-q"><span class="token punctuation">.</span>Q<span class="token punctuation">.</span>bv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Q<span class="token punctuation">.</span>vp<span class="token punctuation">.</span>Q<span class="token punctuation">.</span>chk<span class="token punctuation">[</span><span class="token punctuation">]</span></code></pre><h3 id="ì œí•œ-ë°-ì˜¤ë¥˜"><a href="#ì œí•œ-ë°-ì˜¤ë¥˜" class="headerlink" title="ì œí•œ ë° ì˜¤ë¥˜"></a>ì œí•œ ë° ì˜¤ë¥˜</h3><p>KDB+ì˜ q í”„ë¡œì„¸ìŠ¤ì— ì¡´ì¬í•˜ëŠ” ëª‡ê°€ì§€ ì œí•œ ì‚¬í•­ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.</p><h4 id="ë¼ì´ì„¼ìŠ¤-ì½”ì–´-ì œí•œ"><a href="#ë¼ì´ì„¼ìŠ¤-ì½”ì–´-ì œí•œ" class="headerlink" title="ë¼ì´ì„¼ìŠ¤ ì½”ì–´ ì œí•œ"></a>ë¼ì´ì„¼ìŠ¤ ì½”ì–´ ì œí•œ</h4><p>ë¨¼ì €, ìƒì—…ìš© ë¼ì´ì„¼ìŠ¤ë¥¼ êµ¬ë§¤í•˜ë”ë¼ë„ ë¼ì´ì„¼ìŠ¤ì— ì§€ì •ëœ ì½”ì–´ ìˆ˜ë¥¼ ë„˜ì–´ê°€ê²Œë˜ëŠ” ì‹œìŠ¤í…œì„ ì‚¬ìš©í•˜ë ¤ëŠ” ê²½ìš° q í”„ë¡œì„¸ìŠ¤ ì‹¤í–‰ ì‹œ <strong>&#96;cores</strong> ë¼ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí•©ë‹ˆë‹¤. ì´ëŠ” q í”„ë¡œì„¸ìŠ¤ê°€ í•´ë‹¹ ì½”ì–´ ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í—ˆìš©ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì´ë¯€ë¡œ í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹¤í–‰í•  ë•Œ ë¦¬ëˆ…ìŠ¤ì˜  <strong>taskset</strong>ì„ í™œìš©í•˜ì—¬ í”„ë¡œì„¸ìŠ¤ê°€ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” CPUë¥¼ ì§€ì •í•´ì•¼í•©ë‹ˆë‹¤.</p><h4 id="í•¨ìˆ˜-íŒŒë¼ë¯¸í„°-ê°œìˆ˜-ì œí•œ"><a href="#í•¨ìˆ˜-íŒŒë¼ë¯¸í„°-ê°œìˆ˜-ì œí•œ" class="headerlink" title="í•¨ìˆ˜ íŒŒë¼ë¯¸í„° ê°œìˆ˜ ì œí•œ"></a>í•¨ìˆ˜ íŒŒë¼ë¯¸í„° ê°œìˆ˜ ì œí•œ</h4><p>ê³µì‹ ë¬¸ì„œì˜ <a href="https://code.kx.com/q/basics/errors/">Errors</a>ë¥¼ ì°¸ê³ í•˜ë©´ q í”„ë¡œì„¸ìŠ¤ì—ì„œ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜ì— ëŒ€í•´ì„œ ê²€í† í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ, í•¨ìˆ˜ íŒŒë¼ë¯¸í„° ê°œìˆ˜ëŠ” ìµœëŒ€ 8ê°œë¡œ ì œí•œë˜ì–´ìˆëŠ” íŠ¹ì§•ì´ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ, ìŠ¤í¬ë¦½íŠ¸ì— ì •ì˜í•˜ëŠ” í•¨ìˆ˜ ë˜ëŠ” ëŒë‹¤ì—ì„œ ì‚¬ìš©ë˜ëŠ” íŒŒë¼ë¯¸í„° ê°œìˆ˜ê°€ 8ê°œë³´ë‹¤ ë§ì•„ì§€ëŠ” ê²½ìš° Dictë¥¼ í™œìš©í•´ì•¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ì™¸ì—ë„ ë‹¤ìŒì˜ ì œí•œëœ ì‚¬í•­ì´ ìˆìŠµë‹ˆë‹¤.</p><ul><li>conn: Too many connections (1022 max)</li><li>elim: Too many enumerations (max: 57)</li><li>globals: Too many global variables</li><li>limit: Too many constants</li><li>locals: Too many local variables</li><li>params: Too many parameters (8 max)</li></ul><h3 id="ëŠë‚€ì "><a href="#ëŠë‚€ì " class="headerlink" title="ëŠë‚€ì "></a>ëŠë‚€ì </h3><p>í˜„ì¬ ì¡°ì§ì—ì„œëŠ” KDB+ ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©ì¤‘ì´ì§€ë§Œ ì´ì™€ ê´€ë ¨í•œ êµ­ë‚´ ë ˆí¼ëŸ°ìŠ¤ëŠ” ì°¾ì•„ë³¼ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ë‹¤ë¥¸ íšŒì‚¬ë¡œ ì´ì§í•˜ê²Œë˜ë©´ ë”ì´ìƒ ê´€ì‹¬ê°€ì§€ì§€ì•Šì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ì»¬ëŸ¼í˜• ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ì´ë©´ì„œ ë¹ ë¥¸ ì†ë„ë¥¼ ì œê³µí•˜ëŠ” ê²ƒì€ ë§ì§€ë§Œ ê·¸ì— ë”°ë¥¸ ë¼ì´ì„¼ìŠ¤ ë¹„ìš©ê³¼ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ê±°ë‚˜ ë¬¸ì œê°€ ë°œìƒí–ˆì„ë•Œì˜ í•´ê²°ë°©ì•ˆì„ ì°¾ê³  ì›í•˜ëŠ” ê²°ê³¼ë¥¼ ê°€ì§€ê¸° ìœ„í•´ì„œ Q ì–¸ì–´ì™€ í•¨ê»˜ qSQLì´ë¼ê³ í•˜ëŠ” SQLê³¼ ë¹„ìŠ·í•˜ì§€ë§Œ ë‹¤ë¥¸ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒì´ íš¨ìœ¨ì ì´ë‹¤ë¼ê³  ë³¼ ìˆ˜ ì—†ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤.</p><p>ê¸°ë³¸ì ìœ¼ë¡œ ë©”ëª¨ë¦¬ì— ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  íŒŒì¼ë¡œ ì €ì¥ëœ ë°ì´í„°ëŠ” ì—°ì‚° ì‹œ ë©”ëª¨ë¦¬ì— ë¶ˆëŸ¬ì˜¤ê²Œë˜ë¯€ë¡œ ë°ì´í„° ê·œëª¨ì— ë”°ë¼ í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹¤í–‰í•˜ëŠ” ì‹œìŠ¤í…œ ìì›ì´ ë³´ì¥ë˜ì–´ì•¼í•œë‹¤ëŠ” ë¬¸ì œì ë„ ìˆìŠµë‹ˆë‹¤. ì‹œìŠ¤í…œ ë©”ëª¨ë¦¬ ìì›ì„ í™•ë³´í•  ìˆ˜ ì—†ëŠ” ê²½ìš° íŒŒí‹°ì…˜ìœ¼ë¡œ ì €ì¥ë˜ëŠ” êµ¬ì¡°ë¥¼ ì§€ì›í•˜ì§€ë§Œ ë‹¤ìˆ˜ì˜ í´ë”ë¡œ ë¶„ì‚°í•˜ì—¬ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê¸° ë•Œë¬¸ì— ë””ìŠ¤í¬ I&#x2F;O ì„±ëŠ¥ë„ ê³ ë ¤í•´ì•¼í•©ë‹ˆë‹¤. ê²°êµ­ ì˜ˆìƒë˜ëŠ” ê·œëª¨ì— ë”°ë¼ ì•ˆì •ì ìœ¼ë¡œ ìš´ìš©ë  ìˆ˜ ìˆë„ë¡ ì‹œìŠ¤í…œ ìì›ì„ ì¤€ë¹„í•´ì•¼í•©ë‹ˆë‹¤.</p><p>ì¡°ì§ë‚´ì—ì„œëŠ” ì–´ì©” ìˆ˜ ì—†ì´ ì‚¬ìš©í•˜ê³  ìˆì§€ë§Œ ê°œì¸ì ìœ¼ë¡œ í•™ìŠµí•˜ëŠ” ê²ƒì€ ì¶”ì²œí•˜ì§€ ì•Šì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.</p><h2 id="ë ˆí¼ëŸ°ìŠ¤"><a href="#ë ˆí¼ëŸ°ìŠ¤" class="headerlink" title="ë ˆí¼ëŸ°ìŠ¤"></a>ë ˆí¼ëŸ°ìŠ¤</h2><ul><li><a href="https://code.kx.com/">code.kx</a></li><li><a href="https://community.kx.com/">community.kx</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;ì´ ê¸€ì€ KDB+ë¼ëŠ” ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ í™œìš©í•˜ë©´ì„œ êµ­ë‚´ ë ˆí¼ëŸ°ìŠ¤ë¥¼ ì°¾ì•„ë³¼ ìˆ˜ ì—†ëŠ” ë¬¸ì œë¡œ ì¸í•˜ì—¬ ë³„ë„ë¡œ ì •ë¦¬í•œ ë‚´ìš©ì…ë‹ˆë‹¤. ë”°ë¼ì„œ, ì „ë¬¸ì ìœ¼ë¡œ í™œìš©í•˜ëŠ” ìˆ˜ì¤€ì€ ì•„ë‹ˆë¯€ë¡œ ì˜ëª»ëœ ì •ë³´ê°€ í¬í•¨ë˜ì–´ìˆì„ ìˆ˜ ìˆìŒì„ ì•Œë ¤ë“œë¦½ë‹ˆë‹¤.</summary>
      
    
    
    
    
    <category term="Kx" scheme="https://kdevkr.github.io/tags/Kx/"/>
    
    <category term="KDB+" scheme="https://kdevkr.github.io/tags/KDB/"/>
    
  </entry>
  
  <entry>
    <title>ê·¸ë˜ë“¤ ë¹Œë“œ ë¼ì´í”„ì‚¬ì´í´</title>
    <link href="https://kdevkr.github.io/gradle-build-lifecycle/"/>
    <id>https://kdevkr.github.io/gradle-build-lifecycle/</id>
    <published>2021-10-30T00:00:00.000Z</published>
    <updated>2022-03-19T05:27:27.228Z</updated>
    
    <content type="html"><![CDATA[<p>ì•ˆë…•í•˜ì„¸ìš” Mambo ì…ë‹ˆë‹¤.</p><p>ì˜¤ëŠ˜ ì•Œì•„ë³¼ ë‚´ìš©ì€ ê·¸ë˜ë“¤ ë¹Œë“œì˜ ë¼ì´í”„ì‚¬ì´í´ì…ë‹ˆë‹¤. </p><p>ì–¼ë§ˆì „ì— ë‹¨ì¼ ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡œì íŠ¸ì—ì„œ ë‹¤ì–‘í•œ ë°°í¬ í™˜ê²½ì— ëŒ€í•œ ê¸°ëŠ¥ì„ ë³„ë„ë¡œ ì§€ì›í•´ì•¼í•˜ëŠ” ìš”êµ¬ì‚¬í•­ìœ¼ë¡œ ì¸í•˜ì—¬ ê·¸ë˜ë“¤ ë©€í‹° ëª¨ë“ˆ í”„ë¡œì íŠ¸ë¡œ ì „í™˜í•˜ê²Œ ë˜ë©´ì„œ ë°°í¬ ê³¼ì •ì—ì„œ ë¬¸ì œê°€ ë°œìƒí•˜ì˜€ì—ˆëŠ”ë°ìš”. ê·¸ ë¬¸ì œëŠ” í¬ë¦¬í‹°ì»¬í•œ ì´ìŠˆëŠ” ì•„ë‹ˆì§€ë§Œ íƒœìŠ¤í¬ ìˆ˜í–‰ í›„ ë§Œë“¤ì–´ì§„ ì••ì¶• íŒŒì¼ì— í”„ë¡œì íŠ¸ ë²„ì „ì´ í¬í•¨ë˜ì§€ ì•ŠëŠ” ìƒí™©ì´ì—ˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ë¬¸ì œê°€ ë°œìƒí•œ ì´ìœ ëŠ” ê·¸ë˜ë“¤ íƒœìŠ¤í¬ë¥¼ ì •ì˜í•  ë•Œ <strong>ê·¸ë˜ë“¤ ë¹Œë“œ ë¼ì´í”„ì‚¬ì´í´</strong>ì„ ê³ ë ¤í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</p><h2 id="ê·¸ë˜ë“¤-íƒœìŠ¤í¬"><a href="#ê·¸ë˜ë“¤-íƒœìŠ¤í¬" class="headerlink" title="ê·¸ë˜ë“¤ íƒœìŠ¤í¬"></a>ê·¸ë˜ë“¤ íƒœìŠ¤í¬</h2><p>ë¨¼ì € ê¸°ì¡´ì— ì •ì˜ëœ íƒœìŠ¤í¬ëŠ” <a href="https://github.com/kdevkr/beanstalk-deploy-sample/blob/main/build.gradle">beanstalk-deploy-sampleì˜ build.gradleì— ì •ì˜ëœ zipBeanstalk íƒœìŠ¤í¬</a>ì™€ ê°™ì´ Zip ìœ í˜•ì˜ íƒœìŠ¤í¬ë¡œ ì‘ì„±ë˜ì–´ìˆìŠµë‹ˆë‹¤.</p><pre class="language-groovy" data-language="groovy"><code class="language-groovy">task <span class="token function">zipBeanstalk</span><span class="token punctuation">(</span>type<span class="token punctuation">:</span> Zip<span class="token punctuation">,</span> dependsOn<span class="token punctuation">:</span> <span class="token string">'procfile'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    from <span class="token punctuation">(</span><span class="token string">'.ebextensions'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> into <span class="token string">'.ebextensions'</span> <span class="token punctuation">&#125;</span>    from <span class="token punctuation">(</span><span class="token string">'.platform'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> into <span class="token string">'.platform'</span> <span class="token punctuation">&#125;</span>    from <span class="token punctuation">(</span><span class="token string">'build/libs'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        println bootWar<span class="token punctuation">.</span>archiveName        <span class="token function">include</span><span class="token punctuation">(</span>bootWar<span class="token punctuation">.</span>archiveName<span class="token punctuation">)</span>        <span class="token function">include</span><span class="token punctuation">(</span><span class="token string gstring">"Procfile"</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    baseName <span class="token operator">=</span> <span class="token string">'beanstalk'</span><span class="token punctuation">&#125;</span></code></pre><p>ìœ„ ìƒ˜í”Œ íƒœìŠ¤í¬ì²˜ëŸ¼ ë‹¨ì¼ ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡œì íŠ¸ì—ì„œ ì •ì˜ëœ íƒœìŠ¤í¬ëŠ” ë¬¸ì œê°€ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ì ìŠµë‹ˆë‹¤. ê·¸ ì´ìœ ëŠ” ë°°í¬ë¥¼ ìœ„í•´ì„œ ì—¬ëŸ¬ê°€ì§€ íƒœìŠ¤í¬ë¥¼ ì •ì˜í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì¸ë°ìš”. ê·¸ëŸ¬ë©´ ìœ„ íƒœìŠ¤í¬ë¥¼ ìˆ˜í–‰í•˜ë©´ ì–´ë–¤ ê²°ê³¼ë¥¼ ì œê³µí•˜ëŠ”ì§€ í•œë²ˆ í™•ì¸í•´ë³¼ê¹Œìš”?</p><h3 id="íƒœìŠ¤í¬-ê²°ê³¼"><a href="#íƒœìŠ¤í¬-ê²°ê³¼" class="headerlink" title="íƒœìŠ¤í¬ ê²°ê³¼"></a>íƒœìŠ¤í¬ ê²°ê³¼</h3><p>í”„ë¡œì íŠ¸ í´ë”ì— ìˆëŠ” Gradle Wrapperë¥¼ ì‚¬ìš©í•˜ì—¬ zipBeanstalk íƒœìŠ¤í¬ë¥¼ ìˆ˜í–‰í•˜ë©´ì„œ í”„ë¡œì íŠ¸ ë²„ì „ì„ ëª…ì‹œí•´ë³´ê² ìŠµë‹ˆë‹¤.</p><pre class="language-sh" data-language="sh"><code class="language-sh">.&#x2F;gradlew clean zipBeanstalk -x test -Pversion&#x3D;1.0.0-hotfix.11</code></pre><p><img data-src="/images/posts/gradle-build-lifecycle/gradle-01.png"></p><p>íŒ¨í‚¤ì§•ëœ WAR íŒŒì¼ê³¼ zipBeanstalk íƒœìŠ¤í¬ì— ì˜í•´ ë§Œë“¤ì–´ì§€ëŠ” ì•„ì¹´ì´ë¸Œ íŒŒì¼ì— í”„ë¡œì íŠ¸ ë²„ì „ì´ í¬í•¨ë¨ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><h3 id="ìˆ˜ë™-ë°°í¬-í™˜ê²½ì„-ìœ„í•œ-íƒœìŠ¤í¬"><a href="#ìˆ˜ë™-ë°°í¬-í™˜ê²½ì„-ìœ„í•œ-íƒœìŠ¤í¬" class="headerlink" title="ìˆ˜ë™ ë°°í¬ í™˜ê²½ì„ ìœ„í•œ íƒœìŠ¤í¬"></a>ìˆ˜ë™ ë°°í¬ í™˜ê²½ì„ ìœ„í•œ íƒœìŠ¤í¬</h3><p>ì‚¬ì‹¤ zipBeanstalk íƒœìŠ¤í¬ëŠ” ì•„ë§ˆì¡´ ì›¹ ì„œë¹„ìŠ¤ì˜ ë¹ˆìŠ¤í†¡ í™˜ê²½ìœ¼ë¡œ ë°°í¬í•˜ê¸° ìœ„í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ ë²ˆë“¤ íŒŒì¼ì„ ë§Œë“œëŠ” íƒœìŠ¤í¬ì…ë‹ˆë‹¤. ë§Œì•½, ìˆ˜ë™ìœ¼ë¡œ ë°°í¬í•˜ì—¬ì•¼í•˜ëŠ” í™˜ê²½ì´ ì¶”ê°€ëœë‹¤ë©´ ë¹ˆìŠ¤í†¡ í™˜ê²½ì—ì„œ ì‚¬ìš©í•˜ëŠ” Procfileê³¼ í™˜ê²½ êµ¬ì„± íŒŒì¼ë“¤ì€ í¬í•¨í•  í•„ìš”ê°€ ì—†ìœ¼ë©° íŠ¹ì • í™˜ê²½ì„ ìœ„í•œ í”„ë¡œí¼í‹° íŒŒì¼ë§Œ ë³„ë„ë¡œ ì¶”ê°€í•˜ë©´ ë©ë‹ˆë‹¤.</p><pre class="language-groovy" data-language="groovy"><code class="language-groovy">task <span class="token function">zipManually</span><span class="token punctuation">(</span>type<span class="token punctuation">:</span> Zip<span class="token punctuation">,</span> dependsOn<span class="token punctuation">:</span> <span class="token string">'bootWar'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    println <span class="token string">'Build Version: '</span> <span class="token operator">+</span> project<span class="token punctuation">.</span>version    from <span class="token punctuation">(</span><span class="token string">'.conf'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> into <span class="token string">'application-prod.yml'</span><span class="token punctuation">&#125;</span>    from <span class="token punctuation">(</span><span class="token string">'build/libs'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">include</span><span class="token punctuation">(</span>bootWar<span class="token punctuation">.</span>archiveName<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    baseName <span class="token operator">=</span> <span class="token string">'app-bundle'</span><span class="token punctuation">&#125;</span></code></pre><p>zipManually íƒœìŠ¤í¬ì—ëŠ” application-prod.ymlì„ íŒ¨í‚¤ì§•ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ WAR íŒŒì¼ê³¼ í•¨ê»˜ í¬í•¨ì‹œí‚¤ë„ë¡ ì •ì˜í–ˆìŠµë‹ˆë‹¤. ì•„ì‹œëŠ” ë¶„ë“¤ë„ ìˆê² ì§€ë§Œ ìŠ¤í”„ë§ ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ <strong>WAR íŒŒì¼ê³¼ ë™ì¼í•œ ìœ„ì¹˜ì— ìˆëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡œí¼í‹° íŒŒì¼</strong>ì„ ì½ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë§Œì•½, ëª¨ë¥´ì‹œëŠ” ë¶„ë“¤ì´ë¼ë©´ í”„ë¡œí¼í‹° êµ¬ì„± ìš°ì„  ìˆœìœ„ì— ëŒ€í•œ ë¬¸ì„œë¥¼ í™•ì¸í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.</p><p>ë™ì¼í•˜ê²Œ zipManually íƒœìŠ¤í¬ë¥¼ ì‹¤í–‰í•´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p><pre class="language-sh" data-language="sh"><code class="language-sh">.&#x2F;gradlew clean zipManually -x test -Pversion&#x3D;1.0.0-hotfix.11&gt; Configure project :JDK info: 11Build Version: 1.0.0-hotfix.11Build Version: 1.0.0-hotfix.11&gt; Task :bootBuildInfo&gt; Task :compileJava UP-TO-DATE&gt; Task :processResources UP-TO-DATE&gt; Task :classes&gt; Task :bootWarMainClassName&gt; Task :bootWar&gt; Task :procfile&gt; Task :zipManually</code></pre><p><img data-src="/images/posts/gradle-build-lifecycle/gradle-02.png"></p><p>zipManually íƒœìŠ¤í¬ ê²°ê³¼ëŠ” ì •ìƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤ë§Œâ€¦ ì´ìƒí•œ ë¶€ë¶„ì„ ëˆˆì¹˜ì±„ì‹ ë¶„ë“¤ì´ ìˆìœ¼ì‹œê² ì£ ? <strong>ë°”ë¡œ Build Versionì´ ë‘ë²ˆ ì¶œë ¥ë˜ì—ˆë‹¤ëŠ” ì </strong>ì¸ë°ìš”. ìš°ë¦¬ëŠ” ë¶„ëª…íˆ ë³„ë„ì˜ íƒœìŠ¤í¬ë¡œ ì •ì˜í•˜ê³  íƒœìŠ¤í¬ ë¸”ë¡ ë‚´ì—ì„œ í˜„ì¬ Build Versionì„ ì¶œë ¥í•˜ë„ë¡ ì‘ì„±í–ˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ Build Version ë²„ì „ì´ ë‘ë²ˆ ì¶œë ¥ë˜ëŠ” ì´ìœ ëŠ” ì´ ê¸€ì˜ ì£¼ìš” ë‚´ìš©ì¸ ê·¸ë˜ë“¤ ë¹Œë“œ ë¼ì´í”„ì‚¬ì´í´ì— ëŒ€í•œ ê°œë…ê³¼ ê´€ë ¨ì´ ìˆìŠµë‹ˆë‹¤.</p><h2 id="ê·¸ë˜ë“¤-ë¹Œë“œ-ë¼ì´í”„ì‚¬ì´í´"><a href="#ê·¸ë˜ë“¤-ë¹Œë“œ-ë¼ì´í”„ì‚¬ì´í´" class="headerlink" title="ê·¸ë˜ë“¤ ë¹Œë“œ ë¼ì´í”„ì‚¬ì´í´"></a>ê·¸ë˜ë“¤ ë¹Œë“œ ë¼ì´í”„ì‚¬ì´í´</h2><p>ì‚¬ì‹¤ ìƒ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ê²½í—˜í•˜ëŠ” ì´ìœ ëŠ” ê·¸ë˜ë“¤ì˜ ë¹Œë“œ ë¼ì´í”„ì‚¬ì´í´ì— ëŒ€í•œ ê°œë…ì„ ëª¨ë¥´ê¸° ë•Œë¬¸ì¸ë°ìš”. 20ë…„ì°¨ì´ì‹  íŒ€ì¥ë‹˜ ì¡°ì°¨ë„ ì˜ ëª¨ë¥´ëŠ” ë¶€ë¶„ì´ì—ˆë‹¤ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¹Œë“œ ë¼ì´í”„ì‚¬ì´í´ ì¡´ì¬ë¥¼ ëª¨ë¥´ëŠ” ìƒí™©ì´ì—ˆê¸°ì— ì´ë ‡ê²Œ ë˜ëŠ” ì´ìœ ë¥¼ ê²€ìƒ‰í•˜ê³  íŒ€ì¥ë‹˜ê»˜ì„œ <a href="https://stackoverflow.com/a/23485085">Gradle executes all tasks?</a>ì´ë¼ëŠ” ìŠ¤íƒì˜¤ë²„í”Œë¡œìš° ì§ˆë¬¸ì„ ê³µìœ í•´ì£¼ì…¨ìŠµë‹ˆë‹¤.</p><p>ì´ ì§ˆë¬¸ì— ëŒ€í•œ ë‹µë³€ì—ì„œëŠ” ê·¸ë˜ë“¤ì—ëŠ” configuration ë‹¨ê³„ì™€ execution ë‹¨ê³„ê°€ ìˆê³  ì´ê²ƒì€ ì¤‘ìš”í•œ ê°œë…ì´ë¼ê³  ì„¤ëª…í•˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë©´ ê·¸ë˜ë“¤ ê³µì‹ ë¬¸ì„œì— ìˆëŠ” <a href="https://docs.gradle.org/current/userguide/build_lifecycle.html">Build Lifecycle</a>ë¥¼ ì‚´í´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p><blockquote><p>Gradle builds the complete dependency graph before any task is executed.<br>â€¦ Your build scripts configure this dependency graph.</p></blockquote><p>ê·¸ë˜ë“¤ì€ íƒœìŠ¤í¬ë¥¼ ìˆ˜í–‰í•˜ê¸° ì „ì— ì˜ì¡´ì„± ê·¸ë˜í”„ë¥¼ ë¹Œë“œí•˜ê³  ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ëŠ” ì˜ì¡´ì„± ê·¸ë˜í”„ë¥¼ êµ¬ì„±í•œë‹¤ê³  ì„¤ëª…í•˜ë©° ë¹Œë“œ ë‹¨ê³„ì— ëŒ€í•´ì„œ ì„¤ëª…í•©ë‹ˆë‹¤.</p><h3 id="ë¹Œë“œ-ë‹¨ê³„"><a href="#ë¹Œë“œ-ë‹¨ê³„" class="headerlink" title="ë¹Œë“œ ë‹¨ê³„"></a>ë¹Œë“œ ë‹¨ê³„</h3><p>ê·¸ë˜ë“¤ì˜ ë¹Œë“œ ë‹¨ê³„ëŠ” 3ê°€ì§€ë¡œ êµ¬ë¶„ëœë‹¤ê³  í•˜ë©° ì´ˆê¸°í™”(Initialization), êµ¬ì„±(Configuration), ìˆ˜í–‰(Execution)ì…ë‹ˆë‹¤. </p><blockquote><p><strong>Initialization</strong><br>Gradle supports single and multi-project builds. During the initialization phase, Gradle determines which projects are going to take part in the build, and creates a Project instance for each of these projects.</p><p><strong>Configuration</strong><br>During this phase the project objects are configured. The build scripts of all projects which are part of the build are executed.</p><p><strong>Execution</strong><br>Gradle determines the subset of the tasks, created and configured during the configuration phase, to be executed. The subset is determined by the task name arguments passed to the gradle command and the current directory. Gradle then executes each of the selected tasks.</p></blockquote><p>ì„¸ê°€ì§€ì˜ ë‹¨ê³„ ì¤‘ êµ¬ì„± ë‹¨ê³„ì—ì„œëŠ” ëª¨ë“  í”„ë¡œì íŠ¸ì˜ ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ê°€ ì‹¤í–‰ëœë‹¤ëŠ” ì„¤ëª…ì´ ìˆìŠµë‹ˆë‹¤. ì´ ë¶€ë¶„ì´ ì œê°€ ê²½í—˜í•œ ë¬¸ì œì˜ ì›ì¸ì´ë¼ê³  í•  ìˆ˜ ìˆëŠ”ë° íƒœìŠ¤í¬ ë‚´ì—ì„œ ì‘ì„±í•˜ëŠ” ì½”ë“œëŠ” êµ¬ì„± ë‹¨ê³„ì— í¬í•¨ë˜ë©° doFirstì™€ doLast ë¸”ë¡ì´ ìˆ˜í–‰ ë‹¨ê³„ì— í¬í•¨ë˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</p><p>ì €ë„ ëª¨ë¥´ëŠ” ë¶€ë¶„ì´ì—ˆê³  ìƒê°ë³´ë‹¤ ë§ì€ ë¸”ë¡œê·¸ì—ì„œëŠ” ê·¸ë˜ë“¤ íƒœìŠ¤í¬ ì •ì˜ë¥¼ ì„¤ëª…í•  ë•Œ êµ¬ì„± ë‹¨ê³„ì— í•´ë‹¹ë˜ëŠ” ê³³ì— printlnì„ ì‘ì„±í•˜ëŠ” ì˜ˆì‹œë¥¼ ë³´ì—¬ì£¼ëŠ”ë°ìš”. ìƒê°ë³´ë‹¤ ë§ì€ ë¶„ë“¤ì´ ì´ ê°œë…ì— ëŒ€í•´ì„œ ëª¨ë¥¸ë‹¤ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¬¼ë¡  ë‹¨ì¼ ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡œì íŠ¸ì—ì„œëŠ” ëª°ë¼ë„ ìƒê´€ì—†ë‹¤ê³  í•  ìˆ˜ ìˆê² ë„¤ìš”.</p><h3 id="í…ŒìŠ¤íŠ¸ë¥¼-ìœ„í•œ-íƒœìŠ¤í¬"><a href="#í…ŒìŠ¤íŠ¸ë¥¼-ìœ„í•œ-íƒœìŠ¤í¬" class="headerlink" title="í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ íƒœìŠ¤í¬"></a>í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ íƒœìŠ¤í¬</h3><p>ê·¸ëŸ¬ë©´ ì–´ë–»ê²Œ í•˜ì˜€ê¸°ì— í”„ë¡œì íŠ¸ ë²„ì „ì´ í¬í•¨ë˜ì§€ ì•Šì•˜ì„ ì§€ ë‹¤ìŒì˜ íƒœìŠ¤í¬ë¥¼ ì‚´í´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p><pre class="language-groovy" data-language="groovy"><code class="language-groovy">task <span class="token function">zipBeanstalk</span><span class="token punctuation">(</span>type<span class="token punctuation">:</span> Zip<span class="token punctuation">,</span> dependsOn<span class="token punctuation">:</span> <span class="token string">'procfile'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>task <span class="token function">zipManually</span><span class="token punctuation">(</span>type<span class="token punctuation">:</span> Zip<span class="token punctuation">,</span> dependsOn<span class="token punctuation">:</span> <span class="token string">'bootWar'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>task <span class="token function">k8sbuild</span><span class="token punctuation">(</span>dependsOn<span class="token punctuation">:</span> bootWar<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    project<span class="token punctuation">.</span>version <span class="token string">''</span><span class="token punctuation">&#125;</span></code></pre><p>ì¶”ê°€í•œ k8sbuild íƒœìŠ¤í¬ëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ ë°°í¬ í™˜ê²½ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ íŒ¨í‚¤ì§•ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ WAR íŒŒì¼ì— í¬í•¨ë˜ëŠ” í”„ë¡œì íŠ¸ ë²„ì „ì„ ìƒëµí•˜ê¸° ìœ„í•´ì„œ project.versionì„ ë¹ˆ ê°’ìœ¼ë¡œ ì„¤ì •í•˜ë„ë¡ ì‘ì„±í•œê²Œ í™”ê·¼ì´ì—ˆìŠµë‹ˆë‹¤. ì´ ìƒíƒœë¡œ zipManually íƒœìŠ¤í¬ë¥¼ ë‹¤ì‹œ í•œë²ˆ ìˆ˜í–‰í•˜ë©´ ì–´ë–»ê²Œ ë˜ëŠ”ì§€ í™•ì¸í•´ë´…ì‹œë‹¤.</p><pre class="language-sh" data-language="sh"><code class="language-sh">.&#x2F;gradlew clean zipManually -x test -Pversion&#x3D;1.0.0-hotfix.11</code></pre><p><img data-src="/images/posts/gradle-build-lifecycle/gradle-03.png"></p><p>k8sbuild íƒœìŠ¤í¬ì— ì‘ì„±ëœ project.versionì„ ì„¤ì •í•˜ëŠ” í–‰ìœ„ëŠ” êµ¬ì„± ë‹¨ê³„ì— í•´ë‹¹í•˜ê¸° ë•Œë¬¸ì— ëª¨ë“  íƒœìŠ¤í¬ë¥¼ ìˆ˜í–‰í•˜ê¸° ì´ì „ì— ì ìš©ë˜ì–´ zipManually íƒœìŠ¤í¬ë¥¼ ìˆ˜í–‰í–ˆìŒì—ë„ ë¶ˆêµ¬í•˜ê³  í”„ë¡œì íŠ¸ ë²„ì „ì´ í¬í•¨ë˜ì§€ ì•Šì•˜ìŒì„ ë³´ì—¬ì¤ë‹ˆë‹¤.</p><h3 id="í•´ê²°ë°©ì•ˆ"><a href="#í•´ê²°ë°©ì•ˆ" class="headerlink" title="í•´ê²°ë°©ì•ˆ"></a>í•´ê²°ë°©ì•ˆ</h3><p>ê·¸ëŸ¬ë©´ ì–´ë–»ê²Œ í•´ê²°í•˜ëŠ”ê²Œ ì¢‹ì„ì§€ ë°©ì•ˆì„ ì°¾ì•„ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤. </p><h4 id="í”„ë¡œì íŠ¸-ë²„ì „-ì¬ì •ì˜í•˜ëŠ”-ê²½ìš°"><a href="#í”„ë¡œì íŠ¸-ë²„ì „-ì¬ì •ì˜í•˜ëŠ”-ê²½ìš°" class="headerlink" title="í”„ë¡œì íŠ¸ ë²„ì „ ì¬ì •ì˜í•˜ëŠ” ê²½ìš°"></a>í”„ë¡œì íŠ¸ ë²„ì „ ì¬ì •ì˜í•˜ëŠ” ê²½ìš°</h4><p>k8sbuild íƒœìŠ¤í¬ì²˜ëŸ¼ íŠ¹ì • íƒœìŠ¤í¬ì—ì„œ í”„ë¡œì íŠ¸ ë²„ì „ì„ ì¬ì •ì˜ í•˜ê³ ì‹¶ì€ ê²½ìš°ì—ëŠ” doFirstì™€ ê°™ì€ í´ë¡œì €ë¥¼ í™œìš©í•´ì•¼í•©ë‹ˆë‹¤.</p><pre class="language-groovy" data-language="groovy"><code class="language-groovy">task <span class="token function">k8sbuild</span><span class="token punctuation">(</span>dependsOn<span class="token punctuation">:</span> bootWar<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    doFirst <span class="token punctuation">&#123;</span>        project<span class="token punctuation">.</span>version <span class="token string">''</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><h4 id="í”„ë¡œì íŠ¸-ë²„ì „ì„-í™•ì¸í•˜ê³ -ì‹¶ì€-ê²½ìš°"><a href="#í”„ë¡œì íŠ¸-ë²„ì „ì„-í™•ì¸í•˜ê³ -ì‹¶ì€-ê²½ìš°" class="headerlink" title="í”„ë¡œì íŠ¸ ë²„ì „ì„ í™•ì¸í•˜ê³  ì‹¶ì€ ê²½ìš°"></a>í”„ë¡œì íŠ¸ ë²„ì „ì„ í™•ì¸í•˜ê³  ì‹¶ì€ ê²½ìš°</h4><p>zipBeanstalkì™€ zipManually íƒœìŠ¤í¬ì²˜ëŸ¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ WARë¡œ íŒ¨í‚¤ì§•í•˜ëŠ” ê²½ìš° í˜„ì¬ í”„ë¡œì íŠ¸ ë²„ì „ì„ ì¶œë ¥í•˜ê³  ì‹¶ì€ ê²½ìš° gradle.taskGraph.whenReadyë¥¼ í™œìš©í•¨ìœ¼ë¡œì¨ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><pre class="language-groovy" data-language="groovy"><code class="language-groovy">task <span class="token function">zipBeanstalk</span><span class="token punctuation">(</span>type<span class="token punctuation">:</span> Zip<span class="token punctuation">,</span> dependsOn<span class="token punctuation">:</span> <span class="token string">'procfile'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    from <span class="token punctuation">(</span><span class="token string">'.ebextensions'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> into <span class="token string">'.ebextensions'</span> <span class="token punctuation">&#125;</span>    from <span class="token punctuation">(</span><span class="token string">'.platform'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> into <span class="token string">'.platform'</span> <span class="token punctuation">&#125;</span>    from <span class="token punctuation">(</span><span class="token string">'build/libs'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">include</span><span class="token punctuation">(</span>bootWar<span class="token punctuation">.</span>archiveName<span class="token punctuation">)</span>        <span class="token function">include</span><span class="token punctuation">(</span><span class="token string gstring">"Procfile"</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    baseName <span class="token operator">=</span> <span class="token string">'beanstalk'</span><span class="token punctuation">&#125;</span>task <span class="token function">zipManually</span><span class="token punctuation">(</span>type<span class="token punctuation">:</span> Zip<span class="token punctuation">,</span> dependsOn<span class="token punctuation">:</span> <span class="token string">'bootWar'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    from <span class="token punctuation">(</span><span class="token string">'.conf'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> into <span class="token string">'application-prod.yml'</span><span class="token punctuation">&#125;</span>    from <span class="token punctuation">(</span><span class="token string">'build/libs'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">include</span><span class="token punctuation">(</span>bootWar<span class="token punctuation">.</span>archiveName<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    baseName <span class="token operator">=</span> <span class="token string">'app-bundle'</span><span class="token punctuation">&#125;</span>gradle<span class="token punctuation">.</span>taskGraph<span class="token punctuation">.</span>whenReady <span class="token punctuation">&#123;</span> graph <span class="token operator">-></span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>graph<span class="token punctuation">.</span><span class="token function">hasTask</span><span class="token punctuation">(</span>bootWar<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        println <span class="token string">'Build Version: '</span> <span class="token operator">+</span> project<span class="token punctuation">.</span>version    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><h4 id="ë¶ˆí•„ìš”í•œ-íŒŒì¼ì„-ì œê±°í•´ì•¼í•˜ëŠ”-ê²½ìš°"><a href="#ë¶ˆí•„ìš”í•œ-íŒŒì¼ì„-ì œê±°í•´ì•¼í•˜ëŠ”-ê²½ìš°" class="headerlink" title="ë¶ˆí•„ìš”í•œ íŒŒì¼ì„ ì œê±°í•´ì•¼í•˜ëŠ” ê²½ìš°"></a>ë¶ˆí•„ìš”í•œ íŒŒì¼ì„ ì œê±°í•´ì•¼í•˜ëŠ” ê²½ìš°</h4><p>ê²½ìš°ì— ë”°ë¼ì„œëŠ” í”„ë¡œì íŠ¸ ë¹Œë“œ ì‹œ íŒ¨í‚¤ì§•ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ WAR íŒŒì¼ì— í¬í•¨ë˜ì§€ ì•Šë„ë¡ í•´ì•¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë¡œì»¬ í™˜ê²½ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡œí¼í‹° íŒŒì¼ì´ë‚˜ íŠ¹ì • ë„ë©”ì¸ì— ëŒ€í•œ ì¸ì¦ì„œ ë˜ëŠ” ì¸ì¦í‚¤ë¥¼ í¬í•¨í•˜ì§€ì•Šë„ë¡ ì œì™¸í•´ì•¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><pre class="language-groovy" data-language="groovy"><code class="language-groovy">gradle<span class="token punctuation">.</span>taskGraph<span class="token punctuation">.</span>whenReady <span class="token punctuation">&#123;</span> graph <span class="token operator">-></span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>graph<span class="token punctuation">.</span><span class="token function">hasTask</span><span class="token punctuation">(</span>build_for_customer<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        processResources <span class="token punctuation">&#123;</span>            <span class="token function">exclude</span><span class="token punctuation">(</span><span class="token string">'**/config/**.yml'</span><span class="token punctuation">)</span>            <span class="token function">exclude</span><span class="token punctuation">(</span><span class="token string">'**/certs/**'</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>ìœ„ ì˜ˆì‹œëŠ” êµ¬ì„± ë‹¨ê³„ì—ì„œ ì˜ì¡´ì„± ê·¸ë˜í”„ êµ¬ì„±ì´ ì™„ë£Œëœ ì´í›„ì— build_for_customer íƒœìŠ¤í¬ê°€ ìˆ˜í–‰ë˜ëŠ” ê²½ìš°ì— ê³ ê° í™˜ê²½ìœ¼ë¡œ ë°°í¬í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ WAR íŒŒì¼ì— ìì²´ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡œí¼í‹° íŒŒì¼ë“¤ê³¼ ì¸ì¦ì„œë¥¼ í¬í•¨í•˜ì§€ ì•Šë„ë¡ processResourcesë¥¼ ì¬ì •ì˜í•¨ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.</p><p>ê·¸ë˜ë“¤ ë¹Œë“œ ë¼ì´í”„ì‚¬ì´í´ ê°œë…ê³¼ í•¨ê»˜ ê²½í—˜í•˜ì˜€ë˜ ë¬¸ì œì— ëŒ€í•˜ì—¬ ì–´ë–»ê²Œ í•´ê²°í•  ìˆ˜ ìˆëŠ”ì§€ ì•Œì•„ë³´ì•˜ìŠµë‹ˆë‹¤. ì–´ë–¤ ê¸°ìˆ ì„ ì‚¬ìš©í•¨ì— ìˆì–´ì„œ ì£¼ìš” ê°œë…ì„ ì´í•´í•˜ê³  ìˆëŠ” ê²ƒì´ ì¤‘ìš”í•¨ì„ ë‹¤ì‹œí•œë²ˆ ê¹¨ë‹«ê²Œ ë˜ëŠ” ì¢‹ì€ ê²½í—˜ì´ì—ˆìŠµë‹ˆë‹¤. ì—¬ëŸ¬ë¶„ì˜ ê·¸ë˜ë“¤ ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë„ ìˆ˜í–‰ ë‹¨ê³„ì—ì„œ ìˆ˜í–‰ë˜ì–´ì•¼í•  ì½”ë“œë¥¼ êµ¬ì„± ë‹¨ê³„ì—ì„œ ë™ì‘í•˜ë„ë¡ ì‘ì„±ë˜ì§€ ì•Šì•˜ëŠ”ì§€ ê²€í† í•´ë³´ì‹œê¸°ë¥¼ ë°”ëë‹ˆë‹¤.</p><p>ê°ì‚¬í•©ë‹ˆë‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ì•ˆë…•í•˜ì„¸ìš” Mambo ì…ë‹ˆë‹¤.&lt;/p&gt;
&lt;p&gt;ì˜¤ëŠ˜ ì•Œì•„ë³¼ ë‚´ìš©ì€ ê·¸ë˜ë“¤ ë¹Œë“œì˜ ë¼ì´í”„ì‚¬ì´í´ì…ë‹ˆë‹¤. &lt;/p&gt;
&lt;p&gt;ì–¼ë§ˆì „ì— ë‹¨ì¼ ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡œì íŠ¸ì—ì„œ ë‹¤ì–‘í•œ ë°°í¬ í™˜ê²½ì— ëŒ€í•œ ê¸°ëŠ¥ì„ ë³„ë„ë¡œ ì§€ì›í•´ì•¼í•˜ëŠ” ìš”êµ¬ì‚¬í•­ìœ¼ë¡œ ì¸í•˜ì—¬ ê·¸ë˜ë“¤ ë©€í‹° ëª¨ë“ˆ í”„ë¡œì </summary>
      
    
    
    
    
    <category term="Gradle" scheme="https://kdevkr.github.io/tags/Gradle/"/>
    
    <category term="Lifecycle" scheme="https://kdevkr.github.io/tags/Lifecycle/"/>
    
  </entry>
  
  <entry>
    <title>SonarQubeì™€ Github Actionìœ¼ë¡œ ìˆ˜í–‰í•˜ëŠ” ì •ì  ë¶„ì„</title>
    <link href="https://kdevkr.github.io/static-analysis-performed-by-sonarqube-and-github-action/"/>
    <id>https://kdevkr.github.io/static-analysis-performed-by-sonarqube-and-github-action/</id>
    <published>2021-10-11T00:00:00.000Z</published>
    <updated>2022-03-19T05:27:27.228Z</updated>
    
    <content type="html"><![CDATA[<p>ì•ˆë…•í•˜ì„¸ìš” Mambo ì…ë‹ˆë‹¤.</p><p>ì˜¤ëŠ˜ì€ SonarQubeì™€ Github Actionì„ í†µí•´ ì •ì  ë¶„ì„ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•œ ê³¼ì •ì„ ì•Œì•„ë³´ë ¤ê³  í•©ë‹ˆë‹¤.</p><h2 id="SonarQube"><a href="#SonarQube" class="headerlink" title="SonarQube"></a>SonarQube</h2><p><a href="https://www.sonarqube.org/">ì†Œë‚˜íë¸Œ</a>ëŠ” ë‹¤ì–‘í•œ ì–¸ì–´ì— ëŒ€í•œ ì½”ë“œ í’ˆì§ˆì„ ë¶„ì„í•˜ê³  ì·¨ì•½ì ì„ íŒŒì•…í•  ìˆ˜ ìˆëŠ” ì •ì  ë¶„ì„ ë„êµ¬ì…ë‹ˆë‹¤. íšŒì‚¬ì—ì„œ ì •ì  ë¶„ì„ì„ ìˆ˜í–‰í•˜ê³  ì‹¶ë‹¤ëŠ” ìš”êµ¬ì‚¬í•­ì´ ìˆì–´ ì œê°€ SonarQubeë¥¼ ë„ì…í•˜ê³  ì›”ìš”ì¼ê³¼ ê¸ˆìš”ì¼ë§ˆë‹¤ í”„ë¡œì íŠ¸ ì½”ë“œì— ëŒ€í•œ ì •ì  ë¶„ì„ì„ ìˆ˜í–‰í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì œê°€ ì •ì  ë¶„ì„ì„ ìœ„í•´ì„œ ì†Œë‚˜íë¸Œë¥¼ ë„ì…í•œ ì´ìœ ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p><p><img data-src="/images/posts/sonarqube-and-github-action/sonarqube-00.png" alt="ì†Œë‚˜íë¸Œ ë¼ì´ì„¼ìŠ¤"></p><ol><li>GPLv3 ë¼ì´ì„¼ìŠ¤ ê¸°ë°˜ì˜ ì˜¤í”ˆì†ŒìŠ¤ ë²„ì „ ì§€ì›</li><li>IntelliJ ë˜ëŠ” VSCodeì™€ ê°™ì€ IDEë¥¼ ìœ„í•œ SonarLint ì§€ì›</li><li>ì†Œë‚˜íë¸Œì— ëŒ€í•œ ê³µì‹ ë„ì»¤ ì´ë¯¸ì§€ ì§€ì›</li><li>ë‹¤ì–‘í•œ ì–¸ì–´ì™€ ì»¤ë®¤ë‹ˆí‹° ê¸°ë°˜ì˜ ê·œì¹™ ì§€ì›</li></ol><p>íšŒì‚¬ ê°œë°œìë“¤ì´ ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì¸í…”ë¦¬ì œì´ IDEA ë˜ëŠ” VSCodeì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” SonarLintë¥¼ ì œê³µí•˜ì—¬ ë³„ë„ì˜ ì„œë²„ ì—†ì´ë„ ê°„ë‹¨í•˜ê²Œ ìì²´ì ìœ¼ë¡œ ì •ì  ë¶„ì„ì„ ìˆ˜í–‰í•˜ê³  ê²°ê³¼ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìœ¼ë©° ê³µì‹ ë„ì»¤ ì´ë¯¸ì§€ë¥¼ í†µí•´ ë³„ë‹¤ë¥¸ ì„¤ì • ì—†ì´ë„ ê°„ë‹¨í•˜ê²Œ ì†Œë‚˜íë¸Œ ì‹œìŠ¤í…œì„ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><h3 id="ì†Œë‚˜íë¸Œ-ì‹œìŠ¤í…œ-êµ¬ì„±"><a href="#ì†Œë‚˜íë¸Œ-ì‹œìŠ¤í…œ-êµ¬ì„±" class="headerlink" title="ì†Œë‚˜íë¸Œ ì‹œìŠ¤í…œ êµ¬ì„±"></a>ì†Œë‚˜íë¸Œ ì‹œìŠ¤í…œ êµ¬ì„±</h3><p>ì†Œë‚˜íë¸ŒëŠ” <a href="https://docs.sonarqube.org/latest/setup/install-server/">ì§ì ‘ ì„¤ì¹˜</a>í•  ìˆ˜ë„ ìˆìœ¼ë©° ë„ì»¤ ì´ë¯¸ì§€ì™€ í•¨ê»˜ ì œê³µí•˜ëŠ” ë„ì»¤ ì»´í¬ì¦ˆ ë¬¸ì„œë¥¼ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p><a href="https://github.com/SonarSource/docker-sonarqube/blob/master/example-compose-files/sq-with-postgres/docker-compose.yml">sq-with-postgres&#x2F;docker-compose.yml</a></p><pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">"3.8"</span><span class="token key atrule">services</span><span class="token punctuation">:</span>  <span class="token key atrule">web</span><span class="token punctuation">:</span>    <span class="token key atrule">image</span><span class="token punctuation">:</span> sonarqube<span class="token punctuation">:</span>9.1.0<span class="token punctuation">-</span>community    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> db    <span class="token key atrule">ports</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> <span class="token string">"9000:9000"</span>    <span class="token key atrule">networks</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> sonarnet    <span class="token key atrule">environment</span><span class="token punctuation">:</span>      <span class="token key atrule">SONAR_JDBC_URL</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>postgresql<span class="token punctuation">:</span>//db<span class="token punctuation">:</span>5432/sonar      <span class="token key atrule">SONAR_JDBC_USERNAME</span><span class="token punctuation">:</span> sonar      <span class="token key atrule">SONAR_JDBC_PASSWORD</span><span class="token punctuation">:</span> sonar    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> sonarqube_data<span class="token punctuation">:</span>/opt/sonarqube/data      <span class="token punctuation">-</span> sonarqube_extensions<span class="token punctuation">:</span>/opt/sonarqube/extensions      <span class="token punctuation">-</span> sonarqube_logs<span class="token punctuation">:</span>/opt/sonarqube/logs      <span class="token punctuation">-</span> sonarqube_temp<span class="token punctuation">:</span>/opt/sonarqube/temp      <span class="token punctuation">-</span> sonarqube_bundled<span class="token punctuation">-</span>plugins<span class="token punctuation">:</span>/opt/sonarqube/lib/bundled<span class="token punctuation">-</span>plugins    <span class="token key atrule">ulimits</span><span class="token punctuation">:</span>      <span class="token key atrule">nproc</span><span class="token punctuation">:</span> <span class="token number">65535</span>      <span class="token key atrule">nofile</span><span class="token punctuation">:</span>        <span class="token key atrule">soft</span><span class="token punctuation">:</span> <span class="token number">262144</span>        <span class="token key atrule">hard</span><span class="token punctuation">:</span> <span class="token number">262144</span>  <span class="token key atrule">db</span><span class="token punctuation">:</span>    <span class="token key atrule">image</span><span class="token punctuation">:</span> postgres    <span class="token key atrule">networks</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> sonarnet    <span class="token key atrule">environment</span><span class="token punctuation">:</span>      <span class="token key atrule">POSTGRES_USER</span><span class="token punctuation">:</span> sonar      <span class="token key atrule">POSTGRES_PASSWORD</span><span class="token punctuation">:</span> sonar    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> postgresql<span class="token punctuation">:</span>/var/lib/postgresql      <span class="token punctuation">-</span> postgresql_data<span class="token punctuation">:</span>/var/lib/postgresql/data<span class="token key atrule">networks</span><span class="token punctuation">:</span>  <span class="token key atrule">sonarnet</span><span class="token punctuation">:</span>    <span class="token key atrule">driver</span><span class="token punctuation">:</span> bridge<span class="token key atrule">volumes</span><span class="token punctuation">:</span>  <span class="token key atrule">sonarqube_data</span><span class="token punctuation">:</span>  <span class="token key atrule">sonarqube_extensions</span><span class="token punctuation">:</span>  <span class="token key atrule">sonarqube_logs</span><span class="token punctuation">:</span>  <span class="token key atrule">sonarqube_temp</span><span class="token punctuation">:</span>  <span class="token key atrule">sonarqube_bundled-plugins</span><span class="token punctuation">:</span>  <span class="token key atrule">postgresql</span><span class="token punctuation">:</span>  postgresql_data<span class="token punctuation">:</span></code></pre><h4 id="WSL-vm-max-map-count"><a href="#WSL-vm-max-map-count" class="headerlink" title="WSL vm.max_map_count"></a>WSL vm.max_map_count</h4><p>ìœˆë„ìš° í™˜ê²½ì—ì„œ WSLë¡œ ë„ì»¤ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•˜ëŠ” ê²½ìš° vm.max_map_countë¡œ ì¸í•˜ì—¬ ì†Œë‚˜íë¸Œì—ì„œ ì‹¤í–‰í•˜ëŠ” Elasticsearchê°€ ì‹¤í–‰ë˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ê²½ìš° ìœˆë„ìš° í„°ë¯¸ë„ì—ì„œ WSLë¡œ ë„ì»¤ ì»¨í…Œì´ë„ˆë¡œ ì ‘ì† í›„ ë‹¤ìŒì˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ Elasticsearchì—ì„œ ìš”êµ¬í•˜ëŠ” ìˆ˜ì¹˜ë¡œ ë³€ê²½í•˜ì‹œë©´ ë©ë‹ˆë‹¤.</p><pre class="language-sh" data-language="sh"><code class="language-sh"># Max virtual memory areas vm.max_map_count [65530] is too low, increase to at least [262144]wsl -d docker-desktopsysctl -w vm.max_map_count&#x3D;262144</code></pre><blockquote><p>ì†Œë‚˜íë¸Œì˜ ê´€ë¦¬ì ê³„ì •ê³¼ ì´ˆê¸° ë¹„ë°€ë²ˆí˜¸ëŠ” admin&#x2F;admin ì…ë‹ˆë‹¤.</p></blockquote><h3 id="ì†Œë‚˜íë¸Œ-í”„ë¡œì íŠ¸-ìƒì„±"><a href="#ì†Œë‚˜íë¸Œ-í”„ë¡œì íŠ¸-ìƒì„±" class="headerlink" title="ì†Œë‚˜íë¸Œ í”„ë¡œì íŠ¸ ìƒì„±"></a>ì†Œë‚˜íë¸Œ í”„ë¡œì íŠ¸ ìƒì„±</h3><p>ì†Œë‚˜íë¸Œì— ì ‘ì†í•˜ì˜€ë‹¤ë©´ ì •ì  ë¶„ì„ì„ ìˆ˜í–‰í•  í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•´ì•¼í•©ë‹ˆë‹¤. ì €ëŠ” ê¹ƒí—ˆë¸Œ ë¦¬íŒŒì§€í† ë¦¬ ì´ë¦„ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ëŠ” í¸ì…ë‹ˆë‹¤.</p><p><img data-src="/images/posts/sonarqube-and-github-action/sonarqube-01.png" alt="spring5-web-example í”„ë¡œì íŠ¸"></p><p>ê·¸ë¦¬ê³  ì†Œë‚˜íë¸Œì— ë¡œê·¸ì¸í•  ìˆ˜ ìˆëŠ” í† í°ì„ ë°œí–‰í•©ë‹ˆë‹¤. </p><p><img data-src="/images/posts/sonarqube-and-github-action/sonarqube-02.png"></p><p>í† í° ìš©ë„ë¥¼ êµ¬ë¶„í•˜ê¸° ìœ„í•œ ì´ë¦„ì„ ì§€ì •í•˜ëŠ”ë° ì €ëŠ” Github Actionì—ì„œ ì‚¬ìš©í•  ì˜ˆì •ì´ë¯€ë¡œ GITHUB_ACTIONì„ ì§€ì •í•˜ì˜€ìŠµë‹ˆë‹¤.</p><p><img data-src="/images/posts/sonarqube-and-github-action/sonarqube-03.png"></p><p>ì €ëŠ” ë¡œì»¬ ì»´í“¨í„°ì— ì†Œë‚˜íë¸Œë¥¼ ì‹¤í–‰í•˜ì˜€ê³  í•„ìš”í• ë•Œë§Œ í¬íŠ¸í¬ì›Œë”©ì„ ìˆ˜í–‰í•  ì˜ˆì •ì´ë¯€ë¡œ í† í°ì„ ê³µê°œí•˜ê² ìŠµë‹ˆë‹¤. (ì–´ì°¨í”¼ í•™ìŠµ í›„ì— ì§€ì›€â€¦)</p><h3 id="ì†Œë‚˜íë¸Œ-ê´€ë ¨-ì½”ë“œ-ì¶”ê°€"><a href="#ì†Œë‚˜íë¸Œ-ê´€ë ¨-ì½”ë“œ-ì¶”ê°€" class="headerlink" title="ì†Œë‚˜íë¸Œ ê´€ë ¨ ì½”ë“œ ì¶”ê°€"></a>ì†Œë‚˜íë¸Œ ê´€ë ¨ ì½”ë“œ ì¶”ê°€</h3><p>ì†Œë‚˜íë¸Œ ì‹œìŠ¤í…œì— í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•˜ê³  í† í°ì„ ë°œê¸‰í•˜ì˜€ê¸° ë•Œë¬¸ì— ì†Œë‚˜íë¸Œì™€ ì—°ê³„í•  ìˆ˜ ìˆë„ë¡ í”„ë¡œì íŠ¸ í´ë”ì— ì†Œë‚˜íë¸Œì™€ ê´€ë ¨ëœ ì½”ë“œë¥¼ ì¶”ê°€í•˜ê² ìŠµë‹ˆë‹¤.</p><h4 id="build-gradle"><a href="#build-gradle" class="headerlink" title="build.gradle"></a>build.gradle</h4><p>ë§Œì•½, ê·¸ë˜ë“¤ì„ í†µí•´ ì†Œë‚˜íë¸Œì™€ ì—°ë™í•˜ê³  ì‹¶ë‹¤ë©´ build.gradleì— SonarQube í”ŒëŸ¬ê·¸ì¸ì„ ì¶”ê°€í•´ì•¼í•©ë‹ˆë‹¤.</p><pre class="language-groovy" data-language="groovy"><code class="language-groovy">plugins <span class="token punctuation">&#123;</span>    id <span class="token string gstring">"org.sonarqube"</span> version <span class="token string">'3.3'</span>    id <span class="token string">'jacoco'</span><span class="token punctuation">&#125;</span>sonarqube <span class="token punctuation">&#123;</span>  properties <span class="token punctuation">&#123;</span>    property <span class="token string gstring">"sonar.projectKey"</span><span class="token punctuation">,</span> <span class="token string gstring">"spring5-web-example"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><h4 id="sonar-project-properties"><a href="#sonar-project-properties" class="headerlink" title="sonar-project.properties"></a>sonar-project.properties</h4><p>sonar-project.properties íŒŒì¼ì€ ì†Œë‚˜íë¸Œì—ì„œ ì°¸ì¡°í•˜ê²Œ ë˜ëŠ” ì„¤ì • íŒŒì¼ì…ë‹ˆë‹¤.</p><pre class="language-yaml" data-language="yaml"><code class="language-yaml">sonar.projectKey=spring5<span class="token punctuation">-</span>web<span class="token punctuation">-</span>examplesonar.projectName=spring5<span class="token punctuation">-</span>web<span class="token punctuation">-</span>examplesonar.java.source=1.11sonar.sources=src/main/java<span class="token comment">#sonar.tests=src/main/test</span>sonar.java.binaries=build/classes/java/main/com/examplesonar.sourceEncoding=UTF<span class="token punctuation">-</span><span class="token number">8</span>sonar.exclusions=</code></pre><h2 id="Github-Action"><a href="#Github-Action" class="headerlink" title="Github Action"></a>Github Action</h2><p><a href="https://github.com/kitabisa/sonarqube-action">SonarQube GitHub Action</a>ì€ Github Actionì„ í†µí•´ ì†Œë‚˜íë¸Œë¡œ ì •ì  ë¶„ì„ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•©ë‹ˆë‹¤.</p><h3 id="ì†Œë‚˜íë¸Œ-ì›Œí¬í”Œë¡œìš°-ì½”ë“œ-ì¶”ê°€"><a href="#ì†Œë‚˜íë¸Œ-ì›Œí¬í”Œë¡œìš°-ì½”ë“œ-ì¶”ê°€" class="headerlink" title="ì†Œë‚˜íë¸Œ ì›Œí¬í”Œë¡œìš° ì½”ë“œ ì¶”ê°€"></a>ì†Œë‚˜íë¸Œ ì›Œí¬í”Œë¡œìš° ì½”ë“œ ì¶”ê°€</h3><p><strong>.github&#x2F;workflows&#x2F;sonarqube.yml</strong></p><pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">on</span><span class="token punctuation">:</span>  <span class="token comment"># schedule:</span>    <span class="token comment"># - cron: '0 * * * 1'</span>  <span class="token key atrule">workflow_dispatch</span><span class="token punctuation">:</span><span class="token key atrule">name</span><span class="token punctuation">:</span> SonarQube Workflow<span class="token key atrule">jobs</span><span class="token punctuation">:</span>  <span class="token key atrule">build</span><span class="token punctuation">:</span>    <span class="token key atrule">name</span><span class="token punctuation">:</span> Build    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest    <span class="token key atrule">steps</span><span class="token punctuation">:</span>    <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v2    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Set up JDK 1.11      <span class="token key atrule">uses</span><span class="token punctuation">:</span> AdoptOpenJDK/install<span class="token punctuation">-</span>jdk@v1      <span class="token key atrule">with</span><span class="token punctuation">:</span>        <span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'11'</span>        <span class="token key atrule">architecture</span><span class="token punctuation">:</span> x64        <span class="token key atrule">targets</span><span class="token punctuation">:</span> <span class="token string">'JAVA_HOME'</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Grant execute permission for gradlew      <span class="token key atrule">run</span><span class="token punctuation">:</span> chmod +x gradlew    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Build with Gradle      <span class="token key atrule">run</span><span class="token punctuation">:</span> ./gradlew build <span class="token punctuation">-</span>x test    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Upload build artifact      <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/upload<span class="token punctuation">-</span>artifact@v2      <span class="token key atrule">with</span><span class="token punctuation">:</span>        <span class="token key atrule">name</span><span class="token punctuation">:</span> build        <span class="token key atrule">path</span><span class="token punctuation">:</span> build/classes  <span class="token key atrule">sonarQube</span><span class="token punctuation">:</span>    <span class="token key atrule">needs</span><span class="token punctuation">:</span> build    <span class="token key atrule">name</span><span class="token punctuation">:</span> SonarQube    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest    <span class="token key atrule">steps</span><span class="token punctuation">:</span>    <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v2    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Donwload build artifact      <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/download<span class="token punctuation">-</span>artifact@v2      <span class="token key atrule">with</span><span class="token punctuation">:</span>        <span class="token key atrule">name</span><span class="token punctuation">:</span> build        <span class="token key atrule">path</span><span class="token punctuation">:</span> build/classes    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> SonarQube Scan      <span class="token key atrule">uses</span><span class="token punctuation">:</span> kitabisa/sonarqube<span class="token punctuation">-</span>action@master      <span class="token key atrule">with</span><span class="token punctuation">:</span>        <span class="token key atrule">host</span><span class="token punctuation">:</span> $<span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span> secrets.SONAR_HOST <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>        <span class="token key atrule">login</span><span class="token punctuation">:</span> $<span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span> secrets.SONAR_TOKEN <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>        <span class="token key atrule">projectBaseDir</span><span class="token punctuation">:</span> <span class="token string">'/github/workspace'</span></code></pre><p>ì†Œë‚˜íë¸Œ ì›Œí¬í”Œë¡œìš° íŒŒì¼ì„ ê¹ƒí—ˆë¸Œ ë¦¬íŒŒì§€í† ë¦¬ì˜ ë©”ì¸ ë˜ëŠ” ë§ˆìŠ¤í„° ë¸Œëœì¹˜ì— ë°˜ì˜í•˜ë©´ ê¹ƒí—ˆë¸Œì—ì„œ ì›Œí¬í”Œë¡œìš°ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.</p><p><img data-src="/images/posts/sonarqube-and-github-action/sonarqube-04.png"></p><h3 id="ì†Œë‚˜íë¸Œ-ê´€ë ¨-ì‹œí¬ë¦¿-ìƒì„±"><a href="#ì†Œë‚˜íë¸Œ-ê´€ë ¨-ì‹œí¬ë¦¿-ìƒì„±" class="headerlink" title="ì†Œë‚˜íë¸Œ ê´€ë ¨ ì‹œí¬ë¦¿ ìƒì„±"></a>ì†Œë‚˜íë¸Œ ê´€ë ¨ ì‹œí¬ë¦¿ ìƒì„±</h3><p>ì†Œë‚˜íë¸Œ ì›Œí¬í”Œë¡œìš°ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë‘ê°€ì§€ ì‹œí¬ë¦¿ì„ ê¹ƒí—ˆë¸Œ ë¦¬íŒŒì§€í† ë¦¬ì— ì„¤ì •í•´ì•¼í•©ë‹ˆë‹¤.</p><ul><li>SONAR_HOST : ì†Œë‚˜íë¸Œ í˜¸ìŠ¤íŠ¸ ì£¼ì†Œ</li><li>SONAR_TOKEN : ì†Œë‚˜íë¸Œì—ì„œ ë°œê¸‰í•œ í† í° ì •ë³´</li></ul><p><img data-src="/images/posts/sonarqube-and-github-action/sonarqube-05.png"></p><h3 id="ì†Œë‚˜íë¸Œ-ì›Œí¬í”Œë¡œìš°-ì‹¤í–‰"><a href="#ì†Œë‚˜íë¸Œ-ì›Œí¬í”Œë¡œìš°-ì‹¤í–‰" class="headerlink" title="ì†Œë‚˜íë¸Œ ì›Œí¬í”Œë¡œìš° ì‹¤í–‰"></a>ì†Œë‚˜íë¸Œ ì›Œí¬í”Œë¡œìš° ì‹¤í–‰</h3><p>ì†Œë‚˜íë¸Œ ì›Œí¬í”Œë¡œìš° ì„¤ì •ì´ ì™„ë£Œë˜ì—ˆìœ¼ë¯€ë¡œ ë©”ì¸ ë¸Œëœì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì›Œí¬í”Œë¡œìš°ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.</p><p><img data-src="/images/posts/sonarqube-and-github-action/sonarqube-06.png"></p><p>í”„ë¡œì íŠ¸ ì½”ë“œì— ëŒ€í•œ ë¹Œë“œê°€ ì •ìƒì ìœ¼ë¡œ ìˆ˜í–‰ë˜ê³  ì†Œë‚˜íë¸Œ ì„œë²„ë¥¼ í†µí•´ ì •ì  ë¶„ì„ì„ ìˆ˜í–‰ë˜ì—ˆë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì›Œí¬í”Œë¡œìš°ê°€ ì •ìƒì ìœ¼ë¡œ ì™„ë£Œë©ë‹ˆë‹¤.</p><p><img data-src="/images/posts/sonarqube-and-github-action/sonarqube-07.png"></p><h2 id="ì •ì -ë¶„ì„-ê²°ê³¼"><a href="#ì •ì -ë¶„ì„-ê²°ê³¼" class="headerlink" title="ì •ì  ë¶„ì„ ê²°ê³¼"></a>ì •ì  ë¶„ì„ ê²°ê³¼</h2><p>ì†Œë‚˜íë¸Œ ì‹œìŠ¤í…œì— ì ‘ì†í•˜ì—¬ ì†Œë‚˜íë¸Œ ì›Œí¬í”Œë¡œìš°ë¥¼ ì‹¤í–‰í•œ í”„ë¡œì íŠ¸ì˜ ì •ì  ë¶„ì„ ê²°ê³¼ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.</p><p><img data-src="/images/posts/sonarqube-and-github-action/sonarqube-08.png"></p><p>ë¹Œë“œ í…ŒìŠ¤íŠ¸ëŠ” ìˆ˜í–‰í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ì½”ë“œ ì»¤ë²„ë¦¬ì§€ëŠ” ë¶„ì„í•  ìˆ˜ ì—†ì—ˆìœ¼ë‚˜ 10ê°œì˜ ì½”ë“œ ì•…ì·¨ê°€ ë°œê²¬ë˜ì—ˆìŠµë‹ˆë‹¤.</p><h3 id="ì½”ë“œ-ì•…ì·¨-ê²€í† -ë°-ê°œì„ "><a href="#ì½”ë“œ-ì•…ì·¨-ê²€í† -ë°-ê°œì„ " class="headerlink" title="ì½”ë“œ ì•…ì·¨ ê²€í†  ë° ê°œì„ "></a>ì½”ë“œ ì•…ì·¨ ê²€í†  ë° ê°œì„ </h3><p>ì •ì  ë¶„ì„ ê²°ê³¼ë¡œ ê²€ì¶œëœ ì½”ë“œ ì•…ì·¨ì— ëŒ€í•œ ë‚´ìš©ì„ ê²€í† í•˜ê³  ì´ë¥¼ ê°œì„ í•´ë³´ê² ìŠµë‹ˆë‹¤.</p><h4 id="ì½”ë“œ-ì•…ì·¨"><a href="#ì½”ë“œ-ì•…ì·¨" class="headerlink" title="ì½”ë“œ ì•…ì·¨"></a>ì½”ë“œ ì•…ì·¨</h4><p><img data-src="/images/posts/sonarqube-and-github-action/sonarqube-09.png"></p><p>ì²«ë²ˆì§¸ ê²€ì¶œ í•­ëª©ì€ ì—°ì†ëœ ë¼ì¸ì„ ì£¼ì„ìœ¼ë¡œ ì²˜ë¦¬í•œ ë¶€ë¶„ì„ ì œê±°í•´ì•¼í•œë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. </p><p><img data-src="/images/posts/sonarqube-and-github-action/sonarqube-10.png"></p><p>ë§Œì•½, ì´ë ‡ê²Œ ì£¼ì„ë˜ì–´ìˆëŠ” ê²ƒì´ ë‚¨ì•„ìˆì–´ì•¼ í•œë‹¤ê³  ê°€ì •í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ í”„ë¡œì íŠ¸ì— ëŒ€í•œ ê²€ì¶œ ê·œì¹™ì„ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><pre class="language-properties" data-language="properties"><code class="language-properties"><span class="token comment"># Ignore Rules</span><span class="token attr-name">sonar.issue.ignore.multicriteria</span><span class="token punctuation">=</span><span class="token attr-value">e1,e2</span><span class="token attr-name">sonar.issue.ignore.multicriteria.e1.ruleKey</span><span class="token punctuation">=</span><span class="token attr-value">java:S125</span><span class="token attr-name">sonar.issue.ignore.multicriteria.e1.resourceKey</span><span class="token punctuation">=</span><span class="token attr-value">**/*.java</span><span class="token attr-name">sonar.issue.ignore.multicriteria.e2.ruleKey</span><span class="token punctuation">=</span><span class="token attr-value">java:S1192</span><span class="token attr-name">sonar.issue.ignore.multicriteria.e2.resourceKey</span><span class="token punctuation">=</span><span class="token attr-value">**/*.java</span></code></pre><p>java:S125ëŠ” ë¸”ë¡ìœ¼ë¡œ ëœ ì£¼ì„ì„ ë‚¨ê¸°ê³  ìˆë‹¤ëŠ” ì•…ì·¨ì´ë©° java:S1192ëŠ” ë™ì¼í•œ ë¬¸ìì—´ì„ ìƒìˆ˜ë¡œ ì·¨ê¸‰í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì•…ì·¨ì…ë‹ˆë‹¤. ì €ëŠ” ì´ê²ƒì„ ì•…ì·¨ë¡œ ë³´ì§€ ì•Šê¸° ìœ„í•´ì„œ ìœ„ì™€ ê°™ì´ ì„¤ì •í•˜ê³  ì†Œë‚˜íë¸Œ ì›Œí¬í”Œë¡œìš°ë¥¼ ë‹¤ì‹œ ìˆ˜í–‰í•´ë³´ê² ìŠµë‹ˆë‹¤.</p><p><img data-src="/images/posts/sonarqube-and-github-action/sonarqube-11.png"></p><p>ê¸°ì¡´ì— ê²€ì¶œë˜ì—ˆë˜ ì½”ë“œ ì•…ì·¨ ì¤‘ java:S125ì™€ java:S1192ì— í•´ë‹¹í•˜ëŠ” ë¶€ë¶„ì´ ì œì™¸ë˜ì–´ 3ê°œì˜ ì½”ë“œ ì•…ì·¨ê°€ ì¤„ì–´ë“¤ì—ˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ íšŒì‚¬ ë˜ëŠ” ê°œë°œíŒ€ì—ì„œ í”„ë¡œì íŠ¸ ì½”ë“œì— ëŒ€í•œ ê·œì¹™ì„ ê²€í† í•˜ëŠ” ê³¼ì •ì„ ê±°ì³ì•¼í•©ë‹ˆë‹¤ë§Œ ì €í¬ íšŒì‚¬ëŠ” ì •ì‘ ê·¸ëŸ¬ì§€ ì•Šê³  ìˆì–´ ì•„ì‰¬ì›€ì´ ë§ìŠµë‹ˆë‹¤. ì²´ê³„ê°€ ì—†ë‹¤ë³´ë‹ˆ ë¬´ì–¸ê°€ ë„ì…ì„ ì›í•˜ì§€ë§Œ ì‹¤ì œë¡œëŠ” ì œëŒ€ë¡œ í™œìš©í•˜ì§€ ì•ŠëŠ”ê²Œ ë§ì€ ê²ƒ ê°™ì•„ìš”.</p><p>ì•„ë¬´íŠ¼ ë‚˜ë¨¸ì§€ ì½”ë“œ ì•…ì·¨ì— ëŒ€í•´ì„œë„ ë¦¬íŒ©í† ë§ì„ ìˆ˜í–‰í•˜ì—¬ ì—†ì• ë³´ë„ë¡ í•˜ë©´ì„œ ë§ˆì¹˜ê² ìŠµë‹ˆë‹¤.</p><p><img data-src="/images/posts/sonarqube-and-github-action/sonarqube-12.png"></p><h4 id="SuppressWarnings"><a href="#SuppressWarnings" class="headerlink" title="@SuppressWarnings"></a>@SuppressWarnings</h4><p>sonar-project.propertiesì—ì„œ ì œì™¸ë˜ë„ë¡ ì •ì˜í•œ ê·œì¹™ì´ íŒ¨í„´ì— ì˜í•œ ê²ƒì´ë¼ë©´ íŠ¹ì • í´ë˜ìŠ¤ ë˜ëŠ” í•¨ìˆ˜ ë‹¨ìœ„ë¡œ ê·œì¹™ì„ ì œì™¸í•˜ê³  ì‹¶ì€ ê²½ìš° @SuppressWarningsì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. </p><pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SuppressWarnings</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token string">"squid:S125"</span><span class="token punctuation">,</span><span class="token string">"squid:S1192"</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SecurityConfig</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></code></pre><p>ê°ì‚¬í•©ë‹ˆë‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ì•ˆë…•í•˜ì„¸ìš” Mambo ì…ë‹ˆë‹¤.&lt;/p&gt;
&lt;p&gt;ì˜¤ëŠ˜ì€ SonarQubeì™€ Github Actionì„ í†µí•´ ì •ì  ë¶„ì„ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•œ ê³¼ì •ì„ ì•Œì•„ë³´ë ¤ê³  í•©ë‹ˆë‹¤.&lt;/p&gt;
&lt;h2 id=&quot;SonarQube&quot;&gt;&lt;a href=&quot;#SonarQube&quot; class=</summary>
      
    
    
    
    
    <category term="SonarQube" scheme="https://kdevkr.github.io/tags/SonarQube/"/>
    
    <category term="Github Action" scheme="https://kdevkr.github.io/tags/Github-Action/"/>
    
  </entry>
  
  <entry>
    <title>ë¦¬ëˆ…ìŠ¤ì—ì„œ í”„ë¡œì„¸ìŠ¤ ì‹¤í–‰ ìœ ì§€í•˜ê¸°</title>
    <link href="https://kdevkr.github.io/maintaining-process-execution-in-linux/"/>
    <id>https://kdevkr.github.io/maintaining-process-execution-in-linux/</id>
    <published>2021-10-10T00:00:00.000Z</published>
    <updated>2022-03-19T05:27:27.228Z</updated>
    
    <content type="html"><![CDATA[<p>ì•ˆë…•í•˜ì„¸ìš” Mambo ì…ë‹ˆë‹¤.</p><p>ì„œë²„ì—ì„œ ì‹¤í–‰ì¤‘ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì–¸ì œë“ ì§€ <strong>ì˜ˆê¸°ì¹˜ ì•Šì€ ìƒí™©</strong>ìœ¼ë¡œ ì¤‘ë‹¨ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì¼ì‹œì ìœ¼ë¡œ ì „ë ¥ì´ ì°¨ë‹¨ë˜ì–´ ì„œë²„ ì¥ë¹„ê°€ ë‹¤ì‹œ ì‹œì‘ë˜ê±°ë‚˜ ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡œì„¸ìŠ¤ê°€ ì„œë²„ ìì›ì„ ë§ì´ ì‚¬ìš©í•´ì„œ í”„ë¡œì„¸ìŠ¤ê°€ ì¤‘ë‹¨ë˜ëŠ” ìƒí™©ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. </p><p>ê·¸ë˜ì„œ ì˜¤ëŠ˜ ì•Œì•„ë³¼ ë‚´ìš©ì€ ë¦¬ëˆ…ìŠ¤ì—ì„œ ì˜ˆê¸°ì¹˜ ì•Šì€ ìƒí™©ìœ¼ë¡œ ì¸í•˜ì—¬ í”„ë¡œì„¸ìŠ¤ê°€ ì¤‘ë‹¨ë˜ì—ˆì„ ê²½ìš° ìë™ìœ¼ë¡œ í”„ë¡œì„¸ìŠ¤ë¥¼ ë‹¤ì‹œ ì‹¤í–‰ì‹œí‚´ìœ¼ë¡œì¨ í”„ë¡œì„¸ìŠ¤ ì‹¤í–‰ ìƒíƒœë¥¼ ìœ ì§€í•˜ê¸° ìœ„í•œ ë°©ë²•ì…ë‹ˆë‹¤.</p><h2 id="í”„ë¡œì„¸ìŠ¤-ì‹¤í–‰-ìœ ì§€"><a href="#í”„ë¡œì„¸ìŠ¤-ì‹¤í–‰-ìœ ì§€" class="headerlink" title="í”„ë¡œì„¸ìŠ¤ ì‹¤í–‰ ìœ ì§€"></a>í”„ë¡œì„¸ìŠ¤ ì‹¤í–‰ ìœ ì§€</h2><p>ë¨¼ì €, ìŠ¤í”„ë§ ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë‹¤ìŒê³¼ ê°™ì´ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤ê³  ê°€ì • í•˜ê² ìŠµë‹ˆë‹¤.</p><pre class="language-sh" data-language="sh"><code class="language-sh">nohup java -jar -Xmx500m demo.war 1&gt; app.log 2&gt;&amp;1 &amp;# [1] 227ls -l# total 21M# -rw-r--r-- 1 ec2-user ec2-user 2.0K Oct  8 15:19 app.log# -rw-r--r-- 1 ec2-user ec2-user    3 Oct  8 15:19 app.pid# -rwxr-xr-x 1 ec2-user ec2-user  20M Oct  8 12:28 demo.war*cat app.pid# 227</code></pre><p>ìœ„ ì˜ˆì‹œì—ì„œ nohup ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ê³  ì¶œë ¥ëœ í”„ë¡œì„¸ìŠ¤ ì•„ì´ë””ì™€ ìŠ¤í”„ë§ ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ApplicationPidWriterì— ì˜í•´ ìƒì„±ëœ í”„ë¡œì„¸ìŠ¤ ì•„ì´ë”” íŒŒì¼ì´ ë™ì¼í•œ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><h3 id="í”„ë¡œì„¸ìŠ¤-ì•„ì´ë””-í™•ì¸í•˜ê¸°"><a href="#í”„ë¡œì„¸ìŠ¤-ì•„ì´ë””-í™•ì¸í•˜ê¸°" class="headerlink" title="í”„ë¡œì„¸ìŠ¤ ì•„ì´ë”” í™•ì¸í•˜ê¸°"></a>í”„ë¡œì„¸ìŠ¤ ì•„ì´ë”” í™•ì¸í•˜ê¸°</h3><p>ì•ì„œ ìŠ¤í”„ë§ ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì²˜ëŸ¼ ì• í”Œë¦¬ì¼€ì´ì…˜ ìì²´ì ìœ¼ë¡œ í˜„ì¬ ì‹¤í–‰ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ ì•„ì´ë””ë¥¼ ì €ì¥í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ í¬í•¨í•˜ê³  ìˆë‹¤ë©´ ì¢‹ê² ì§€ë§Œ ê·¸ë ‡ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ì´ë¯¸ ì‹¤í–‰ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ ì•„ì´ë””ë¥¼ í™•ì¸í•˜ê³  ê°€ì ¸ì˜¬ ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì•Œì•„ì•¼ í•©ë‹ˆë‹¤.</p><pre class="language-sh" data-language="sh"><code class="language-sh"># echo $!nohup java -jar -Xmx500m demo.war 1&gt; app.log 2&gt;&amp;1 &amp; echo $! &gt; app.pid# JPS(JVM Process Status)jps -v | grep war | awk &#39;&#123;print $1&#125;&#39;# ps -efps -ef | grep java | grep -v grep | awk &#39;&#123;print $2&#125;&#39;# netstat -tnlpnetstat -tnlp | grep java | awk &#39;&#123;print $7&#125;&#39; | awk -F &#39;&#x2F;&#39; &#39;&#123;print $1&#125;&#39;# pgreppgrep java</code></pre><p>ì²«ë²ˆì§¸ ë°©ì‹ì— ì‚¬ìš©ëœ <strong>echo $!</strong> ëŠ” ë§ˆì§€ë§‰ìœ¼ë¡œ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰ëœ ëª…ë ¹ì–´ì— ëŒ€í•œ PIDê°’ì„ ì¶œë ¥í•  ìˆ˜ ìˆëŠ” ëª…ë ¹ì–´ì…ë‹ˆë‹¤.</p><h3 id="Crontabìœ¼ë¡œ-í”„ë¡œì„¸ìŠ¤-ìœ ì§€í•˜ê¸°"><a href="#Crontabìœ¼ë¡œ-í”„ë¡œì„¸ìŠ¤-ìœ ì§€í•˜ê¸°" class="headerlink" title="Crontabìœ¼ë¡œ í”„ë¡œì„¸ìŠ¤ ìœ ì§€í•˜ê¸°"></a>Crontabìœ¼ë¡œ í”„ë¡œì„¸ìŠ¤ ìœ ì§€í•˜ê¸°</h3><p>ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ê³ ì „ì ì¸ ë°©ì‹ì€ ì•ì„œ ë‹¤ì–‘í•œ ë°©ì‹ìœ¼ë¡œ ì¶”ì¶œëœ í”„ë¡œì„¸ìŠ¤ ì•„ì´ë””ì— ëŒ€í•œ í”„ë¡œì„¸ìŠ¤ ì‹¤í–‰ ìƒíƒœë¥¼ ì²´í¬í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ë¥¼ Crontabì„ í†µí•´ ì£¼ê¸°ì ìœ¼ë¡œ ì‹¤í–‰í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.</p><pre class="language-sh" data-language="sh"><code class="language-sh">#!&#x2F;bin&#x2F;shPID_FILE&#x3D;&quot;app.pid&quot;autorun () &#123;  # ... &amp; echo $! &gt; app.pid&#125;if [ -f &quot;$PID_FILE&quot; ] &amp;&amp; [ ! -z &#96;cat &quot;$PID_FILE&quot;&#96; ]; then  PID&#x3D;$(cat $PID_FILE)  if ps -p $PID &gt; &#x2F;dev&#x2F;null; then    echo &quot;$PID_FILE($PID) is running&quot;  else    autorun  fielse  autorunfi</code></pre><h3 id="SystemD"><a href="#SystemD" class="headerlink" title="SystemD"></a>SystemD</h3><p>ë” íš¨ìœ¨ì ì¸ ë°©ì‹ì€ Nginxì™€ ê°™ì€ íŒ¨í‚¤ì§€ë¥¼ APT ë˜ëŠ” YUMìœ¼ë¡œ ì„¤ì¹˜í•  ë•Œ SystemD ì„œë¹„ìŠ¤ì— ìë™ìœ¼ë¡œ ë“±ë¡í•˜ëŠ” ê²ƒì²˜ëŸ¼  ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ëŠ” ëª…ë ¹ì–´ ë˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ë¥¼ SystemD ì„œë¹„ìŠ¤ë¡œ ë“±ë¡í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. </p><p><strong>&#x2F;etc&#x2F;systemd&#x2F;system&#x2F;demo.service</strong></p><pre class="language-text" data-language="text"><code class="language-text">[Unit]Description=DemoAfter=syslog.target[Service]User=ec2-userWorkingDirectory=/home/ec2-userExecStart=/usr/bin/java -jar -Xmx500m demo.warExecStop=kill -9 `cat app.pid`SuccessExitStatus=143Restart=on-failureRestartSec=5[Install]WantedBy=multi-user.target</code></pre><p>ìœ„ì™€ ê°™ì´ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì •ì˜í–ˆë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì„œë²„ê°€ ì‹¤í–‰ë  ë•Œ ì„œë¹„ìŠ¤ê°€ ì‹œì‘ë˜ë„ë¡ í™œì„±í™”í•˜ê±°ë‚˜ ì§ì ‘ ì„œë¹„ìŠ¤ë¥¼ ì‹¤í–‰í•˜ê³  ì¢…ë£Œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><pre class="language-sh" data-language="sh"><code class="language-sh">sudo systemctl daemon-reloadsudo systemctl enable demo.servicesudo systemctl start demo.service</code></pre><p>ê°ì‚¬í•©ë‹ˆë‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ì•ˆë…•í•˜ì„¸ìš” Mambo ì…ë‹ˆë‹¤.&lt;/p&gt;
&lt;p&gt;ì„œë²„ì—ì„œ ì‹¤í–‰ì¤‘ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì–¸ì œë“ ì§€ &lt;strong&gt;ì˜ˆê¸°ì¹˜ ì•Šì€ ìƒí™©&lt;/strong&gt;ìœ¼ë¡œ ì¤‘ë‹¨ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì¼ì‹œì ìœ¼ë¡œ ì „ë ¥ì´ ì°¨ë‹¨ë˜ì–´ ì„œë²„ ì¥ë¹„ê°€ ë‹¤ì‹œ ì‹œì‘ë˜ê±°ë‚˜ ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡œì„¸ìŠ¤</summary>
      
    
    
    
    
    <category term="Linux" scheme="https://kdevkr.github.io/tags/Linux/"/>
    
  </entry>
  
</feed>
