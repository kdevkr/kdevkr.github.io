<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Mambo</title>
  
  <subtitle>Today I Learned π”¥</subtitle>
  <link href="https://kdevkr.github.io/atom.xml" rel="self"/>
  
  <link href="https://kdevkr.github.io/"/>
  <updated>2022-05-23T14:52:51.525Z</updated>
  <id>https://kdevkr.github.io/</id>
  
  <author>
    <name>Mambo</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Gmail SMTP</title>
    <link href="https://kdevkr.github.io/gmail-smtp/"/>
    <id>https://kdevkr.github.io/gmail-smtp/</id>
    <published>2022-05-23T00:00:00.000Z</published>
    <updated>2022-05-23T14:52:51.525Z</updated>
    
    <content type="html"><![CDATA[<p>μ¤λμ „μ— <a href="/sending-mail-with-freemarker-template/">ν”„λ¦¬λ§μ»¤ ν…ν”λ¦ΏμΌλ΅ μ΄λ©”μΌ λ°μ†΅ν•κΈ°</a>λΌλ” μ£Όμ λ΅ κµ¬κΈ€ SMTP μ„λ²„λ¥Ό μ‚¬μ©ν•΄μ„ μ¤ν”„λ§ λ¶€νΈ μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„ μ΄λ©”μΌμ„ λ°μ†΅ν•λ” κ²ƒμ„ λ‹¤λ£¨μ–΄ λ³΄μ•μ—λ”λ°μ”. κµ¬κΈ€μ λ³΄μ• μ •μ±…μ λ³€κ²½μ— λ”°λΌμ„ <a href="https://support.google.com/accounts/answer/6010255">2022λ…„ 5μ›” 30</a>μΌλ¶€ν„°λ” λ³΄μ• μμ¤€μ΄ λ‚®μ€ μ•±μ μ•΅μ„Έμ¤κ°€ ν™μ„±λ κ³„μ •μΌλ΅λ” SMTP μ„λ²„λ¥Ό μ΄μ©ν•  μ μ—†κ² λμ—μµλ‹λ‹¤. κ·Έλ¬λ©΄ κµ¬κΈ€ SMTP μ„λ²„λ¥Ό λ”μ΄μƒ μ‚¬μ©ν•  μ μ—†λ” κ²ƒμΌκΉμ”?</p><h2 id="Gmail-SMTP"><a href="#Gmail-SMTP" class="headerlink" title="Gmail SMTP"></a>Gmail SMTP</h2><p>λ³΄μ• μμ¤€μ΄ λ‚®μ€ μ•±μ μ•΅μ„Έμ¤λ¥Ό ν™μ„±ν™”ν• κ³„μ •μ—μ„λ” μ‚¬μ©μ μ΄λ¦„κ³Ό λΉ„λ°€λ²νΈλ¥Ό μ‚¬μ©ν•΄μ„ Gmail SMTPμ™€ κ°™μ€ μ„λ“ νν‹° μ•±μ— μΈμ¦ν•  μ μμ—μ§€λ§ μ΄μ λ” μ‚¬μ©μμ κ³„μ •μ„ λ” μ•μ „ν•κ² λ³΄νΈν•κΈ° μ„ν•΄μ„ μ‚¬μ©μ μ΄λ¦„κ³Ό λΉ„λ°€λ²νΈλ¥Ό μ‚¬μ©ν•΄μ„ μ„λ“ νν‹° μ•±κ³Ό κΈ°κΈ°μ— λ΅κ·ΈμΈ μ”μ²­ν•λ” κ²ƒμ„ μ§€μ›ν•μ§€ μ•μµλ‹λ‹¤. μ΄μ λ” Gmail SMTP μ„λ²„λ¥Ό μ΄μ©ν•κΈ° μ„ν•΄μ„λ” λ³΄μ• μμ¤€μ΄ λ†’μ€ Gmail κ³„μ •μ„ λ§λ“¤κ³ λ‚μ„ μ‚¬μ©μ μ΄λ¦„κ³Ό λΉ„λ°€λ²νΈκ°€ μ•„λ‹ λ‹¤λ¥Έ λ°©μ‹μΌλ΅ μΈμ¦μ„ μ”μ²­ν•΄μ•Όλ§ ν•©λ‹λ‹¤.</p><h3 id="2λ‹¨κ³„-μΈμ¦-ν™μ„±ν™”"><a href="#2λ‹¨κ³„-μΈμ¦-ν™μ„±ν™”" class="headerlink" title="2λ‹¨κ³„ μΈμ¦ ν™μ„±ν™”"></a>2λ‹¨κ³„ μΈμ¦ ν™μ„±ν™”</h3><p>λ³΄μ• μμ¤€μ΄ λ†’μ€ Gmail κ³„μ •μ„ λ§λ“¤κΈ° μ„ν•΄μ„λ” λ¨Όμ € 2λ‹¨κ³„ μΈμ¦μ„ ν™μ„±ν™”ν•μ—¬μ•Ό ν•©λ‹λ‹¤. κµ¬κΈ€ κ³„μ • κ΄€λ¦¬ &gt; λ³΄μ• λ©”λ‰΄μ— λ“¤μ–΄κ°€λ©΄ μ•„λμ™€ κ°™μ΄ 2λ‹¨κ³„ μΈμ¦μ„ μ‚¬μ©μ¤‘μΈμ§€λ¥Ό ν™•μΈν•  μ μμµλ‹λ‹¤.</p><p><img data-src="/images/posts/gmail-smtp/02.png"></p><p>μ„μ™€ κ°™μ΄ 2λ‹¨κ³„ μΈμ¦μ„ ν™μ„±ν™” ν•μ§€ μ•μ•λ‹¤λ©΄ 2λ‹¨κ³„ μΈμ¦μ„ ν΄λ¦­ν•΄μ„ μ•λ‚΄μ— λ”°λΌμ„ λ‹¤μκ³Ό κ°™μ΄ μΈμ¦μ„ μ™„λ£ν•κ³  2λ‹¨κ³„ μΈμ¦μ„ ν™μ„±ν™”ν•©λ‹λ‹¤.</p><p><img data-src="/images/posts/gmail-smtp/03.png" alt="κµ¬κΈ€ κ³„μ •μ— μ…λ ¥λ μ „ν™”λ²νΈλ΅ μΈμ¦"></p><p><img data-src="/images/posts/gmail-smtp/04.png" alt="μ „ν™” λλ” λ¬Έμλ©”μ‹μ§€λ΅ λ°›μ€ μΈμ¦λ²νΈ μ…λ ¥ ν›„ μΈμ¦ μ™„λ£"></p><p><img data-src="/images/posts/gmail-smtp/05.png" alt="2λ‹¨κ³„ μΈμ¦ ν™μ„±ν™” μ™„λ£"></p><h3 id="μ•±-λΉ„λ°€λ²νΈ-μ¶”κ°€"><a href="#μ•±-λΉ„λ°€λ²νΈ-μ¶”κ°€" class="headerlink" title="μ•± λΉ„λ°€λ²νΈ μ¶”κ°€"></a>μ•± λΉ„λ°€λ²νΈ μ¶”κ°€</h3><p>2λ‹¨κ³„ μΈμ¦μ΄ ν™μ„±ν™” λκ³ λ‚μ„ μ•± λΉ„λ°€λ²νΈλΌλ” λ¶€λ¶„μ΄ μ¶”κ°€λμ—μµλ‹λ‹¤. μ•± λΉ„λ°€λ²νΈλ¥Ό μ¶”κ°€ν•λ©΄ Gmail SMTPμ™€ κ°™μ€ 2λ‹¨κ³„ μΈμ¦μ„ μ§€μ›ν•μ§€ μ•λ” μ•±μ—μ„λ„ λ΅κ·ΈμΈν•  μ μλ‹¤κ³  μ•λ ¤μ£Όλ”λ°μ”. μ•μ„ λ§ν• μ‚¬μ©μ μ΄λ¦„κ³Ό λΉ„λ°€λ²νΈ λ°©μ‹μ΄ μ•„λ‹ λ‹¤λ¥Έ λ°©μ‹μΌλ΅ μΈμ¦ν•  μ μλ‹¤λ” μ΄μ•ΌκΈ°μ…λ‹λ‹¤.</p><p><img data-src="/images/posts/gmail-smtp/06.png"></p><p><img data-src="/images/posts/gmail-smtp/07.png"></p><p>μ΄μ  λ°κΈ‰λ 16μλ¦¬μ μ•± λΉ„λ°€λ²νΈλ¥Ό μ λ³µμ‚¬ν•΄λ‘κ³  Gmail SMTP μΈμ¦μ— μ‚¬μ©ν•λ©΄ λ©λ‹λ‹¤.</p><h3 id="μ΄λ©”μΌ-λ°μ†΅"><a href="#μ΄λ©”μΌ-λ°μ†΅" class="headerlink" title="μ΄λ©”μΌ λ°μ†΅"></a>μ΄λ©”μΌ λ°μ†΅</h3><p><a href="https://github.com/kdevkr/spring-demo-freemarker/tree/main/src/main/resources/config">Gmail SMTPλ¥Ό μ‚¬μ©ν•κΈ° μ„ν• μ •λ³΄</a>λ” λ‹¬λΌμ§€μ§€ μ•μΌλ©° μ°λ¦¬κ°€ μμ •ν•΄μ•Όν•  λ¶€λ¶„μ€ κµ¬κΈ€ μ΄λ©”μΌ κ³„μ •μ— λ€ν• λΉ„λ°€λ²νΈ λ€μ‹ μ— μ•μ„ λ°κΈ‰ν• 16μλ¦¬μ μ•± λΉ„λ°€λ²νΈλ¥Ό μ‚¬μ©ν•λ” κ²ƒμ…λ‹λ‹¤. </p><p><img data-src="/images/posts/gmail-smtp/08.png"></p><p>λ”μ΄μƒ λ³΄μ• μμ¤€ λ‚®μ€ μ•±μ μ•΅μ„Έμ¤ ν™μ„±ν™” μ—†μ΄λ„ Gmail SMTP μ„λ²„λ¥Ό μ΄μ©ν•΄λ³Ό μ μλ” κ²ƒμ„ ν™•μΈν–μµλ‹λ‹¤.</p><p>κ°μ‚¬ν•©λ‹λ‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;μ¤λμ „μ— &lt;a href=&quot;/sending-mail-with-freemarker-template/&quot;&gt;ν”„λ¦¬λ§μ»¤ ν…ν”λ¦ΏμΌλ΅ μ΄λ©”μΌ λ°μ†΅ν•κΈ°&lt;/a&gt;λΌλ” μ£Όμ λ΅ κµ¬κΈ€ SMTP μ„λ²„λ¥Ό μ‚¬μ©ν•΄μ„ μ¤ν”„λ§ λ¶€νΈ μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„ μ΄λ©”μΌμ„ λ°μ†΅ν•λ” κ²ƒμ„ λ‹¤λ£¨μ–΄ λ³΄μ•</summary>
      
    
    
    
    
    <category term="Gmail" scheme="https://kdevkr.github.io/tags/Gmail/"/>
    
    <category term="SMTP" scheme="https://kdevkr.github.io/tags/SMTP/"/>
    
  </entry>
  
  <entry>
    <title>EC2 Node Exporter</title>
    <link href="https://kdevkr.github.io/ec2-node-exporter/"/>
    <id>https://kdevkr.github.io/ec2-node-exporter/</id>
    <published>2022-05-21T00:00:00.000Z</published>
    <updated>2022-05-23T14:52:51.521Z</updated>
    
    <content type="html"><![CDATA[<p>μ΅°μ§μ—μ„ μ•„λ§μ΅΄ μ›Ή μ„λΉ„μ¤λ¥Ό ν΄λΌμ°λ“ ν™κ²½μΌλ΅ μ‚¬μ©ν•κ³¤ μμ§€λ§ μΈν”„λΌ μ—”μ§€λ‹μ–΄λ΅ κµ¬μ„±λ μΈν”„λΌν€μ΄ λ³„λ„λ΅ μ΅΄μ¬ν•μ§€ μ•λ‹¤λ³΄λ‹ ν΄λΌμ°λ“ μ„λΉ„μ¤λ¥Ό μ λ€λ΅ ν™μ©ν•μ§€ μ•κ³  ν•„μ”ν•λ‹¤κ³  μƒκ°λ  λ• μ–΄λ–»κ² μ‚¬μ©ν•΄μ•Όν•λ”κ°€λ¥Ό μ°Ύμ•„λ³΄κ³  κ³ λ―Όν•κ² λλ” κ²ƒ κ°™μµλ‹λ‹¤. μ„λ²„ μΈμ¤ν„΄μ¤ λ¨λ‹ν„°λ§μ— λ€ν•΄μ„λ„ κΈ°λ³Έμ μΌλ΅λ” μ›Ή μ½μ†”μ—μ„ μ§€ν‘λ¥Ό ν™•μΈν•  μ μλ„λ΅ <a href="https://docs.aws.amazon.com/ko_kr/AWSEC2/latest/UserGuide/monitoring_ec2.html">Amazon EC2 λ¨λ‹ν„°λ§</a>κΈ°λ¥μ„ μ κ³µν•κ³  μμ§€λ§ 5λ¶„ λ‹¨μ„λ΅ μμ§‘λλ” μ§€ν‘λ¥Ό 1λ¶„ λ‹¨μ„λ΅ μμ§‘ν•κΈ° μ„ν•΄μ„λ” <a href="https://docs.aws.amazon.com/ko_kr/AWSEC2/latest/UserGuide/using-cloudwatch-new.html">μΈμ¤ν„΄μ¤μ— λ€ν• μ„Έλ¶€ λ¨λ‹ν„°λ§ ν™μ„±ν™”</a>λ¥Ό ν•΄μ•Όν•κ³  λ” λ§μ€ μΈμ¤ν„΄μ¤μ— λ€ν• μ§€ν‘λ¥Ό ν™•μΈν•κΈ° μ„ν•΄μ„λ” EC2 μΈμ¤ν„΄μ¤μ— <a href="https://docs.aws.amazon.com/ko_kr/AmazonCloudWatch/latest/monitoring/installing-cloudwatch-agent-ssm.html">CloudWatch μ—μ΄μ „νΈ μ„¤μΉ</a>ν•΄μ•Όν•κ³  λ³„λ„μ λΉ„μ©μ΄ μ¶”κ°€μ μΌλ΅ λ“ λ‹¤λ” μ μΌλ΅ μΈν•μ—¬ μ‚¬μ©ν•μ§€λ” μ•κ³  μμµλ‹λ‹¤.</p><p>νμ‚¬ μ‚¬λ‚΄ μ„λ²„μ— κ°μΈμ μΌλ΅ ν”„λ΅λ©”ν…μ°μ¤ λ° κ·ΈλΌνλ‚ μ„λ²„λ¥Ό μ‹¤ν–‰ν•΄λ‘μ—κΈ° λ•λ¬Έμ— Node Exporterλ¥Ό ν™μ©ν•΄μ„ EC2 μΈμ¤ν„΄μ¤μ— μ ‘μ†ν•  μ μλ” κ¶ν•μ΄ μλ‹¤λ©΄ μ§€ν‘λ¥Ό μμ§‘ν•  μ μλ” λ°©μ•μ„ λ§λ ¨ν•  μ μλ‹¤κ³  μƒκ°λμ—μµλ‹λ‹¤. κ³ κ°μΌλ΅ λ¶€ν„° μ›Ή μ½μ†”μ„ μ ‘κ·Όν•  μ μλ” κ¶ν•μ„ λ¶€μ—¬λ°›κΈ°λ„ ν•κ³  μ–΄λ–¤ κ³ κ°μ€ λ³΄μ• μƒ μ΄μ λ΅ μΈν•μ—¬ μΈν”„λΌ κµ¬μ„±κ³Ό κ΄€λ¦¬λ” μ§μ ‘ λ‹΄λ‹Ήν•κ³  μ •ν•΄μ§„ μ¤ν™μ— λ”°λΌμ„ μƒμ„±ν• EC2 μΈμ¤ν„΄μ¤ μ ‘μ† κ¶ν•λ§ λ¶€μ—¬ν•κΈ° λ•λ¬Έμ— CloudWatchλ¥Ό κ³µν†µμ μΌλ΅ μ‚¬μ©ν•λ„λ΅ ν•  μ μ—†μµλ‹λ‹¤.</p><blockquote><p>νμ‚¬ μ‚¬λ‚΄ μ„λ²„μ— μ„μ‹μ μΌλ΅ κµ¬μ„±ν• ν”„λ΅λ©”ν…μ°μ¤ λ° κ·ΈλΌνλ‚λ” λ¨λ‹ν„°λ§ λ°©μ•μ΄ κ²€ν† λλ©΄ μ΅°μ§λ‚΄μ—μ„ μ΄μμ¤‘μΈ ν΄λΌμ°λ“ ν™κ²½μΌλ΅ μ΄μ „ν•  μƒκ°μ…λ‹λ‹¤.</p></blockquote><p>μ•„λ¬΄νΌ ν„μ¬ μ΅°μ§μ—μ„ λ¨λ‹ν„°λ§ λ°©μ•μ„ μ λ€λ΅ κ²€ν† ν•  μ μλ” λ‹¨κ³„λ” μ•„λ‹μ§€λ§ κ³ κ°μ μΈν”„λΌ ν™κ²½μ— μ‹μ¤ν…μ„ λ°°ν¬ν•κ³  μ΄μν•κ³  μμΌλ―€λ΅ μµμ†ν• μ›μΈμ„ μ°Ύμ•„κ°€κΈ° μ„ν• μ§€ν‘λ” λ‚¨κ²¨λ‘μ–΄μ•Όν•λ‹¤κ³  μƒκ°ν•κΈ°μ— Node Exporterλ¥Ό μΌκ΄„μ μΌλ΅ μ„¤μΉν•λ” μ‘μ—…μ„ μν–‰ν–κ³  μ΄μ— λ€ν• μ •λ³΄λ¥Ό λ‚¨κΈ°κ³ μ ν•©λ‹λ‹¤.</p><h2 id="Node-Exporter"><a href="#Node-Exporter" class="headerlink" title="Node Exporter"></a>Node Exporter</h2><p><a href="https://github.com/prometheus/node_exporter">Node Exporter</a>λ” ν”„λ΅λ©”ν…μ°μ¤ ν”„λ΅μ νΈμ—μ„ κ³µμ‹μ μΌλ΅ μ§€μ›ν•λ” μ‹μ¤ν… λ§¤νΈλ¦­μ„ μμ§‘ν•λ” λ°©λ²•μ„ μ κ³µν•λ” Exporter μ…λ‹λ‹¤. <a href="https://prometheus.io/docs/guides/node-exporter/#installing-and-running-the-node-exporter">Installing and running the Node Exporter</a>μ™€ κ°™μ΄ Node Exporterλ¥Ό μ„¤μΉν•κ³  μ‹¤ν–‰ν•λ” λ°©λ²•μ— λ€ν• κ°€μ΄λ“ λ¬Έμ„λ„ μ κ³µν•κ³  μμµλ‹λ‹¤.</p><p>EC2 μΈμ¤ν„΄μ¤λ” μƒνƒκ°€ μ •μƒμ μ΄μ§€ μ•μμ΄ ν™•μΈλλ©΄ <a href="https://docs.aws.amazon.com/ko_kr/AWSEC2/latest/UserGuide/ec2-instance-recover.html">μΈμ¤ν„΄μ¤ λ³µκµ¬</a> κΈ°λ¥μΌλ΅ μ•„λ§μ΅΄ μ›Ή μ„λΉ„μ¤μ—μ„ μλ™μΌλ΅ μΈμ¤ν„΄μ¤ μƒνƒλ¥Ό λ³µμ›ν•  μ μμµλ‹λ‹¤. κ·Έλμ„ μ–Έμ λ“ μ§€ EC2 μΈμ¤ν„΄μ¤κ°€ μ¬λ¶€ν…λμ–΄ μ‹¤ν–‰μ¤‘μΈ ν”„λ΅μ„Έμ¤κ°€ μΆ…λ£λ  μ μμµλ‹λ‹¤. μ„λ²„ μΈμ¤ν„΄μ¤κ°€ μ¬λ¶€ν…λμ–΄λ„ μλ™μΌλ΅ ν”„λ΅μ„Έμ¤κ°€ μ‹¤ν–‰λλ„λ΅ μ μ§€ν•κΈ° μ„ν•΄μ„ Systemdμ™€ κ°™μ€ μ„λΉ„μ¤λ¥Ό λ“±λ΅ν•λ„λ΅ κµ¬μ„±ν•λ” κ²ƒμ΄ μΆ‹μµλ‹λ‹¤.</p><h3 id="EC2-μΈμ¤ν„΄μ¤-μ•„ν‚¤ν…μ²"><a href="#EC2-μΈμ¤ν„΄μ¤-μ•„ν‚¤ν…μ²" class="headerlink" title="EC2 μΈμ¤ν„΄μ¤ μ•„ν‚¤ν…μ²"></a>EC2 μΈμ¤ν„΄μ¤ μ•„ν‚¤ν…μ²</h3><p>μ•„λ§μ΅΄ μ›Ή μ„λΉ„μ¤μ—μ„λ” μΌλ°μ μΌλ΅ μ‚¬μ©λλ” amd64 κΈ°λ°μ μ•„ν‚¤ν…μ² λΏλ§ μ•„λ‹λΌ <a href="https://aws.amazon.com/ko/ec2/graviton/">Arm κΈ°λ°μ AWS Graviton ν”„λ΅μ„Έμ„</a>λ΅ μ κ³µλλ” μΈμ¤ν„΄μ¤λ¥Ό μ κ³µν•κ³  μµκ·Όμ—λ” Arm κΈ°λ°μ μΈμ¤ν„΄μ¤λ¥Ό ν†µν•΄ λ” μ €λ ΄ν• κ°€κ²©μΌλ΅ μ„λ²„ μΈμ¤ν„΄μ¤λ¥Ό μ‹¤ν–‰ν•λ―€λ΅ EC2 μΈμ¤ν„΄μ¤μ μ•„ν‚¤ν…μ²λ¥Ό ν™•μΈν•κ³  μ‚¬μ©ν•  μ μλ” μ¬λ°”λ¥΄κ² λΉλ“λ νμΌμ„ λ‹¤μ΄λ΅λ“ λ°›μ•„μ„ μ„¤μΉν•΄μ•Όν•©λ‹λ‹¤.</p><pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">uname</span> -rmpo<span class="token number">4.14</span>.256-197.484.amzn2.aarch64 aarch64 aarch64 GNU/Linux</code></pre><h3 id="λ¦΄λ¦¬μ¦-νμΌ-λ‹¤μ΄λ΅λ“-λ°-μ„¤μΉ"><a href="#λ¦΄λ¦¬μ¦-νμΌ-λ‹¤μ΄λ΅λ“-λ°-μ„¤μΉ" class="headerlink" title="λ¦΄λ¦¬μ¦ νμΌ λ‹¤μ΄λ΅λ“ λ° μ„¤μΉ"></a>λ¦΄λ¦¬μ¦ νμΌ λ‹¤μ΄λ΅λ“ λ° μ„¤μΉ</h3><p>EC2 μΈμ¤ν„΄μ¤μ μ•„ν‚¤ν…μ² μ ν•μ„ ν™•μΈν–λ‹¤λ©΄ <a href="https://github.com/prometheus/node_exporter/releases">λ¦΄λ¦¬μ¦ νμΌ</a>μ—μ„ μ„ μ•„ν‚¤ν…μ²μ— λ§λ” arm64κ°€ ν¬ν•¨λ λ¦΄λ¦¬μ¦ νμΌμ„ λ‹¤μ΄λ΅λ“ν•©λ‹λ‹¤. λ€λ¶€λ¶„μ μμ λ” μΌλ°μ μΌλ΅ μ‚¬μ©ν•λ” x86_64 μ•„ν‚¤ν…μ²λ¥Ό κΈ°μ¤€μΌλ΅ ν•κΈ° λ•λ¬Έμ— amd64λ¥Ό λ‹¤μ΄λ΅λ“ ν•©λ‹λ‹¤.</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">wget</span> https://github.com/prometheus/node_exporter/releases/download/v1.3.1/node_exporter-1.3.1.linux-arm64.tar.gz<span class="token function">tar</span> zxvf node_exporter-1.3.1.linux-arm64.tar.gz<span class="token function">sudo</span> <span class="token function">cp</span> node_exporter-1.3.1.linux-arm64/node_exporter /usr/local/bin/<span class="token function">sudo</span> <span class="token function">useradd</span> -M -r -s /bin/false node_exporter<span class="token function">sudo</span> <span class="token function">chown</span> node_exporter:node_exporter /usr/local/bin/node_exporter</code></pre><h4 id="Node-Exporter-μ©-μ‚¬μ©μ-μ¶”κ°€"><a href="#Node-Exporter-μ©-μ‚¬μ©μ-μ¶”κ°€" class="headerlink" title="Node Exporter μ© μ‚¬μ©μ μ¶”κ°€"></a>Node Exporter μ© μ‚¬μ©μ μ¶”κ°€</h4><p>μΈν”„λΌ μ—”μ§€λ‹μ–΄κ°€ μ•„λ‹κΈ°μ— μ‚¬μ©μλ¥Ό μ§μ ‘ μ¶”κ°€ν•΄λ³Έμ μ΄ μ—†μ–΄μ„ μ‚¬μ©μλ¥Ό μ¶”κ°€ν•λ” λ…λ Ήμ–΄μ— λ€ν•΄μ„ μ•μ•„λ³΄μ•„μ•Όν–μµλ‹λ‹¤. λ§μ€ μμ λ“¤μ—μ„ μ‚¬μ©μ μ¶”κ°€ μ‹ μ μ©ν•λ” μµμ…μ΄ μ κ°κ°μ΄λΌμ„ λ” νΌλ€μ΄ μμ—μµλ‹λ‹¤. </p><ul><li><a href="https://linux.die.net/man/8/useradd">useradd(8) - Linux man page</a></li><li><a href="https://faq.hostway.co.kr/Linux_ETC/1624">&#x2F;bin&#x2F;false, &#x2F;sbin&#x2F;nologin μ μ°¨μ΄μ </a></li><li><a href="https://linuxhint.com/add-user-linux/">How do I add a user in Linux without a home directory?</a></li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># sudo useradd --no-create-home --system --shell /bin/false node_exporter</span><span class="token function">sudo</span> <span class="token function">useradd</span> -M -r -s /bin/false node_exporter</code></pre><blockquote><p>μ‹μ¤ν… κ³„μ •μ„ μƒμ„±ν•λ λ΅κ·ΈμΈμ΄ λ¶κ°€λ¥ν•λ„λ΅ ν•λ©΄ λλ” κ²ƒ κ°™μµλ‹λ‹¤.</p></blockquote><h3 id="Systemd-μ„λΉ„μ¤-λ“±λ΅"><a href="#Systemd-μ„λΉ„μ¤-λ“±λ΅" class="headerlink" title="Systemd μ„λΉ„μ¤ λ“±λ΅"></a>Systemd μ„λΉ„μ¤ λ“±λ΅</h3><p>μ„¤μΉν• λ°”μ΄λ„λ¦¬λ¥Ό μ‹¤ν–‰ν•κΈ° μ„ν•΄μ„ Systemd μ„λΉ„μ¤λ¥Ό λ“±λ΅ν•κ³  Systemctl λ…λ Ήμ–΄λ¥Ό ν†µν•΄ ν”„λ΅μ„Έμ¤λ¥Ό μ‹¤ν–‰ν•κ³  μ„λ²„κ°€ λ¶€ν…λ  λ• μλ™μΌλ΅ μ‹μ‘λλ„λ΅ ν™μ„±ν™”ν•©λ‹λ‹¤.</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">tee</span> /etc/systemd/system/node_exporter.service <span class="token operator">&lt;&lt;</span><span class="token string">"EOF"[Unit]Description=Node ExporterAfter=network.target[Service]User=node_exporterGroup=node_exporterExecStart=/usr/local/bin/node_exporter[Install]WantedBy=multi-user.targetEOF</span><span class="token function">sudo</span> systemctl daemon-reload<span class="token function">sudo</span> systemctl start node_exporter<span class="token function">sudo</span> systemctl status node_exporter<span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> node_exporter</code></pre><h3 id="λ§¤νΈλ¦­-ν™•μΈ"><a href="#λ§¤νΈλ¦­-ν™•μΈ" class="headerlink" title="λ§¤νΈλ¦­ ν™•μΈ"></a>λ§¤νΈλ¦­ ν™•μΈ</h3><p>Node Exporter μ„λΉ„μ¤κ°€ μ •μƒμ μΌλ΅ μ‹¤ν–‰λ¬λ‹¤λ©΄ curl λ…λ Ήμ–΄λ¥Ό ν†µν•΄μ„ μ§€ν‘λ¥Ό κ°€μ Έμ¬ μ μλ”μ§€ ν™•μΈν•κ³  μΆ…λ£ν•©λ‹λ‹¤.</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> -s localhost:9100/metrics</code></pre><h2 id="μ°Έκ³ "><a href="#μ°Έκ³ " class="headerlink" title="μ°Έκ³ "></a>μ°Έκ³ </h2><ul><li><a href="https://docs.vmware.com/en/VMware-vRealize-Operations-Management-Pack-for-Kubernetes/1.6/kubernetes-solution/GUID-A1B68BE5-EF38-48E1-AA80-FD71E6F19989.html">Node Exporter Setup on Linux Nodes</a></li><li><a href="https://www.digitalocean.com/community/tutorials/how-to-install-prometheus-on-ubuntu-16-04">How To Install Prometheus on Ubuntu 16.04</a></li><li><a href="https://devdojo.com/ruanbekker/getting-started-with-prometheus-and-node-exporter">Getting Started with Prometheus and Node Exporter</a></li><li><a href="https://devopscube.com/monitor-linux-servers-prometheus-node-exporter/">How To Monitor Linux Servers Using Prometheus Node Exporter</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;μ΅°μ§μ—μ„ μ•„λ§μ΅΄ μ›Ή μ„λΉ„μ¤λ¥Ό ν΄λΌμ°λ“ ν™κ²½μΌλ΅ μ‚¬μ©ν•κ³¤ μμ§€λ§ μΈν”„λΌ μ—”μ§€λ‹μ–΄λ΅ κµ¬μ„±λ μΈν”„λΌν€μ΄ λ³„λ„λ΅ μ΅΄μ¬ν•μ§€ μ•λ‹¤λ³΄λ‹ ν΄λΌμ°λ“ μ„λΉ„μ¤λ¥Ό μ λ€λ΅ ν™μ©ν•μ§€ μ•κ³  ν•„μ”ν•λ‹¤κ³  μƒκ°λ  λ• μ–΄λ–»κ² μ‚¬μ©ν•΄μ•Όν•λ”κ°€λ¥Ό μ°Ύμ•„λ³΄κ³  κ³ λ―Όν•κ² λλ” κ²ƒ κ°™μµλ‹λ‹¤. </summary>
      
    
    
    
    
    <category term="EC2" scheme="https://kdevkr.github.io/tags/EC2/"/>
    
    <category term="node-exporter" scheme="https://kdevkr.github.io/tags/node-exporter/"/>
    
  </entry>
  
  <entry>
    <title>μ¤μ¤λ΅ κ΄΄λ΅­νλ” μ‚¬μ΄λ“ μ΄ν™νΈ</title>
    <link href="https://kdevkr.github.io/side-effect-myself/"/>
    <id>https://kdevkr.github.io/side-effect-myself/</id>
    <published>2022-05-21T00:00:00.000Z</published>
    <updated>2022-05-23T14:52:51.525Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>λ³Έ κΈ€μ€ μ¤μ¤λ΅ λ§λ“¤μ–΄λ‚Έ μ‚¬μ΄λ“ μ΄ν™νΈλ¥Ό νλ“¤κ² μ°Ύμ•„κ°€κ³  μ‚¬μ΄λ“ μ΄ν™νΈκ°€ λ§λ“¤μ–΄μ§„ μ‚¬μ λ¥Ό λλμ•„λ³΄κ³ μ μ‘μ„±ν• κ²ƒμ…λ‹λ‹¤.</p></blockquote><p><img data-src="/images/posts/side-effect-myself/00.jpg"></p><p>μ™„λ²½ν• μ‹μ¤ν…μ„ λ§λ“λ”κ² μ•„λ‹μ§€λ§ μµλ€ν• λ…Έλ ¥ν•΄μ„ μ‹μ¤ν…μ— λ¬Έμ κ°€ λ°μƒν•μ§€ μ•λ„λ΅ μµμ„ μ„ λ‹¤ν•λ”λ°μ”. κ·ΈλΌμ—λ„ λ¶κµ¬ν•κ³  κ³ κ°μ μ”κµ¬μ‚¬ν•­μ λ‹¤μ–‘ν•¨κ³Ό μ›ν•λ” μΌμ •μΌλ΅ μΈν•μ—¬ μ‘μ—…μ΄ κ°€λ¥ν• λ¶€λ¶„μ„ λ¨Όμ € μ²λ¦¬ν•λ‹¤λκ°€ μ”κµ¬μ‚¬ν•­μ—μ„ κ³ λ ¤λμ§€ μ•μ€ λ¶€λ¶„μ„ ν™•μΈν•κ³  ν”Όλ“λ°±μ„ λ°›κ³  μ‘μ—… μ”κ±΄μ„ μ •λ¦¬ν•΄μ„ μ²λ¦¬ν•λ” νΈμ…λ‹λ‹¤. ν—λ‚ μ• μ΄μ— κ³ κ° μ΅°μ°¨λ„ μμ‹ μ΄ μ›ν•λ” λ°”κ°€ λ¬΄μ—‡μΈμ§€κ°€ μ •λ¦¬λκΈ° νλ“¤κΈ° λ•λ¬Έμ— μ‘μ—…ν• λ‚΄μ©μ„ ν™•μΈν•΄λ³΄κ³  μ¶”κ°€λ΅ λ¬Έμ κ°€ λ  λ¶€λ¶„μ— λ€ν•΄μ„ ν”Όλ“λ°±μ΄ μ¤κ³  κ³„μ†ν•΄μ„ μ¶”κ°€ν•κ±°λ‚ μμ •λλ” μ‘μ—…μ΄ λΉλ²ν• κ²½μ°λ„ λ°μƒν•©λ‹λ‹¤.</p><p><img data-src="/images/posts/side-effect-myself/01.jpg"></p><p>κ³ κ°μ λ‹¤μ–‘ν• μ”κµ¬μ‚¬ν•­μ„ μ²λ¦¬ν•λ‹¤λ³΄λ©΄ κ΄€λ ¨μ—†λ” λ¶€λ¶„μ— λ€ν•΄μ„λ„ λ¬Έμ λ¥Ό μΌμΌν‚¬ μ μλ” μ‚¬μ΄λ“ μ΄ν™νΈκ°€ λ°μƒν•κ³¤ ν•©λ‹λ‹¤. μ‹μ¤ν…μ λ¨λ“  λ¶€λ¶„μ„ μ•κ³  μλ” κ°λ°μλ” λ“λ¬ΌκΈ° λ•λ¬Έμ— μ–΄λ–¤ μ”κµ¬μ‚¬ν•­μ„ μ²λ¦¬ν•λ” κ²ƒμ— μμ–΄μ„ μ–΄λ””κΉμ§€ μν–¥μ΄ κ°€λ”μ§€λ” κ²€ν†  λ° μ‘μ—… κ³Όμ •μ—μ„λ„ νλ‹¨μ΄ μ•λκΈ°λ„ ν•©λ‹λ‹¤. μ‹¬μ§€μ–΄λ” ν”„λ΅λ•νΈ ν€μ—μ„λ„ μ‘μ—…λ μ”κ±΄μ— λ€ν•΄μ„λ§ κ²€μ¦ν•κ³  ν”Όλ“λ°±μ„ μ „λ‹¬ν•κΈ° λ•λ¬Έμ— μ–΄λ””μ„ λ¬Έμ κ°€ λ‚΄μ¬λμ—λ”μ§€ κ²€μ¶μ΄ λμ§€ μ•μ„ κ°€λ¥μ„±λ„ μμµλ‹λ‹¤.</p><p><img data-src="/images/posts/side-effect-myself/02.jpg"></p><p>λ•λ΅λ” μ–΄λ– ν• λ¬Έμ λ¥Ό νμ•…ν•κΈ° μ„ν•΄μ„ λ””λ²„κ·Έν•  μ μλ” μ •λ³΄λ¥Ό ν¬ν•¨ν•μ—¬ ν•«ν”½μ¤λ΅ μ‹μ¤ν…μ„ μ¬λ°°ν¬ν•κ³ λ‚μ„ μ‹¤μ λ΅ μμ •λ μ½”λ“λ” μ—†λ”λ° λ°μƒν•μ€λ λ²„κ·Έκ°€ λ‚νƒ€μ§€μ•μ„ λ•λ„ μμµλ‹λ‹¤. μ΄λ²μ— λ°μƒν• μ‚¬μ΄λ“ μ΄ν™νΈλ„ μ–΄λ– ν• κ³Όμ •μ„ κ±°μΉκ²λμ„μ•Ό μμƒν•μ§€ λ»ν• κ³³μ—μ„ κ·Έ κ³Όμ •μΌλ΅ μΈν•΄ μƒκΈ΄ μ •λ³΄λ΅ μΈν•μ—¬ μ λ€λ΅ λ κ²°κ³Όλ¥Ό κ°€μ Έμ¤μ§€ λ»ν•μ—¬ λ°μƒν•μ€μµλ‹λ‹¤.</p><p><img data-src="/images/posts/side-effect-myself/03.jpg"></p><p>μ²μμ—λ” νΉμ • ν™κ²½μ—μ„λ§ λ°μƒν•λ” μ‚¬μ λ΅ μΈν•μ—¬ JDBCμ™€ PostgreSQL λ²„μ „ μ‚¬μ΄μ λ¬Έμ λ΅ μμƒν–μ—μµλ‹λ‹¤. ν•μ§€λ§ μ–΄μ°μ €μ° νΈλ¦­μ„ μ“°λ©΄μ„κΉμ§€ νλ“¤κ² μ°Ύμ€ μ›μΈμ€ μ „μ—­ λ³€μμ μ‚¬μ©μ— μμ—μµλ‹λ‹¤. λ¬Έμ κ°€ ν™•μΈλμ—λ κ³³μ—μ„λ” μ •μƒμ μΌλ΅ μ „μ—­ λ³€μλ¥Ό μ¬λ°”λ¥΄κ² μ‚¬μ©ν•κ³  μμ—μΌλ‚ μΌλ¶€ κ³ κ°μ μ”κµ¬μ‚¬ν•­μ„ λ³΄μ™„ν•λ” κ³Όμ •μ—μ„ μ „μ—­ λ³€μμ„μ„ ν™•μΈν•μ§€ μ•κ³  μ „μ—­λ³€μκ°€ λ‚΄λ¶€μ μΌλ΅ κ°€μ§€λ” μ΅°ν κΈ°μ¤€ μ •λ³΄μ— μ–΄λ–¤ κ°’μ„ λ„£λ” μ½”λ“κ°€ μ¶”κ°€λ¨μ— λ”°λΌ λ‹¤λ¥Έ μ‘μ—…μ— μν•΄μ„ ν„μ¬ λ¬Έμ κ°€ κ²€ν† λ κ³³μ—μ„ κ²€μ¶μ΄ λ κ²ƒμ…λ‹λ‹¤.</p><p><img data-src="/images/posts/side-effect-myself/04.jpg"></p><p>λ¬Έμ λ¥Ό μΌμΌν‚¨ μ½”λ“λ¥Ό λ§λ“  μ‚¬λμ€ λ°”λ΅ μ €μ€κΈ°μ— μ¤μ¤λ΅λ¥Ό ν•¨μ •μ— λΉ νΈλ¦¬κ² λ κ²ƒμ΄μ£ . κ·Έλ‚λ§ λ‹¤ν–‰ν μ μ€ λ‚΄κ°€ μ‘μ—…ν• μ½”λ“λ΅ μΈν•μ—¬ λ‹¤λ¥Έ μ‚¬λμ΄ μ‘μ—…ν• κΈ°λ¥μ— μν–¥μ€ λΌμΉμ§€ μ•μ•λ‹¤λ” μ μ…λ‹λ‹¤. κ³ κ°μ΄ κ²€μ¦μ¤‘μΈ κΈ°λ¥μ— μ λ€λ΅ λ™μ‘ν•μ§€ μ•λ”λ‹¤λ” λ¬Έμ λ¥Ό λ³΄κ³ λ°›μ•κ³  κ³ κ°μ΄ ν”Όλ“λ°±ν• μ΄μλ” μ•„λ‹μ§€λ§ μ¤μ¤λ΅ λ°κ²¬ν• λ¬Έμ κ°€ λ™μΌν• λ°©μ‹μΌλ΅ μ „μ—­ λ³€μλ¥Ό μ‚¬μ©ν•λ” μ½”λ“κ°€ ν¬ν•¨λμ–΄μκΈ°μ— κ²°κµ­μ—λ” κ°™μ€ μ›μΈμΌλ΅ λ°μƒν• λ¬Έμ μΈ κ²ƒκΉμ§€ ν™•μΈν•  μ μμ—μµλ‹λ‹¤.</p><p>μ΄λ¬ν• λ¬Έμ κ°€ λ°μƒν–λ‹¤λ” κ²ƒμ„ ν† λ€λ΅ λ” λ…Έλ ¥ν•΄μ•Όν•  κ²ƒ κ°™μµλ‹λ‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;λ³Έ κΈ€μ€ μ¤μ¤λ΅ λ§λ“¤μ–΄λ‚Έ μ‚¬μ΄λ“ μ΄ν™νΈλ¥Ό νλ“¤κ² μ°Ύμ•„κ°€κ³  μ‚¬μ΄λ“ μ΄ν™νΈκ°€ λ§λ“¤μ–΄μ§„ μ‚¬μ λ¥Ό λλμ•„λ³΄κ³ μ μ‘μ„±ν• κ²ƒμ…λ‹λ‹¤.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&quot;/images/posts/side-ef</summary>
      
    
    
    
    
    <category term="νκ³ " scheme="https://kdevkr.github.io/tags/%ED%9A%8C%EA%B3%A0/"/>
    
    <category term="μ¥μ• " scheme="https://kdevkr.github.io/tags/%EC%9E%A5%EC%95%A0/"/>
    
    <category term="λ²„κ·Έ" scheme="https://kdevkr.github.io/tags/%EB%B2%84%EA%B7%B8/"/>
    
    <category term="μ‚¬μ΄λ“ μ΄ν™νΈ" scheme="https://kdevkr.github.io/tags/%EC%82%AC%EC%9D%B4%EB%93%9C-%EC%9D%B4%ED%8E%99%ED%8A%B8/"/>
    
  </entry>
  
  <entry>
    <title>νƒ„λ ¥μ  λ³Όλ¥¨μ„ μ§€μ›ν•μ§€ μ•μ</title>
    <link href="https://kdevkr.github.io/not-support-ebs-modify-volume/"/>
    <id>https://kdevkr.github.io/not-support-ebs-modify-volume/</id>
    <published>2022-05-19T00:00:00.000Z</published>
    <updated>2022-05-23T14:52:51.525Z</updated>
    
    <content type="html"><![CDATA[<p>μ§€λ‚λ²μ— κ³µμ ν• <a href="https://kdevkr.github.io/reason-for-replacing-ec2-instance-type/">EC2 μΈμ¤ν„΄μ¤ μ ν•μ„ κµμ²΄ν•λ” μ΄μ </a>λ¥Ό ν†µν•΄ μµμ‹  μΈμ¤ν„΄μ¤ μ ν•μ„ μ‚¬μ©ν•λ©΄ λΉ„μ·ν• μ„±λ¥μ΄μ§€λ§ λ” μ μ€ λΉ„μ©μΌλ΅ μ‚¬μ©ν•  μ μλ‹¤λ” κ²ƒμ„ μ†κ°ν–μµλ‹λ‹¤. μ΄μ— λ”°λΌ μ΅°μ§μ—μ„ μ‚¬μ©μ¤‘μΈ μ‹κ³„μ—΄ λ°μ΄ν„°λ² μ΄μ¤μ© μΈμ¤ν„΄μ¤λ¥Ό <a href="https://aws.amazon.com/ko/blogs/korea/new-amazon-ec2-r5b-instances-providing-3x-higher-ebs-performance/">Amazon EC2 R5b</a>λ΅ λ³€κ²½ν•μ—¬ μµμ‹  μΈμ¤ν„΄μ¤ μ ν•μΌλ΅ μΈν• λΉ„μ© μ κ°κ³Ό λ” λ†’μ€ EBS μ„±λ¥μ„ μ κ³µλ°›μ„ μ μμ—μµλ‹λ‹¤.</p><p>κ·Έλ¬λ‚, μ–΄λ– ν• μ‚¬μ λ΅ μΈν•μ—¬ λ” λ†’μ€ λ³Όλ¥¨ μ²λ¦¬ μ„±λ¥μ„ μ„ν•΄μ„ κΈ°μ΅΄μ— μ—°κ²°ν•μ€λ gp3 λ³Όλ¥¨ λ€μ‹ μ— io2 λ³Όλ¥¨μΌλ΅ λ€μ²΄ν•μ€κ³  ν™•μ‹¤μ΄ ν”„λ΅λΉ„μ €λ‹λ λ³Όλ¥¨μ μ²λ¦¬ μ„±λ¥μ΄ μΆ‹λ‹¤λ” κ²ƒμ„ ν™•μΈν•  μ μμ—μµλ‹λ‹¤. λ‹¤λ§, μ΄λ•λ” μ•μ§€ λ»ν–λ ν° μ μ•½μ‚¬ν•­μ΄ μµκ·Όμ— λ°κ²¬λμ—μΌλ©° μ΄μ— λ€ν• λ‚΄μ©μ„ κ³µμ ν•κ³ μ ν•©λ‹λ‹¤.</p><h2 id="νƒ„λ ¥μ -λ³Όλ¥¨"><a href="#νƒ„λ ¥μ -λ³Όλ¥¨" class="headerlink" title="νƒ„λ ¥μ  λ³Όλ¥¨"></a>νƒ„λ ¥μ  λ³Όλ¥¨</h2><p><a href="https://docs.aws.amazon.com/ko_kr/AWSEC2/latest/UserGuide/ebs-modify-volume.html">Amazon EBS νƒ„λ ¥μ  λ³Όλ¥¨</a>μ€ μΈμ¤ν„΄μ¤κ°€ μ‚¬μ©μ¤‘μΈ λ³Όλ¥¨μ„ λ¶„λ¦¬ν•μ§€ μ•λ”λΌλ„ λ³Όλ¥¨μ μ ν•μ„ λ³€κ²½ν•κ±°λ‚ ν¬κΈ°λ‚ IOPSμ™€ κ°™μ€ μ„±λ¥μ„ μ΅°μ •ν•  μ μλ” μ μ©ν• κΈ°λ¥μ…λ‹λ‹¤. μΌλ°μ μΌλ΅ μ‚¬μ©λλ” λ€λ¶€λ¶„μ μΈμ¤ν„΄μ¤μ—μ„ νƒ„λ ¥μ  λ³Όλ¥¨μΌλ΅ μΈμ¤ν„΄μ¤λ¥Ό μ¤‘μ§€ν•λ‹¤λκ°€ λ³Όλ¥¨μ„ λ¶„λ¦¬ν•μ§€ μ•μ•„λ„ μ‰½κ² λ³Όλ¥¨μ ν¬κΈ° λλ” μ„±λ¥μ„ ν™•μ¥ν•  μ μμµλ‹λ‹¤. <a href="https://docs.aws.amazon.com/ko_kr/AWSEC2/latest/UserGuide/modify-volume-requirements.html">λ¨λ“  ν„μ¬ μ„Έλ€ μΈμ¤ν„΄μ¤μ—μ„ νƒ„λ ¥μ  λ³Όλ¥¨μ„ μ§€μ›ν•λ‹¤</a>λ” λ‚΄μ©λ§ ν™•μΈν•κ³ μ„λ” μµμ‹  μΈμ¤ν„΄μ¤ μ ν•μ΄λΌλ©΄ λ‹Ήμ—°ν λ³Όλ¥¨ μμ •μ΄ κ°€λ¥ν•  κ²ƒμ΄λΌκ³  μƒκ°ν•κ² λμ—μµλ‹λ‹¤.</p><h3 id="Amazon-EC2-R5b"><a href="#Amazon-EC2-R5b" class="headerlink" title="Amazon EC2 R5b"></a>Amazon EC2 R5b</h3><p>Amazon EC2 R5bλ” λ‹νΈλ΅ μ‹μ¤ν… κΈ°λ°μ μΈμ¤ν„΄μ¤λ΅ μ—°κ²°λλ” EBS λ³Όλ¥¨μ€ NVMe μ¤ν† λ¦¬μ§€ μ…λ‹λ‹¤. μΈμ¤ν„΄μ¤ μ ν•μ„ λ³€κ²½ν–μ„ λ‹Ήμ‹μ— μ‚¬μ©ν–λ λ³Όλ¥¨μ€ gp3λ΅ νƒ„λ ¥μ  λ³Όλ¥¨μΌλ΅ μ μ¬λλ” λ°μ΄ν„°μ μ–‘μ΄ λ§μ•„μ§€λ©΄μ„ λ””μ¤ν¬ μ©λ‰μ΄ λ¶€μ΅±ν•΄μ§λ• μΈμ¤ν„΄μ¤λ¥Ό μ¤‘μ§€ν•μ§€ μ•κ³ μ„λ„ λ³Όλ¥¨μ„ μ‰½κ² ν™•μ¥ν•  μ μμ—μµλ‹λ‹¤.</p><h3 id="io2-Block-Express-λ³Όλ¥¨"><a href="#io2-Block-Express-λ³Όλ¥¨" class="headerlink" title="io2 Block Express λ³Όλ¥¨"></a>io2 Block Express λ³Όλ¥¨</h3><blockquote><p>R5b, X2idn λ° X2iedn μΈμ¤ν„΄μ¤μ— μ—°κ²°λ io2 λ³Όλ¥¨μ ν¬κΈ° λλ” ν”„λ΅λΉ„μ €λ‹λ IOPSλ” μμ •ν•  μ μ—†μµλ‹λ‹¤.</p></blockquote><p>μ„ λ¬Έμ¥μ€ μ¤λμ ν•µμ‹¬ λ‚΄μ©μ…λ‹λ‹¤. Amazon EC2 R5bμ™€ κ°™μ€ μΌλ¶€ μ°¨μ„Έλ€ μΈμ¤ν„΄μ¤ μ ν•μ—μ„λ” io2 λ³Όλ¥¨μ„ μ‚¬μ©ν•λ” κ²ƒμ— μ£Όμν•΄μ•Όν•©λ‹λ‹¤. R5b μΈμ¤ν„΄μ¤λ” io2 λ³Όλ¥¨μ„ μ‚¬μ©ν•λ” κ²½μ° λ” μΆ‹μ€ μ„±λ¥μ„ μ¶©μ΅±ν•κΈ° μ„ν•΄μ„ io2 Block ExpressλΌλ” μ°¨μ„Έλ€ λ³Όλ¥¨μΌλ΅ μ—°κ²°λμ–΄ μ κ³µλκΈ° λ•λ¬Έμ…λ‹λ‹¤. <a href="https://docs.aws.amazon.com/ko_kr/AWSEC2/latest/UserGuide/ebs-volume-types.html#io2-bx-considerations">io2 Block Express λ³Όλ¥¨μ€ νƒ„λ ¥μ  λ³Όλ¥¨ μ‘μ—…μ„ μ§€μ›ν•μ§€ μ•μ</a></p><p>Amazon EC2 R5bμ™€ κ°™μ€ μΌλ¶€ μ°¨μ„Έλ€ μΈμ¤ν„΄μ¤ μ ν•μ—μ„λ” io2 λ³Όλ¥¨μ„ μ‚¬μ©ν•λ” κ²ƒμ— μ£Όμν•΄μ•Όν•©λ‹λ‹¤. λ‹νΈλ΅ μ‹μ¤ν… κΈ°λ°μ μΈμ¤ν„΄μ¤μ—μ„ λ” μΆ‹μ€ μ„±λ¥μ„ μ¶©μ΅±ν•κΈ° μ„ν•΄μ„ io2 Block ExpressλΌλ” μ°¨μ„Έλ€ λ³Όλ¥¨μΌλ΅ μ—°κ²°λκΈ° λ•λ¬Έμ…λ‹λ‹¤. ν„μ¬ μ‹μ μ—μ„λ” <a href="https://docs.aws.amazon.com/ko_kr/AWSEC2/latest/UserGuide/ebs-volume-types.html#io2-bx-considerations">io2 Block Express λ³Όλ¥¨μ€ νƒ„λ ¥μ  λ³Όλ¥¨ μ‘μ—…μ„ μ§€μ›ν•μ§€ μ•μ</a>μ„ μ•μ•„μ•Όν•©λ‹λ‹¤.</p><blockquote><p>λ‹¤λ¥Έ μ„λΉ„μ¤μ™€ κΈ°λ¥κ³Ό λ§μ°¬κ°€μ§€λ΅ μ–Έμ  κ°€λ” io2 Block Express λ³Όλ¥¨λ„ νƒ„λ ¥μ  λ³Όλ¥¨μ΄ κ°€λ¥ν•λ„λ΅ λ³€κ²½λ  μ μμµλ‹λ‹¤.</p></blockquote><p>μ‚¬μ©ν•κ³  μλ” μ‹κ³„μ—΄ λ°μ΄ν„°λ² μ΄μ¤λ” κΈ°λ³Έμ μΌλ΅λ” λ©”λ¨λ¦¬ μ—”μ§„μ„ μ‚¬μ©ν•μ§€λ§ λ¨λ“  λ°μ΄ν„°λ¥Ό λ©”λ¨λ¦¬μ— μ μ§€ν•  μ μ—†μΌλ―€λ΅ κ³Όκ±° λ°μ΄ν„°λ” νμΌλ΅ λ³΄κ΄€ν•΄λ‘κ³  λ¶λ¬μ™€μ„ μ‚¬μ©ν•λ” κµ¬μ΅°μ΄κΈ°μ— λ©”λ¨λ¦¬μ™€ λ””μ¤ν¬ μ„±λ¥μ΄ λ¨λ‘ μ¤‘μ”ν•λ‹¤κ³  νλ‹¨ν•΄μ„ λ” μΆ‹μ€ μ„±λ¥μ io2 λ³Όλ¥¨μΌλ΅ κµμ²΄ν• κ²ƒμΈλ° νƒ„λ ¥μ  λ³Όλ¥¨μ λ―Έμ§€μ›μ— λ€ν• λ¶€λ¶„μ„ κ²€ν† ν•μ§€ μ•μμΌλ΅ μΈν•μ—¬ μ¤νλ ¤ ν° μ μ•½μ΄ λ°μƒν•μ€μµλ‹λ‹¤.</p><p>μ‹μ¤ν…μ— λ“±λ΅λλ” μ‹κ³„μ—΄ λ°μ΄ν„°λ¥Ό κ³„μ† μ €μ¥ν•κ³  μ μ§€ν•κ³  μμ–΄μ•Όν•λ―€λ΅ λ””μ¤ν¬ λ³Όλ¥¨μ ν¬κΈ°λ¥Ό ν™•μ¥ν•  μ μ—†λ‹¤λ” μ μ€ λ„λ¬΄ λΉ„ν¨μ¨μ μ΄λ―€λ΅ io2 λ³Όλ¥¨μ—μ„λ” gp3 λ³Όλ¥¨μΌλ΅ μ „ν™μ΄ κ°€λ¥ν•μ—¬ gp3 μ ν•μ λ³Όλ¥¨μ— IOPSμ™€ μ²λ¦¬λ‰μ„ λ†’μ΄λ” μ •λ„λ΅ μ‚¬μ©ν•κ³ μ λ³€κ²½ν–μµλ‹λ‹¤.</p><p>κ°μ‚¬ν•©λ‹λ‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;μ§€λ‚λ²μ— κ³µμ ν• &lt;a href=&quot;https://kdevkr.github.io/reason-for-replacing-ec2-instance-type/&quot;&gt;EC2 μΈμ¤ν„΄μ¤ μ ν•μ„ κµμ²΄ν•λ” μ΄μ &lt;/a&gt;λ¥Ό ν†µν•΄ μµμ‹  μΈμ¤ν„΄μ¤ μ ν•μ„ μ‚¬μ©ν•λ©΄ λΉ„μ·ν• μ„±λ¥μ΄</summary>
      
    
    
    
    
    <category term="AWS" scheme="https://kdevkr.github.io/tags/AWS/"/>
    
    <category term="EBS" scheme="https://kdevkr.github.io/tags/EBS/"/>
    
    <category term="R5b" scheme="https://kdevkr.github.io/tags/R5b/"/>
    
    <category term="io2 Block Express" scheme="https://kdevkr.github.io/tags/io2-Block-Express/"/>
    
  </entry>
  
  <entry>
    <title>μ‹ λΆ°ν•  μ μλ” μ΄λ©”μΌ λ°μ†΅ λ„λ©”μΈ</title>
    <link href="https://kdevkr.github.io/email-spf-dkim-dmarc/"/>
    <id>https://kdevkr.github.io/email-spf-dkim-dmarc/</id>
    <published>2022-05-18T00:00:00.000Z</published>
    <updated>2022-05-23T14:52:51.525Z</updated>
    
    <content type="html"><![CDATA[<p>μ‹μ¤ν…μ„ κ°λ°ν•λ” λ‹¨κ³„μ—μ„λ” λ©”μΌ λ°μ†΅ κΈ°λ¥μ„ μ„ν•΄μ„ νμ‚¬ λ‚΄ μ„λ²„ μΈν”„λΌ μ—”μ§€λ‹μ–΄λ¶„κ» μ‚¬λ‚΄ λ©”μΌ μ„λ²„λ¥Ό λ€μ‹  μ΄μ©ν•  μ μλ„λ΅ μ”μ²­ν•κ³  λ©”μΌ μ„λ²„λ¥Ό μ΄μ©ν•  μ μλ” SMTP μ„λ²„μ™€ μ‚¬μ©μ μΈμ¦ μ •λ³΄λ¥Ό μ „λ‹¬λ°›μ•„μ„ ν…μ¤νΈν•κ³¤ ν–μµλ‹λ‹¤. κ·Έλ¬λ‚, μ‹¤μ λ΅ μ‹μ¤ν…μ„ μ΄μ©ν•λ” μ‹μ μ— λ“¤μ–΄μ„μ νμ‚¬ μ‚¬λ‚΄ λ©”μΌ μ„λ²„λ΅ μ „λ‹¬λλ” μ „μ†΅ κ±΄λ“¤μ΄ λ§μ•„μ Έμ„ νμ‚¬ μΈν”„λΌ λ‹΄λ‹Ή μ—”μ§€λ‹μ–΄λ¶„μΌλ΅λ¶€ν„° <a href="https://aws.amazon.com/ko/ses/">Amazon SES</a>λ΅ λ©”μΌ μ„λ²„λ¥Ό μ „ν™ν•΄λ‹¬λΌλ” μ”μ²­μ„ λ°›κ³  ν™”μ‚¬ μ‚¬λ‚΄ λ©”μΌ μ„λ²„ λ€μ‹ μ— ν΄λΌμ°λ“ ν™κ²½μ—μ„ μ κ³µν•λ” SMTP μ„λ²„λ¥Ό μ‚¬μ©ν•λ„λ΅ μ‘μ—…μ„ ν•μ€μµλ‹λ‹¤. </p><h2 id="Amazon-SES"><a href="#Amazon-SES" class="headerlink" title="Amazon SES"></a>Amazon SES</h2><p>μ €λ” μ„λ²„ μΈν”„λΌ μ—”μ§€λ‹μ–΄λ” μ•„λ‹κΈ° λ•λ¬Έμ— μΈν”„λΌ μμ—­μ—μ„ μ‚¬μ©λλ” λ¨λ“  μ§€μ‹μ„ μ•μ§€λ” λ»ν•λ”λ°μ”. κ°λ°μλ΅μ¨ μ΄λ©”μΌ λ°μ†΅ κΈ°λ¥μ„ κµ¬ν„ν•λ” λ°©λ²•μ— λ€ν•΄μ„ μ°Ύμ•„λ³΄λ©΄ <a href="/sending-mail-with-freemarker-template/">ν”„λ¦¬λ§μ»¤ ν…ν”λ¦ΏμΌλ΅ μ΄λ©”μΌ λ°μ†΅ν•κΈ°</a>μ™€ κ°™μ΄ SMTP ν”„λ΅ν† μ½μ„ μ‚¬μ©ν•λ©΄ λλ‹¤λ” κ²ƒμ„ μ• μ μμµλ‹λ‹¤. </p><p><img data-src="/images/posts/email-spf-dkim-dmarc/ses-01.png"></p><p>Amazon SESλ” SMTP μ—”λ“ν¬μΈνΈμ™€ STARTTLS&#x2F;TLS μµμ…μ— λ”°λΌ μ‚¬μ©ν•΄μ•Όν•λ” ν¬νΈμ™€ SMTP μΈμ¦μ„ μ„ν• ν¬λ λ΄μ…μ„ λ°κΈ‰ν•κ³  μΈμ¦λ§ ν•λ©΄ μ‚¬μ©ν•  μ μμµλ‹λ‹¤. κ°„λ‹¨ν• ν΄λ¦­λ§μΌλ΅λ„ SMTP ν¬λ λ΄μ…μ„ λ°κΈ‰ν•  μ μκΈ° λ•λ¬Έμ— κ°λ°μλΌλ©΄ λ„κµ¬λ‚ μ‰½κ² μ‚¬μ©μ μΈμ¦ μ •λ³΄λ¥Ό κ°€μ Έμ™€μ„ λ©”μΌ μ„λ²„λ¥Ό μ΄μ©ν•  μ μμµλ‹λ‹¤. Amazon SESλ” μΈμ¦λ μ΄λ©”μΌ μ£Όμ†λ΅ λ©”μΌμ„ λ°μ†΅ν•  μ μκ±°λ‚ λ„λ©”μΈμ„ μΈμ¦ν•μ—¬ μ΄λ©”μΌ λ°μ†΅μ— λ€ν• μ‹ μ›μ„ κ²€μ¦ν•  μ μλ„λ΅ μ κ³µν•κ³  μλ”λ°μ”. κ·Έλμ„ μ•„λμ™€ κ°™μ΄ μ΄λ©”μΌ μμ‹ μ΄ κ°€λ¥ν• λ°μ‹  μ΄λ©”μΌμ΄ μ΅΄μ¬ν•λ‹¤λ©΄ κ°„λ‹¨ν•κ² λ°μ‹  μ£Όμ†λ¥Ό λ“±λ΅ν•  μ μμµλ‹λ‹¤.</p><p><img data-src="/images/posts/email-spf-dkim-dmarc/ses-02.png"></p><h3 id="μ΄λ©”μΌμ—-λ€ν•-λ°μ‹ -μ£Όμ†λ¥Ό-μ‹ λΆ°ν• -μ-μ—†μ"><a href="#μ΄λ©”μΌμ—-λ€ν•-λ°μ‹ -μ£Όμ†λ¥Ό-μ‹ λΆ°ν• -μ-μ—†μ" class="headerlink" title="μ΄λ©”μΌμ— λ€ν• λ°μ‹  μ£Όμ†λ¥Ό μ‹ λΆ°ν•  μ μ—†μ"></a>μ΄λ©”μΌμ— λ€ν• λ°μ‹  μ£Όμ†λ¥Ό μ‹ λΆ°ν•  μ μ—†μ</h3><p>κ°„λ‹¨ν•κ² SMTP λ©”μΌ μ„λ²„λ¥Ό μ „ν™ν•  μ μκΈ° λ•λ¬Έμ— μ–΄λ ¤μ΄ μ‘μ—…μ€ μ•„λ‹λΌκ³  μƒκ°ν–μ—λ”λ° μ μ‹ ν›„ μμƒν•μ§€ λ»ν–λ λ¬Έμ κ°€ νμ•…λμ—μ–΄μ”. Amazon SESμ SMTP μ„λ²„λ¥Ό μ‚¬μ©ν•λ„λ΅ μ „ν™ν•κ³ λ‚μ„ μ‹μ¤ν…μ—μ„ λ°μ†΅ν•λ” μ΄λ©”μΌμ„ μμ‹ μκ°€ λ°›μ•μ„λ• μ¤νΈ λ©”μΌν•¨μΌλ΅ μ „λ‹¬λλ” κ²ƒμ΄μ—μµλ‹λ‹¤. κ·Έλμ„ μ›μΈμ„ μ°Ύμ•„λ³΄λ‹ <a href="https://aws.amazon.com/ko/premiumsupport/knowledge-center/ses-email-flagged-as-spam/">Amazon SESλ¥Ό μ‚¬μ©ν•μ—¬ μ „μ†΅ν•λ” μ΄λ©”μΌμ΄ μ¤νΈμΌλ΅ ν‘μ‹λλ” μ΄μ λ” λ¬΄μ—‡μ…λ‹κΉ?</a>μ™€ κ°™μ€ κ°€μ΄λ“λ¥Ό μ°Ύμ•μµλ‹λ‹¤. SMTP μ„λ²„μ— μν•΄ μ „λ‹¬λλ” μ΄λ©”μΌμ„ μ‹ λΆ°ν•  μ μλ”μ§€ κ²€μ¦ν•λ” κ²ƒμ€ Amazon SESκ°€ λ³΄μ¥ν•  μ μ—†λ‹¤λ” λ¶€λ¶„κ³Ό λ‹¤μμ μ”μΈμ΄ μλ‹¤λ” κ²ƒμ„ μ•λ‚΄ν•κ³  μμ—μµλ‹λ‹¤.</p><blockquote><p><a href="https://docs.aws.amazon.com/ses/latest/dg/send-email-authentication-dkim.html">DomainKeys Identified Mail(DKIM)</a> λλ” <a href="https://docs.aws.amazon.com/ses/latest/dg/send-email-authentication-spf.html">Sender Policy Framework(SPF)</a>μ™€ κ°™μ€ μ΄λ©”μΌ μΈμ¦ λ¶€μ΅±</p></blockquote><h3 id="λ°μ‹ -λ„λ©”μΈ-κ²€μ¦"><a href="#λ°μ‹ -λ„λ©”μΈ-κ²€μ¦" class="headerlink" title="λ°μ‹  λ„λ©”μΈ κ²€μ¦"></a>λ°μ‹  λ„λ©”μΈ κ²€μ¦</h3><p><a href="https://docs.aws.amazon.com/ses/latest/dg/configure-identities.html">Configuring identities in Amazon SES</a> λ¬Έμ„λ¥Ό μ‚΄ν΄λ³΄λ©΄ SMTP ν”„λ΅ν† μ½μ€ μμ²΄μ μΌλ΅ μΈμ¦ κΈ°λ¥μ΄ μ—†λ‹¤λ” κ²ƒκ³Ό μ΄λ¬ν• λ¶€λ¶„μΌλ΅ μΈν•΄ μ¤ν¨λ¨Έκ°€ λ°μ‹  μ£Όμ†λ¥Ό μ„μ¥ν•  μ μλ‹¤λ” μ μ„ μ•κ² λμ—μµλ‹λ‹¤. κ·Έλμ„ SPF λλ” DKIMμ™€ κ°™μ€ μΈμ¦ λ§¤μ»¤λ‹μ¦μ„ μ‚¬μ©ν•κ² λλ‹¤κ³  μ†κ°ν•κ³  μμµλ‹λ‹¤. μ΄μ κ» λ“£λ„λ³΄λ„ λ»ν• μƒλ΅μ΄ μ©μ–΄κ°€ λ‚νƒ€λ‚κ² λκ±°μ£ . <a href="https://blog.cloudflare.com/ko-kr/tackling-email-spoofing-ko-kr/">μ΄λ©”μΌ μ¤ν‘Έν•‘κ³Ό ν”Όμ‹±μ— λ€μ²ν•κΈ°</a>μ—μ„ DNSμ λ„λ©”μΈ λ μ½”λ“λ¥Ό μ‚¬μ©ν•΄μ„ μ¤ν‘Έν•‘μ„ λ°©μ§€ν•κΈ° μ„ν• λ§¤μ»¤λ‹μ¦μ„ κµ¬μ„±ν•λ‹¤λ” μ μ„ μ΄ν•΄ν•  μ μμ—μµλ‹λ‹¤. </p><p><img data-src="/images/posts/email-spf-dkim-dmarc/ses-03.png"></p><p>μμ‹ λ μ΄λ©”μΌμ΄ μ¬λ°”λ¥Έ κ³³μΌλ΅λ¶€ν„° λ°μ†΅λ κ²ƒμΈμ§€λ¥Ό κ²€μ¦ν•κΈ° μ„ν•΄μ„λ” λ„λ©”μΈ κΈ°λ°μΌλ΅ μ‹ μ›μ„ κ²€μ¦ν•κ³  SPF, DKIM, DMARCμ™€ κ°™μ€ DNS λ μ½”λ“λ¥Ό λ„λ©”μΈμ— μ„¤μ •ν•΄μ•Όν–μµλ‹λ‹¤. λ‹¤ν–‰νλ„ Route53μΌλ΅ λ„λ©”μΈμ„ μ‚¬μ©μ¤‘μ΄κΈ°μ— Amazon SESμ—μ„ μλ™μΌλ΅ DNS λ μ½”λ“λ¥Ό μ„¤μ •ν•  μ μμ—μµλ‹λ‹¤. <a href="https://docs.aws.amazon.com/ko_kr/ses/latest/dg/send-email-authentication-dmarc.html">Amazon SESλ¥Ό μ‚¬μ©ν•μ—¬ DMARC μ¤€μ</a>μ— λ”°λΌ λ„λ©”μΈ λ μ½”λ“μ— DMARC μ •μ±…μ΄ μ„¤μ •λμ—λ”μ§€λ¥Ό ν™•μΈν•κ³  Amazon SESκ°€ λ„λ©”μΈμ„ κ²€μ¦ν•κΈ°λ¥Ό κΈ°λ‹¤λ Έμµλ‹λ‹¤.</p><p><img data-src="/images/posts/email-spf-dkim-dmarc/ses-04.png"></p><h3 id="μ΄λ©”μΌ-λ³΄μ•-DNS-λ μ½”λ“-μ§μ"><a href="#μ΄λ©”μΌ-λ³΄μ•-DNS-λ μ½”λ“-μ§μ" class="headerlink" title="μ΄λ©”μΌ λ³΄μ• DNS λ μ½”λ“ μ§μ"></a>μ΄λ©”μΌ λ³΄μ• DNS λ μ½”λ“ μ§μ</h3><p>DKIMμΌλ΅ λ„λ©”μΈ κ²€μ¦μ„ ν•μ€μμ„ ν™•μΈν•μ€κ³  μ¶”κ°€μ μΌλ΅ digμ™€ κ°™μ€ DNS μ§μ λ…λ Ήμ–΄ λ„κµ¬λ¥Ό ν†µν•΄μ„ DNS λ μ½”λ“κ°€ λ°μλμ—λ”μ§€ ν™•μΈν•  μ μμ—μµλ‹λ‹¤. </p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># SPF λ μ½”λ“ ν™•μΈ</span><span class="token function">dig</span> TXT example.com +short<span class="token string">"v=spf1 include:_spf.google.com ip4:xxx.xxx.xxx.xxx a:mail.example.com ~all"</span><span class="token comment"># DKIM λ μ½”λ“ ν™•μΈ</span><span class="token function">dig</span> TXT google._domainkey.example.com +short<span class="token string">"v=DKIM1; k=rsa; p=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAoamWoQQ5zEdcFQnGaWN055oT3sEnCgN5bcAze5R6uvI1P"</span> <span class="token string">"X4d+CGbNDSVJqOmQPyrJdK2fOVG3hvjMkoilYcgWrGKDat2Nh29ftN5tTx5SVK/kl+5aPKRd9q6q9c9EWL7aRS2hqoGRyzW0Nb0ilKZc/"</span> <span class="token string">"odDbh3bgNhN6AJqIZwlE9BJgkYT5aT6TGJM/Vi4GJcYDEKm6yDexTJKzfZ8o8TCRDufCYDF8F+dKKyLvyaKrngfgIjRi5PiGVGbyNrIL7iMp1CkJ7ErpkYCJw5DeTQkXi8Gxt+Km61sIP2F8IZyd/"</span> <span class="token string">"WrEXJmk2pHzRfiJJqIiY4r3s4loR/sJ4hQPS6HEq7JQIDAQAB"</span><span class="token comment"># DMARC λ μ½”λ“ ν™•μΈ</span><span class="token function">dig</span> TXT _dmarc.example.com +short<span class="token string">"v=DMARC1; p=quarantine; rua=mailto:postmaster@example.com; ruf=mailto:postmaster@example.com"</span></code></pre><h3 id="λ°μ‹ -λ„λ©”μΈ-μ‹ λΆ°-ν™•μΈ"><a href="#λ°μ‹ -λ„λ©”μΈ-μ‹ λΆ°-ν™•μΈ" class="headerlink" title="λ°μ‹  λ„λ©”μΈ μ‹ λΆ° ν™•μΈ"></a>λ°μ‹  λ„λ©”μΈ μ‹ λΆ° ν™•μΈ</h3><p>λ„λ©”μΈ κΈ°λ°μ μΈμ¦ λ§¤μ»¤λ‹μ¦μ΄ μ μ©λκ³ λ‚μ„λ” μμ‹ λ μ΄λ©”μΌμ΄ μ¤νΈμΌλ΅ λ¶„λ¥λμ§€ μ•κ² λμ—κ³  μ›λ³Έ λ©”μΌ μ •λ³΄λ¥Ό ν™•μΈν•λ©΄ SPF, DKIM, DMARCμ— λ€ν• κ²€μ¦μ΄ ν†µκ³Όλ κ²ƒμ„ ν™•μΈν•  μ μμµλ‹λ‹¤.</p><p><img data-src="/images/posts/email-spf-dkim-dmarc/ses-05.png"></p><blockquote><p>μ›λ³Έ λ©”μΌμ„ ν™•μΈν•λ” κ²ƒμ€ μ„λ²„ μΈν”„λΌ μ—”μ§€λ‹μ–΄λ¶„μ΄ μ•λ ¤μ£Όμ…¨μ–΄μ”! π</p></blockquote><p>SMTP μ„λ²„λ¥Ό Amazon SESλ΅ μ „ν™ν•λ” κ²½ν—μ„ ν†µν•΄μ„ μ΄λ©”μΌμ΄ μ •μƒμ μΈ κ³³μΌλ΅λ¶€ν„° λ°μ‹ λμ—λ‹¤λ” κ²ƒμ„ κ²€μ¦ν•κΈ° μ„ν•΄μ„ λ„λ©”μΈ λ μ½”λ“λ¥Ό μ‚¬μ©ν•λ” λ§¤μ»¤λ‹μ¦μ„ μ΄μ©ν•λ‹¤λ” μ§€μ‹μ„ μ•κ²λμ—μµλ‹λ‹¤. μμ‹ λ μ΄λ©”μΌμ„ κ²€μ¦ν•λ” κ³Όμ •μ„ λ” μμ„Έν•κ² μ•κ³  μ‹¶λ‹¤λ©΄ <a href="https://www.learndmarc.com/">μ΄λ©”μΌμ SPF&#x2F;DKIM&#x2F;DMARCκ°€ μ–΄λ–»κ² λ™μ‘ν•λ”μ§€ μΈν„°λ™ν‹°λΈν•κ² λ³΄κΈ°</a>λ¥Ό μ΄μ©ν•΄λ³΄μ‹κΈ° λ°”λλ‹λ‹¤. </p><h2 id="μ°Έκ³ "><a href="#μ°Έκ³ " class="headerlink" title="μ°Έκ³ "></a>μ°Έκ³ </h2><ul><li><a href="https://aws.amazon.com/ko/premiumsupport/knowledge-center/ses-email-flagged-as-spam/">Amazon SESλ¥Ό μ‚¬μ©ν•μ—¬ μ „μ†΅ν•λ” μ΄λ©”μΌμ΄ μ¤νΈμΌλ΅ ν‘μ‹λλ” μ΄μ λ” λ¬΄μ—‡μ…λ‹κΉ?</a></li><li><a href="https://blog.cloudflare.com/ko-kr/tackling-email-spoofing-ko-kr/">μ΄λ©”μΌ μ¤ν‘Έν•‘κ³Ό ν”Όμ‹±μ— λ€μ²ν•κΈ°</a></li><li><a href="https://www.learndmarc.com/">μ΄λ©”μΌμ SPF&#x2F;DKIM&#x2F;DMARCκ°€ μ–΄λ–»κ² λ™μ‘ν•λ”μ§€ μΈν„°λ™ν‹°λΈν•κ² λ³΄κΈ°</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;μ‹μ¤ν…μ„ κ°λ°ν•λ” λ‹¨κ³„μ—μ„λ” λ©”μΌ λ°μ†΅ κΈ°λ¥μ„ μ„ν•΄μ„ νμ‚¬ λ‚΄ μ„λ²„ μΈν”„λΌ μ—”μ§€λ‹μ–΄λ¶„κ» μ‚¬λ‚΄ λ©”μΌ μ„λ²„λ¥Ό λ€μ‹  μ΄μ©ν•  μ μλ„λ΅ μ”μ²­ν•κ³  λ©”μΌ μ„λ²„λ¥Ό μ΄μ©ν•  μ μλ” SMTP μ„λ²„μ™€ μ‚¬μ©μ μΈμ¦ μ •λ³΄λ¥Ό μ „λ‹¬λ°›μ•„μ„ ν…μ¤νΈν•κ³¤ ν–μµλ‹λ‹¤. κ·Έλ¬λ‚, μ‹¤</summary>
      
    
    
    
    
    <category term="SPF" scheme="https://kdevkr.github.io/tags/SPF/"/>
    
    <category term="DKIM" scheme="https://kdevkr.github.io/tags/DKIM/"/>
    
    <category term="DMARC" scheme="https://kdevkr.github.io/tags/DMARC/"/>
    
  </entry>
  
  <entry>
    <title>κ°λ°μλ¥Ό μ„ν• μΈν”„λΌ μ§€μ‹</title>
    <link href="https://kdevkr.github.io/infrastructure/"/>
    <id>https://kdevkr.github.io/infrastructure/</id>
    <published>2022-05-15T00:00:00.000Z</published>
    <updated>2022-05-23T14:52:51.525Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ITκ°€ μ–΄λ µλ‹¤κ³  λλΌκ² λλ” μ΄μ λ” κΈ°μ μ λ°μ „μΌλ΅ μμ „μ—λ” λ¶κ°€λ¥ν–λ‹¤κ±°λ‚ κ·Έλ¬μ§€ μ•μ•λ λ¶€λ¶„λ“¤μ΄ λ³€ν™”ν•΄μ„ λ§μ€ μ„ νƒμ§€κ°€ μƒκΈ°κΈ° λ•λ¬Έμ…λ‹λ‹¤. μ¨-ν”„λ λ―Έμ¤ ν™κ²½μ„ λ„μ–΄μ„ ν΄λΌμ°λ“ ν™κ²½μΌλ΅ μΈν”„λΌλ¥Ό κµ¬μ„±ν•κ² λλ” κ²ƒλ„ λ™μΌν•©λ‹λ‹¤.</p></blockquote><p>IT λ¶„μ•Όμ—μ„ λ°λ“μ‹ κ·Έλμ•Όν•λ‹¤λ” κ²ƒμ΄ λ³΄μ¥λμ§€ μ•λ” κ²ƒκ³Ό λΉ„μ·ν•κ² λ¨λ“  νμ‚¬ λλ” μ΅°μ§μ΄ μ‹μ¤ν…μ„ μ΄μν•κΈ° μ„ν• μΈν”„λΌλ¥Ό μ–΄λ–»κ² κµ¬μ„±ν•λ‹¤κ±°λ‚ μΈν”„λΌλ¥Ό λ‹΄λ‹Ήν•κΈ° μ„ν• ν€μ„ λ³„λ„λ΅ κµ¬μ„±ν•  μ§€ μΌλ¶€ μΈμ›λ“¤μ΄ λ‹΄λ‹Ήν• μ§€λ” μ• μ μ—†μµλ‹λ‹¤. μ‘μ€ μ΅°μ§μ—μ„λ” μΈκ±΄λΉ„μ λ¬Έμ λ΅ μΈν•μ—¬ μ„λ²„ μΈν”„λΌ μ—”μ§€λ‹μ–΄λ¥Ό μµμ†ν™”ν•κ³  ν΄λΌμ°λ“ ν™κ²½μ„ ν†µν•΄ κ°λ°μκ°€ μ¤μ¤λ΅ μΈν”„λΌλ¥Ό κµ¬μ„±ν•κ³  μ΄μν•λ” μ„ νƒμ„ ν•  κ²ƒμ…λ‹λ‹¤. μ΅°μ§μ—μ„ λ§λ“λ” μ‹μ¤ν…μ΄λ‚ μ„λΉ„μ¤μ κ·λ¨κ°€ μ»¤μ§€κ²λλ©΄ μ—…λ¬΄μ κ³Όμ¤‘ν™”λ΅ μΈν•μ—¬ <a href="https://tech.kakao.com/2020/12/07/kakao-infra-team/">μΉ΄μΉ΄μ¤ μ„λΉ„μ¤μ λ¨λ“  μ‹μ¤ν…κ³Ό νΈλν”½μ„ μ±…μ„μ§€λ” β€μΈν”„λΌν€β€™ μ΄μ•ΌκΈ°</a> λλ” <a href="https://blog.toss.im/article/infraengineeringteam-interview">ν† μ¤ μ„λΉ„μ¤μ κ·Όκ°„μ„ λ‹¤μ§€λ” μ‚¬λλ“¤, μΈν”„λΌ μ—”μ§€λ‹μ–΄λ§ ν€μ„ λ§λ‚λ‹¤</a>μ—μ„μ²λΌ ν΄λΌμ°λ“ ν™κ²½μ μΈν”„λΌλ¥Ό μ‚¬μ©ν•λ”λΌλ„ λ” ν¨μ¨μ μΌλ΅ μΈν”„λΌλ¥Ό κµ¬μ„±ν•κ³  μ¤‘μ μ μΌλ΅ κ΄€λ¦¬ν•κΈ° μ„ν•΄μ„ μΈν”„λΌ ν€μ„ κµ¬μ„±ν•κ² λ  κ²ƒμ…λ‹λ‹¤. </p><h2 id="μΈν”„λΌμ¤νΈλ­μ²"><a href="#μΈν”„λΌμ¤νΈλ­μ²" class="headerlink" title="μΈν”„λΌμ¤νΈλ­μ²"></a>μΈν”„λΌμ¤νΈλ­μ²</h2><p>μΈν”„λΌ μμ—­μ— λ€ν•΄μ„ μ„λ²„ μΈν”„λΌ μ—”μ§€λ‹μ–΄μ—κ² μ›ν•λ” λ°”λ¥Ό μ „λ‹¬ν•κΈ° μ„ν•΄μ„λ” μΈν”„λΌ μμ—­μ— λ€ν• μ§€μ‹μ„ μ–΄λμ •λ„ μ•κ³  μμ–΄μ•Ό ν•©λ‹λ‹¤. μΈν”„λΌ μμ—­μ„ λ‹΄λ‹Ήν•λ” κ²ƒκ³Ό μΈν”„λΌ μμ—­μ— λ€ν• μ§€μ‹μ„ μ•κ³  ν‘μ—…ν•λ” κ²ƒμ€ λ‹¤λ¥΄λ‹¤κ³  μƒκ°λ©λ‹λ‹¤. μ†”λ£¨μ… νμ‚¬μ μ‚¬μ—…ν€ μΈμ›λ“¤μ€ IT λ¶„μ•Ό λλ” μ‹μ¤ν…μ—μ„ μ‚¬μ©λλ” μ©μ–΄λ‚ κ°λ…λ“¤μ„ ν•™μµν•μ—¬ μ—…λ¬΄μ— ν™μ©ν•λ” κ²ƒμ²λΌ κ°λ°μλ„ κ°λ° μμ—­ λΏλ§ μ•„λ‹λΌ μΈν”„λΌ μμ—­μ— λ€ν• κ°λ…μ„ μ•κ³  μλ”κ² λ‹Ήμ—°ν•  κ²ƒ μ…λ‹λ‹¤. κ°λ° μμ—­κ³Ό λ§μ°¬κ°€μ§€λ΅ μΈν”„λΌ μμ—­μ—μ„ μ•μ•„μ•Όν•  μ§€μ‹λ„ λ¬΄κ¶λ¬΄μ§„ν•©λ‹λ‹¤. ν΄λΌμ°λ“ ν™κ²½μ—μ„ κ°€μƒμ λ„¤νΈμ›ν¬ μμ—­μ„ κµ¬μ„±ν•κΈ° μ„ν•΄μ„ μ‚¬μ΄λ”(CIDR) λΈ”λ΅ λ° NATμ™€ κ°™μ€ κ°λ…μ„ μ•μ•„μ•Όν•κ±°λ‚ μ‹μ¤ν…μ„ μ΄μν•κΈ° μ„ν•΄μ„ μ ν•©ν• <a href="https://aws.amazon.com/ko/ec2/instance-types/">EC2 μΈμ¤ν„΄μ¤ μ ν•</a>μ„ μ„ νƒν•  μ μμ–΄μ•Όν•©λ‹λ‹¤.</p><h3 id="μ„λ²„-CPU-μ•„ν‚¤ν…μ²"><a href="#μ„λ²„-CPU-μ•„ν‚¤ν…μ²" class="headerlink" title="μ„λ²„ CPU μ•„ν‚¤ν…μ²"></a>μ„λ²„ CPU μ•„ν‚¤ν…μ²</h3><p>μ¨-ν”„λ λ―Έμ¤ ν™κ²½μ—μ„λ” νΈν™μ„±μ„ μ„ν•΄μ„ μΌλ°μ μΌλ΅ μΈν…” μ ν’κµ°μ μ μ¨ ν”„λ΅μ„Έμ„μ™€ κ°™μ€ X86_64 μ•„ν‚¤ν…μ² κΈ°λ°μ μ„λ²„μ© CPUλ¥Ό μ‚¬μ©ν•λ” κ²½μ°κ°€ λ§μ•μ„ κ²ƒμ…λ‹λ‹¤. ν΄λΌμ°λ“ ν™κ²½μ—μ„λ” μΈν…”κ³Ό AMDμ™€ κ°™μ€ amd64 μ•„ν‚¤ν…μ² κΈ°λ°μ ν”„λ΅μ„Έμ„ λΏλ§ μ•„λ‹λΌ arm64 μ•„ν‚¤ν…μ² κΈ°λ°μ ν”„λ΅μ„Έμ„λ¥Ό μ‚¬μ©ν•  μ μλ„λ΅ μ§€μ›ν•λ―€λ΅ μ„ νƒμ§€κ°€ λ‹¤μ–‘ν•κ³  μ„λ²„ μΈμ¤ν„΄μ¤μ—μ„ κµ¬λ™λλ” ν”„λ΅μ„Έμ¤μ λ©μ μ— λ”°λΌμ„ μ„ νƒν•κ² λ©λ‹λ‹¤. ν„μ¬ μ΅°μ§μ—μ„λ” <a href="/reason-for-replacing-ec2-instance-type/">EC2 μΈμ¤ν„΄μ¤ μ ν•μ„ κµμ²΄ν•λ” μ΄μ </a>μ—μ„μ²λΌ μ„λ²„ λΉ„μ©μ„ μ¤„μ΄κΈ° μ„ν• λ©μ μΌλ΅ μΌλ¶€ μ„λ²„ μΈμ¤ν„΄μ¤μ— λ€ν•΄μ„ ν΄λΌμ°λ“ μ„λΉ„μ¤μ—μ„ μ κ³µν•λ” μµμ‹  μΈμ¤ν„΄μ¤ μ ν•μΌλ΅ μ „ν™ν•κΈ°λ„ ν–μ£ . </p><p><img data-src="/images/posts/infrastructure/arm-01.png"></p><p>μ„λ²„ CPU μ•„ν‚¤ν…μ²μ μ„ νƒμ§€κ°€ λ‹¤μ–‘ν•΄μ§μΌλ΅μ¨ μ‚¬μ©ν•΄μ•Όν•λ” ν”„λ΅μ„Έμ¤λ‚ λ„κµ¬μ—μ„ CPU μ•„ν‚¤ν…μ²λ¥Ό μ§€μ›ν•λ”μ§€λ¥Ό κ²€ν† ν•΄μ•Όν•  μ μμµλ‹λ‹¤. μ„ μ¤ν¬λ¦°μƒ·μ²λΌ <a href="https://github.com/prometheus/node_exporter/releases">Promethues Node Exporter</a>λ¥Ό Arm μ•„ν‚¤ν…μ² κΈ°λ°μ μ„λ²„μ—μ„ μ‚¬μ©ν•κΈ° μ„ν•΄μ„λ” <strong>arm64</strong>λ΅ λΉλ“λ λ°”μ΄λ„λ¦¬λ¥Ό λ‹¤μ΄λ΅λ“ν•΄μ•Όν•©λ‹λ‹¤. λ„μ»¤ μ»¨ν…μ΄λ„λ¥Ό ν†µν•΄μ„ ν”„λ΅μ„Έμ¤λ¥Ό μ‹¤ν–‰ν•λ” κ²ƒλ„ λ„μ»¤ μ΄λ―Έμ§€κ°€ <a href="https://docs.docker.com/desktop/multi-arch/#build-multi-arch-images-with-buildx">Arm μ•„ν‚¤ν…μ²λ΅ λΉλ“λ μ΄λ―Έμ§€</a>λ¥Ό μ§€μ›ν•λ”μ§€ ν™•μΈν•΄λ³΄κ³  μ‚¬μ©ν•΄μ•Όν•©λ‹λ‹¤.</p><h4 id="μ„λ²„-μ•„ν‚¤ν…μ²-ν™•μΈ"><a href="#μ„λ²„-μ•„ν‚¤ν…μ²-ν™•μΈ" class="headerlink" title="μ„λ²„ μ•„ν‚¤ν…μ² ν™•μΈ"></a>μ„λ²„ μ•„ν‚¤ν…μ² ν™•μΈ</h4><p>ν΄λΌμ°λ“ μ„λΉ„μ¤ μ½μ†”μ— μ ‘μ†ν•  μ μλ‹¤λ©΄ μ„λ²„ μΈμ¤ν„΄μ¤κ°€ μ–΄λ–¤ μ•„ν‚¤ν…μ² κΈ°λ°μΈμ§€ μ‰½κ² ν™•μΈν•  μ μμ„ κ²ƒ μ…λ‹λ‹¤. κ·Έλ¬λ‚ μΌλ°μ μΌλ΅λ” SSH μ ‘μ†μ„ ν†µν•΄μ„ μ„λ²„μ— μ ‘κ·Όν•  μ μλ” κ¶ν•μ„ λ¶€μ—¬ν•  κ²ƒμ΄λ―€λ΅ ν„μ¬ μ ‘μ†ν• μ„λ²„λ‚΄μ—μ„ μ–΄λ–¤ μ•„ν‚¤ν…μ²λ¥Ό μ‚¬μ©ν•λ”μ§€λ¥Ό ν™•μΈν•  μ μμ–΄μ•Όν•©λ‹λ‹¤. μ„λ²„ λ‚΄μ—μ„ μ•„ν‚¤ν…μ² μ •λ³΄λ¥Ό ν™•μΈν•λ ¤λ©΄ μ»¤λ„ λλ” CPUμ— λ€ν• μ •λ³΄λ¥Ό μ΅°νν•λ” λ…λ Ήμ–΄λ‚ λ„κµ¬λ¥Ό μ‚¬μ©ν•λ©΄ λ©λ‹λ‹¤. μ—¬λ¬λ¶„λ“¤μ΄ μ ‘μ†ν•λ” μ„λ²„μ—μ„ λ‹¤μμ λ…λ Ήμ–΄λ¥Ό ν™•μΈν•΄λ³΄μ„Έμ”.</p><pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">uname</span> -rmpo<span class="token number">4.14</span>.256-197.484.amzn2.aarch64 aarch64 aarch64 GNU/Linux$ <span class="token function">cat</span> /proc/versionLinux version <span class="token number">4.14</span>.256-197.484.amzn2.aarch64 <span class="token punctuation">(</span>mockbuild@ip-10-0-46-15<span class="token punctuation">)</span> <span class="token punctuation">(</span>gcc version <span class="token number">7.3</span>.1 <span class="token number">20180712</span> <span class="token punctuation">(</span>Red Hat <span class="token number">7.3</span>.1-13<span class="token punctuation">)</span> <span class="token punctuation">(</span>GCC<span class="token punctuation">))</span> <span class="token comment">#1 SMP Tue Nov 30 00:18:02 UTC 2021</span>$ hostnamectl   Static hostname: ip-192-168-53-1.ap-northeast-2.compute.internal         Icon name: computer-vm           Chassis: vm        Machine ID: ec2d229d0283ccced53f112dc3648f3a           Boot ID: 67c156512c204340b1ac01d60eb45b26    Virtualization: amazon  Operating System: Amazon Linux <span class="token number">2</span>       CPE OS Name: cpe:2.3:<span class="token punctuation">\</span>o:amazon:amazon_linux:2            Kernel: Linux <span class="token number">4.14</span>.256-197.484.amzn2.aarch64      Architecture: arm64$ lscpuArchitecture:        aarch64Byte Order:          Little EndianCPU<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:              <span class="token number">4</span>On-line CPU<span class="token punctuation">(</span>s<span class="token punctuation">)</span> list: <span class="token number">0</span>-3Thread<span class="token punctuation">(</span>s<span class="token punctuation">)</span> per core:  <span class="token number">1</span>Core<span class="token punctuation">(</span>s<span class="token punctuation">)</span> per socket:  <span class="token number">4</span>Socket<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:           <span class="token number">1</span>NUMA node<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:        <span class="token number">1</span>Model:               <span class="token number">1</span>BogoMIPS:            <span class="token number">243.75</span>L1d cache:           64KL1i cache:           64KL2 cache:            1024KL3 cache:            32768KNUMA node0 CPU<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:   <span class="token number">0</span>-3Flags:               fp asimd evtstrm aes pmull sha1 sha2 crc32 atomics fphp asimdhp cpuid asimdrdm lrcpc dcpop asimddp ssbs</code></pre><blockquote><p>x86_64μ™€ amd64λ” X86 λ…λ Ήμ–΄ μ§‘ν•©μ μ•„ν‚¤ν…μ²μ΄λ©° aarch64μ™€ arm64λ” arm λ…λ Ήμ–΄ μ§‘ν•©μ μ•„ν‚¤ν…μ²μ…λ‹λ‹¤.</p></blockquote><h3 id="λ””μ¤ν¬-λ³Όλ¥¨"><a href="#λ””μ¤ν¬-λ³Όλ¥¨" class="headerlink" title="λ””μ¤ν¬ λ³Όλ¥¨"></a>λ””μ¤ν¬ λ³Όλ¥¨</h3><p>μ„λ²„ μΈμ¤ν„΄μ¤μ—μ„ μ‚¬μ©ν•λ” λ””μ¤ν¬ λ³Όλ¥¨μ— λ€ν• λ¶€λ¶„μ— λ€ν•΄μ„ μ΄μ•ΌκΈ°κ°€ μ¤κ³ κ° μ μμµλ‹λ‹¤. ν΄λΌμ°λ“ μ„λΉ„μ¤λ” λ‹¤μ–‘ν• <a href="https://docs.aws.amazon.com/ko_kr/AWSEC2/latest/UserGuide/ebs-volume-types.html">λ””μ¤ν¬ λ³Όλ¥¨ μ ν•</a>μ„ μ„ νƒν•  μ μλ„λ΅ μ§€μ›ν•λ―€λ΅ μ„λ²„ μΈμ¤ν„΄μ¤μ λ©μ μ— λ§λ” λ””μ¤ν¬ λ³Όλ¥¨μ„ μ¶”κ°€ν•μ—¬ μ‚¬μ©ν•κΈ° λ•λ¬Έμ…λ‹λ‹¤. ν„μ¬ μ‚¬μ©μ¤‘μΈ λ””μ¤ν¬ λ³Όλ¥¨ μ •λ³΄λ¥Ό ν™•μΈν•κ³  μ–΄λ–¤ νμΌμ‹μ¤ν…μ νν‹°μ…μΈμ§€λ¥Ό ν™•μΈν•κ³  λ””μ¤ν¬ λ³Όλ¥¨μ μ©λ‰μ„ μ¦μ„¤ν•΄μ•Όν•  μλ„ μμ£ . </p><pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">df</span> -hTFilesystem     Type      Size  Used Avail Use% Mounted on/dev/root      ext4       30G  <span class="token number">8</span>.9G   21G  <span class="token number">31</span>% //dev/nvme1n1   xfs      1000G  629G  371G  <span class="token number">63</span>% /data/main/dev/nvme2n1   xfs       <span class="token number">2</span>.0T  306G  <span class="token number">1</span>.7T  <span class="token number">16</span>% /data/sub$ lsblk -fNAME        FSTYPE   LABEL           UUID                                 FSAVAIL FSUSE% MOUNTPOINTnvme1n1     xfs                      <span class="token number">18891124</span>-be54-415d-ba02-21dc6acf9e4f  <span class="token number">370</span>.9G    <span class="token number">63</span>% /data/mainnvme2n1     xfs                      5be85d99-8ed0-440b-a423-486bdef1b1b4    <span class="token number">1</span>.7T    <span class="token number">15</span>% /data/subnvme0n1β””β”€nvme0n1p1 ext4     cloudimg-rootfs e8070c31-bfee-4314-a151-d1332dc23486   <span class="token number">20</span>.1G    <span class="token number">31</span>% /</code></pre><p>μ„ μμ‹ κ²°κ³Όλ¥Ό λ³΄λ©΄ μ„λ²„ μΈμ¤ν„΄μ¤μ— μ—°κ²°λ λ£¨νΈ λ³Όλ¥¨μ€ NVMe κΈ°λ°μ΄λ©° ext4 νμΌμ‹μ¤ν…μ νν‹°μ…μΌλ΅ λμ–΄μμμ„ ν™•μΈν•  μ μμµλ‹λ‹¤. μ¶”κ°€λ΅ μ—°κ²°λ λ°μ΄ν„° λ³Όλ¥¨μ€ λ™μΌν•κ² NVMe κΈ°λ°μ΄μ§€λ§ xfs νμΌμ‹μ¤ν…μΌλ΅ λμ–΄μλ” κ²ƒμ„ ν™•μΈν•  μ μμµλ‹λ‹¤. </p><pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">du</span> --max-depth <span class="token number">1</span> <span class="token operator">|</span> <span class="token function">sort</span> -nr<span class="token number">188679628</span> <span class="token builtin class-name">.</span><span class="token number">187045152</span> ./elasticsearch-7.3.2<span class="token number">1034772</span>   ./kibana-7.3.2<span class="token number">18756</span>     ./node_exporter-1.1.2.linux-amd64</code></pre><p>du λ…λ Ήμ–΄λ¥Ό ν†µν•΄μ„ ν„μ¬ κ²½λ΅ κΈ°μ¤€μ—μ„ μ‚¬μ©λ‰μ΄ λ§μ€ λ””λ ‰ν† λ¦¬ μμ„λ€λ΅ μ¶λ ¥ν–μµλ‹λ‹¤. λ””μ¤ν¬ λ³Όλ¥¨μ μ©λ‰μ΄ λ¶€μ΅±ν•΄μ§€λ©΄ μ‚¬μ©λ‰μ΄ λ§μ€ λ””λ ‰ν† λ¦¬κ°€ λ¬΄μ—‡μΈμ§€ ν™•μΈν•κ³  λ¶ν•„μ”ν• νμΌμ΄ λ‚¨μ•„μλ”μ§€λ¥Ό λ¨Όμ € ν™•μΈν•κ³  μ©λ‰ ν™•λ³΄κ°€ λ¶κ°€λ¥ν•λ‹¤λ©΄ λ””μ¤ν¬ λ³Όλ¥¨ μ¦μ„¤μ„ μ”μ²­ν•κ±°λ‚ μ‘μ—…μ„ μν–‰ν•  κ²ƒ μ…λ‹λ‹¤.</p><h3 id="λ„¤νΈμ›ν¬"><a href="#λ„¤νΈμ›ν¬" class="headerlink" title="λ„¤νΈμ›ν¬"></a>λ„¤νΈμ›ν¬</h3><p>μΈν”„λΌ μμ—­ μ¤‘ λ„¤νΈμ›ν¬μ— λ€ν• λ¶€λ¶„μ€ μ™Έλ¶€ μ‹μ¤ν…κ³Όμ μ—°λ™μ΄ ν•„μ”ν• κ²½μ°κ°€ μ•„λ‹λΌλ©΄ μƒκ°λ³΄λ‹¤ κ²½ν—ν•΄λ³Ό κ°€λ¥μ„±μ΄ μ μµλ‹λ‹¤. μ™Έλ¶€ μ‹μ¤ν…μ IP λλ” νΈμ¤νΈ μ£Όμ†λ΅ νΈλν”½μ΄ μ „λ‹¬λλ”μ§€λ¥Ό ν™•μΈν•κ±°λ‚ μ™Έλ¶€ APIλ¥Ό μ„λ²„ λ‚΄μ—μ„ μ§μ ‘ μ”μ²­ν•΄λ³Ό μλ„ μμµλ‹λ‹¤. </p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># λ„¤νΈμ›ν¬ μΈν„°νμ΄μ¤ μ΅°ν</span><span class="token function">ifconfig</span><span class="token comment"># λ‚΄λ¶€ μ•„μ΄ν”Ό μ΅°ν</span><span class="token function">hostname</span> -I<span class="token comment"># μ™Έλ¶€ μ•„μ΄ν”Ό μ΅°ν</span><span class="token function">curl</span> ipconfig.io<span class="token comment"># TCP λ°”μΈλ”© ν¬νΈ μ΅°ν</span><span class="token function">netstat</span> -tnlp<span class="token comment"># νΈλν”½ κ²½λ΅ μ¶”μ </span><span class="token function">traceroute</span> google.com<span class="token comment"># DNS μ΅°ν</span><span class="token function">nslookup</span> -type<span class="token operator">=</span>mx google.com<span class="token function">dig</span> google.com mx</code></pre><h3 id="μ‹μ¤ν…-λ΅κ·Έ"><a href="#μ‹μ¤ν…-λ΅κ·Έ" class="headerlink" title="μ‹μ¤ν… λ΅κ·Έ"></a>μ‹μ¤ν… λ΅κ·Έ</h3><p>μΈν”„λΌ μ—”μ§€λ‹μ–΄λ΅ κµ¬μ„±λ μΈν”„λΌ ν€μ΄ μ΅°μ§λ‚΄μ— μλ‹¤λ©΄ μ„λ²„ μ‹μ¤ν…μ—μ„ λ°μƒν•λ” λ‹¤μ–‘ν• λ΅κ·Έ λλ” μ§€ν‘λ¥Ό λ¨λ‹ν„°λ§ν•  μ μλ” Zabbix, Datadogκ³Ό κ°™μ€ μ†”λ£¨μ…μ„ λ„μ…ν•  κ²ƒμ…λ‹λ‹¤. μ„λ²„μ— κΈ°λ΅λ μ‹μ¤ν… λ΅κ·Έλ” μ„λ²„μ—μ„ λ°μƒν• μΌλ ¨μ μ΄λ²¤νΈλ“¤μ κΈ°λ΅μ΄λ―€λ΅ μ–΄λ– ν• λ¬Έμ κ°€ νμ•…λμ—μ„λ• μ›μΈμ„ μ°Ύμ•„κ°€κΈ° μ„ν• λ¶„μ„ μ©λ„λ΅ μ‚¬μ©ν•  μ μμµλ‹λ‹¤. λ¨λ‹ν„°λ§ μ‹μ¤ν…μ΄ κµ¬μ¶•λμ–΄μμ§€ μ•μ•„λ„ μ‹μ¤ν… λ΅κ·Έλ¥Ό ν™•μΈν•  μ μλ” λ°©λ²•μ€ μ•μ•„μ•Όν•©λ‹λ‹¤. μ‚¬μ©μμ μ”μ²­μ΄ μ• ν”λ¦¬μΌ€μ΄μ…μΌλ΅ μ „λ‹¬λλ” κ³Όμ •μ—μ„ μ„λ²„ λ„¤νΈμ›ν¬ νΈλν”½μ΄ λ΅κ·Έλ΅ κΈ°λ΅λλ‹¤κ±°λ‚ μ—”μ§„μ—‘μ¤μ™€ κ°™μ€ μ›Ήμ„λ²„μ—μ„ λ¦¬λ²„μ¤ ν”„λ΅μ‹λ¥Ό μν–‰ν•κΈ° μ „μ— μ”μ²­μ— λ€ν•΄ μ•΅μ„Έμ¤ λ΅κ·Έλ¥Ό κΈ°λ΅ν•©λ‹λ‹¤. μ‹¬μ§€μ–΄λ” μ• ν”λ¦¬μΌ€μ΄μ… μ„λ²„μ—μ„λ„ μμ²΄μ μΌλ΅ μ•΅μ„Έμ¤ λ΅κ·Έλ¥Ό λ‚¨κΈ°κ±°λ‚ μ• ν”λ¦¬μΌ€μ΄μ…μ μ£Όμ” κΈ°λ¥μ— λ€ν• λ™μ‘μ„ λ΅κ·Έλ΅ μ €μ¥λλ„λ΅ μ •μν•κΈ°λ„ ν•©λ‹λ‹¤. μ„λ²„ μΈν”„λΌ μ—”μ§€λ‹μ–΄κ°€ μλ‹¤λ©΄ λ” μƒμ„Έν•κ² μ›μΈμ„ νμ•…ν•  μ μλ” λ°©λ²•μ„ μ‹λ„ν•κ² μ§€λ§ κ°λ°μλ΅μ¨λ” κ°„λ‹¨ν•κ² λ΅κ·Έλ¥Ό ν™•μΈν•  μ μμΌλ©΄ λ©λ‹λ‹¤.</p><h4 id="λ¦¬λ…μ¤-λ΅κ·Έ-λ””λ ‰ν† λ¦¬"><a href="#λ¦¬λ…μ¤-λ΅κ·Έ-λ””λ ‰ν† λ¦¬" class="headerlink" title="λ¦¬λ…μ¤ λ΅κ·Έ λ””λ ‰ν† λ¦¬"></a>λ¦¬λ…μ¤ λ΅κ·Έ λ””λ ‰ν† λ¦¬</h4><p>λ¦¬λ…μ¤ μ‹μ¤ν…μ λ΅κ·Έκ°€ μ €μ¥λλ” κΈ°λ³Έ λ””λ ‰ν† λ¦¬λ” <strong>&#x2F;var&#x2F;log</strong> μ…λ‹λ‹¤. λ³„λ„λ΅ μ„¤μΉν• ν”„λ΅μ„Έμ¤μ λ΅κ·Έκ°€ μ•„λ‹λΌλ©΄ λ€λ¶€λ¶„μ λ΅κ·Έλ“¤μ΄ μ΄ κ²½λ΅μ— μ €μ¥λ  κ²ƒμ…λ‹λ‹¤. </p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># μ ‘μ† κΈ°λ΅ μ΅°ν</span>lastlog -t <span class="token number">1</span><span class="token comment"># systemd λ΅κ·Έ μ΅°ν</span>journalctl -b<span class="token comment"># μ»¤λ„ λ¶€νΈ λ©”μ‹μ§€ μ΅°ν</span><span class="token function">dmesg</span><span class="token comment"># μ‹μ¤ν… λ΅κ·Έ μ΅°ν</span><span class="token function">tail</span> /var/log/syslog</code></pre><blockquote><p>Zabbixμ™€ κ°™μ€ λ¨λ‹ν„°λ§ μ†”λ£¨μ…μ„ λ„μ…ν•λ” κ²½μ° <a href="https://www.zabbix.com/documentation/current/en/manual/config/items/itemtypes/log_items">λ΅κ·Έ νμΌ κ°μ‹</a> κΈ°λ¥μΌλ΅ μμƒλλ” λ¬Έμ λ¥Ό κ°μ§€ν•  μ μμµλ‹λ‹¤.</p></blockquote><h4 id="λ΅κ·Έ-κ΄€λ¦¬"><a href="#λ΅κ·Έ-κ΄€λ¦¬" class="headerlink" title="λ΅κ·Έ κ΄€λ¦¬"></a>λ΅κ·Έ κ΄€λ¦¬</h4><p>μ„λ²„λ¥Ό κ΄€λ¦¬ν•λ” μΈν”„λΌ μ—”μ§€λ‹μ–΄ μ…μ¥μ—μ„λ” λ΅κ·Έ νμΌμ„ ν¨μ¨μ μΌλ΅ κ΄€λ¦¬ν•κΈ° μ„ν•΄μ„ logrotateλΌκ³ ν•λ” λ΅κ·Έ κ΄€λ¦¬ λ„κµ¬λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤. μ„λ²„μ— μ €μ¥λλ” λ΅κ·Έ νμΌμ„ μΌμ •ν• ν¨ν„΄μ„ μ£ΌκΈ°λ΅ κµ¬λ¶„ν•μ—¬ μ €μ¥ν•¨μΌλ΅μ¨ λ‚μ¤‘μ— μ–΄λ– ν• λ¬Έμ κ°€ λ°μƒν•κ±°λ‚ κ°μ‚¬λ¥Ό μ„ν•΄μ„ νΉμ • μ‹μ μ— λ€ν• λ΅κ·Έλ¥Ό μ”μ²­ν–μ„λ• μ‰½κ² μ „λ‹¬ν•  μ μλ„λ΅ λ€λΉ„ν•©λ‹λ‹¤. μλ¥Ό λ“¤μ–΄, Nginxμ— λ€ν• λ΅ν…μ΄μ… μ„¤μ • νμΌμ„ μ‚΄ν΄λ³΄λ©΄ μ•„λμ™€ κ°™μ΄ λμ–΄μλ” κ²ƒμ„ ν™•μΈν•  μ μμµλ‹λ‹¤.</p><pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">cat</span> /etc/logrotate.d/nginx/var/log/nginx/*.log <span class="token punctuation">&#123;</span>        daily        missingok        rotate <span class="token number">52</span>        compress        delaycompress        notifempty        create <span class="token number">640</span> nginx adm        sharedscripts        postrotate                <span class="token keyword">if</span> <span class="token punctuation">[</span> -f /var/run/nginx.pid <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>                        <span class="token function">kill</span> -USR1 <span class="token variable"><span class="token variable">`</span><span class="token function">cat</span> /var/run/nginx.pid<span class="token variable">`</span></span>                <span class="token keyword">fi</span>        endscript<span class="token punctuation">&#125;</span></code></pre><p>μΈν”„λΌ μμ—­μ—μ„ λ΅κ·Έ κ΄€λ¦¬μ— λ€ν• κ°λ…μ„ μ•κ²λλ‹¤λ©΄ κ°λ°μλ΅μ¨ μ• ν”λ¦¬μΌ€μ΄μ… μ„λ²„μ—μ„ κΈ°λ΅λλ” λ΅κ·Έμ— μ–΄λ– ν• μ •λ³΄λ¥Ό λ‚¨κ²¨μ•Όν•λ”κ°€λ¥Ό μΆ€ λ” κ³ λ―Όν•κ² λ  κ²ƒμ…λ‹λ‹¤. λ„λ¬΄ λ¶ν•„μ”ν• μ •λ³΄λ¥Ό λ΅κ·Έλ΅ λ‚¨κΈ°κ² λμ–΄ μ„λ²„μ λ””μ¤ν¬ λ³Όλ¥¨μ μ©λ‰μ„ λ„λ¬΄ μ°¨μ§€ν•κ² λκ³  λ΅κ·Έ λ¶„μ„λ„ νλ“¤μ–΄μ§ μ μκΈ° λ•λ¬Έμ…λ‹λ‹¤.</p><p>κ°λ°μκ°€ μ•μ•„μ•Όν•  κΈ°μ΄μ μΈ λ¶€λ¶„μ— λ€ν•΄μ„ λ‹¤λ£¨μ–΄λ³΄μ•μµλ‹λ‹¤. λ” μμ„Έν•κ² λ“¤μ–΄κ°„λ‹¤λ©΄ μ‹μ¤ν… μ„±λ¥μ μ§€ν‘λ¥Ό ν™•μΈν•κ±°λ‚ μ‹μ¤ν…μ„ λ” ν¨μ¨μ μΌλ΅ λ§λ“λ” μ»¤λ„ νλ‹μ— λ€ν• λ¶€λ¶„λ„ λ‹¤λ£¨μ–΄λ³΄μ•„μ•Όν•©λ‹λ‹¤. μΈν”„λΌ μμ—­μ— λ€ν•΄μ„ λ” λ§μ€ κ²½ν—μ„ ν•κ²λλ©΄ μ΄μ— λ€ν• λ¶€λ¶„λ„ κ³µμ ν•΄λ³Ό μ μκΈ°λ¥Ό λ°”λλ‹λ‹¤.</p><h2 id="μ°Έκ³ "><a href="#μ°Έκ³ " class="headerlink" title="μ°Έκ³ "></a>μ°Έκ³ </h2><ul><li><a href="https://aws.amazon.com/ko/ec2/graviton/">AWS Graviton ν”„λ΅μ„Έμ„</a></li><li><a href="https://www.oracle.com/kr/cloud/compute/arm/what-is-arm/">ARM ν”„λ΅μ„Έμ„λ¥Ό μ„ νƒν•΄μ•Ό ν•λ” μ΄μ </a></li><li><a href="https://www.epnc.co.kr/news/articleView.html?idxno=205714">λ―Έλ μ»΄ν“¨ν… ν™κ²½ λ°μν•λ” ARM μ•„ν‚¤ν…μ² κΈ°μ </a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;ITκ°€ μ–΄λ µλ‹¤κ³  λλΌκ² λλ” μ΄μ λ” κΈ°μ μ λ°μ „μΌλ΅ μμ „μ—λ” λ¶κ°€λ¥ν–λ‹¤κ±°λ‚ κ·Έλ¬μ§€ μ•μ•λ λ¶€λ¶„λ“¤μ΄ λ³€ν™”ν•΄μ„ λ§μ€ μ„ νƒμ§€κ°€ μƒκΈ°κΈ° λ•λ¬Έμ…λ‹λ‹¤. μ¨-ν”„λ λ―Έμ¤ ν™κ²½μ„ λ„μ–΄μ„ ν΄λΌμ°λ“ ν™κ²½μΌλ΅ μΈν”„λΌλ¥Ό κµ¬μ„±ν•κ² λλ” κ²ƒλ„ λ™μΌν•©λ‹</summary>
      
    
    
    
    
    <category term="Infrastructure" scheme="https://kdevkr.github.io/tags/Infrastructure/"/>
    
    <category term="Microarchitecture" scheme="https://kdevkr.github.io/tags/Microarchitecture/"/>
    
  </entry>
  
  <entry>
    <title>CSV, Comma Separated Values</title>
    <link href="https://kdevkr.github.io/csv/"/>
    <id>https://kdevkr.github.io/csv/</id>
    <published>2022-05-07T00:00:00.000Z</published>
    <updated>2022-05-23T14:52:51.521Z</updated>
    
    <content type="html"><![CDATA[<p>λ°μ΄ν„° κΈ°λ°μ μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„ λ°μ΄ν„°λ¥Ό μ κ³µν•λ” λ°©μ‹μ€ λ‹¤μ–‘ν•©λ‹λ‹¤. κ°λ°μλ“¤μ΄ REST APIλ¥Ό ν†µν•΄ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•  λ• JSON ν•μ‹μΌλ΅ μ£Όκ³ λ°›λ” κ²ƒμ„ μ„ νΈν•λ” κ²ƒκ³Ό λ³„κ°λ΅ μ‹μ¤ν…μ„ μ΄μ©ν•λ” μΌλ° μ‚¬μ©μλ“¤μ€ μ£Όλ΅ μ‚¬μ©ν•λ” <a href="https://support.microsoft.com/ko-kr/office/excel%EC%97%90%EC%84%9C-%EC%A7%80%EC%9B%90%ED%95%98%EB%8A%94-%ED%8C%8C%EC%9D%BC-%ED%98%95%EC%8B%9D-0943ff2c-6014-4e8d-aaea-b83d51d46247">μ—‘μ…€ ν”„λ΅κ·Έλ¨μ—μ„ μ½μ„ μ μλ” XLS λλ” XLSX</a>λ΅ μ κ³µν•κΈ°λ¥Ό μ„ νΈν•©λ‹λ‹¤.</p><p>κ°λ°μλ“¤μ€ μ—‘μ…€ ν”„λ΅κ·Έλ¨μ—μ„ μ‚¬μ©ν•  μ μλ” XLS λλ” XLSX νμΌ ν•μ‹μΌλ΅ λ°μ΄ν„°λ¥Ό μ κ³µν•λ” κ²ƒμ„ μΆ‹μ•„ν•μ§€ μ•μµλ‹λ‹¤. μ—‘μ…€ ν”„λ΅κ·Έλ¨μ΄ λ°μ΄ν„°λ¥Ό ν™μ©ν•κΈ° μ„ν• λ§μ€ κΈ°λ¥μ„ μ κ³µν•μ—¬ νΈλ¦¬ν• λ°©λ²•μ΄κΈ°λ” ν•μ§€λ§ μλ°”μ—μ„ μ—‘μ…€ νμΌ ν•μ‹μΌλ΅ μ €μ¥ν•κΈ° μ„ν•΄μ„ μ‚¬μ©ν•λ” Apach POIμ™€ κ°™μ€ λΌμ΄λΈλ¬λ¦¬μ—μ„ μ—‘μ…€ νμΌ ν•μ‹μ— λ”°λ¥Έ μ μ•½μ΄λ‚ μ„±λ¥ μ΄μκ°€ μκΈ° λ•λ¬Έμ…λ‹λ‹¤. μ—‘μ…€ νμΌ ν•μ‹μ—μ„ κ°€μ¥ κΈ°λ³Έμ μΈ μ μ•½μ‚¬ν•­μ€ λ‹¨μΌ μ‹νΈμ— λ€ν• μµλ€ ν–‰μ μ ν•μ…λ‹λ‹¤. κ·Έλ¦¬κ³  μ—‘μ…€ νμΌμ— λ°μ΄ν„°λ¥Ό κΈ°λ΅ν•λ” λ°©μ‹μ— λ”°λΌ μ„λ²„μ— λ¶€ν•κ°€ λ°μƒν•  μ μμµλ‹λ‹¤.</p><p>ν„μ¬ μ΅°μ§μ—μ„ κ°λ°ν•λ” μ‹μ¤ν…μ€ μ‹κ³„μ—΄ λ°μ΄ν„°λ¥Ό μμ§‘ν•κ³  μ΄λ¥Ό ν™μ©ν•  μ μλ” κΈ°λ¥μ„ μ κ³µν•λ―€λ΅ κ³ κ°μ΄ λ“±λ΅ν• μ‹κ³„μ—΄ λ°μ΄ν„°λ¥Ό λ‹¤μ΄λ΅λ“ν•  μ μλ” λ°©λ²•λ„ μ κ³µν•κ³  μμµλ‹λ‹¤. μ΄ μ”κ±΄μ€ μ‹κ³„μ—΄ λ°μ΄ν„°λ¥Ό μ§‘κ³„ν•μ—¬ μ •μ λ λ°μ΄ν„°λ¥Ό μ κ³µν•λ” κ²ƒμ΄ μ•„λ‹λ―€λ΅ κ³ κ°μ΄ λ³΄μ ν•λ” μ—λ„μ§€ μμ› λ° λ°μ΄ν„° ν•­λ©λ§νΌ νμΌμ— ν¬ν•¨λμ–΄μ•Όν•λ” λ°μ΄ν„°μ κ±΄μκ°€ κΈ°ν•κΈ‰μμ μΌλ΅ λμ–΄λ‚  μ μμΌλ©° κ·Έμ— λ€ν• κ·λ¨λ¥Ό μμƒν•κΈ° νλ“­λ‹λ‹¤. μ•„λ¬΄λ¦¬ μλ°” μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„ SXSSFλ΅ μ¤νΈλ¦¬λ° λ°©μ‹μΌλ΅ μ—‘μ…€ νμΌμ— λ°μ΄ν„°λ¥Ό κΈ°λ΅ν•κ±°λ‚ μ–΄λ– ν• λ™μ‘μ„ μµμ†ν™”ν•λ„λ΅ μ½”λ“λ¥Ό μµμ ν™”ν•λ‹¤κ³ ν•΄λ„ μ²λ¦¬ν•΄μ•Όν•λ” λ°μ΄ν„° κ±΄μκ°€ λ§μμΌλ΅ λ°μƒν•λ” μ†μ” μ‹κ°„ λ° μ• ν”λ¦¬μΌ€μ΄μ… λ¶€ν•μ— λ€ν• μ΄μλ” ν•΄κ²°λμ§€ μ•μµλ‹λ‹¤.</p><p>μ΄λ¬ν• λ€μ©λ‰ λ°μ΄ν„°λ¥Ό λ‹¤μ΄λ΅λ“ν•λ” μ”κ±΄μ— λ€ν•΄μ„λ” λ¶ν•„μ”ν• μ‘μ—…μ„ μµμ†ν•ν•λ” λ°©μ•μ΄ μ¤‘μ”ν•©λ‹λ‹¤. μ‹κ³„μ—΄ λ°μ΄ν„°μ— λ€ν•΄ λΉ λ¥Έ μ„±λ¥μ„ λ³΄μ—¬μ£Όλ” μ‹κ³„μ—΄ λ°μ΄ν„°λ² μ΄μ¤μ—μ„ μ• ν”λ¦¬μΌ€μ΄μ…μΌλ΅ μ „λ‹¬λλ” λ°μ΄ν„°μ μ–‘μ„ μµλ€ν• μ¤„μΌ μ μλ„λ΅ ν•΄μ•Όν•©λ‹λ‹¤. μ‹κ³„μ—΄ λ°μ΄ν„° νΉμ„± μƒ κ°™μ€ μ‹κ°„λ€μ— λ€ν• λ°μ΄ν„° ν•­λ©λ“¤μ„ μ—΄λ΅ ν‘ν„ν•  μ μλ„λ΅ <a href="https://code.kx.com/q/kb/pivoting-tables/">ν…μ΄λΈ”μ„ ν”Όλ΄‡ν•λ” λ°©λ²•</a>μ΄ μμΌλ―€λ΅ μ΄λ¥Ό ν™μ©ν•λ©΄ μ—‘μ…€ νμΌμ— κΈ°λ΅ν•΄μ•Όν•λ” λ°μ΄ν„°ν–‰ μλ¥Ό μ¤„μΌ μ μμµλ‹λ‹¤.</p><p>ν”Όλ΄‡ ν…μ΄λΈ”μ„ λ„μ…ν•λ”λΌλ„ μ—‘μ…€ νμΌμ΄ μ½μ„ μ μλ” λ°”μ΄λ„λ¦¬ νμΌμ„ λ§λ“λ” κ²ƒμ΄λ―€λ΅ μΌλ°μ μΈ ν…μ¤νΈ νμΌμ„ κΈ°λ΅ν•λ” μ‘μ—…λ³΄λ‹¤ λ§μ€ λ¶€ν•κ°€ λ°μƒν•©λ‹λ‹¤. CSVλ” <a href="https://datatracker.ietf.org/doc/html/rfc4180">RFC 4180</a> ν‘μ¤€μΌλ΅ λμ–΄μλ” λ°μ΄ν„° ν•μ‹μΌλ΅ ν…μ΄λΈ” ν•μ‹μΌλ΅ λμ–΄μλ” λ°μ΄ν„°λ¥Ό ν‘ν„ν•κΈ°μ— μ ν•©ν• λ°©λ²•μ…λ‹λ‹¤. ν‘μ¤€μΌλ΅ μ •μλμ–΄μκΈ°μ— λ€λ¶€λ¶„μ μ¤ν”„λ λ“μ‹νΈ ν”„λ΅κ·Έλ¨μ—μ„λ” CSV νμΌμ— ν¬ν•¨λ λ°μ΄ν„°λ¥Ό λ¶λ¬μ¬ μ μλ” κΈ°λ¥μ„ μ κ³µν•©λ‹λ‹¤. μ‹μ¤ν…μ—μ„ μ‚¬μ©ν•λ” μ‹κ³„μ—΄ λ°μ΄ν„°λ² μ΄μ¤μ—μ„ <a href="https://code.kx.com/q/learn/tour/csvs/">ν…μ΄λΈ”μ„ CSVλ΅ λ³€ν™ν•  μ μλ” λ°©λ²•</a>λ„ μ κ³µν•κ³  μμΌλ―€λ΅ μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„ λ°μ΄ν„°λ¥Ό κ°€κ³µν•λ” λ³„λ„μ μ‘μ—…μ„ ν•μ§€ μ•κ³  κ³ κ°μ—κ² λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•  μ μμµλ‹λ‹¤.</p><p>μ‹μ¤ν…μ νμΌ λ‹¤μ΄λ΅λ“ ν‘μ¤€μ€ CSVμ΄κ³  XLS λ° XLSXλ΅λ„ λ‹¤μ΄λ΅λ“ν•  μ μλ„λ΅ μΈν„°νμ΄μ¤λ” μ κ³µν•©λ‹λ‹¤λ§ μ‹¤μ λ΅ μ†μ”λλ” μ‹κ°„μ„ λΉ„κµν•λ©΄ κ·Ήλ‹¨μ μΌλ΅ CSVμ λ‹¤μ΄λ΅λ“μ— μ†μ”λλ” μ‹κ°„μ΄ μ μ€ κ²ƒμ„ ν™•μΈν•  μ μμ—μµλ‹λ‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;λ°μ΄ν„° κΈ°λ°μ μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„ λ°μ΄ν„°λ¥Ό μ κ³µν•λ” λ°©μ‹μ€ λ‹¤μ–‘ν•©λ‹λ‹¤. κ°λ°μλ“¤μ΄ REST APIλ¥Ό ν†µν•΄ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•  λ• JSON ν•μ‹μΌλ΅ μ£Όκ³ λ°›λ” κ²ƒμ„ μ„ νΈν•λ” κ²ƒκ³Ό λ³„κ°λ΅ μ‹μ¤ν…μ„ μ΄μ©ν•λ” μΌλ° μ‚¬μ©μλ“¤μ€ μ£Όλ΅ μ‚¬μ©</summary>
      
    
    
    
    
    <category term="RFC 4180" scheme="https://kdevkr.github.io/tags/RFC-4180/"/>
    
    <category term="CSV" scheme="https://kdevkr.github.io/tags/CSV/"/>
    
  </entry>
  
  <entry>
    <title>μ¬λ¶€ν… μ‹ Crontabμ— μν•΄ ν”„λ΅μ„Έμ¤λ¥Ό μλ™μΌλ΅ μ‹¤ν–‰ν•κΈ°</title>
    <link href="https://kdevkr.github.io/autorun-process-using-crontab-on-reboot/"/>
    <id>https://kdevkr.github.io/autorun-process-using-crontab-on-reboot/</id>
    <published>2022-05-06T00:00:00.000Z</published>
    <updated>2022-05-23T14:52:51.521Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>π¤ μ¬λ¶€ν… μ‹ Crontabμ— μν•΄μ„ ν”„λ΅μ„Έμ¤κ°€ μλ™μΌλ΅ μ‹¤ν–‰λμ§€ μ•μ€ μ΄μ </p></blockquote><p>ν¬λ΅ νƒ­(Crontab)μ€ λ¦¬λ…μ¤μ—μ„ μΌμ •λ μ‹μ μ΄λ‚ μ£ΌκΈ°μ μΌλ΅ λ…λ Ήμ–΄ λλ” μ‰ μ¤ν¬λ¦½νΈλ¥Ό μ‹¤ν–‰ν•  μ μλ” μ¤μΌ€μ¤„λ¬ λλ” νƒ€μ΄λ¨Έμ…λ‹λ‹¤. μ΄μ „μ— μ‘μ„±ν• <a href="/maintaining-process-execution-in-linux">λ¦¬λ…μ¤μ—μ„ ν”„λ΅μ„Έμ¤ μ‹¤ν–‰ μ μ§€ν•κΈ°</a>μ—μ„λ„ ν¬λ΅ νƒ­μΌλ΅ ν”„λ΅μ„Έμ¤λ¥Ό μ‹¤ν–‰ν•λ” λ°©λ²•μ— λ€ν•΄μ„ λ‹¤λ£¨μ–΄λ³Έ μ μ΄ μμµλ‹λ‹¤. μ„λ²„ μ‹μ¤ν…μ΄ μκΈ°μ§€ μ•μ€ μƒν™©μ— μν•΄μ„ μ¬λ¶€ν…λκ±°λ‚ μΆ…λ£λμ–΄ μλ™μΌλ΅ μ‹¤ν–‰λ  μλ„ μμΌλ―€λ΅ Systemd λλ” CrontabμΌλ΅ ν”„λ΅μ„Έμ¤λ¥Ό μλ™μΌλ΅ μ‹¤ν–‰ν•  μ μλ‹¤κ³  κ³µμ ν–μ—μµλ‹λ‹¤. </p><p>κ·Έλ°λ° μ–Όλ§μ „μ— νΉμ • κ³ κ° ν™κ²½μ μ„λ²„λ“¤μ„ κ³ κ°μ΄ μ§€μ§„κ³Ό κ°™μ€ μκΈ°μΉ μ•μ€ μ¥μ• λ΅ μΈν•΄μ„ μ„λ²„κ°€ μ¬λ¶€ν…λλ” μƒν™©μ—μ„ ν”„λ΅μ„Έμ¤κ°€ μλ™μΌλ΅ μ‹¤ν–‰λ  μ μμμ„ ν…μ¤νΈν•λ μ¤‘ μ„λ²„κ°€ μ¬λ¶€ν…λ  λ• μλ™μΌλ΅ μ‹¤ν–‰λμ—μ–΄μ•Όν•  ν”„λ΅μ„Έμ¤λ“¤μ΄ μ‹μ‘λμ§€ μ•λ”λ‹¤λ” ν”Όλ“λ°±μ΄ μ „λ‹¬λμ—μµλ‹λ‹¤. μ‹¤μ λ΅ μ‹μ¤ν…μ΄ μ¬λ¶€ν…λ  λ• ν”„λ΅μ„Έμ¤κ°€ μλ™μΌλ΅ μ‹¤ν–‰λμ§€ μ•μ•μμ„ ν™•μΈν•μ€κ³  ν¬λ΅ νƒ­κ³Ό μ‰ μ¤ν¬λ¦½νΈμ— λ€ν• μ΄ν•΄κ°€ λ¶€μ΅±ν–λ‹¤λ” μ μ„ ν™•μΈν–μµλ‹λ‹¤.</p><p>μ €λ” μ„λ²„μ— λ€ν• λ¶€λ¶„μ„ μ „λ¬Έμ μΌλ΅ κ΄€λ¦¬ν•λ” μ„λ²„ μ—”μ§€λ‹μ–΄λ” μ•„λ‹λ―€λ΅ ν•„μ”ν• λ¶€λ¶„μ„ κ²€μƒ‰ν• ν›„ μ •λ¦¬λ λ°”λ¥Ό ν† λ€λ΅ μ‘μ—…μ„ ν•  μ λ°–μ— μ—†μµλ‹λ‹¤. Crontabμ— μν•΄μ„ ν”„λ΅μ„Έμ¤κ°€ μλ™μΌλ΅ μ‹¤ν–‰λκΈ° μ„ν•΄μ„ κ²€ν† ν•μ§€ μ•μ€ λ¶€λ¶„μ΄ λ¬΄μ—‡μΈμ§€λ¥Ό κ³µμ ν•΄λ³΄κ² μµλ‹λ‹¤.</p><h2 id="Crontab"><a href="#Crontab" class="headerlink" title="Crontab"></a>Crontab</h2><p>ν¬λ΅ νƒ­μ— λ€ν• λ©”λ‰΄μ–Ό νμ΄μ§€λ¥Ό μ‚΄ν΄λ³΄λ©΄ <a href="https://man7.org/linux/man-pages/man5/crontab.5.html#EXTENSIONS">EXTENSIONS</a>μΌλ΅ μ‹μ¤ν…μ΄ μ¬λ¶€ν…λμ—μ„λ• μ‹¤ν–‰ν•  μ μλ„λ΅ μ‹κ°„μ„ μ§€μ •ν•  μ μλ” λ³„μΉ­μ΄ μλ‹¤λ” κ²ƒμ„ ν™•μΈν•  μ μμµλ‹λ‹¤. <a href="https://phoenixnap.com/kb/crontab-reboot">Crontab Reboot: How to Execute a Job Automatically at Boot</a>μ™€ κ°™μ€ κΈ€μ—μ„λ„ κ°„λ‹¨ν•κ² @rebootμ„ μ‚¬μ©ν•λ©΄ μ‹μ¤ν…μ΄ λ¶€ν…λμ—μ„λ• μ¤ν¬λ¦½νΈλ¥Ό μ‹¤ν–‰ν•  μ μλ‹¤κ³  μ •λ¦¬λμ–΄μμµλ‹λ‹¤. κ·Έλμ„ λ‹¨μν @rebootλ¥Ό μ§€μ •ν•κΈ°λ§ ν•λ©΄ μ‹μ¤ν…μ΄ μ¬λ¶€ν…λμ—μ„λ• μ •μƒμ μΌλ΅ μ‰ μ¤ν¬λ¦½νΈκ°€ μ‹¤ν–‰λ  κ²ƒμ΄λΌκ³  μμƒν•μ€μµλ‹λ‹¤.</p><h3 id="Interactive-and-Non-Interactive-Shell"><a href="#Interactive-and-Non-Interactive-Shell" class="headerlink" title="Interactive and Non-Interactive Shell"></a>Interactive and Non-Interactive Shell</h3><p>μ κ°€ κ²€ν† ν•μ§€ μ•μ€ λ¶€λ¶„μ€ μ‰ μ¤ν¬λ¦½νΈκ°€ μ‹¤ν–‰λλ” λ°©μ‹μ΄ λ‹¤μ–‘ν•λ‹¤λ” κ²ƒμ— μμµλ‹λ‹¤. μΌλ°μ μΌλ΅ SSH μ ‘μ†μΌλ΅ μ‹¤ν–‰λλ” μ‰μ€ λ΅κ·ΈμΈ μ‰μ…λ‹λ‹¤. λ΅κ·ΈμΈ μ‰ λ° Bashλ΅ μ‹¤ν–‰λμ—μ„λ•λ” λ‹¤μκ³Ό κ°™μ€ νμΌλ“¤μ΄ μλ™μΌλ΅ λ΅λ“λλ‹¤λ” νΉμ§•μ΄ μμµλ‹λ‹¤.</p><ul><li>&#x2F;etc&#x2F;profile</li><li>~&#x2F;.bash_profile</li><li>~&#x2F;.bashrc</li><li>~&#x2F;.profile</li></ul><p>μΌλ°μ μΌλ΅ μ‰ μ¤ν¬λ¦½νΈλ¥Ό μ‘μ„±ν•κ³  μ‹¤ν–‰ν•΄λ³΄μ•μ„λ•λ” λ΅κ·ΈμΈ μ‰μ„ ν†µν•΄ μ‹¤ν–‰ν•κΈ° λ•λ¬Έμ— μ‹¤ν–‰ μ¤ν¬λ¦½νΈμ—μ„ μ°Έμ΅°ν•λ” λ§μ€ ν™κ²½λ³€μκ°€ μ¬λ°”λ¥΄κ² μ§€μ •λμ–΄μλ‹¤λ” κ²ƒμ΄ λ³΄μ¥λ©λ‹λ‹¤. κ·Έλ¬λ‚ Crontabμ— μν•΄μ„ μλ™μΌλ΅ μ‹¤ν–‰λλ” μ¤ν¬λ¦½νΈλ” λ΅κ·ΈμΈ μ‰μ—μ„ μν–‰λλ” κ²ƒμ΄ μ•„λ‹λ―€λ΅ ν™κ²½λ³€μκ°€ μ λ€λ΅ μ§€μ •λλ‹¤λ” κ²ƒμ„ λ³΄μ¥ν•  μ μ—†λ” λ¬Έμ λ¥Ό κ°„κ³Όν• κ²ƒμ…λ‹λ‹¤.</p><h3 id="μ‚¬μ©μ-κΈ°λ³Έ-μ‰"><a href="#μ‚¬μ©μ-κΈ°λ³Έ-μ‰" class="headerlink" title="μ‚¬μ©μ κΈ°λ³Έ μ‰"></a>μ‚¬μ©μ κΈ°λ³Έ μ‰</h3><p>μ‰ μ¤ν¬λ¦½νΈμ— μ…”λ±…(#!)μ„ Bashλ΅ μ§€μ •ν•λ”λΌλ„ ν¬λ΅ νƒ­μ— μν•΄μ„ μ‹¤ν–‰λλ” μ‰ μ ν•μ€ μ‚¬μ©μμ κΈ°λ³Έ μ‰λ΅ κ³ μ •λ©λ‹λ‹¤. SSH μ ‘μ† ν›„ λ΅κ·ΈμΈ μ‰ μƒνƒλ΅ μ¤ν¬λ¦½νΈλ¥Ό μ‹¤ν–‰ν•λ©΄ ν„μ¬ μ‰μ΄ BashμΈ κ²ƒμ„ ν™•μΈν•  μ μμµλ‹λ‹¤. κ·Έλ¬λ‚, λ¦¬λ¶€νΈ λ…λ Ήμ„ μν–‰ν•κ³ λ‚μ„ ν¬λ΅ νƒ­μ— μν•΄μ„ μ‹¤ν–‰λ μ¤ν¬λ¦½νΈμ— λ€ν• λ΅κ·Έλ¥Ό ν™•μΈν•λ©΄ Bashκ°€ μ•„λ‹ κΈ°λ³Έ μ‰μ΄λΌκ³  κΈ°λ΅λμ–΄μμµλ‹λ‹¤.</p><pre class="language-bash" data-language="bash"><code class="language-bash">./a.sh<span class="token environment constant">SHELL</span><span class="token builtin class-name">:</span> /bin/bash<span class="token comment"># reboot with #!/bin/bash</span><span class="token function">tail</span> a.log<span class="token environment constant">SHELL</span><span class="token builtin class-name">:</span> /bin/sh<span class="token comment"># reboot with #!/bin/bash --login</span><span class="token function">tail</span> a.log<span class="token environment constant">SHELL</span><span class="token builtin class-name">:</span> /bin/sh<span class="token comment"># crontab -e &amp;&amp; SHELL=/bin/bash</span><span class="token environment constant">SHELL</span><span class="token builtin class-name">:</span> /bin/bash</code></pre><p>μ„ κ²°κ³Όλ¥Ό ν† λ€λ΅ μ‰ μ¤ν¬λ¦½νΈμ—μ„ μ…”λ±…κ³Ό ν•¨κ» λ΅κ·ΈμΈ μ‰ μµμ…μ„ ν™μ„±ν™”ν•λ” κ²ƒκ³Ό μƒκ΄€μ—†μ΄ μ‚¬μ©μμ κΈ°λ³Έ μ‰μ„ λ³€κ²½ν•κ±°λ‚ ν¬λ΅ νƒ­ μ„¤μ • μ‹ μ‰μ„ μ§€μ •ν•λ„λ΅ ν•μ—¬μ•Όν•λ‹¤λ” κ²ƒμ„ ν™•μΈν•  μ μμµλ‹λ‹¤. </p><h3 id="ν™κ²½λ³€μ-νμΌ"><a href="#ν™κ²½λ³€μ-νμΌ" class="headerlink" title="ν™κ²½λ³€μ νμΌ"></a>ν™κ²½λ³€μ νμΌ</h3><p>μ‰ μ¤ν¬λ¦½νΈμ—μ„ λ΅κ·ΈμΈ μ‰ μµμ…(β€“login)μ„ μ§€μ •ν•λ” κ²ƒμ€ μ •ν•΄μ§„ ν™κ²½λ³€μ νμΌμ„ λ΅λ“ν•κΈ° μ„ν• λ°©λ²•μ…λ‹λ‹¤. λ‹¤λ§, λ΅κ·ΈμΈ μ‰μ΄ μ μ©λμ—κΈ°μ— λ‹¤μκ³Ό κ°™μ΄ ~&#x2F;.bashrcλ” λ΅λ“λμ§€ μ•λ” κ²ƒμ„ ν™•μΈν•  μ μμµλ‹λ‹¤.</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash --login</span><span class="token function">tail</span> a.logLoaded /etc/profileLoaded .profile<span class="token environment constant">SHELL</span><span class="token builtin class-name">:</span> /bin/bash</code></pre><blockquote><p>ν¬λ΅ νƒ­μ— μν•΄μ„ μ‰ μ¤ν¬λ¦½νΈκ°€ μ‹¤ν–‰λ  λ•μ—λ” Non-Interactive Shell λ°©μ‹μΌλ΅ λ™μ‘ν•λ‹¤λ” μ μ„ μΈμ§€ν•΄μ•Όν•©λ‹λ‹¤. μ΄λ” λ΅κ·ΈμΈ μ‰ μµμ…μ„ μ§€μ •ν•΄λ„ .bashrc νμΌμ΄ λ΅λ“λμ§€ μ•μ•μμ„ ν™•μΈν•  μ μμµλ‹λ‹¤.</p></blockquote><p>κ²°κ³Όμ μΌλ΅, μ¬λ¶€ν…μ‹μ—λ„ ν¬λ΅ νƒ­μ— μν•΄μ„ μ‰ μ¤ν¬λ¦½νΈλ¥Ό ν†µν•΄ ν”„λ΅μ„Έμ¤κ°€ μλ™μΌλ΅ μ‹¤ν–‰λκΈ° μ„ν•΄μ„λ” λ‹¤μμ λ°©μ• μ¤‘μ—μ„ ν™κ²½ λ³€μκ°€ μ¬λ°”λ¥΄κ² λ΅λ“λ  μ μλ„λ΅ λ³„λ„μ μ‘μ—…μ„ μν–‰ν•΄μ•Όν•©λ‹λ‹¤.</p><ol><li>.profileμ— ν™κ²½ λ³€μλ¥Ό μ§€μ •ν• κ²½μ° β€“login μµμ… κ³ λ ¤</li><li>.bashrc λλ” .bash_profileμ— ν™κ²½ λ³€μλ¥Ό μ§€μ •ν• κ²½μ° νμΌμ„ μ§μ ‘ λ…μ‹ν•μ—¬ λ΅λ“</li><li>ν”„λ΅μ„Έμ¤ μ‹¤ν–‰ μ‹ ν•„μ”ν• ν™κ²½λ³€μλ¥Ό μλ™μΌλ΅ μ§€μ •ν•λ” μ¤ν¬λ¦½νΈ λ΅λ“</li></ol><p>ν¬λ΅ νƒ­μ— μν•΄μ„ μ‰ μ¤ν¬λ¦½νΈκ°€ μ •μƒμ μΌλ΅ μ‹¤ν–‰λμ§€ μ•λ”λ‹¤λ©΄ μ•λ§μ€ μ‰κ³Ό ν™κ²½λ³€μκ°€ μ¬λ°”λ¥΄κ² λ΅λ“λλ” λ°©μ‹μ„ μ·¨ν•μ€λ”μ§€ κ²€ν† ν•μ‹κΈ° λ°”λλ‹λ‹¤.</p><h2 id="μ°Έκ³ "><a href="#μ°Έκ³ " class="headerlink" title="μ°Έκ³ "></a>μ°Έκ³ </h2><ul><li><a href="https://unix.stackexchange.com/a/46856">Difference between Login Shell and Non-Login Shell?</a>  </li><li><a href="https://www.geeksforgeeks.org/shell-scripting-interactive-and-non-interactive-shell/">Shell Scripting β€“ Interactive and Non-Interactive Shell</a>  </li><li><a href="https://man7.org/linux/man-pages/man5/crontab.5.html">crontab(5) β€” Linux manual page</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;π¤ μ¬λ¶€ν… μ‹ Crontabμ— μν•΄μ„ ν”„λ΅μ„Έμ¤κ°€ μλ™μΌλ΅ μ‹¤ν–‰λμ§€ μ•μ€ μ΄μ &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ν¬λ΅ νƒ­(Crontab)μ€ λ¦¬λ…μ¤μ—μ„ μΌμ •λ μ‹μ μ΄λ‚ μ£ΌκΈ°μ μΌλ΅ λ…λ Ήμ–΄ λλ” μ‰ μ¤ν¬λ¦½νΈλ¥Ό μ‹¤ν–‰ν•  μ μλ” </summary>
      
    
    
    
    
    <category term="Autorun" scheme="https://kdevkr.github.io/tags/Autorun/"/>
    
    <category term="Crontab" scheme="https://kdevkr.github.io/tags/Crontab/"/>
    
    <category term="Interactive Shell" scheme="https://kdevkr.github.io/tags/Interactive-Shell/"/>
    
  </entry>
  
  <entry>
    <title>μ„λΉ„μ¤ μƒνƒλ¥Ό λ¨λ‹ν„°λ§ν•λ” μ΄μ </title>
    <link href="https://kdevkr.github.io/service-status/"/>
    <id>https://kdevkr.github.io/service-status/</id>
    <published>2022-05-04T00:00:00.000Z</published>
    <updated>2022-05-23T14:52:51.525Z</updated>
    
    <content type="html"><![CDATA[<p>ν„μ¬ μ΅°μ§μ λ¬Έμ μ μ€ μΌν•λ”λ° μμ–΄μ„ μ²΄κ³„μ μΌλ΅ μ •ν•΄μ§„ κ°€μ΄λ“κ°€ μ—†λ‹¤λ” μ μ…λ‹λ‹¤. κ³ κ°λ§λ‹¤ μΈν”„λΌ ν™κ²½λ„ λ‹¤λ¥΄λ©° λ™μΌν• μ‹μ¤ν…μ„ λ‹¤μ–‘ν• λ°©μ‹μΌλ΅ λ°°ν¬λ¥Ό μ”κµ¬ν•κΈ°λ„ ν•©λ‹λ‹¤. μ‹¬μ§€μ–΄λ” μ‹μ¤ν…μ„ κµ¬μ„±ν•λ” μ—¬λ¬κ°€μ§€ μΈμ¤ν„΄μ¤μ μ§€ν‘λ¥Ό μμ§‘ν•κ±°λ‚ λ΅κ·Έλ¥Ό λ‚¨κΈ°λ” λ“±μ λ°©μ‹λ„ μ •ν•΄ μΌν•΄μ¤λ μ΅°μ§μ΄ μ•„λ‹™λ‹λ‹¤. μ‹μ¤ν…μ— λ€ν• μ§€ν‘λ‚ λ΅κ·Έλ“±μ„ μ–΄λ–¤ κΈ°μ¤€μ—μ„ λ‚¨κΈ°λ” κ²ƒμ΄ μ •ν•΄μ§€μ§€ μ•λ”λ‹¤λ©΄ μ¶”ν›„ μ‹μ¤ν… μ¥μ• κ°€ λ°μƒν–μ„λ• μ›μΈμ„ κ²€ν† ν•κ³  λ¶„μ„ν•λ”λ° μ–΄λ ¤μ›€μ΄ λ§μµλ‹λ‹¤. μ‹¤μ λ΅ APMμ„ λ„μ…ν•μ§€ μ•λ” μ‹μ¤ν…μ—μ„ μ† μƒκ³  μ™Έμ–‘κ°„ κ³ μΉλ“―μ΄ μ‚¬μ—…ν€μ—μ„λ” μ‹μ¤ν…μ λ¬Έμ λ¥Ό νμ•…ν•κΈ° μ„ν• μ •λ³΄λ¥Ό μ• μ μλƒλ” λ¬Έμλ¥Ό ν•λ” κ²ƒλ„ μ§€μΌλ³΄μ•μµλ‹λ‹¤.</p><p>λ¶„μ•Ό λλ” μ‹μ¥μ μ”κ±΄μ— λ”°λΌ ν•„μ”ν• μ‹μ¤ν…μ„ κ°λ°ν•λ” κ²ƒμ„ λ„μ–΄μ„ μ‹μ¤ν…μ΄ μ •μƒμ μΌλ΅ λ™μ‘ν•λ„λ΅ μ μ§€ν•λ” λ…Έλ ¥λ„ μ¤‘μ”ν• λ¶€λ¶„μ…λ‹λ‹¤. μ‹μ¤ν…μ„ μ„¤κ³„ν•κ³  μ΄μλλ” μΈν”„λΌ μμ—­μ„ κµ¬μ„±ν•  λ•μ—λ” μ‹μ¤ν…μ„ μ΄μ©ν•λ” κ·λ¨μ— λ§κ² μν–‰ν•©λ‹λ‹¤. νΈλν”½μ΄ μ λ”λΌλ„ μ‹μ¤ν…μ„ λ‹¤μμ μ„λ²„λ΅ νΈλν”½μ„ λ¶„μ‚°ν•  μ μλ„λ΅ κµ¬μ„±ν•  μλ” μμΌλ‚ μΈν”„λΌμ— λ€ν• λΉ„μ©μ΄ λΉ„ν¨μ¨μ μΈ λ°©λ²•μ…λ‹λ‹¤.</p><blockquote><p>IT λ¶„μ•Όμ—μ„ μ„λΉ„μ¤λ‚ μ‹μ¤ν…μ„ μ΄μν•λ”λ° λ“¤μ–΄κ°€λ” λΉ„μ©μ΄ μƒλ‹Ήν λ†’μµλ‹λ‹¤. μ‘μ€ κ·λ¨μ μ΅°μ§μΌμλ΅ λΉ„μ©μ— λ” λ―Όκ°ν•  μ λ°–μ— μ—†μµλ‹λ‹¤. </p></blockquote><p>μ•„λ¬΄νΌ μ‹μ¤ν…μ„ μ΄μν•κΈ° μ„ν• κ·λ¨λ„ λ‹¤λ¥΄κ³  μ‹μ¤ν…μ„ κµ¬μ„±ν•λ” μ• ν”λ¦¬μΌ€μ΄μ…μ μ–Έμ–΄ λΏλ§ μ•„λ‹λΌ μΈν”„λΌ μμ—­μ— λ€ν• κµ¬μ„±λ„ λ‹¤μ–‘ν•©λ‹λ‹¤. λ¨λ“  μ„λΉ„μ¤μ™€ μ‹μ¤ν…μ΄ λ™μΌν•κ² λ§λ“¤μ–΄μ§€κ³  κ°™μ€ λ°©μ‹μΌλ΅ μ΄μλμ§€ μ•μµλ‹λ‹¤. κ·Έλ¦¬κ³  μ •μƒμ μΌλ΅ λ™μ‘ν•λ μ‹μ¤ν…μ΄ μ–΄λ– ν• μ”κµ¬μ‚¬ν•­μ— μν• μμ •μ— μν•΄ μμƒν•μ§€ λ»ν–λ μ¥μ• μ μ›μΈμ„ λ§λ“¤κΈ°λ„ ν•©λ‹λ‹¤. κ·Έλ°λ° μ¤‘μ”ν•κ² μƒκ°ν•΄μ•Όλ  λ¶€λ¶„μ€ μ‹μ¤ν…μ„ λ§λ“¤κ³  μ΄μν•λ” μ΅°μ§μ΄ μΌν•λ” μ‹κ°„μ΄ μ•„λ‹ λ•μ—λ„ μΈν„°λ„·μ΄ μ ‘μ†λλ” ν™κ²½μ΄λΌλ©΄ μ–Έμ  μ–΄λ””μ„λ“  μ„λΉ„μ¤λ¥Ό μ΄μ©ν•  μ μλ‹¤λ” μ μ…λ‹λ‹¤. μ‹μ¤ν…μ΄ μ κ³µν•λ” κΈ°λ¥μ„ μ •μƒμ μΌλ΅ μ΄μ©ν•μ§€ λ»ν•λ” μ‹κ°„μ΄ κΈΈμ–΄μ§μλ΅ κ³ κ°μ€ μ‚¬μ©μ¤‘μΈ μ„λΉ„μ¤λ‚ μ‹μ¤ν…μ— λ€ν• μ‹ λΆ°λ¥Ό μƒκ² λ©λ‹λ‹¤. λ‹¤μμ€ κµ¬κΈ€μ— μ‹μ¤ν… μ¤λ¥λΌλ” ν‚¤μ›λ“λ΅ κ²€μƒ‰μ„ ν•μ—¬ μ λ§μ€ μ¤λ¥λ΅ μΈν• μ¥μ• μ™€ κ³ κ°μ λ¶λ§μ— λ€ν•΄ μ•λ¦¬λ” κΈ°μ‚¬λ“¤μ…λ‹λ‹¤.</p><ul><li><a href="https://www.edaily.co.kr/news/read?newsId=01092246629281144&mediaCodeNo=257">μΏ ν΅, β€λ§μ΄ νμ΄μ§€β€™ μ¤λ¥β€¦β€λ¶νΈλΌμ³ λ“λ ¤ μ£„μ†΅β€</a></li><li><a href="https://imnews.imbc.com/news/2021/econo/article/6169999_34887.html">μΉ΄μΉ΄μ¤ν†΅ λ‚΄λ¶€ μ‹μ¤ν… μ¤λ¥λ΅ μ¥μ• β€¦β€κΈ΄κΈ‰ μ κ²€ μ¤‘β€</a></li><li><a href="https://www.donga.com/news/Society/article/all/20210716/107987824/1">μΉ΄μΉ΄μ¤ν†΅ μ”μ—¬λ°±μ‹  μμ•½ β€λ¬΄ν•λ΅λ”©β€™β€¦λ‹Ήκµ­ β€μ‹μ¤ν… μ¤λ¥ ν•΄κ²°β€</a></li><li><a href="https://www.koreapost.co.kr/news/articleView.html?idxno=61208">μ„λ©”ν”„, μƒλ²½ μ¤‘ μ‹μ¤ν… μ¤λ¥λ΅ μ§€κΈ‰λ 5λ§ ν¬μΈνΈ λ―Ένμ κ²°μ •</a></li><li><a href="https://biz.newdaily.co.kr/site/data/html/2022/01/24/2022012400113.html">λ„¤μ΄λ²„, μ—°μ΄μ€ μ ‘μ† μ¤λ¥β€¦ λ³΄μƒμ€ β€λ―Έλ―Έβ€™</a></li><li><a href="https://m.mk.co.kr/news/it/view/2021/12/1219484/">λ„¤μ΄λ²„νμ΄ μ΄μ©μ μμ‚°μ •λ³΄ μ μ¶β€¦μ‹μ¤ν… μ¤λ¥</a></li><li><a href="https://www.topstarnews.net/news/articleView.html?idxno=14686520">β€λ¶νΈ λ“λ¦° μ  μ‚¬κ³Όβ€β€¦μμ› μ‚¬μ΄νΈ λ©λ΅ (Melon), μ‹¤μ‹κ°„ μ°¨νΈβ†’νƒμƒ‰ μ‹μ¤ν… μ¤λ¥ λ°μƒ</a></li><li><a href="https://www.thedailypost.kr/news/articleView.html?idxno=86942">νμ‹  μ•„μ΄μ½ μΉ΄μΉ΄μ¤μ β€λ―Όλ‚―β€™β€¦κµ­λ‚΄ 3μ„ λ‹¤μ β€λ¨Ήν†µβ€™ λΈλλ“ μ΄λ―Έμ§€ β€μ‹¤μ¶”β€™</a></li><li><a href="https://www.mk.co.kr/news/society/view/2022/04/327578/">μ „κµ­ κ³ μ†λ²„μ¤ λ°κ¶ μ‹μ¤ν… 1μ‹κ°„ 20λ¶„ κ°€λ‰ μ¥μ• (μΆ…ν•©)</a></li><li><a href="https://biz.sbs.co.kr/article/20000059393">λ‹¤μ λ©”μΌ 6μ‹κ°„ λ„κ² β€λ¨Ήν†µβ€™β€¦λ‚΄λ¶€ μ‹μ¤ν… μ¤λ¥ λ•λ¬Έ</a></li><li><a href="https://fetv.co.kr/news/article.html?no=113781">β€ν•ν•„ μΌμ”μΌ μ μ‹¬ λ•β€ μΏ ν΅μ΄μΈ  μ‹μ¤ν… μ¤λ¥</a></li><li><a href="https://www.edaily.co.kr/news/read?newsId=01787606632294808&mediaCodeNo=257">λ΅―λ°λ νƒ β€κ·Έλ¦°μΉ΄β€™, μ„λ²„ μ¤λ¥λ΅ μ•± λ¨Ήν†µβ€¦β€κ³ κ° λ¶λ§ ν­μ£Όβ€</a></li><li><a href="https://www.mk.co.kr/news/economy/view/2022/01/82495/">κµ­μ„Έμ²­ μ—°λ§μ •μ‚° μ¤λ¥λ΅ 821λ… κ°μΈμ •λ³΄ μ μ¶</a></li></ul><blockquote><p>μ κ°€ μ΄μ©ν•μ§€ μ•λ” μ„λΉ„μ¤λ“¤μ—μ„ μƒκ°λ³΄λ‹¤ λ§μ€ μ‹μ¤ν… μ¥μ• κ°€ λ°μƒν• κ²ƒμ„ ν™•μΈν•  μ μμµλ‹λ‹¤. </p></blockquote><p>μ„μ²λΌ μ‹μ¤ν… μ¥μ• μ— λ€ν• μ›μΈμ€ λ‹¤μ–‘ν•©λ‹λ‹¤. λ‹Ήμ‹μ— μ‹¬κ°ν• μ‚¬κ³ μ€λ <a href="https://m.etnews.com/20211025000215">KT ν†µμ‹  μ¥μ• </a>μ™€ κ°™μ΄ μΈν„°λ„· νΈλν”½μ„ μ „λ‹¬ν•λ” μ¥λΉ„μ μ„¤μ • λ¬Έμ λ΅ μΌλ¶€ λ„¤νΈμ›ν¬ ν™κ²½μ΄ λ¨λ‘ λ§λΉ„λλ” νΌλμ΄ λ°μƒν•  μλ„ μμµλ‹λ‹¤. μ΄λ¬ν• λ¬Έμ λΌλ©΄ μ„λ²„ μΈμ¤ν„΄μ¤κ°€ μ •μƒμ μ΄κ³  μ• ν”λ¦¬μΌ€μ΄μ… μ½”λ“μ—λ„ λ¬Έμ κ°€ μ—†λ”λΌλ„ μΈν”„λΌ μμ—­μ μ¥μ• μ΄κΈ° λ•λ¬Έμ— μμƒν•  μ μ—†λ” μ¥μ• μ…λ‹λ‹¤. μ‹¬μ§€μ–΄λ” ν΄λΌμ°λ“ μΈν”„λΌ μ„λΉ„μ¤λ¥Ό ν™μ©ν•΄μ„ μ‹μ¤ν…μ„ μ΄μν•κ² λλ” μ‹λ€μ΄λ―€λ΅ <a href="https://www.inews24.com/view/1353037">ν΄λΌμ°λ“ μ„λΉ„μ¤ μ΅°μ°¨λ„ μ‹μ¤ν… μ¥μ• μ λ°μƒ κ°€λ¥μ„±μ΄ μ—†λ” κ²ƒμ€ μ•„λ‹μ </a>λ„ μΈμ§€ν•΄μ•Όν•©λ‹λ‹¤. κ·Έλμ„ μ‹μ¤ν…μ„ λ§λ“¤κ³  μ΄μν•λ” μ΅°μ§μ—μ„λ„ μ‹μ¤ν…μ΄ μ •μƒμ μΌλ΅ λ™μ‘ν•  μ μλ„λ΅ κ³ κ°κ³Ό κ°™μ€ μ™Έλ¶€ ν™κ²½μ—μ„ μ§€μ†μ μΌλ΅ μ„λΉ„μ¤ μƒνƒλ¥Ό μ²΄ν¬ν•κ³  λ¨λ‹ν„°λ§ν•μ—¬ μ„λΉ„μ¤μ— λ€ν• κ°€μ©μ„±μ„ μ μ§€ν•λ”λ° λ…Έλ ¥ν•΄μ•Όν•©λ‹λ‹¤. μ‹¤μ λ΅ μ•„λμ™€ κ°™μ΄ μμ‹ λ“¤μ΄ μ κ³µν•λ” μ„λΉ„μ¤ κΈ°λ¥μ— λ€ν• μƒνƒ μ •λ³΄λ¥Ό μ κ³µν•λ” νμ΄μ§€λ¥Ό μ κ³µν•λ” κ³³μ΄ κ½¤ λ§μµλ‹λ‹¤.</p><ul><li><a href="https://www.githubstatus.com/">Github Status</a></li><li><a href="https://status.slack.com/">Slack System Status</a></li><li><a href="https://status.spring.io/">Spring Status</a></li><li><a href="https://developers.naver.com/notice/apistatus/">Naver API Status</a></li></ul><blockquote><p>μ„λΉ„μ¤ μƒνƒ μ •λ³΄λ¥Ό μ κ³µν•λ” μ΄μ λ” μ„λΉ„μ¤ κ°€μ©μ„±μ„ μ μ§€ν•μ—¬ κ³ κ°μ—κ² μ‹ λΆ°μ„±μ„ μ κ³µν•κΈ° μ„ν•¨μ…λ‹λ‹¤.</p></blockquote><p>μ΅°μ§μ—μ„ λ§λ“  μ‹μ¤ν…μ„ μμ²΄μ μΌλ΅ ν•λ‚μ ν”λ«νΌμΌλ΅ μ΄μν–λ‹¤λ©΄ μ‹μ¤ν… λ¨λ‹ν„°λ§μ— λ€ν• μ¤‘μ”μ„±μ„ κ³µμ ν•κ³  μ‹μ¤ν…μ„ κµ¬μ„±ν•λ” κ° μΈμ¤ν„΄μ¤λ“¤μ <a href="https://docs.aws.amazon.com/ko_kr/AmazonS3/latest/userguide/cloudwatch-monitoring.html">μ§€ν‘ λ¨λ‹ν„°λ§</a> λΏλ§ μ•„λ‹λΌ <a href="https://www.datadoghq.com/">Datadog</a>μ™€ κ°™μ€ μƒμ© λ¨λ‹ν„°λ§ μ†”λ£¨μ… λ„μ…μ„ κ²€ν† ν–μ„ κ²ƒμ΄λΌ μƒκ°ν•©λ‹λ‹¤. A λΌλ” κ³ κ°μ€ μμ²΄μ μΌλ΅ μ„λ²„ μΈν”„λΌλ¥Ό κµ¬μ¶•ν•κ³  κ΄€λ¦¬ν•κ³  μ‹μ¤ν… κ°λ°κ³Ό μ μ§€λ³΄μλ§ μ„μ„ν•κ³ , B λΌλ” κ³ κ°μ€ μ‹μ¤ν… κ°λ° λ° μ μ§€λ³΄μ κ·Έλ¦¬κ³  μ„λ²„ μΈν”„λΌμ— λ€ν• κ΄€λ¦¬λ„ ν•  μ μλ„λ΅ κ¶ν•μ„ λ¶€μ—¬ν•΄μ£ΌκΈ°λ„ ν•©λ‹λ‹¤. A κ³ κ°μ€ μ¤μ¤λ΅μ κ²½ν—μ— λ”°λΌ <a href="https://www.zabbix.com/">Zabbix</a>λ΅ μ„λ²„ μΈν”„λΌλ¥Ό λ¨λ‹ν„°λ§ν•λ„λ΅ κµ¬μ¶•ν–μΌλ©° B λΌλ” κ³ κ°μ€ μ•„λ§μ΅΄ μ›Ή μ„λΉ„μ¤μ <a href="https://docs.aws.amazon.com/ko_kr/AmazonS3/latest/userguide/cloudwatch-monitoring.html">ν΄λΌμ°λ“ μ™€μΉ μ§€ν‘ λ¨λ‹ν„°λ§</a>κ³Ό μ—¬λ¬κ°€μ§€ λ΅κ·Έκ°€ S3μ— μ €μ¥λλ„λ΅ κµ¬μ„±ν•©λ‹λ‹¤.</p><blockquote><p>B κ³ κ°μ€ λ€κΈ°μ—… κ·λ¨λ΅ μμ²΄ κ°€μ΄λ“κ°€ μ΅΄μ¬ν•μ§€λ§ ν„μ¬ μ΅°μ§μ— κ³µμ λ μ‚¬ν•­μ€ μ—†μΌλ―€λ΅ μµμ†ν•μ μ„¤μ •μΌλ΅ κµ¬μ„±ν•κ³  ν”Όλ“λ°±μ„ λ°›μ•„μ„ μ¶”κ°€ μ΅°μΉλ¥Ό ν•κ³  μμµλ‹λ‹¤. κ³ κ°λ§λ‹¤ λ³΄μ•μ„ μ‹ κ²½μ“°λ” λ¶€λ¶„μ΄λ‚ μμ¤€λ„ λ‹¤λ¦…λ‹λ‹¤.</p></blockquote><p>λ– μ¤λ¥΄λ” <a href="https://www.datadoghq.com/">Datadog</a>κ³Ό κ°™μ€ μƒμ© λ¨λ‹ν„°λ§ μ†”λ£¨μ…μ„ λ„μ…ν•΄λ³΄λ©΄ μΆ‹κ² μ§€λ§ μƒκ°λ³΄λ‹¤ λΉ„μ©μ΄ μƒλ‹Ήν λΉ„μ‹Όκ²ƒμΌλ΅ λ³΄μ…λ‹λ‹¤. κ°μΈμ μΌλ΅ μ¤ν”μ†μ¤ λ¨λ‹ν„°λ§ μ†”λ£¨μ…μΈ <a href="https://prometheus.io/">Promethues</a>μ™€ <a href="https://github.com/louislam/uptime-kuma">Uptime Kuma</a>κ°™μ€ μ¤ν”μ†μ¤ λ¨λ‹ν„°λ§ λ„κµ¬λ¥Ό ν™μ©ν•΄μ„ κ°„λ‹¨ν•κ²λ‚λ§ <a href="/struggle-with-unknown-service-failures/">μ„λΉ„μ¤ μ¥μ• μ μ›μΈμ„ μ°ΎκΈ°μ„ν• μ‹λ„</a>μ— ν™μ©ν•΄λ³΄κ³  μμµλ‹λ‹¤. μ‹¤μ λ΅ κ·Όλ¬΄ μ‹κ°„μ΄ μ•„λ‹ μ‹κ°„λ€μ— μ‹μ¤ν…μ μ‘λ‹µ μ‹κ°„μ΄ λμ–΄λ‚¨μ„ ν™•μΈν•  μ μλ λ¶€λ¶„μ„ ν†µν•΄μ„ μμƒν•μ§€ λ»ν–λ μ›μΈμ„ μ°Ύκ²λλ©΄μ„ λ¨λ‹ν„°λ§μ μ¤‘μ”μ„±μ„ λ‹¤μ‹ν•λ² μ•κ²λλ” κ²½ν—μ„ ν•μ€μµλ‹λ‹¤.</p><p><img data-src="https://images.mysetting.io/upload/user_image/2021/f3240207-fe1e-472b-bdb8-508b1332d8f6.jpeg?d=512x"></p><p>μ°λ¦¬λ” μ‹μ¤ν…μ„ κ°λ°ν•λ”λ° κ·ΈμΉμ§€ μ•κ³  μ‹μ¤ν…μ„ μ •μƒμ μΌλ΅ μ΄μν•λ” κ²ƒμ„ μ μ§€ν•λ”λ° λ§μ€ λ…Έλ ¥μ΄ ν•„μ”ν• κ²ƒ κ°™μµλ‹λ‹¤. μ΅°μ§μ—μ„ μ •ν•΄μ§„ λ°©μ‹μ΄ μ—†λ”λΌλ„ λ„κµ°κ°€λ” μ‹λ„ν•΄λ³΄κ³  μ¤‘μ”μ„±μ„ κ³µμ ν•΄μ•Όν•  κ²ƒμΌλ΅ λ³΄μ…λ‹λ‹¤. μ΅°μ§ μ„Έλ―Έλ‚μ—μ„ λ¨λ‹ν„°λ§ μ¤‘μ”μ„±μ— λ€ν• λ‚΄μ©μ„ μ „λ‹¬ν•΄λ³΄λ ¤κ³  μ¤€λΉ„ν•΄μ•Όκ² μµλ‹λ‹¤.</p><p>κ°μ‚¬ν•©λ‹λ‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ν„μ¬ μ΅°μ§μ λ¬Έμ μ μ€ μΌν•λ”λ° μμ–΄μ„ μ²΄κ³„μ μΌλ΅ μ •ν•΄μ§„ κ°€μ΄λ“κ°€ μ—†λ‹¤λ” μ μ…λ‹λ‹¤. κ³ κ°λ§λ‹¤ μΈν”„λΌ ν™κ²½λ„ λ‹¤λ¥΄λ©° λ™μΌν• μ‹μ¤ν…μ„ λ‹¤μ–‘ν• λ°©μ‹μΌλ΅ λ°°ν¬λ¥Ό μ”κµ¬ν•κΈ°λ„ ν•©λ‹λ‹¤. μ‹¬μ§€μ–΄λ” μ‹μ¤ν…μ„ κµ¬μ„±ν•λ” μ—¬λ¬κ°€μ§€ μΈμ¤ν„΄μ¤μ μ§€ν‘λ¥Ό μμ§‘ν•κ±°λ‚ λ΅κ·Έλ¥Ό λ‚¨</summary>
      
    
    
    
    
    <category term="Service Status" scheme="https://kdevkr.github.io/tags/Service-Status/"/>
    
    <category term="Uptime" scheme="https://kdevkr.github.io/tags/Uptime/"/>
    
    <category term="Synthetic Monitoring" scheme="https://kdevkr.github.io/tags/Synthetic-Monitoring/"/>
    
  </entry>
  
  <entry>
    <title>μ„λΉ„μ¤ μ¥μ• μ μ›μΈμ„ μ°Ύμ•„κ°€κΈ° μ„ν• μ—¬λ¬κ°€μ§€ μ‹λ„</title>
    <link href="https://kdevkr.github.io/struggle-with-unknown-service-failures/"/>
    <id>https://kdevkr.github.io/struggle-with-unknown-service-failures/</id>
    <published>2022-05-01T00:00:00.000Z</published>
    <updated>2022-05-23T14:52:51.525Z</updated>
    
    <content type="html"><![CDATA[<p>ν„μ¬ μ΅°μ§μ—μ„ ν•λ‚μ μ‹μ¤ν…μ„ μ—¬λ¬ κ³ κ°μ΄ λ³΄μ ν• ν™κ²½μ—μ„ μ΄μ©ν•  μ μλ„λ΅ μ „ν™ν•λ‹¤λ³΄λ‹ μμ²΄μ μΌλ΅ μ΄μ μ‹ μ •μƒμ μΌλ΅ λ™μ‘ν–λ μ‹μ¤ν…μ—μ„ μ—¬λ¬κ°€μ§€ μ„λΉ„μ¤ μ¥μ• κ°€ λ°μƒν•μ€κ³  μ΄μ— λ€ν• μ›μΈμ„ νμ•…ν•κΈ° νλ“¤μ–΄μ„ μ¤νΈλ μ¤κΉμ§€ λ°›λ” μƒν™©μ΄ λ²μ–΄μ΅μµλ‹λ‹¤. μ—¬λ¬κ°€μ§€ μ„λΉ„μ¤ μ¥μ• μ μ›μΈμ„ μ°Ύμ•„κ°€κΈ° μ„ν•΄ μ‹λ„ν• μ—¬λ¬κ°€μ§€ λ°©λ²•μ— λ€ν•΄μ„ κΈ°λ΅ν•λ ¤κ³  ν•©λ‹λ‹¤. μ΅°μ§μ—μ„ λ§λ“λ” μ„λΉ„μ¤κ°€ κ·λ¨κ°€ μ‘μ€ μ‹μ¤ν…μΌμ§€λΌλ„ μ λ§μ€ κ³ κ°μ μ”κµ¬μ‚¬ν•­μΌλ΅ μΈν•΄ λ§μ€ κΈ°λ¥μ΄ μμ •λκ³  μ¶”κ°€λ¨μ— λ”°λΌμ„ μ‚¬μ΄λ“ μ΄ν™νΈλ΅ μΈν• μ¥μ• κ°€ μ§€μ†μ μΌλ΅ λ°μƒν•μ€κ³  μ‹¬μ§€μ–΄λ” μ΄μ λ¥Ό μ‰½κ² νμ•…ν•  μ μ—†λ” μΈν”„λΌλ΅ μΈν• λ¬Έμ  λλ” μ—¬λ¬κ°€μ§€ κΈ°μ μ— κ΄€ν•΄μ„ λ¬Έμ λ¥Ό μΌμΌν‚¤κΈ°λ„ ν–μµλ‹λ‹¤. μ°λ¦¬κ°€ ν”ν μ΄μ©ν•λ” μ§€ν•μ² μ—μ„λ„ μ„λ² λ””λ“ν•μΌλ΅ λ³΄μ΄λ” μλ„μ° XPκ°€ κ³„μ†ν•΄μ„ μ¬λ¶€ν…ν•κ³  μλ‹¤κ±°λ‚ λΈ”λ£¨μ¤ν¬λ¦° ν™”λ©΄μ„ λ³΄μ—¬μ£Όλ” κ²½μ°λ¥Ό κ°„κ°„ν κ²½ν—ν•  μ μμµλ‹λ‹¤. μ–Όλ§μ „μ—λ” κ³µμ μ£Όμ°¨μ¥μ μ‚¬μ „ μ •μ‚°κΈ° μ‹μ¤ν…μ— μ¤λ¥κ°€ λ°μƒν•΄μ„ μ¬λ¶€ν…μ„ μ”κµ¬ν•λ” μ•λ¦Όμ°½μ„ λ³΄μ—¬μ£Όμ—μΌλ‚ ν„°μΉμ¤ν¬λ¦°μ λ¨Ήν†µμΌλ΅ μΈν•΄ κ³ κ° μ…μ¥μ—μ„ ν•  μ μλ” λ°©μ•μ€ μ—†μ—μµλ‹λ‹¤. μ΄μ²λΌ κ°λ°μ μ…μ¥μ—μ„ μ„λΉ„μ¤λ¥Ό λ§λ“¤μ–΄λ„ μ‹μ¤ν…μ„ μ‹¤μ λ΅ μ΄μ©ν•λ” κ³ κ°μ μ…μ¥μ—μ„ μ§€μ†μ μΌλ΅ μ„λΉ„μ¤λ¥Ό μ΄μ©ν•  μ μλ” κ°€μ©μ„±μ„ μ μ§€ν•λ” κ²ƒλ„ κµ‰μ¥ν μ¤‘μ”ν• λ¶€λ¶„μ΄λΌκ³  μƒκ°λ©λ‹λ‹¤.</p><h2 id="μ„λΉ„μ¤-μ¥μ• "><a href="#μ„λΉ„μ¤-μ¥μ• " class="headerlink" title="μ„λΉ„μ¤ μ¥μ• "></a>μ„λΉ„μ¤ μ¥μ• </h2><p>μ„λΉ„μ¤ μ¥μ• λ” μ• ν”λ¦¬μΌ€μ΄μ… μ½”λ“μ— μν•΄μ„λ§ λ°μƒν•μ§€ μ•μµλ‹λ‹¤. μ”κµ¬μ‚¬ν•­μ„ λ°μν•κΈ° μ„ν•΄μ„ μ½”λ“λ¥Ό μμ •ν•κ³  μ¶”κ°€ν• κ°λ°μμ μ‹¤μλ¶€ν„° μ‹μ‘μΌλ΅ μ‹μ¤ν…μ„ κµ¬μ„±ν•λ” μΈν”„λΌμ—μ„λ„ μμƒν•μ§€ λ»ν• λ¬Έμ κ°€ λ°μƒν•©λ‹λ‹¤. μ΄μ™€κ°™μ΄ μ„λΉ„μ¤ μ¥μ• λ” μ •λ§ λ‹¤μ–‘ν• μμ—­μ—μ„ λ°μƒν•κΈ° λ•λ¬Έμ— μ΄λ¬ν• μ¥μ• μ— λ€ν• κ²½ν—μ΄ μ—†λ‹¤λ©΄ μ‰½κ² νμ•…ν•κΈ° νλ“¤κ³  ν•΄κ²°ν•΄λ‚κ°€λ” κ³Όμ •μ΄ μ–΄λ ¤μΈ μ μμµλ‹λ‹¤. μ €λ” ν„μ¬ μ΅°μ§μ—μ„ μ–΄λ–¤ μ¥μ• λ¥Ό κ²½ν—ν•μ€μ„κΉμ”?</p><ol><li>AWS S3 SDKμ ν¬λ λ΄μ… λ§λ£</li><li>μΏΌμΈ  μ¤μΌ€μ¤„λ¬μ— μν• μ¤λ λ“ λ¬΄ν• μ¦μ‹</li><li>KDB+ μ‹κ³„μ—΄ λ°μ΄ν„°λ² μ΄μ¤ ν”„λ΅μ„Έμ¤κ°€ μ”μ²­μ„ μ²λ¦¬ν•  μ μ—†μ</li></ol><blockquote><p>μ‚¬μ†ν• λ¬Έμ λ¥Ό ν¬ν•¨ν• μ λ§μ€ μ¥μ• μ¤‘μ—μ„ λ€ν‘μ μΈ μ΄μλ” μ„μ™€ κ°™μµλ‹λ‹¤.</p></blockquote><h3 id="AWS-S3-SDK-ν¬λ λ΄μ…-λ§λ£"><a href="#AWS-S3-SDK-ν¬λ λ΄μ…-λ§λ£" class="headerlink" title="AWS S3 SDK ν¬λ λ΄μ… λ§λ£"></a>AWS S3 SDK ν¬λ λ΄μ… λ§λ£</h3><p>μ£Ό μ• ν”λ¦¬μΌ€μ΄μ… μ„λ²„μ™€ λ³„κ°λ΅ μ‚¬μ©μμ μ”μ²­μ„ μ§μ ‘μ μΌλ΅ μ²λ¦¬ν•μ§€λ” μ•μ§€λ§ λ³„λ„μ λ°±κ·ΈλΌμ΄λ“ μ‘μ—…μ„ μν–‰ν•λ” λ¨λ“ μ„λ²„μ—μ„ μ•„λ§μ΅΄ μ›Ή μ„λΉ„μ¤μ S3 SDKλ¥Ό μ‚¬μ©ν•λ” μ½”λ“μ—μ„ ν¬λ λ΄μ… λ§λ£λ΅ μΈν•΄ νΉμ • μ¤μΌ€μ¤„ λ™μ‘ μ‹ μ¤λ¥κ°€ λ°μƒν•λ” μ΄μκ°€ ν™•μΈλμ—μµλ‹λ‹¤. EC2 μΈμ¤ν„΄μ¤μ— IAM Roleμ„ μ§€μ •ν•λ©΄ EC2 λ©”νƒ€λ°μ΄ν„°μ— μν•΄ ν¬λ λ΄μ…μ„ μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„ μ‚¬μ©ν•  μ μλ”λ°μ”. κΈ°λ³Έμ μΌλ΅λ” ν¬λ λ΄μ… ν”„λ΅λ°”μ΄λ” μ²΄μΈμ— μν•΄μ„ μ—¬λ¬κ°€μ§€ λ°©μ‹μΌλ΅ ν¬λ λ΄μ…μ„ κ°€μ Έμ¤λ„λ΅ μ½”λ“λ¥Ό μ‘μ„±ν•©λ‹λ‹¤. μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„ μ‚¬μ©ν•λ” ν¬λ λ΄μ…μ΄ μλ™μΌλ΅ κ°±μ‹ λλ” μµμ…μ€ <a href="https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/java-dg-roles.html">SDK μ΄μ© μ‹ InstanceProfileCredentailsProvider λλ” μ²΄μΈμ„ μƒμ„±μλ΅ μ „λ‹¬ν•΄μ•Όλ§ ν™μ„±ν™”</a>λλ‹¤λ” μ •λ³΄κ°€ μμµλ‹λ‹¤.</p><blockquote><p>The automatic credentials refresh happens only when you use the default client constructor, which creates its own InstanceProfileCredentialsProvider as part of the default provider chain, or when you pass an InstanceProfileCredentialsProvider instance directly to the client constructor. If you use another method to obtain or pass instance profile credentials, you are responsible for checking for and refreshing expired credentials.</p></blockquote><p>μ„ μ •λ³΄λ¥Ό ν† λ€λ΅ λ¨λ“ μ„λ²„μ μ½”λ“λ¥Ό κ²€μν• κ²°κ³Ό κ³µν†µ λ¨λ“μ—μ„ μ •μλ ν¬λ λ΄μ…μ„ κ°€μ Έμ¤λ” μ ν‹Έ ν΄λμ¤λ΅λ¶€ν„° ν¬λ λ΄μ… ν”„λ΅λ°”μ΄λ” μ²΄μΈμ„ κ°€μ Έμ™€μ„ S3 μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν• κ²ƒμ΄ μ•„λ‹ ν¬λ λ΄μ…μ„ ν”„λ΅λ°”μ΄λ”μ— μν•΄ λ°κΈ‰ν•κ³  μ „λ‹¬ν•μ—¬ μ‚¬μ©ν–λ κ²ƒμ„ ν™•μΈν•μ€μµλ‹λ‹¤. μ΄λ” λ¦¬ν©ν† λ§ κ³Όμ •μ—μ„ κ²€μλμ§€ μ•μ€ κ°λ°μμ λ…λ°±ν• μ‹¤μμ΄λ©° μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„ ν¬λ λ΄μ…μ΄ μλ™μΌλ΅ κ°±μ‹ λκΈ° μ„ν•΄μ„λ” InstanceProfileCredentialsProviderκ°€ ν¬ν•¨λ ν”„λ΅λ°”μ΄λ” μ²΄μΈμ„ μ‚¬μ©ν•΄μ•Όν•λ‹¤λ” μ •λ³΄λ¥Ό μ™μ§€ν•κ² λμ—λ μ¥μ•  κ²½ν—μ΄μ—μµλ‹λ‹¤.</p><h3 id="μΏΌμΈ -μ¤μΌ€μ¤„λ¬μ—-μν•-μ¤λ λ“-λ¬΄ν•-μ¦μ‹"><a href="#μΏΌμΈ -μ¤μΌ€μ¤„λ¬μ—-μν•-μ¤λ λ“-λ¬΄ν•-μ¦μ‹" class="headerlink" title="μΏΌμΈ  μ¤μΌ€μ¤„λ¬μ— μν• μ¤λ λ“ λ¬΄ν• μ¦μ‹"></a>μΏΌμΈ  μ¤μΌ€μ¤„λ¬μ— μν• μ¤λ λ“ λ¬΄ν• μ¦μ‹</h3><p>μ• ν”λ¦¬μΌ€μ΄μ… λ°°ν¬ ν›„ μ •μƒμ μΌλ΅ λ™μ‘ν•λ μ• ν”λ¦¬μΌ€μ΄μ…μ΄ μ‚¬μ©μμ μ”μ²­μ„ μ²λ¦¬ν•  μ μ—†λ” μƒνƒκ°€ λμ–΄λ²„λ¦¬λ” λ¬Έμ λ¥Ό ν™•μΈν•μ€μµλ‹λ‹¤. ν„μ¬ μ΅°μ§μ€ λ¨λ‹ν„°λ§ μ†”λ£¨μ…μ„ λ„μ…ν•΄μ„ μ‚¬μ©ν•΄μ¤λ μ΅°μ§μ€ μ•„λ‹™λ‹λ‹¤. λ‹¤λ§, ν”„λ΅λ©”ν…μ°μ¤ λ° κ·ΈλΌνλ‚ μ΅°ν•©μΌλ΅ λ¨λ‹ν„°λ§ μ‹μ¤ν…μ„ κµ¬μ¶•ν•λ” λ§μ€ κΈ€μ„ λ³΄κ³ λ‚μ„ κ°μΈμ μΌλ΅ μ‚¬λ‚΄ μ„λ²„μ— μ‹μ¤ν…μ„ κµ¬μ¶•ν•΄λ†“κ³  μ‚¬μ©ν•΄μ™”λ”λ°μ”. ν”„λ΅λ©”ν…μ°μ¤λ” κΈ°λ³Έμ μΌλ΅ μ§μ ‘ HTTP μ”μ²­μ„ ν†µν•΄ μ§€ν‘λ¥Ό μμ§‘ν•λ” λ°©μ‹μ΄λ―€λ΅ μ™Έλ¶€μ—μ„ μ ‘κ·Όμ΄ λ¶κ°€λ¥ν•λ„λ΅ λμ–΄μλ” μ• ν”λ¦¬μΌ€μ΄μ…μ μ§€ν‘λ¥Ό μμ§‘ν•κΈ° μ„ν•΄μ„ <a href="https://kdevkr.github.io/using-pushgateway-to-monitor-private-network-instance/">Promethues Pushgateway</a>λ΅ μ§€ν‘λ¥Ό μ „λ‹¬ν•λ„λ΅ μ—μ΄μ „νΈλ¥Ό μ‹¤ν–‰ν•΄λ†“κ³  λ¨λ‹ν„°λ§μ„ μ‹μ‘ν–μµλ‹λ‹¤. ν•΄λ‹Ή ν„μƒμ΄ λ‹¤μ‹ λ°μƒν• μ‹μ μ—μ„ μμ§‘λ μ§€ν‘λ¥Ό κ·ΈλΌνλ‚ λ€μ‹λ³΄λ“λ¥Ό ν†µν•΄ ν™•μΈν•΄λ³Έ κ²°κ³Ό μ¤λ λ“μ μκ°€ μ μ  μ¦κ°€ν•λ” κ²ƒμ„ λ³΄μ•κ³  μ¤ν”„λ§ λ¶€νΈ μ•΅μ¶”μ—μ΄ν„°μ μ¤λ λ“ λ¤ν”„ μ—”λ“ν¬μΈνΈλ¥Ό ν†µν•΄ μ¤λ λ“λ¥Ό λ¶„μ„ν•΄λ³΄λ‹ SMS λ°μ†΅ λ° λ°μ†΅ μƒνƒ ν™•μΈμ„ μ„ν• μ¤μΌ€μ¤„μ— μν• μ¤λ λ“κ°€ μ μ—†μ΄ μƒμ„±λ κ²ƒμ„ ν™•μΈν–μµλ‹λ‹¤. ν•΄λ‹Ή μ¤μΌ€μ¤„μ μ½”λ“λ¥Ό κ²€ν† ν•΄λ³Έ κ²°κ³Ό μΏΌμΈ  μ¤μΌ€μ¤„λ¬ λ™μ‘ λ°©μ‹μ„ κ³ λ ¤ν•μ§€ μ•κ³  μ¤μΌ€μ¤„ μ΅μ„ κµ¬ν„ν• ν΄λμ¤μ—μ„ λ³„λ„μ μ¤λ λ“λ¥Ό μƒμ„±ν•λ„λ΅ μ½”λ“κ°€ μ‘μ„±λμ–΄ μλ” κ²ƒμ„ ν™•μΈν•κ² λμ—μµλ‹λ‹¤. μ΄ κ²½ν—μ„ ν†µν•΄ μΏΌμΈ  μ¤μΌ€μ¤„λ¬μ— μν•΄ μ¤μΌ€μ¤„μ΄ λ™μ‘ν•  λ• μ΄λ―Έ λ§λ“¤μ–΄μ Έμλ” λΉ ν΄λμ¤λ¥Ό μ‚¬μ©ν•μ§€ μ•κ³  μ¤μΌ€μ¤„λ¬μ— μν•΄ λ™μ μΌλ΅ μƒμ„±λμ–΄ μ²λ¦¬λλ‹¤λ” μ μ„ ν™•μΈν•κ² λμ—μµλ‹λ‹¤. </p><h3 id="KDB-μ‹κ³„μ—΄-λ°μ΄ν„°λ² μ΄μ¤-ν”„λ΅μ„Έμ¤κ°€-μ”μ²­μ„-μ²λ¦¬ν• -μ-μ—†μ"><a href="#KDB-μ‹κ³„μ—΄-λ°μ΄ν„°λ² μ΄μ¤-ν”„λ΅μ„Έμ¤κ°€-μ”μ²­μ„-μ²λ¦¬ν• -μ-μ—†μ" class="headerlink" title="KDB+ μ‹κ³„μ—΄ λ°μ΄ν„°λ² μ΄μ¤ ν”„λ΅μ„Έμ¤κ°€ μ”μ²­μ„ μ²λ¦¬ν•  μ μ—†μ"></a>KDB+ μ‹κ³„μ—΄ λ°μ΄ν„°λ² μ΄μ¤ ν”„λ΅μ„Έμ¤κ°€ μ”μ²­μ„ μ²λ¦¬ν•  μ μ—†μ</h3><p>κ°€μ¥ ν¬λ¦¬ν‹°μ»¬ν• μ¥μ• μ…λ‹λ‹¤. KDB+ μ‹κ³„μ—΄ λ°μ΄ν„°λ² μ΄μ¤λ” κµ­λ‚΄μ—μ„λ” μ‚¬μ©ν•μ§€ μ•λ” κ²ƒμ²λΌ λ³΄μ΄λ” μƒμ© μ‹κ³„μ—΄ λ°μ΄ν„°λ² μ΄μ¤λ΅μ¨ KDB+ ν”„λ΅μ„Έμ¤κ°€ μ”μ²­μ„ μ²λ¦¬ν•  μ μ—†λ” μƒνƒκ°€ λλ‚ ν”„λ΅μ„Έμ¤κ°€ μΆ…λ£λκ±°λ‚ λ³„λ„λ΅ ν”„λ΅μ„Έμ¤μ— μν•΄ λ΅κ·Έκ°€ λ‚¨λ” κ²ƒμ΄ μ—†μΌλ―€λ΅ μ΄ λ¬Έμ μ— λ€ν•΄ κΈ°μ μ μΈ λ„μ›€μ„ μ”μ²­ν•κΈ°μ—λ„ μ–΄λ ¤μ΄ λ¶€λ¶„μ΄μ—μµλ‹λ‹¤. ν”„λ΅μ„Έμ¤κ°€ μ‚¬μ©μμ μ”μ²­μ„ μ²λ¦¬ν•  μ μ—†λ” μƒνƒκ°€ λλ” μ›μΈμ„ κ²€ν† ν•κΈ° μ„ν•΄μ„ μ—¬λ¬κ°€μ§€ λ°©λ²•μ„ λ„μ…ν–μµλ‹λ‹¤. </p><ol><li>μ• ν”λ¦¬μΌ€μ΄μ… μ¬λ΅μ° μΏΌλ¦¬ λ΅κ·Έ</li><li>μ„λΉ„μ¤ μƒνƒ λ¨λ‹ν„°λ§ μ†”λ£¨μ…</li></ol><p>μ²«λ²μ§Έ λ°©λ²•μ€ μ• ν”λ¦¬μΌ€μ΄μ…μΌλ΅ μ”μ²­λλ” KDB μΏΌλ¦¬ μ¤‘ λ§μ€ μ‹κ°„μ΄ μ†μ”λλ” κ²ƒλ“¤μ„ μ¬λ™ μ±„λ„λ΅ λ©”μ‹μ§€λ¥Ό μ „μ†΅ν•λ” κ²ƒμ…λ‹λ‹¤. κ·Έλ°λ° μ λ§μ€ μ”μ²­μ΄ λ©”μ‹μ§€ μ±„λ„λ΅ μ „λ‹¬λλ” λ¬Έμ κ°€ ν™•μΈλμ—μµλ‹λ‹¤. λμ—λ” λ³΄μ΄μ§€ μ•μ•μ§€λ§ μƒκ°λ³΄λ‹¤ λ§μ€ μ”μ²­λ“¤μ΄ λ°€λ¦¬λ” ν„μƒμ΄ μμ—λ λ¶€λ¶„μ…λ‹λ‹¤. λ‘λ²μ§Έ λ°©λ²•μ€ Synthetic MonitoringλΌκ³  ν•λ” μ„λΉ„μ¤ μƒνƒ λ¨λ‹ν„°λ§ μ†”λ£¨μ…μ„ λ„μ…ν•λ” κ²ƒμ΄μ—μµλ‹λ‹¤. μ΅°μ§μ—μ„ μΌν•μ§€ μ•λ” μ‹κ°„μ—λ„ μ„λΉ„μ¤κ°€ μ •μƒμ μΌλ΅ λ™μ‘ν•λ” μƒνƒμΈμ§€λ¥Ό ν™•μΈν•κΈ° μ„ν• λ°©λ²•μΌλ΅ μ΄μ „ ν”„λ΅λ©”ν…μ°μ¤λ¥Ό ν†µν• μ§€ν‘ λ¨λ‹ν„°λ§κ³Όλ” κ΄€μ μ΄ λ‹¤λ¦…λ‹λ‹¤. </p><p><img data-src="/images/posts/struggle-with-unknown-service-failures/uptime-kuma-01.png"></p><p>μ„λ” μ„λΉ„μ¤ μƒνƒ λ¨λ‹ν„°λ§ λ„μ… ν›„ ν™•μΈλ KDB+ μ‹κ³„μ—΄ λ°μ΄ν„°λ² μ΄μ¤μ— λ€ν• μ—°κ²° μƒνƒλ¥Ό λ‚νƒ€λ‚΄λ” μ§€ν‘μ…λ‹λ‹¤. μƒλ²½ μ‹κ°„λ€μ— μ‘λ‹µ μ‹κ°„μ΄ μƒλ‹Ήν λ†’μ•„μ§μ„ ν™•μΈν•  μ μμ—κ³  κ°„κ°„ν μ‹κ³„μ—΄ λ°μ΄ν„°λ² μ΄μ¤μ— λ€ν• μ—°κ²° μƒνƒλ¥Ό ν™•μΈν•  μ μ—†κ² λ¨μ„ ν™•μΈν•  μ μμµλ‹λ‹¤. νΉμ • κ³ κ° ν™κ²½μ—μ„ λ°μƒν•λ” ν„μƒμ΄μ—μΌλ―€λ΅ ν•΄λ‹Ή μ‹κ°„λ€μ— μ–΄λ–¤ μ”μ²­μ„ μν–‰ν•λ” κ² μλ”μ§€ ν™•μΈν•΄λ³΄λ‹ μ™Έλ¶€ μ—…μ²΄μ—μ„ λ°μ΄ν„°λ¥Ό μμ§‘ν•κΈ° μ„ν•΄μ„ μκ°„μ μΌλ΅ μ λ§μ€ API μ”μ²­μ„ ν•λ” κ²ƒμ„ μ•κ² λμ—μµλ‹λ‹¤. ν•΄λ‹Ή μ—…μ²΄κ°€ λ°μ΄ν„°λ¥Ό μ΅°νν•  λ• λ§μ€ κΈ°κ°„μ„ μ΅°νν•λ©΄μ„ λ³µμλ΅ μ΅°κ±΄μ„ μ „λ‹¬ν•  μ μμμ—λ„ λ¶κµ¬ν•κ³  ν• κ±΄μ”© μ”μ²­ν•λ‹¤λ³΄λ‹ μ„λ²„μ— λ§μ€ λ¶€ν•κ°€ λ°μƒν•κ² λ λ¶€λ¶„μ…λ‹λ‹¤.</p><blockquote><p>μ„μ™€ κ°™μ€ λ¶€λ¶„μ€ Aμμƒν•μ§€ λ»ν• API λ¶€ν•μ΄λ―€λ΅ μ‘μ€ μ‹μ¤ν… κ·λ¨ μƒ λ””λ„μ¤λΌκ³  μμ²΄ νλ‹¨ν•μ—¬ APIλ¥Ό νΈμ¶μ„ μ¤„μ΄λ„λ΅ μ”μ²­ν•μ€μµλ‹λ‹¤.</p></blockquote><p><img data-src="/images/posts/struggle-with-unknown-service-failures/uptime-kuma-02.png"></p><p>API μ”μ²­ λ°©μ‹μ„ λ³€κ²½ν•κ³ λ‚μ„ μ‘λ‹µ μ‹κ°„μ΄ μƒλ‹Ήν μ¤„μ—μΌλ‚ κ·Έλ€λ΅ λ†’λ‹¤κ³  νλ‹¨ν•  μ μλ” μ§€ν‘μ…λ‹λ‹¤. ν•΄λ‹Ή μ—…μ²΄κ°€ μ‚¬μ©ν•λ” APIμ—μ„ λ‚΄λ¶€μ μΌλ΅ μν–‰ν•λ” KDB+ μΏΌλ¦¬λ¥Ό κ²€ν† ν•΄λ³΄λ‹ λ‹¤λ¥Έ μΏΌλ¦¬μ— λΉ„ν•΄ μƒλ‹Ήν μ„±λ¥μ΄ λλ¦°μ μ„ ν™•μΈν•μ€κ³  λ°μ΄ν„° μ΅°ν λ° λ¶ν•„μ”ν• μ—°μ‚°μ„ μ¤„μ΄λ” λ°©λ²•μ„ μ±„νƒν•μ—¬ μΏΌλ¦¬λ¥Ό κ°μ„ ν•κ³ λ‚μ„ ν„μ¬λ” λ‹¤μκ³Ό κ°™μ€ μ‘λ‹µ μ‹κ°„μ„ λ³΄μ—¬μ£Όκ³  μμµλ‹λ‹¤.</p><p><img data-src="/images/posts/struggle-with-unknown-service-failures/uptime-kuma-03.png"></p><blockquote><p>μ„μ κ²°κ³Όλ¥Ό λ³΄μ—¬μ£Όλ” KDB+ μ‹κ³„μ—΄ λ°μ΄ν„°λ² μ΄μ¤μ μΏΌλ¦¬ μµμ ν™”λ” μ„μ‹μ μΈ λ€μ•μΌ λΏ ν”„λ΅μ„Έμ¤κ°€ κΈ°λ³Έμ μΌλ΅ μ‚¬μ©μμ μ”μ²­μ„ μμ°¨μ μΌλ΅ μ²λ¦¬ν•λ‹¤λ” λ¶€λ¶„μ„ ν™•μΈν•κ² λμ–΄ μ΄λ¥Ό κ°μ„ ν•  μ μλ” λ°©μ•μ„ μ§€μ†μ μΌλ΅ κ²€ν† ν•κ³  μμµλ‹λ‹¤.</p></blockquote><p>μ΄λ¬ν• μ¥μ• μ— λ€ν• κ²½ν— κ³µμ λ” ν„μ¬ μ΅°μ§μ—λ” μ΄λ΅­μ§€ μ•μ€ λ¶€λ¶„μΌ μ μμµλ‹λ‹¤. κ·Έλ¬λ‚ κ°μΈμ μΈ μ…μ¥μ—μ„λ” μ΄λ¬ν• κ²½ν—μ„ ν† λ€λ΅ λ” μ„λΉ„μ¤λ¥Ό μ„±μ¥ν•  μ μλ„λ΅ λ§λ“¤μ–΄ κ° μ μλ‹¤κ³  μƒκ°ν•λ” λ°”μ…λ‹λ‹¤. λ§μ€ κ°λ°μκ°€ μμ‹ μ΄ κ²½ν—ν• λ¬Έμ μ™€ μ–΄λ–»κ² ν•΄κ²°ν•μ€λ”μ§€λ¥Ό κ³µμ ν–μΌλ©΄ ν•λ” λ°”λ¨μ…λ‹λ‹¤.</p><h2 id="μ°Έκ³ "><a href="#μ°Έκ³ " class="headerlink" title="μ°Έκ³ "></a>μ°Έκ³ </h2><ul><li><a href="https://techblog.woowahan.com/4886/">μ°μ•„~ν• μ¥μ• λ€μ‘ - μ°μ•„ν•ν•μ λ“¤ κΈ°μ λΈ”λ΅κ·Έ</a></li><li><a href="https://engineering.linecorp.com/ko/blog/line-failure-reporting-and-follow-up-process-culture/">LINEμ μ¥μ•  λ³΄κ³ μ™€ ν›„μ† μ μ°¨ λ¬Έν™” - LINE Engineering</a></li><li><a href="https://tech.inflab.com/202201-event-postmortem/">2022λ…„ 1μ›” 100% ν• μΈ μ΄λ²¤νΈ μ¥μ•  λ¶€κ²€ - μΈν”„λ°</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ν„μ¬ μ΅°μ§μ—μ„ ν•λ‚μ μ‹μ¤ν…μ„ μ—¬λ¬ κ³ κ°μ΄ λ³΄μ ν• ν™κ²½μ—μ„ μ΄μ©ν•  μ μλ„λ΅ μ „ν™ν•λ‹¤λ³΄λ‹ μμ²΄μ μΌλ΅ μ΄μ μ‹ μ •μƒμ μΌλ΅ λ™μ‘ν–λ μ‹μ¤ν…μ—μ„ μ—¬λ¬κ°€μ§€ μ„λΉ„μ¤ μ¥μ• κ°€ λ°μƒν•μ€κ³  μ΄μ— λ€ν• μ›μΈμ„ νμ•…ν•κΈ° νλ“¤μ–΄μ„ μ¤νΈλ μ¤κΉμ§€ λ°›λ” μƒν™©μ΄ λ²μ–΄μ΅μµλ‹λ‹¤</summary>
      
    
    
    
    
    <category term="Synthetic Monitoring" scheme="https://kdevkr.github.io/tags/Synthetic-Monitoring/"/>
    
    <category term="Service Failure" scheme="https://kdevkr.github.io/tags/Service-Failure/"/>
    
  </entry>
  
  <entry>
    <title>KDB Tick</title>
    <link href="https://kdevkr.github.io/kdb-tick/"/>
    <id>https://kdevkr.github.io/kdb-tick/</id>
    <published>2022-04-30T00:00:00.000Z</published>
    <updated>2022-05-23T14:52:51.525Z</updated>
    
    <content type="html"><![CDATA[<p>μ—λ„μ§€ λ¶„μ•Όλ” λ‚λ…Έμ΄ λλ” λ°€λ¦¬μ΄ λ‹¨μ„μ μ‹κ³„μ—΄ λ°μ΄ν„°κ°€ λΉ λ¥΄κ² μƒμ„±λλ” νΉμν• μ‹μ¥μ…λ‹λ‹¤. μ‹κ³„μ—΄ λ°μ΄ν„°λ” κΈμµ(Financial) μ‹μ¥μ—μ„λ¶€ν„° μ¤‘μ”μ„±μ΄ λ¶€κ°λμ—μΌλ‚ μ΄μ λ” λ‹¤μ–‘ν• λ¶„μ•Όμ—μ„ λ°μƒν•κ³  μ΄λ¥Ό ν™μ©ν• λ§μ€ μ„λΉ„μ¤κ°€ λ§λ“¤μ–΄μ§€κ³  μμµλ‹λ‹¤. μµμ†ν• μ΄ λ‹¨μ„λ΅ λ§λ“¤μ–΄μ§€λ” μ‹κ³„μ—΄ λ°μ΄ν„°λ¥Ό λΉ λ¥΄κ² λ“±λ΅ν•κ³  μ΅°νν•  μ μλ” κ²ƒμ„ λ©μ μΌλ΅ν•λ” μ‹κ³„μ—΄ λ°μ΄ν„°λ² μ΄μ¤μ μ…μ§€λ„ μ¤‘μ”ν•΄μ§€κ³  μκ³  λ§μ€ μ¤ν”μ†μ¤ μ‹κ³„μ—΄ λ°μ΄ν„°λ² μ΄μ¤ μ†”λ£¨μ…λ„ λ§λ“¤μ–΄μ§€κ³  μμµλ‹λ‹¤. ν„μ¬ μ΅°μ§μ—μ„λ” ν•΄μ™Έ κΈμµ λ¶„μ•Όμ—μ„ μ–΄λμ •λ„ μ…μ§€λ¥Ό λ³΄μ΄κ³  μλ” μ‹κ³„μ—΄ λ°μ΄ν„°λ² μ΄μ¤μΈ KDB+λ¥Ό λ„μ…ν•μ—¬ μ„λΉ„μ¤μ— μ‚¬μ©μ¤‘μ…λ‹λ‹¤. λΌμ΄μ„Όμ¤ λΉ„μ©μ΄ μƒκ°λ³΄λ‹¤ λΉ„μ‹ΈκΈ°λ” ν•μ§€λ§ κ³ κ°λ“¤μ΄ λ³΄μ ν•λ” λ°μ΄ν„°λ¥Ό λΉ λ¥΄κ² μμ§‘ν•κ³  λ“±λ΅ν•κΈ° μ„ν•΄μ„λ” μ–΄μ©”μ μ—†λ” μ„ νƒμ΄κΈ°λ„ ν•©λ‹λ‹¤. </p><h2 id="KDB"><a href="#KDB" class="headerlink" title="KDB+"></a>KDB+</h2><p><a href="https://kx.com/blog/what-makes-time-series-database-kdb-so-fast/">What Makes Time-Series Database kdb+ So Fast?</a>  </p><p>KX Systemsμ λΈ”λ΅κ·Έ λλ” <a href="https://code.kx.com/q/">Kdb+ and q documentation</a> μ‚¬μ΄νΈμ—μ„ μ κ³µν•λ” μ •λ³΄λ¥Ό ν† λ€λ΅ KDB+ ν”„λ΅μ„Έμ¤μ— λ€ν•΄μ„ κ°„λ‹¨ν•κ² μ΄ν•΄ν•κ³  ν™μ©ν•΄λ³Ό μ μμµλ‹λ‹¤. λ” λ‚μ•„κ°€μ„λ” <a href="https://code.kx.com/q/wp/">White Paper</a>λ¥Ό ν†µν•΄μ„ KDB+ ν”„λ΅μ„Έμ¤λ¥Ό λ” ν¨μ¨μ μΌλ΅ μ‚¬μ©ν•κΈ° μ„ν• λ°©μ•μ„ ν™•μΈν•  μ μμµλ‹λ‹¤. λ³Έ κΈ€μ—μ„λ” KDB+ μ‹κ³„μ—΄ λ°μ΄ν„°λ² μ΄μ¤λ¥Ό μ‚¬μ©ν•κΈ° μ„ν•΄ μµμ†ν• μ•μ•„μ•Όν•  λ¶€λ¶„μ„ λ‹¤λ£Ήλ‹λ‹¤.</p><h3 id="λ°μ΄ν„°λ² μ΄μ¤-κµ¬μ΅°"><a href="#λ°μ΄ν„°λ² μ΄μ¤-κµ¬μ΅°" class="headerlink" title="λ°μ΄ν„°λ² μ΄μ¤ κµ¬μ΅°"></a>λ°μ΄ν„°λ² μ΄μ¤ κµ¬μ΅°</h3><p>KDB+ ν”„λ΅μ„Έμ¤μ—μ„ λ°μ΄ν„°λ” κΈ°λ³Έμ μΌλ΅ ν…μ΄λΈ”μ΄λΌλ” λ³€μμ— μ €μ¥λλ©° λ©”λ¨λ¦¬μ— μ μ§€λ©λ‹λ‹¤. κ·Έλ¬λ‚, μ„λ²„μ λ©”λ¨λ¦¬ μμ›μ€ ν•μ •μ μ΄λ―€λ΅ λ¨λ“  λ°μ΄ν„°λ¥Ό λ©”λ¨λ¦¬μ— μ μ§€ν•κΈ°μ—λ” ν„μ‹¤μ μΌλ΅ λ¶κ°€λ¥ν•©λ‹λ‹¤. KDB+ ν”„λ΅μ„Έμ¤κ°€ μ‚¬μ©ν•  μ μλ” λ©”λ¨λ¦¬κ°€ λ¶€μ΅±ν•κ²λλ©΄ <code>&#39;wsfull</code> μ¤λ¥λ¥Ό λ³΄κ³ ν•κ³  ν”„λ΅μ„Έμ¤λ” μΆ…λ£λ©λ‹λ‹¤. ν”„λ΅μ„Έμ¤κ°€ μΆ…λ£λλ©΄ λ©”λ¨λ¦¬μ— μ €μ¥λ λ°μ΄ν„°κ°€ λ¨λ‘ μ μ‹¤λλ―€λ΅ μ΄λ¥Ό λ³΄μ™„ν•κΈ° μ„ν• λ°©λ²•μ΄ ν•„μ”ν•©λ‹λ‹¤.</p><p>KDB+ μ‹κ³„μ—΄ λ°μ΄ν„°λ² μ΄μ¤λ” μ„λ²„ λ©”λ¨λ¦¬ μμ›λ³΄λ‹¤ ν° λ°μ΄ν„°λ¥Ό μ €μ¥ν•κΈ° μ„ν•΄μ„ λ””μ¤ν¬ νμΌμ„ ν™μ©ν•©λ‹λ‹¤. ν…μ΄λΈ”μ λ°μ΄ν„° κ·λ¨μ— λ”°λΌ λ‹¨μΌ λ°”μ΄λ„λ¦¬ νμΌλ΅ κΈ°λ΅ν•κ±°λ‚ ν…μ΄λΈ”μ μ»¬λΌμ— λ€ν• λ°μ΄ν„°λ¥Ό <a href="https://code.kx.com/q/database/#splayed-table">κ° μ»¬λΌ μ΄λ¦„μ„ κ°€μ§„ νμΌμ„ κ°€μ§€λ” ν΄λ”</a>λ΅ μ €μ¥ν•©λ‹λ‹¤. λ” λ‚μ•„κ°€μ„λ” <a href="https://code.kx.com/q4m3/14_Introduction_to_Kdb+/#1432-partition-domain">μ«μ λλ” λ‚ μ§μ™€ κ°™μ€ κ°€μƒμ νν‹°μ…</a>μ„ λ‘μ–΄μ„ λ” ν¨μ¨μ μΌλ΅ μ‚¬μ©μκ°€ λ°μ΄ν„°λ¥Ό μΏΌλ¦¬ν•  μ μλ„λ΅ μ§€μ›ν•©λ‹λ‹¤.</p><h4 id="μ¤ν”λ μ΄-ν…μ΄λΈ”"><a href="#μ¤ν”λ μ΄-ν…μ΄λΈ”" class="headerlink" title="μ¤ν”λ μ΄ ν…μ΄λΈ”"></a>μ¤ν”λ μ΄ ν…μ΄λΈ”</h4><p>μ¤ν”λ μ΄ ν…μ΄λΈ”(Splayed Table)λ” μ‹¬λ³Όκ³Ό κ°™μ€ κΈ°νΈκ°€ μ—†λ” μ™„μ „ν μ—΄κ±°λ ν…μ΄λΈ”μ΄μ–΄μ•Όν•©λ‹λ‹¤. ν…μ΄λΈ”μ— μ‹¬λ³Ό ν•μ‹μ μ»¬λΌμ΄ μ΅΄μ¬ν•λ‹¤λ©΄ <a href="https://code.kx.com/q/kb/splayed-tables/#enumerating-symbol-columns">Enumerating symbol columns</a>μ—μ„μ²λΌ μ‹¬λ³Ό λ°μ΄ν„°κ°€ sym νμΌμ΄λΌκ³ ν•λ” λ³„λ„μ νμΌμ— μ—΄κ±°λ μƒνƒλ΅ ν…μ΄λΈ”μ„ μ €μ¥ν•΄μ•Όν•¨μ„ μΈμ§€ν•΄μ•Όν•©λ‹λ‹¤.</p><h4 id="νν‹°μ…-ν…μ΄λΈ”"><a href="#νν‹°μ…-ν…μ΄λΈ”" class="headerlink" title="νν‹°μ… ν…μ΄λΈ”"></a>νν‹°μ… ν…μ΄λΈ”</h4><p>μΌλ°μ μΌλ΅ KDB+ ν”„λ΅μ„Έμ¤μ—μ„ μ¤ν”λ μ΄ ν…μ΄λΈ”μ„ κ·Έλ€λ΅ μ‚¬μ©ν•κΈ°λ³΄λ‹¤λ” κ°€μƒμ νν‹°μ… ν΄λ” λ°‘μ— λ‘μ–΄μ„ <a href="https://code.kx.com/q/database/#partitioned-table">νν‹°μ… ν…μ΄λΈ”</a>μ„ κµ¬μ„±ν•μ—¬ λ΅λ“ν•λ„λ΅ κµ¬μ„±ν•©λ‹λ‹¤. νν‹°μ… ν…μ΄λΈ”(Partitioned Table)μ€ KDB+ μ‹κ³„μ—΄ λ°μ΄ν„°λ² μ΄μ¤μ—μ„ μΌλ°μ μΌλ΅ κµ¬μ„±ν•λ” ν‹°μ»¤ν”λνΈ μ•„ν‚¤ν…μ²μ—μ„ HDB ν”„λ΅μ„Έμ¤λ¥Ό κµ¬μ„±ν•κΈ° μ„ν•΄μ„ μ‚¬μ©ν•λ―€λ΅ λ°λ“μ‹ μ΄ν•΄ν•΄μ•Όν•  λ¶€λ¶„μ…λ‹λ‹¤.</p><ul><li><a href="https://code.kx.com/q4m3/14_Introduction_to_Kdb%2B/#142-splayed-tables">Splayed Tables</a>  </li><li><a href="https://code.kx.com/q4m3/14_Introduction_to_Kdb+/#143-partitioned-tables">Partitioned Tables</a>  </li><li><a href="https://code.kx.com/q/wp/data-management/#attributes-on-splayed-partitioned-tables">Attributes on splayed partitioned tables</a></li></ul><blockquote><p>νν‹°μ… ν…μ΄λΈ”μ κ° μ¤ν”λ μ΄ ν…μ΄λΈ”μ— `p# λλ” `g# μ†μ„±μ„ μ μ©ν•μ—¬ μ €μ¥ν•λ” κ²ƒμ€ νμΌ λ°μ΄ν„°λ¥Ό λ΅λ“ν•μ—¬ μ‚¬μ©ν•λ” HDB ν”„λ΅μ„Έμ¤μ— λ€ν• μΏΌλ¦¬ μµμ ν™”λ¥Ό μν–‰ν•  μ μλ„λ΅ μ§€μ›ν•λ” λ¶€λ¶„μΌλ΅ ν•„μ”μ— λ”°λΌ μ μ©ν•΄μ•Όν•  μ μμµλ‹λ‹¤.</p></blockquote><h3 id="ν”„λ΅μ„Έμ¤-ν†µμ‹ "><a href="#ν”„λ΅μ„Έμ¤-ν†µμ‹ " class="headerlink" title="ν”„λ΅μ„Έμ¤ ν†µμ‹ "></a>ν”„λ΅μ„Έμ¤ ν†µμ‹ </h3><p>KDB+ μ‹κ³„μ—΄ λ°μ΄ν„°λ² μ΄μ¤λ” μ‚¬μ©μ μ”μ²­μ„ μμ°¨μ μΌλ΅ μ²λ¦¬ν•λ” λ‹¨μΌ μ¤λ λ“λ¥Ό μ‚¬μ©ν•λ” ν”„λ΅μ„Έμ¤μ…λ‹λ‹¤. μ•„ν‚¤ν…μ²μ μΈ κ΄€μ μ—μ„λ” λ‹¨μΌ ν”„λ΅μ„Έμ¤λ¥Ό μ‹¤ν–‰ν•μ—¬ ν™μ©ν•κΈ°λ³΄λ‹¤λ” μ©λ„μ™€ λ©μ μ— λ§λ” μ—¬λ¬κ°μ ν”„λ΅μ„Έμ¤λ¥Ό μ‹¤ν–‰ν•κ³  <a href="https://code.kx.com/q/learn/startingkdb/ipc/#interprocess-communications">ν”„λ΅μ„Έμ¤ κ°„ ν†µμ‹ (IPC)</a>λ¥Ό ν†µν•΄ μ„λ΅ μ κΈ°μ μΈ μ”μ²­κ³Ό μ‘λ‹µμ„ ν†µν•΄ μ›ν•λ” κ²°κ³Όλ¥Ό μ κ³µν•  μ μλ„λ΅ κµ¬μ„±ν•κ² λ©λ‹λ‹¤.</p><p>μΌλ°μ μΌλ΅ λ‹¤μκ³Ό κ°™μ΄ <a href="https://code.kx.com/q/ref/hopen/#one-shot-request">One-shot request</a> ν•νƒλ΅ μ‚¬μ©ν•  μ μμµλ‹λ‹¤.</p><pre class="language-q" data-language="q"><code class="language-q"><span class="token symbol">`::5011</span> <span class="token string">"trade"</span><span class="token symbol">`::5011</span> <span class="token punctuation">(</span><span class="token punctuation">&#123;</span>trade<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token verb operator">::</span><span class="token punctuation">)</span></code></pre><blockquote><p>λ‹¤λ¥Έ ν”„λ΅μ„Έμ¤λ΅ λ‹¤μμ μ”μ²­μ„ μν–‰ν•λ” κ²½μ°μ—λ” hopen λ° hcloseλ¥Ό ν†µν•΄ λ…μ‹μ μΌλ΅ μ†μΌ“μ„ μ—΄κ³  λ‹«λ”κ²ƒμ΄ λ” ν¨μ¨μ μ…λ‹λ‹¤. μ¥μ‹κ°„ μ†μΌ“μ„ μ—΄μ–΄λ‘κ³  μ‚¬μ©ν•λ” κ²ƒμ€ λ‹¤μ–‘ν• λ¬Έμ λ¥Ό μ•ΌκΈ°ν• κ²½ν—μ΄ μμΌλ―€λ΅ κ°μΈμ μΌλ΅ μ¶”μ²ν•μ§€ μ•μµλ‹λ‹¤.</p></blockquote><h2 id="ν‹±-μ•„ν‚¤ν…μ²"><a href="#ν‹±-μ•„ν‚¤ν…μ²" class="headerlink" title="ν‹± μ•„ν‚¤ν…μ²"></a>ν‹± μ•„ν‚¤ν…μ²</h2><p>KDB+ μ‹κ³„μ—΄ λ°μ΄ν„°λ² μ΄μ¤λ¥Ό ν•™μµν•λ” λ‹¨κ³„μ—μ„λ” λ‹¨μΌ ν”„λ΅μ„Έμ¤λ΅λ„ μ¶©λ¶„ν•©λ‹λ‹¤. κ·Έλ¬λ‚, μ‹¤μ λ΅ μ‹μ¤ν…μ„ μ΄μ©ν•κΈ° μ„ν•΄μ„λ” λ‹¤μμ ν”„λ΅μ„Έμ¤λ΅ κµ¬μ„±λ <a href="https://code.kx.com/q/architecture/">μ•„ν‚¤ν…μ²</a>λ¥Ό λ„μ…ν•΄μ•Όν•  ν•„μ”μ„±μ΄ μμµλ‹λ‹¤. KDB+ μ‹κ³„μ—΄ λ°μ΄ν„°λ² μ΄μ¤ μ‹μ¤ν…μ„ κµ¬μ„±ν•λ” κ°€μ¥ μΌλ°μ μΈ μ•„ν‚¤ν…μ²λ” ν‹°μ»¤ν”λνΈμ΄λ©° κΈμµ μ‹μ¥μ—μ„ μ‚¬μ©ν•κΈ° μ©μ΄ν•λ„λ΅ κµ¬μ„±λ©λ‹λ‹¤.</p><h3 id="ν‹°μ»¤ν”λνΈ"><a href="#ν‹°μ»¤ν”λνΈ" class="headerlink" title="ν‹°μ»¤ν”λνΈ"></a>ν‹°μ»¤ν”λνΈ</h3><p>ν‹°μ»¤ν”λνΈ(Tickerplant)λ” λ°μ΄ν„°λ¥Ό μμ§‘ν•κΈ° μ„ν• μ§„μ…μ μ„ μ κ³µν•λ” ν”„λ΅μ„Έμ¤λ΅ λ°μ΄ν„° λ“±λ΅ ν•¨μμ— λ€ν• μ”μ²­μ„ <strong>TP λ΅κ·Έ</strong> νμΌμ— κΈ°λ΅ν•μ—¬ μ‹μ¤ν…μ΄ μκΈ°μΉ μ•μ€ μƒν™©μΌλ΅ λ¬Έμ κ°€ λ°μƒν–μ„ λ• λ³µκµ¬ν•  μ μλ” λ°©μ•μ„ μ κ³µν•©λ‹λ‹¤. λν•, <a href="https://cloud.google.com/pubsub/docs/overview?hl=ko">Pub&#x2F;Sub</a>μΌλ΅ λ°μ΄ν„° ν”Όλ“ κµ¬λ…μλ΅ λ“±λ΅λμ–΄μλ” ν”„λ΅μ„Έμ¤λ΅ λ“±λ΅λ λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•κ³  μ‚­μ ν•¨μΌλ΅μ¨ ν‹°μ»¤ν”λνΈκ°€ λ©”λ¨λ¦¬ μ‚¬μ©μ„ μµμ†ν™”ν•  μ μλ„λ΅ν•μ—¬ κ²½λ‰ ν”„λ΅μ„Έμ¤λ΅ κµ¬λ™λ©λ‹λ‹¤.</p><h3 id="μ‹¤μ‹κ°„-λ°μ΄ν„°"><a href="#μ‹¤μ‹κ°„-λ°μ΄ν„°" class="headerlink" title="μ‹¤μ‹κ°„ λ°μ΄ν„°"></a>μ‹¤μ‹κ°„ λ°μ΄ν„°</h3><p>μ‹¤μ‹κ°„ λ°μ΄ν„°λ² μ΄μ¤(Realtime DB) ν”„λ΅μ„Έμ¤λ” ν‹°μ»¤ν”λνΈ ν”„λ΅μ„Έμ¤μ— λ°μ΄ν„° ν”Όλ“ κµ¬λ…μλ΅ λ“±λ΅λλ” ν΄λΌμ΄μ–ΈνΈ μ¤‘ ν•λ‚μ΄λ©° ν‹°μ»¤ν”λνΈλ΅λ¶€ν„° μ „λ‹¬λ°›μ€ λ°μ΄ν„°λ¥Ό λ©”λ¨λ¦¬μ— μ μ§€ν•©λ‹λ‹¤. κ·Έλ¦¬κ³  ν‹°μ»¤ν”λνΈκ°€ μ „λ‹¬ν•λ” <strong>EOH(End of hour) λλ” EOD(End of day)</strong> μ΄λ²¤νΈλ¥Ό λ°›μ•„μ„ λ©”λ¨λ¦¬μ— μ μ§€ν–λ λ°μ΄ν„°λ¥Ό ν„μ¬ μ‹κ°„ λλ” μΌμμ— λ€ν• νν‹°μ… ν…μ΄λΈ”λ΅ κΈ°λ΅ν•κ³  λ‹¤μ‹ ν‹°μ»¤ν”λνΈλ΅λ¶€ν„° λ°μ΄ν„° μμ‹ μ΄ κ°€λ¥ν•λ„λ΅ μ¤€λΉ„ν•©λ‹λ‹¤.</p><blockquote><p>EOH λλ” EOD μ΄λ²¤νΈκ°€ λ°μƒν•λ” μ‹μ μ—λ” λ©”λ¨λ¦¬μ— μλ” λ°μ΄ν„°λ¥Ό νμΌλ΅ μ €μ¥ν•΄μ•Όν•λ―€λ΅ λ°μ΄ν„° κ·λ¨μ— λ”°λΌ CPU μ—°μ‚° λ° λ””μ¤ν¬ I&#x2F;O μ‘μ—…μ— λ€ν• λ¶€ν•κ°€ μ•ΌκΈ°λ  μ μμµλ‹λ‹¤. λ”°λΌμ„, λ©”λ¨λ¦¬μ— μƒμ£Όλλ” λ°μ΄ν„°μ κ·λ¨λ¥Ό μμƒν•κ³  μ„λ²„ μ„±λ¥μ„ κ²°μ •ν•΄μ•Όν•©λ‹λ‹¤.<br>KDB+ ν”„λ΅μ„Έμ¤κ°€ νμΌλ΅ κΈ°λ΅ν•λ” κ²ƒμ€ λ””μ¤ν¬ I&#x2F;O μ„±λ¥μ— μμ΅΄ν•λ―€λ΅ RDB ν”„λ΅μ„Έμ¤μ— λ€ν• λ³‘λ© ν„μƒμ„ μµμ†ν™”ν•κΈ° μ„ν•΄μ„λ” λ†’μ€ I&#x2F;O μ„±λ¥μ„ κ°€μ§€λ” μ¤ν† λ¦¬μ§€λ¥Ό κ³ λ ¤ν•λ”κ² μΆ‹μµλ‹λ‹¤.</p></blockquote><h3 id="κ³Όκ±°-νν‹°μ…-λ°μ΄ν„°"><a href="#κ³Όκ±°-νν‹°μ…-λ°μ΄ν„°" class="headerlink" title="κ³Όκ±° νν‹°μ… λ°μ΄ν„°"></a>κ³Όκ±° νν‹°μ… λ°μ΄ν„°</h3><p>κ³Όκ±° νν‹°μ… λ°μ΄ν„°λ² μ΄μ¤(Historical DB)λ” RDB ν”„λ΅μ„Έμ¤κ°€ νν‹°μ… ν…μ΄λΈ” ν•νƒμ ν΄λ”λ΅ κΈ°λ΅ν• κ³Όκ±° λ°μ΄ν„°λ¥Ό λ΅λ“ν•μ—¬ μ‚¬μ©μ μΏΌλ¦¬μ— λ€ν• μ΅°ν λ° κ²°κ³Όλ¥Ό μ κ³µν•  μ μλ„λ΅ μ§€μ›ν•©λ‹λ‹¤. λ°μ΄ν„° κ·λ¨ λ° μ„λ²„ μμ›μ— λ”°λΌ μ‹κ°„ λλ” μΌμλ³„ νν‹°μ…μΌλ΅ κµ¬μ„±λλ―€λ΅ μ‹μ¤ν…μ΄ μΏΌλ¦¬λ¥Ό μν–‰ν•κΈ°μ— ν¨μ¨μ μΈ κµ¬μ΅°λ¥Ό κ°€μ§€λ„λ΅ κ³ λ ¤ν•΄μ•Όν•©λ‹λ‹¤. μλ¥Ό λ“¤μ–΄, μ‹κ°„λ³„ νν‹°μ…μ„ κµ¬μ„±ν•λ” κ²½μ°μ—λ” μ›ν•λ” κΈ°κ°„μ— λ€ν• μ‹κ°„ ν΄λ”μ λ°μ΄ν„°λ§ ν™μ©ν•λ―€λ΅ λ©”λ¨λ¦¬λ¥Ό ν¨μ¨μ μΌλ΅ μ‚¬μ©ν•  μ μμµλ‹λ‹¤. κ·Έλ¬λ‚, μ‚¬μ©μ μΏΌλ¦¬μ— λ€ν• μ΅°ν λ²”μ„κ°€ λ§μ•„μ§μλ΅ λ””μ¤ν¬ I&#x2F;O μ‘μ—…μ„ μν–‰ν•΄μ•Όν•λ” λΉ„ν¨μ¨μ μΈ λ¶€λ¶„μΌλ΅ μΈν•΄ μ¤νλ ¤ μ΅°ν μ‹κ°„μ΄ λμ–΄λ‚  μ μμµλ‹λ‹¤.</p><blockquote><p>KDB+ ν”„λ΅μ„Έμ¤λ” κΈ°λ³Έμ μΌλ΅ μμ°¨μ²λ¦¬μ„μ„ μΈμ§€ν•΄μ•Όν•λ©° λ§μ€ νν‹°μ…μ„ μ΅°νν•λ” μΏΌλ¦¬κ°€ μμ£Ό μ”μ²­λ  κ°€λ¥μ„±μ΄ μλ‹¤λ©΄ ν•λ‚μ ν”„λ΅μ„Έμ¤μ—μ„ μ‹κ°„ λ° μΌμλ³„ νν‹°μ…μ„ λ™μ‹μ— μ‚¬μ©ν•  μ μλ„λ΅ μ§€μ›ν•μ§€ μ•μΌλ―€λ΅ μΌμλ³„ νν‹°μ…μ„ κµ¬μ„±ν•λ” λ³„λ„μ HDB ν”„λ΅μ„Έμ¤λ¥Ό λ„μ…ν•λ” κ²ƒμ„ κ³ λ ¤ν•΄μ•Όν•©λ‹λ‹¤.</p></blockquote><p>μ‚¬μ©μ μ”μ²­μ— λ€ν• μΏΌλ¦¬κ°€ μ—¬λ¬κ°μ νν‹°μ…μ„ μ΅°νν•΄μ•Όν•λ” μ‘μ—…μ΄λΌλ©΄ <a href="https://code.kx.com/q/basics/cmdline/#-s-secondary-threads">ν”„λ΅μ„Έμ¤ μ‹¤ν–‰ μ‹ μ§€μ •λ λ³΄μ΅° μ¤λ λ“</a>λ¥Ό ν†µν•΄μ„ νν‹°μ…λ³„ μ΅°νλ¥Ό λ³‘λ ¬λ΅ μν–‰ν•λ„λ΅ ν”„λ΅μ‹μ €λ¥Ό μ‘μ„±ν•μ—¬ μΏΌλ¦¬ μ†μ” μ‹κ°„μ„ μ–΄λμ •λ„λ” μµμ ν™”ν•  μ μμµλ‹λ‹¤. κ½¤ λ§μ€ μΏΌλ¦¬κ°€ λ³‘λ ¬ μ‘μ—…μ„ μν–‰ν•λ” μ½”λ“λ¥Ό λ„μ…ν•¨μΌλ΅μ¨ κ·Ήλ‹¨μ μΌλ΅ μΏΌλ¦¬ μν–‰μ‹κ°„μ΄ μ¤„μ–΄λ“¬μ„ ν™•μΈν•  μ μμ—μµλ‹λ‹¤. μΌλ°μ μΈ μΌ€μ΄μ¤λ¥Ό μλ¥Ό λ“¤μλ©΄ λ‹¨μΌ μ¤λ λ“ λ° μμ°¨ μ²λ¦¬μ— μν•΄ 200msκ°€ μ†μ”λλ” ν”„λ΅μ‹μ €κ°€ λ³‘λ ¬ μ—°μ‚° μ‘μ—… λ° λΉ„ν¨μ¨μ μΈ λ°λ³µ μ‘μ—…μ„ μν–‰ν•λ” λ°©μ‹μ„ κ°μ„ ν•κ³ μ„ 30msκ°€ μ†μ”λλ„λ΅ κ°μ„ λμ—μµλ‹λ‹¤.</p><blockquote><p>κ°μΈμ μΈ μΏΌλ¦¬ κ²½ν—μ— μν•λ©΄ λ°μ΄ν„° μ΅°νμ— λ€ν• λ°λ³µ μ‘μ—…μ„ μµμ†ν™”ν•λ” κ²ƒμ„ κ³ λ ¤ν•κ³  λ°μ΄ν„° μ΅°νμ‹μ—λ” λ³‘λ ¬ μ‘μ—…μ„ μν–‰ν•λ” κ²ƒμ΄ ν¨μ¨μ μΈμ§€λ¥Ό κ²€ν† ν•λ”κ² μΆ‹μµλ‹λ‹¤. κ·Έλ¦¬κ³  μΌλ°μ μΌλ΅ μ‚¬μ©λλ” ν‚¤μ›λ“ λ³΄λ‹¤ λ” μ μ€ μ‹κ°„μ΄λ‚ λ©”λ¨λ¦¬λ¥Ό μ‚¬μ©ν•  μ μλ” λ°©μ‹μ„ μ‚¬μ©ν•λ” κ²ƒμ΄ μ¤‘μ”ν•©λ‹λ‹¤.</p></blockquote><p>μλ¥Ό λ“¤μ–΄, Left Joinμ„ λ°λ³µ μν–‰ν•΄μ•Όν•λ” κ²½μ°λΌλ©΄ λ‹¤μκ³Ό κ°™μ΄ μ—°κ²°ν•μ—¬ μν–‰ν•λ„λ΅ μ‘μ„±ν•  μ μμµλ‹λ‹¤.</p><pre class="language-q" data-language="q"><code class="language-q">R<span class="token verb operator">:</span>A <span class="token keyword">lj</span> B<span class="token punctuation">;</span>R<span class="token verb operator">:</span>R <span class="token keyword">lj</span> C<span class="token punctuation">;</span>R<span class="token verb operator">:</span>R <span class="token keyword">lj</span> D<span class="token punctuation">;</span>R<span class="token verb operator">:</span><span class="token punctuation">(</span><span class="token keyword">lj</span><span class="token adverb function">/</span><span class="token punctuation">)</span><span class="token punctuation">(</span>A<span class="token punctuation">;</span>B<span class="token punctuation">;</span>C<span class="token punctuation">;</span>D<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="μ¥μ• -λ°-λ³΄μ™„"><a href="#μ¥μ• -λ°-λ³΄μ™„" class="headerlink" title="μ¥μ•  λ° λ³΄μ™„"></a>μ¥μ•  λ° λ³΄μ™„</h2><p>μ΄μ κΉμ§€ κ²½ν—ν–λ μ¥μ•  λλ” ν„μ¬ κ²½ν—ν•κ³  μλ” λ¶€λ¶„μ„ κ³µμ ν•κ³  μ–΄λ–»κ² λ³΄μ™„ν•  μ μμ„κΉλ¥Ό μ •λ¦¬ν•©λ‹λ‹¤.</p><h3 id="μμ°¨-μ²λ¦¬λ΅-μΈν•-λ³‘λ©-ν„μƒ"><a href="#μμ°¨-μ²λ¦¬λ΅-μΈν•-λ³‘λ©-ν„μƒ" class="headerlink" title="μμ°¨ μ²λ¦¬λ΅ μΈν• λ³‘λ© ν„μƒ"></a>μμ°¨ μ²λ¦¬λ΅ μΈν• λ³‘λ© ν„μƒ</h3><p>KDB+ ν”„λ΅μ„Έμ¤λ” κΈ°λ³Έμ μΌλ΅ μ‹±κΈ€ μ¤λ λ“λ΅ λ™μ‘ν•λ―€λ΅ <code>λ¨λ“  λ™κΈ° μ”μ²­μ„ μμ°¨μ μΌλ΅ μ²λ¦¬ν•λ‹¤λ” μ μ•½</code>μ΄ μμµλ‹λ‹¤. κ·Έλμ„ νΈλμ­μ…μ„ μ§€μ›ν•μ§€ μ•λ”λΌλ„ ν„μ¬ μ‚¬μ©μμ μ”μ²­μ— λ€ν• μ‘μ—… κ²°κ³Όκ°€ λ‹¤μ μ”μ²­μ— λ°μλ¨μ„ λ³΄μ¥ν•©λ‹λ‹¤. κ·Έλ¬λ‚, ν„μ¬ μν–‰μ¤‘μΈ μ”μ²­μ— λ€ν• μ‘μ—…μ΄ κΈΈμ–΄μ§μλ΅ λ‹¤λ¥Έ μ”μ²­μ΄ λ€κΈ°ν•΄μ•Όν•λ” μ‹κ°„μ΄ λ§μ•„μ§ μ μμµλ‹λ‹¤. KDB+ ν”„λ΅μ„Έμ¤μ κµ¬μ„±μ΄ λ³µμ΅ν•κ³  κ° μ”μ²­μ— λ€ν• μΏΌλ¦¬κ°€ λ³µμ΅ν•΄μ§μ— λ”°λΌμ„ λΉ λ¥΄κ² μ”μ²­λλ” μΏΌλ¦¬κ°€ μμ°¨μ μΌλ΅ λ°€λ¦¬λ” ν„μƒμΌλ΅ μΈν•μ—¬ λ§μ€ μ–΄λ ¤μ›€μ„ κ²½ν—ν•κ³  μμµλ‹λ‹¤. μ‚¬μ©μ μ”μ²­μ— λ€ν• μΏΌλ¦¬ μµμ ν™”λ” μΌμ‹μ μΈ λ€μ•μΌ λΏμ΄λ©° κ²°λ΅ μ μΌλ΅λ” μ•„ν‚¤ν…μ²μ μΈ κ΄€μ μ—μ„ λ‹¤μμ μ •λ³΄λ¥Ό κ³ λ ¤ν•΄μ•Όν•©λ‹λ‹¤.</p><ul><li><a href="https://code.kx.com/q/kb/multithreaded-input/">Multithreaded input queue mode</a>  </li><li><a href="https://code.kx.com/q/kb/deferred-response/">Deferred response</a> </li><li><a href="https://code.kx.com/q/wp/gateway-design/">Common design principles for kdb+ gateways</a></li><li><a href="https://code.kx.com/q/wp/query-routing/">Query Routing: A kdb+ framework for a scalable, load balanced system</a></li></ul><blockquote><p>ν„μ¬ μ΅°μ§μ—μ„λ” μ„μ λ°©μ•λ“¤μ€ κ²€ν† ν•μ€μΌλ‚ μ—¬λ¬κ°€μ§€ μ μ•½μ΄λ‚ μ΄ν•΄ν•κΈ° νλ“  λ¶€λ¶„μΌλ΅ μΈν•μ—¬ KDB+ μ‹μ¤ν…μ„ κµ¬μ„±ν•λ” κ° ν”„λ΅μ„Έμ¤μ— λ€ν• μμ΅΄μ„±μ„ λ¶„μ‚°ν•λ” μ‘μ—…μ„ λ¨Όμ € μ‹λ„ν•΄λ³΄κΈ°λ΅ κ²°μ •ν–μµλ‹λ‹¤. λ‹¤μμ ν”„λ΅μ„Έμ¤κ°€ μ„λ΅ μ κΈ°μ μΌλ΅ ν†µμ‹ ν•λ©΄μ„ λ°μƒν•λ” λ³‘λ© ν„μƒμ„ μµμ†ν™”ν•λ„λ΅ μ¬κµ¬μ„±ν•λ”κ² λ©μ μ…λ‹λ‹¤.</p></blockquote><h3 id="λ‹¨μΌ-λ””μ¤ν¬-I-x2F-O-μ‘μ—…μΌλ΅-μΈν•-λ³‘λ©-ν„μƒ"><a href="#λ‹¨μΌ-λ””μ¤ν¬-I-x2F-O-μ‘μ—…μΌλ΅-μΈν•-λ³‘λ©-ν„μƒ" class="headerlink" title="λ‹¨μΌ λ””μ¤ν¬ I&#x2F;O μ‘μ—…μΌλ΅ μΈν• λ³‘λ© ν„μƒ"></a>λ‹¨μΌ λ””μ¤ν¬ I&#x2F;O μ‘μ—…μΌλ΅ μΈν• λ³‘λ© ν„μƒ</h3><p>ν•λ‚μ μ„λ²„μ— KDB+ ν”„λ΅μ„Έμ¤λ¥Ό μ—¬λ¬κ° κµ¬μ„±ν•λ”λΌλ„ νΉμ • ν”„λ΅μ„Έμ¤μ—μ„ λ””μ¤ν¬ I&#x2F;O μ‘μ—…μ„ μν–‰ν•λ” κ²½μ° λ™μΌν• ν΄λ”λ‚ νμΌμ— λ€ν• μ‘μ—…μ„ μν–‰ν•΄μ•Όν•λ” κ²½μ° μΌμ‹μ μΌλ΅ λ€κΈ°ν•λ” λ³‘λ© ν„μƒμ΄ μ•ΌκΈ°λ  μ μμµλ‹λ‹¤. νν‹°μ…μ— μ €μ¥λ λ°μ΄ν„°κ°€ μ •λ ¬λμ§€ μ•μ•λ‹¤κ±°λ‚ μ£Όμ” μ»¬λΌμ— μ†μ„±μ΄ λ¶€μ—¬λμ§€ μ•μ€ λ¶€λ¶„μ„ μ„ν•΄ νν‹°μ…μ„ λ³΄μ •ν•λ” ν”„λ΅μ„Έμ¤κ°€ μ‘μ—…μ¤‘μΌλ• λ™μΌν• νν‹°μ… ν΄λ”λ¥Ό λ΅λ“ν•΄μ•Όν•λ” HDB ν”„λ΅μ„Έμ¤μ—μ„ μ‚¬μ©μ μ”μ²­μ— λ€ν• μ‘μ—…μ΄ μΌμ‹μ μΌλ΅ λ§μ΄ μ†μ”λλ” λ¬Έμ λ¥Ό κ²½ν—ν–μµλ‹λ‹¤.</p><blockquote><p>ν‹°μ»¤ν”λνΈ μ•„ν‚¤ν…μ²μ—μ„λ” ν„μ¬ μ‹κ°„ λλ” μΌμμ— λ€ν• μ‹κ³„μ—΄ λ°μ΄ν„°κ°€ λ“±λ΅λμ–΄μ•Όν•μ§€λ§ κ³Όκ±°μ— λ€ν• μ‹κ³„μ—΄ λ°μ΄ν„°κ°€ μ‹¤μ‹κ°„μΌλ΅ λ“±λ΅λ¨μ— λ”°λΌ μ¬λ°”λ¥Έ νν‹°μ…μΌλ΅ λ°μ΄ν„°λ¥Ό λ³‘ν•©ν•λ” μ‘μ—…μΌλ΅ μΈν•΄ λ””μ¤ν¬ I&#x2F;Oλ΅ μΈν• λ³‘λ© ν„μƒμ΄ μ•ΌκΈ°λκ³  μμµλ‹λ‹¤. λ°μ΄ν„° μ—°λ™μ„ μ‹μ‘ν• νΉμ • κ³ κ°μ΄ κ°€μ§€κ³  μλ κ³Όκ±° λ°μ΄ν„°λ¥Ό ν•λ²μ— λ“±λ΅ν•κ² λ¨μΌλ΅μ¨ μ΄λ΅ μΈν•΄ ν”„λ΅μ„Έμ¤μ— λ€ν• μ”μ²­μ΄ λλ ¤μ§μ΄ λ³΄κ³ λκ³  μμµλ‹λ‹¤.</p></blockquote><h3 id="ν”„λ΅μ„Έμ¤-μμ΅΄μ„±μΌλ΅-μΈν•-λ©μ¶¤-ν„μƒ"><a href="#ν”„λ΅μ„Έμ¤-μμ΅΄μ„±μΌλ΅-μΈν•-λ©μ¶¤-ν„μƒ" class="headerlink" title="ν”„λ΅μ„Έμ¤ μμ΅΄μ„±μΌλ΅ μΈν• λ©μ¶¤ ν„μƒ"></a>ν”„λ΅μ„Έμ¤ μμ΅΄μ„±μΌλ΅ μΈν• λ©μ¶¤ ν„μƒ</h3><p><img data-src="https://code.kx.com/q/img/architecture.png"></p><p>KDB+ μ‹μ¤ν… μ•„ν‚¤ν…μ²λ” λ‹¤μμ ν”„λ΅μ„Έμ¤κ°€ μ κΈ°μ μΌλ΅ ν†µμ‹ ν•λ©° μ‹μ¤ν…μ„ κµ¬μ„±ν•λ‹¤κ³  ν•μ€μµλ‹λ‹¤. κ°„λ‹¨ν•κ² μ‹¤ν–‰λμ—λ μ‹μ¤ν…μ΄ μ—¬λ¬κ°€μ§€ μ΄μ μ— μν•΄μ„ λ³„λ„μ ν”„λ΅μ„Έμ¤κ°€ μ¶”κ°€λ¨μ— λ”°λΌμ„ μ‹κ°„ λλ” μΌμλ³„ νν‹°μ…μ„ μ‚¬μ©ν•λ” HDB ν”„λ΅μ„Έμ¤λ“¤μ΄ ν•λ‚μ RDB ν”„λ΅μ„Έμ¤μ™€ λ™μΌν• λ³„λ„μ ν”„λ΅μ„Έμ¤λ¥Ό μμ΅΄ν•¨μ— λ”°λΌμ„ μ„λ΅ μ”μ²­μ΄ λ³‘λ©λμ–΄ ν”„λ΅μ„Έμ¤κ°€ μ”μ²­μ„ μ²λ¦¬μ¤‘μΈλ°λ„ λ¶κµ¬ν•κ³  ν”„λ΅μ„Έμ¤κ°€ λ©μ¶”λ” κ²ƒ κ°™μ•„ λ³΄μ΄λ” ν„μƒμ„ ν™•μΈν–μµλ‹λ‹¤. κ° HDB ν”„λ΅μ„Έμ¤λ“¤μ΄ μ‹¤μ‹κ°„ λ°μ΄ν„° μ΅°νλ¥Ό μ„ν•΄μ„ μ‹¤μ‹κ°„ λ°μ΄ν„°λ¥Ό μ μ§€λ§ν•λ” λ³„λ„μ μ½κΈ° μ „μ© RDB ν”„λ΅μ„Έμ¤λ¥Ό μμ΅΄ν•λ„λ΅ μ¬κµ¬μ„±ν•μ€κ³  μ΄λ¬ν• ν„μƒμ΄ μ μ°¨μ μΌλ΅ μ¤„μ–΄λ“¤κ³  μμµλ‹λ‹¤.</p><h3 id="EOH-λ‹¤μ΄νƒ€μ„"><a href="#EOH-λ‹¤μ΄νƒ€μ„" class="headerlink" title="EOH λ‹¤μ΄νƒ€μ„"></a>EOH λ‹¤μ΄νƒ€μ„</h3><p>ν‹°μ»¤ν”λνΈλ” μ‹κ°„ λλ” μΌκ³Όκ°€ μΆ…λ£λλ©΄ EOH λλ” EOD μ΄λ²¤νΈλ¥Ό λ°μ΄ν„° ν”Όλ“ κµ¬λ…μμ—κ² μ „λ‹¬ν•©λ‹λ‹¤. κ·Έλ¦¬κ³  νΉμ • RDB ν”„λ΅μ„Έμ¤λ” μ‹κ°„ λλ” μΌκ³Ό λ°μ΄ν„°λ¥Ό ν„μ¬ νν‹°μ…μ— κΈ°λ΅ν•©λ‹λ‹¤. ν”„λ΅μ„Έμ¤μ—μ„ λ°μ΄ν„°λ¥Ό νμΌλ΅ κΈ°λ΅ν•κΈ°μ „μ— μ •λ ¬μ„ μ‹λ„ν•λ―€λ΅ λ°μ΄ν„° κ·λ¨μ™€ μ„λ²„ μ„±λ¥μ— λ”°λΌμ„ <a href="https://code.kx.com/q/wp/intraday-writedown/#downtime">Downtime</a>μ΄ λ°μƒν•  μ μμµλ‹λ‹¤. μ΄λ¬ν• λ‹¤μ΄νƒ€μ„μ„ μµμ†ν™”ν•κΈ° μ„ν•΄μ„ RDB ν”„λ΅μ„Έμ¤μ—μ„ λ°μ΄ν„°λ¥Ό μ €μ¥ν• λ•λ” λ°μ΄ν„° μ •λ ¬μ΄λ‚ μ¤ν”λ μ΄ ν…μ΄λΈ”μ— λ€ν• μ†μ„± λ¶€μ—¬λ¥Ό μµμ†ν™”ν•κ³  νν‹°μ… λ³΄μ •μ„ μν–‰ν•λ” λ³„λ„μ ν”„λ΅μ„Έμ¤λ¥Ό λ‘μ–΄μ„ νν‹°μ… λ°μ΄ν„°λ¥Ό μ •λ ¬ν•κ³  μΏΌλ¦¬ μµμ ν™”λ¥Ό μ„ν• μ»¬λΌμ— μ†μ„±μ„ λ¶€μ—¬ν•λ” μ‘μ—…μ„ μν–‰ν•λ„λ΅ μ¶”κ°€ κµ¬μ„±ν–μµλ‹λ‹¤.</p><blockquote><p>μ‹¤μ‹κ°„ λ°μ΄ν„°μ— κ³Όκ±°μ μ‹κ³„μ—΄ λ°μ΄ν„°κ°€ λ§μ΄ μ΅΄μ¬ν•  μ μλ” μΌ€μ΄μ¤κ°€ λ°μƒν•λ©΄μ„ νν‹°μ…μ„ λ‹¤μ‹ λ³΄μ •ν•λ” μ‘μ—…μ„ μν–‰ν•λ” ν”„λ΅μ„Έμ¤μ— λ€ν• μ‘μ—…λ„ κ³Όμ¤‘ν™”λλ” κ²ƒμ„ ν™•μΈν•κ³  μμµλ‹λ‹¤.</p></blockquote><hr><p>μ•„λ¬΄λ¦¬ λΉ λ¥Έ μ„±λ¥μ„ μλ‘ν•λ” κΈ°μ μ΄μ–΄λ„ μ–΄λ–¤ ν™κ²½μ—μ„ μ‚¬μ©λλ”μ§€μ™€ μ–΄λ–»κ² κµ¬μ„±ν•μ—¬ μ‚¬μ©ν•λ”μ§€μ— λ”°λΌμ„ λ§μ€ λ¬Έμ λ‚ μ μ•½μ΄ λ°μƒν•  μ μμµλ‹λ‹¤. κ°„λ‹¨ν–λ μ‹μ¤ν…μ΄ λ³µμ΅ν•΄μ§€λ©΄μ„ μ¥μ• κ°€ λ°μƒν•λ©΄ κ·Έκ²ƒμ„ λ³΄μ™„ν•κΈ° μ„ν•μ—¬ μ—¬λ¬κ°€μ§€ μ‹λ„λ¥Ό ν•΄λ³΄μ•„μ•Όν•©λ‹λ‹¤. μ΄μ „μ κ²½ν—μ„ ν† λ€λ΅ κ·Έλ΄λ¦¬ μ—†λ‹¤, κ·Έλ΄ κ°€λ¥μ„±μ€ μ—†λ‹¤λΌλ” κ΄€μ μ€ μ°λ¦¬λ¥Ό νλ“¤κ²ν•  μ μμµλ‹λ‹¤. κΈ°μ μ„ μ‚¬μ©ν•λ” λ°©μ‹μ΄ λ™μΌν•μ§€ μ•μμ„ μΈμ •ν•κ³  κ·Έκ²ƒμΌλ΅λ¶€ν„° μ•ΌκΈ°λλ” λ¬Έμ μ μ€ μ—†λ”μ§€ μ§€μ†μ μΌλ΅ κ²€ν† ν•΄μ•Όν•©λ‹λ‹¤. κ·Έκ²ƒμ„ μ°λ¦¬λ” μ¥μ•  λ€μ‘ λλ” ν›„μ† μ΅°μΉλΌκ³  λ§ν•©λ‹λ‹¤.</p><h2 id="μ°Έκ³ "><a href="#μ°Έκ³ " class="headerlink" title="μ°Έκ³ "></a>μ°Έκ³ </h2><ul><li><a href="https://kx.com/blog/what-makes-time-series-database-kdb-so-fast/">What Makes Time-Series Database kdb+ So Fast?</a></li><li><a href="https://code.kx.com/q/kb/kdb-tick/">Kdb+tick configuration</a>  </li><li><a href="https://code.kx.com/q/wp/rt-tick/">Building real-time tick subscribers</a></li><li><a href="https://github.com/kdevkr/kdb">Learning KDB+</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;μ—λ„μ§€ λ¶„μ•Όλ” λ‚λ…Έμ΄ λλ” λ°€λ¦¬μ΄ λ‹¨μ„μ μ‹κ³„μ—΄ λ°μ΄ν„°κ°€ λΉ λ¥΄κ² μƒμ„±λλ” νΉμν• μ‹μ¥μ…λ‹λ‹¤. μ‹κ³„μ—΄ λ°μ΄ν„°λ” κΈμµ(Financial) μ‹μ¥μ—μ„λ¶€ν„° μ¤‘μ”μ„±μ΄ λ¶€κ°λμ—μΌλ‚ μ΄μ λ” λ‹¤μ–‘ν• λ¶„μ•Όμ—μ„ λ°μƒν•κ³  μ΄λ¥Ό ν™μ©ν• λ§μ€ μ„λΉ„μ¤κ°€ λ§λ“¤μ–΄μ§€κ³  μμµλ‹λ‹¤</summary>
      
    
    
    
    
    <category term="KDB+/q" scheme="https://kdevkr.github.io/tags/KDB-q/"/>
    
    <category term="TP" scheme="https://kdevkr.github.io/tags/TP/"/>
    
  </entry>
  
  <entry>
    <title>μλ°” λ‚ μ§ λ° μ‹κ°„ ν¬λ§·</title>
    <link href="https://kdevkr.github.io/java-datetime-format/"/>
    <id>https://kdevkr.github.io/java-datetime-format/</id>
    <published>2022-03-19T00:00:00.000Z</published>
    <updated>2022-05-23T14:52:51.525Z</updated>
    
    <content type="html"><![CDATA[<p>μ—¬λ¬ κµ­κ°€λ¥Ό λ€μƒμΌλ΅ ν•΄μ•Όν•λ” μ„λΉ„μ¤λ¥Ό λ§λ“¤μ–΄κ°€κ² λλ” κ²½μ° μ–Έμ–΄ λΏλ§ μ•„λ‹λΌ μ‹κ°„μ„ λ‹¤λ£¨λ” κ²ƒλ„ μ¤‘μ”ν•©λ‹λ‹¤. λ‹¨μν•κ² λ§ν•΄μ„ ν•κµ­μ—μ„ μ„λΉ„μ¤λ¥Ό μ κ³µν•λ‹¤κ³ ν•΄μ„ ν•κµ­ μ‹κ°„μΌλ΅ λ¨λ“  μ‹κ°„ λ°μ΄ν„°λ¥Ό λ‹¤λ£¨λ” κ²ƒμ€ μΆ‹μ€ λ°©μ‹μ΄ μ•„λ‹™λ‹λ‹¤. κΈ°λ³Έμ μΌλ΅λ” UTCλΌκ³  ν•λ” μ„Έκ³„ ν‘μ • μ‹κ°„μ„ κΈ°μ¤€μΌλ΅ μ‹κ°„μ„ μ €μ¥ν•΄μ•Όν•©λ‹λ‹¤. PostgreSQLκ³Ό κ°™μ€ λ°μ΄ν„°λ² μ΄μ¤μ—μ„λ„ Timestampλ¥Ό μ €μ¥ν•κ² λλ” κ²½μ° λ‚΄λ¶€μ μΌλ΅λ” UTCλ΅ μ €μ¥λ©λ‹λ‹¤. λ”°λΌμ„, 2022λ…„ 3μ›” 19μΌ 12μ‹ λΌλ” μ‹κ°„μ€ <code>2022λ…„ 3μ›” 19μΌ 03μ‹</code>λ΅ μ €μ¥λλ”κ²ƒμ΄μ£ .</p><blockquote><p>μ• ν”λ¦¬μΌ€μ΄μ… λΏλ§ μ•„λ‹λΌ μ„λ²„ κ·Έλ¦¬κ³  λ°μ΄ν„°λ² μ΄μ¤ λ¨λ‘ UTCλ΅ μ„¤μ •ν•μ—¬ μ‚¬μ©ν•λ”κ² μΌλ°μ μ…λ‹λ‹¤. μλ¥Ό λ“¤μ–΄, μ•„λ§μ΅΄ μ›Ή μ„λΉ„μ¤μ EC2λ” ν•κµ­ λ¦¬μ „μΈλ°λ„ λ¶κµ¬ν•κ³  ν•κµ­ μ‹κ°„λ€κ°€ μ•„λ‹ UTCλ΅ μ„¤μ •λμ–΄μμµλ‹λ‹¤.</p></blockquote><p>κ·Έλ¦¬κ³  μ‹κ°„ λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•  λ•λ” <code>2022-03-19 12:00</code>κ³Ό κ°™μ€ λ¬Έμμ—΄ ν•νƒκ°€ μ•„λ‹ <a href="https://www.unixtimestamp.com/">Unix Timestamp</a>μ λ°€λ¦¬μ΄κ°€ λ¶€μ—¬λ μƒνƒλ΅ μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈκ°„ μ”μ²­κ³Ό μ‘λ‹µμ— μ‚¬μ©λ©λ‹λ‹¤. κ°€λ”μ”© κµ­λ‚΄ μ‹κ°„λ§ λ‹¤λ£¨λ κ°λ°μλ“¤μ΄ UTC λλ” Unix Timestampμ— λ€ν•΄μ„ λ¨λ¥΄λ” κ²½μ°λ„ κ½¤ λ§μ•μµλ‹λ‹¤. λ°€λ¦¬μ΄ ν•μ‹μ Unix Timestampλ¥Ό μ „λ‹¬λ°›μ•μΌλ‚ μ‹¤μ λ΅ λ³€ν™ν•΄λ³΄λ‹ 9μ‹κ°„μ΄ λΉ μ§„κ² μ•„λ‹λΌ μ¤νλ ¤ 9μ‹κ°„μ΄ λ”ν•΄μ§„ μƒνƒλ΅ μ „λ‹¬ν•λ κ²½ν—λ„ μμµλ‹λ‹¤.</p><h2 id="Java-Date-Format"><a href="#Java-Date-Format" class="headerlink" title="Java Date Format"></a>Java Date Format</h2><p>μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ κ°„μ— μ‹κ°„ λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•κ±°λ‚ κ°λ°μ μ‚¬μ΄μ— APIλ¥Ό μ κ³µν•  λ•μ—λ” μ•μ„ μ΄μ•ΌκΈ°ν• Unix Timestampλ΅ μ „λ‹¬ν•λ„λ΅ μ¤ν™μ„ λ§μ¶ μ μμµλ‹λ‹¤. κ·Έλ¬λ‚ κ°λ°μκ°€ μ•„λ‹ μΌλ° μ‚¬μ©μκ°€ μ„λΉ„μ¤ λ‚΄μ—μ„ CSV λλ” μ—‘μ…€ νμΌ ν•μ‹μΌλ΅ λ°μ΄ν„°λ¥Ό μ—…λ΅λ“ν•κ±°λ‚ λ‹¤μ΄λ΅λ“ λ°›μ„λ•μ—λ” μ«μκ°’μΈ Unix Timestampκ°€ μ•„λ‹ <code>2022-03-19 12:00:00</code>κ³Ό κ°™μ€ μ–΄λ– ν• λ¬Έμ ν•νƒμ΄μ–΄μ•Όν•©λ‹λ‹¤. μ™λƒν•λ©΄ μΌλ°μΈλ“¤μ€ UTCκ°€ λ¬΄μ—‡μΈμ§€ Unix Timestampκ°€ λ¬΄μ—‡μΈμ§€ λ¨λ¥΄λ” μ‚¬λμ΄ λ§μΌλ‹κΉμ”. μ‹¬μ§€μ–΄λ” κ°λ°μλ“¤ μ¤‘μ—μ„λ„β€¦</p><blockquote><p>μλ°” 8μ Date&#x2F;Time APIμ— λ€ν•΄μ„λ” λ„¤μ΄λ²„ D2μ— κ³µμ λ <a href="%5Bhttps://d2.naver.com/helloworld/645609">Javaμ λ‚ μ§μ™€ μ‹κ°„ API</a>λ¥Ό μ°Έκ³ ν•μ‹λ©΄ μΆ‹μ„ κ²ƒ κ°™μµλ‹λ‹¤.</p></blockquote><h3 id="DateTimeFormatter"><a href="#DateTimeFormatter" class="headerlink" title="DateTimeFormatter"></a>DateTimeFormatter</h3><p>μλ°” 8μ λ‚ μ§ λ° μ‹κ°„ ν΄λμ¤μ— λ€ν•΄μ„ λ‚ μ§ ν¬λ§·μ„ μ μ©ν•΄μ•Όν•λ” κ²½μ° <a href="https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html">DateTimeFormatter</a>λ¥Ό μ‚¬μ©ν•΄μ•Όν•©λ‹λ‹¤. κ·Έλ¦¬κ³  μΌλ°μ μΌλ΅ λ‹¤μκ³Ό κ°™μ€ μ½”λ“λ΅ λ‚ μ§ λ°μ΄ν„°λ¥Ό λ³€ν™ν•  μ μμ£ .</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">TimeZone</span> tzSeoul <span class="token operator">=</span> <span class="token class-name">TimeZone</span><span class="token punctuation">.</span><span class="token function">getTimeZone</span><span class="token punctuation">(</span><span class="token string">"Asia/Seoul"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">String</span> dateStr <span class="token operator">=</span> <span class="token string">"2022-03-19 12:00:00"</span><span class="token punctuation">;</span><span class="token class-name">DateTimeFormatter</span> dateTimeFormatter <span class="token operator">=</span> <span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd HH:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withZone</span><span class="token punctuation">(</span>tzSeoul<span class="token punctuation">.</span><span class="token function">toZoneId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">ZonedDateTime</span> dateTime <span class="token operator">=</span> <span class="token class-name">ZonedDateTime</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>dateStr<span class="token punctuation">,</span> dateTimeFormatter<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s -> %s%n"</span><span class="token punctuation">,</span> dateStr<span class="token punctuation">,</span> dateTime<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><blockquote><p>μ„ μ½”λ“λ” μ΄ν•΄ν•κΈ°μ—λ” μ‰¬μ°λ‚ ν•κ°€μ§€ λ¬Έμ μ μ€ μ–΄λ–¤ νΉμ •ν• ν•νƒμ λ¬Έμμ—΄λ΅ κµ¬μ„±λ λ°μ΄ν„°λ§ λ³€ν™ν•  μ μλ‹¤λ” μ μ…λ‹λ‹¤.</p></blockquote><p>λ§μ•½, μ„λΉ„μ¤ μ‚¬μ©μκ°€ 2022λ…„ 3μ›” 19μΌ 0μ‹μ μ‹κ°„μ„ ν‘ν„ν•κ³ μ ν•λ‹¤λ©΄ 2022-03-19 00:00:00κ³Ό κ°™μ΄ λ¶ν•„μ”ν•κ² 00:00:00μ„ λ¶™μ—¬μ•Όν•λ” λ‹¨μ μ΄ μƒκΈ°κ² λ©λ‹λ‹¤. μ΄λ¥Ό λ³΄μ™„ν•κΈ° μ„ν•΄μ„λ” μ—¬λ¬κ°€μ§€ ν•μ‹μ λ‚ μ§ ν¬λ§·μ„ μ²λ¦¬ν•  μ μλ” μ½”λ“κ°€ ν•„μ”ν•©λ‹λ‹¤.</p><h3 id="DateTimeFormatterBuilder"><a href="#DateTimeFormatterBuilder" class="headerlink" title="DateTimeFormatterBuilder"></a>DateTimeFormatterBuilder</h3><p>μ—¬λ¬κ°€μ§€ ν•νƒμ λ‚ μ§ ν•μ‹μ„ μ§€μ›ν•΄μ•Όν•λ” κ²½μ°μ—λ” <strong>Optional ν¨ν„΄</strong>μ„ μ μ©ν•΄μ„ μ²λ¦¬ν•  μ μμµλ‹λ‹¤. DateTimeFormatterμ— κ·Έλ€λ΅ μ μ©ν• μλ„ μμΌλ‚ DateTimeFormatterBuilderλ¥Ό ν†µν•΄ μ—¬λ¬κ°€μ§€ μ²λ¦¬ λ°©μ‹μ— λ€ν• μµμ…μ΄ μ μ©λ ν•νƒλ΅ DateTimeFormatterλ¥Ό λ§λ“¤ μ μμµλ‹λ‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">TimeZone</span> tzSeoul <span class="token operator">=</span> <span class="token class-name">TimeZone</span><span class="token punctuation">.</span><span class="token function">getTimeZone</span><span class="token punctuation">(</span><span class="token string">"Asia/Seoul"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">DateTimeFormatter</span> dateTimeFormatter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DateTimeFormatterBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">appendPattern</span><span class="token punctuation">(</span><span class="token string">"[yyyy-MM-dd HH:mm:ss]"</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">appendPattern</span><span class="token punctuation">(</span><span class="token string">"[yyyy-MM-dd HH:mm]"</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">appendPattern</span><span class="token punctuation">(</span><span class="token string">"[yyyy-MM-dd]"</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">parseDefaulting</span><span class="token punctuation">(</span><span class="token class-name">ChronoField</span><span class="token punctuation">.</span>HOUR_OF_DAY<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">parseDefaulting</span><span class="token punctuation">(</span><span class="token class-name">ChronoField</span><span class="token punctuation">.</span>MINUTE_OF_HOUR<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">parseDefaulting</span><span class="token punctuation">(</span><span class="token class-name">ChronoField</span><span class="token punctuation">.</span>SECOND_OF_MINUTE<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">toFormatter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">withZone</span><span class="token punctuation">(</span>tzSeoul<span class="token punctuation">.</span><span class="token function">toZoneId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> dateStrArr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">&#123;</span><span class="token string">"2022-03-19 00:00:00"</span><span class="token punctuation">,</span> <span class="token string">"2022-03-19 00:00"</span><span class="token punctuation">,</span> <span class="token string">"2022-03-19"</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> dateStr <span class="token operator">:</span> dateStrArr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">ZonedDateTime</span> dateTime <span class="token operator">=</span> <span class="token class-name">ZonedDateTime</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>dateStr<span class="token punctuation">,</span> dateTimeFormatter<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s -> %s%n"</span><span class="token punctuation">,</span> dateStr<span class="token punctuation">,</span> dateTime<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// 2022-03-19 00:00:00 -> 2022-03-19T00:00+09:00[Asia/Seoul]</span><span class="token comment">// 2022-03-19 00:00 -> 2022-03-19T00:00+09:00[Asia/Seoul]</span><span class="token comment">// 2022-03-19 -> 2022-03-19T00:00+09:00[Asia/Seoul]</span></code></pre><h4 id="Unable-to-obtain-LocalTime-from-TemporalAccessor"><a href="#Unable-to-obtain-LocalTime-from-TemporalAccessor" class="headerlink" title="Unable to obtain LocalTime from TemporalAccessor"></a>Unable to obtain LocalTime from TemporalAccessor</h4><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">TimeZone</span> tzSeoul <span class="token operator">=</span> <span class="token class-name">TimeZone</span><span class="token punctuation">.</span><span class="token function">getTimeZone</span><span class="token punctuation">(</span><span class="token string">"Asia/Seoul"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">DateTimeFormatter</span> dateTimeFormatter <span class="token operator">=</span> <span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token string">"[yyyy-MM-dd HH:mm:ss][yyyy-MM-dd HH:mm][yyyy-MM-dd]"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withZone</span><span class="token punctuation">(</span>tzSeoul<span class="token punctuation">.</span><span class="token function">toZoneId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> dateStrArr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">&#123;</span><span class="token string">"2022-03-19 00:00:00"</span><span class="token punctuation">,</span> <span class="token string">"2022-03-19 00:00"</span><span class="token punctuation">,</span> <span class="token string">"2022-03-19"</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> dateStr <span class="token operator">:</span> dateStrArr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">ZonedDateTime</span> dateTime <span class="token operator">=</span> <span class="token class-name">ZonedDateTime</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>dateStr<span class="token punctuation">,</span> dateTimeFormatter<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s -> %s%n"</span><span class="token punctuation">,</span> dateStr<span class="token punctuation">,</span> dateTime<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><p>μ„μ™€ κ°™μ΄ DateTimeFormatterBuilderλ¥Ό μ‚¬μ©ν•μ§€ μ•κ³ μ„λ„ DateTimeFormatter ν¨ν„΄ μμ²΄λ΅ λ‚ μ§ ν¬λ§· μ²΄μ΄λ‹μ„ κµ¬μ„±ν•  μ μμµλ‹λ‹¤. κ·Έλ¬λ‚, 2022-03-19μ™€ κ°™μ΄ μ‹κ°„ λ¶€λ¶„μ΄ μ—†λ” ν•νƒμ κ²½μ°μ—λ” λ‹¤μκ³Ό κ°™μ΄ μ²λ¦¬ν•  μ μ—†λ‹¤λ” μμ™Έκ°€ λ°μƒν•κ² λ©λ‹λ‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>format<span class="token punctuation">.</span></span>DateTimeParseException</span><span class="token operator">:</span> <span class="token class-name">Text</span> '<span class="token number">2022</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">19</span>' could not be parsed<span class="token operator">:</span> <span class="token class-name">Unable</span> <span class="token keyword">to</span> <span class="token namespace">obtain</span> <span class="token class-name">ZonedDateTime</span> from <span class="token class-name">TemporalAccessor</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>ISO<span class="token punctuation">,</span><span class="token class-name">Asia</span><span class="token operator">/</span><span class="token class-name">Seoul</span> resolved <span class="token keyword">to</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">19</span> of type <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>format<span class="token punctuation">.</span></span>Parsed</span>at java<span class="token punctuation">.</span>base<span class="token operator">/</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>format<span class="token punctuation">.</span></span>DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">createError</span><span class="token punctuation">(</span><span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">2017</span><span class="token punctuation">)</span>at java<span class="token punctuation">.</span>base<span class="token operator">/</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>format<span class="token punctuation">.</span></span>DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">1952</span><span class="token punctuation">)</span>at java<span class="token punctuation">.</span>base<span class="token operator">/</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span>ZonedDateTime</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token class-name">ZonedDateTime</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">598</span><span class="token punctuation">)</span>at <span class="token class-name"><span class="token namespace">test<span class="token punctuation">.</span></span>Main</span><span class="token punctuation">.</span><span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">Main</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">17</span><span class="token punctuation">)</span><span class="token class-name">Caused</span> by<span class="token operator">:</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span>DateTimeException</span><span class="token operator">:</span> <span class="token class-name">Unable</span> <span class="token keyword">to</span> <span class="token namespace">obtain</span> <span class="token class-name">ZonedDateTime</span> from <span class="token class-name">TemporalAccessor</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>ISO<span class="token punctuation">,</span><span class="token class-name">Asia</span><span class="token operator">/</span><span class="token class-name">Seoul</span> resolved <span class="token keyword">to</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">19</span> of type <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>format<span class="token punctuation">.</span></span>Parsed</span>at java<span class="token punctuation">.</span>base<span class="token operator">/</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span>ZonedDateTime</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token class-name">ZonedDateTime</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">566</span><span class="token punctuation">)</span><span class="token class-name">Caused</span> by<span class="token operator">:</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span>DateTimeException</span><span class="token operator">:</span> <span class="token class-name">Unable</span> <span class="token keyword">to</span> <span class="token namespace">obtain</span> <span class="token class-name">ZonedDateTime</span> from <span class="token class-name">TemporalAccessor</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>ISO<span class="token punctuation">,</span><span class="token class-name">Asia</span><span class="token operator">/</span><span class="token class-name">Seoul</span> resolved <span class="token keyword">to</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">19</span> of type <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>format<span class="token punctuation">.</span></span>Parsed</span>at java<span class="token punctuation">.</span>base<span class="token operator">/</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>format<span class="token punctuation">.</span></span>Parsed</span><span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token class-name">Parsed</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">235</span><span class="token punctuation">)</span>at java<span class="token punctuation">.</span>base<span class="token operator">/</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>format<span class="token punctuation">.</span></span>DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">1948</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token number">2</span> more<span class="token class-name">Caused</span> by<span class="token operator">:</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span>DateTimeException</span><span class="token operator">:</span> <span class="token class-name">Unable</span> <span class="token keyword">to</span> <span class="token namespace">obtain</span> <span class="token class-name">LocalTime</span> from <span class="token class-name">TemporalAccessor</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>ISO<span class="token punctuation">,</span><span class="token class-name">Asia</span><span class="token operator">/</span><span class="token class-name">Seoul</span> resolved <span class="token keyword">to</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">19</span> of type <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>format<span class="token punctuation">.</span></span>Parsed</span><span class="token class-name">Caused</span> by<span class="token operator">:</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span>DateTimeException</span><span class="token operator">:</span> <span class="token class-name">Unable</span> <span class="token keyword">to</span> <span class="token namespace">obtain</span> <span class="token class-name">LocalTime</span> from <span class="token class-name">TemporalAccessor</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>ISO<span class="token punctuation">,</span><span class="token class-name">Asia</span><span class="token operator">/</span><span class="token class-name">Seoul</span> resolved <span class="token keyword">to</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">19</span> of type <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>format<span class="token punctuation">.</span></span>Parsed</span>at java<span class="token punctuation">.</span>base<span class="token operator">/</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span>LocalTime</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token class-name">LocalTime</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">431</span><span class="token punctuation">)</span>at java<span class="token punctuation">.</span>base<span class="token operator">/</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span>ZonedDateTime</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token class-name">ZonedDateTime</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">561</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token number">4</span> more</code></pre><blockquote><p>λ”°λΌμ„, DateTimeFormatterBuilderλ΅ λ¬Έμμ—΄λ΅ κµ¬μ„±λ λ‚ μ§ λ° μ‹κ°„ λ°μ΄ν„°μ— κµ¬μ„±λμ§€ μ•λ” λ¶€λ¶„μ„ μ–΄λ–»κ² μ²λ¦¬ν•  κ²ƒμΈκ°€μ— λ€ν• μµμ…μ„ μ μ©ν•μ—¬ DateTimeFormatterλ¥Ό λ§λ“¤μ–΄μ„ μ‚¬μ©ν•λ”κ² μΆ‹μ•„λ³΄μ…λ‹λ‹¤.</p></blockquote><p>λ§μ•½, μ΄ κΈ€μ„ λ³΄μ‹λ” μ—¬λ¬λ¶„λ“¤μ΄ μ—¬λ¬κ°€μ§€ ν•νƒμ λ‚ μ§ ν¬λ§·μ„ μ²λ¦¬ν•κΈ° μ„ν•΄μ„ μ•„λμ™€ κ°™μ΄ DateTimeFormattterλ¥Ό μ—¬λ¬κ° λ§λ“¤μ–΄μ„ μ²λ¦¬ν•λ” μ½”λ“λ¥Ό μ‘μ„±ν–λ‹¤λ©΄ DateTimeFormatterBuilderλ΅ ν•λ‚μ DateTimeFormatterλ¥Ό μ‚¬μ©ν•΄μ„ μΆ€ λ” κΉ”λ”ν• ν•νƒμ μ½”λ“λ΅ λ§λ“¤μ–΄λ³΄μ‹κΈ°λ¥Ό μ¶”μ²ν•΄λ“λ¦½λ‹λ‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">String</span> dateStr <span class="token operator">=</span> <span class="token string">"2022-03-19"</span><span class="token punctuation">;</span><span class="token class-name">ZonedDateTime</span> dateTime <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token keyword">try</span> <span class="token punctuation">&#123;</span>    dateTime <span class="token operator">=</span> <span class="token class-name">ZonedDateTime</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>dateStr<span class="token punctuation">,</span> <span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd HH:mm"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withZone</span><span class="token punctuation">(</span>tzSeoul<span class="token punctuation">.</span><span class="token function">toZoneId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">DateTimeException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">LocalDateTime</span> localDateTime <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>dateStr<span class="token punctuation">,</span> <span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withZone</span><span class="token punctuation">(</span>tzSeoul<span class="token punctuation">.</span><span class="token function">toZoneId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">atStartOfDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    dateTime <span class="token operator">=</span> <span class="token class-name">ZonedDateTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>localDateTime<span class="token punctuation">,</span> tzSeoul<span class="token punctuation">.</span><span class="token function">toZoneId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>dateTime<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>κ°μ‚¬ν•©λ‹λ‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;μ—¬λ¬ κµ­κ°€λ¥Ό λ€μƒμΌλ΅ ν•΄μ•Όν•λ” μ„λΉ„μ¤λ¥Ό λ§λ“¤μ–΄κ°€κ² λλ” κ²½μ° μ–Έμ–΄ λΏλ§ μ•„λ‹λΌ μ‹κ°„μ„ λ‹¤λ£¨λ” κ²ƒλ„ μ¤‘μ”ν•©λ‹λ‹¤. λ‹¨μν•κ² λ§ν•΄μ„ ν•κµ­μ—μ„ μ„λΉ„μ¤λ¥Ό μ κ³µν•λ‹¤κ³ ν•΄μ„ ν•κµ­ μ‹κ°„μΌλ΅ λ¨λ“  μ‹κ°„ λ°μ΄ν„°λ¥Ό λ‹¤λ£¨λ” κ²ƒμ€ μΆ‹μ€ λ°©μ‹μ΄ μ•„λ‹™λ‹λ‹¤. κΈ°λ³Έμ μΌλ΅λ” UT</summary>
      
    
    
    
    
    <category term="TimeZone" scheme="https://kdevkr.github.io/tags/TimeZone/"/>
    
    <category term="ZoneId" scheme="https://kdevkr.github.io/tags/ZoneId/"/>
    
    <category term="Instant" scheme="https://kdevkr.github.io/tags/Instant/"/>
    
    <category term="ZonedDateTime" scheme="https://kdevkr.github.io/tags/ZonedDateTime/"/>
    
    <category term="DateTimeFormatter" scheme="https://kdevkr.github.io/tags/DateTimeFormatter/"/>
    
  </entry>
  
  <entry>
    <title>ν”„λ¦¬λ§μ»¤ ν…ν”λ¦Ώ</title>
    <link href="https://kdevkr.github.io/freemarker-template/"/>
    <id>https://kdevkr.github.io/freemarker-template/</id>
    <published>2022-03-05T00:00:00.000Z</published>
    <updated>2022-05-23T14:52:51.525Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>λ³Έ κΈ€μ€ <a href="/sending-mail-with-freemarker-template/">ν”„λ¦¬λ§μ»¤ ν…ν”λ¦ΏμΌλ΅ μ΄λ©”μΌ λ°μ†΅ν•κΈ°</a>μ— μ΄μ–΄μ„ ν”„λ¦¬λ§μ»¤ ν…ν”λ¦Ώμ— λ€ν•΄μ„ μ΅°κΈ λ” ν•™μµν•΄λ³΄κ³  μ •λ¦¬ν•μ€μµλ‹λ‹¤.<br>μ΄ κΈ€μ—μ„ μ•μ•„λ³΄λ” λ‚΄μ©μ„ μ½”λ“λ΅ ν™•μΈν•κ³  μ‹¶λ‹¤λ©΄ <a href="https://github.com/kdevkr/spring-demo-freemarker">spring-demo-freemarker</a>λ¥Ό μ°Έκ³ ν•μ„Έμ”.</p></blockquote><h2 id="ν”„λ¦¬λ§μ»¤-ν…ν”λ¦Ώ"><a href="#ν”„λ¦¬λ§μ»¤-ν…ν”λ¦Ώ" class="headerlink" title="ν”„λ¦¬λ§μ»¤ ν…ν”λ¦Ώ"></a>ν”„λ¦¬λ§μ»¤ ν…ν”λ¦Ώ</h2><p><a href="https://freemarker.apache.org/">ν”„λ¦¬λ§μ»¤(FreeMarker)</a> ν…ν”λ¦Ώ μ—”μ§„μ€ μ¤ν”„λ§ λ¶€νΈμ—μ„ κ³µμ‹μ μΌλ΅ μ§€μ›ν•λ” ν…ν”λ¦Ώ μ—”μ§„ μ¤‘ ν•λ‚μ…λ‹λ‹¤. <a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Template_literals">ν…ν”λ¦Ώ λ¦¬ν„°λ΄</a>μ²λΌ λ―Έλ¦¬ μ •μλ ν…ν”λ¦Ώ νμΌμ„ λ§λ“¤μ–΄μ„ μ–΄λ– ν• λ°μ΄ν„° λ¨λΈμ„ κ²°ν•©ν•μ—¬ λ™μ μΌλ΅ μ»¨ν…μΈ λ¥Ό λ§λ“¤κΈ° μ„ν•΄μ„ μ‚¬μ©ν•©λ‹λ‹¤. μ—¬λ¬κ°€μ§€ <a href="https://github.com/jreijn/spring-comparing-template-engines">ν…ν”λ¦Ώ μ—”μ§„κ³Ό λΉ„κµ</a>ν•΄μ„λ„ μ¤€μν• λ λ”λ§ μ„±λ¥μ„ λ³΄μ—¬μ£Όκ³  μμµλ‹λ‹¤.</p><p><img data-src="https://freemarker.apache.org/images/overview.png" alt="Template + data-model = output"></p><h3 id="ν…ν”λ¦Ώ-λ΅λ”"><a href="#ν…ν”λ¦Ώ-λ΅λ”" class="headerlink" title="ν…ν”λ¦Ώ λ΅λ”"></a>ν…ν”λ¦Ώ λ΅λ”</h3><p>ν”„λ¦¬λ§μ»¤ ν…ν”λ¦Ώ μ—”μ§„μ€ λ‹¤μ–‘ν•­ λ°©μ‹μΌλ΅ ν…ν”λ¦Ώμ„ κ΄€λ¦¬ν•  μ μλ„λ΅ <a href="https://freemarker.apache.org/docs/api/freemarker/cache/TemplateLoader.html">TemplateLoader</a> μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤. κΈ°λ³Έμ μΌλ΅ λ‚΄μ¥λμ–΄μλ” κµ¬ν„μ²΄λ„ μ΅΄μ¬ν•λ©° ν”„λ¦¬λ§μ»¤ ν…ν”λ¦Ώ μ—”μ§„μ„ κ³µμ‹μ μΌλ΅ μ§€μ›ν•λ” μ¤ν”„λ§ ν”„λ μ„μ›ν¬μ—λ” SpringTemplateLoaderλΌλ” κµ¬ν„μ²΄λ¥Ό ν¬ν•¨ν•κ³  μμµλ‹λ‹¤. λ³Έ κΈ€μ—μ„ λ‹¤λ£¨λ” TemplateLoaderλ” μ•„λμ™€ κ°™μµλ‹λ‹¤.</p><ul><li><a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/ui/freemarker/SpringTemplateLoader.html">SpringTemplateLoader</a></li><li><a href="https://freemarker.apache.org/docs/api/freemarker/cache/StringTemplateLoader.html">StringTemplateLoader</a></li><li><a href="https://freemarker.apache.org/docs/api/freemarker/cache/MultiTemplateLoader.html">MultiTemplateLoader</a></li></ul><blockquote><p>μ¤ν”„λ§ ν”„λ μ„μ›ν¬μ—μ„ μ κ³µν•λ” SpringTemplateLoaderλ” ResourceLoaderλ¥Ό ν†µν•΄ ν…ν”λ¦Ώμ„ λ΅λ“ν•©λ‹λ‹¤.</p></blockquote><h3 id="κµ­μ ν™”"><a href="#κµ­μ ν™”" class="headerlink" title="κµ­μ ν™”"></a>κµ­μ ν™”</h3><p>κµ­μ ν™”(Internationalization)λ” κµ¬κΈ€μ²λΌ λ‹¤μ–‘ν• μ–Έμ–΄λ¥Ό μ‚¬μ©ν•λ” μ„λΉ„μ¤ μ‚¬μ©μκ°€ μλ‹¤λ©΄ λ‹¤κµ­μ–΄ μ„λΉ„μ¤λ¥Ό μ„ν•΄μ„ ν•„μμ μΌλ΅ μ§€μ›ν•΄μ•Όν•λ” κΈ°λ¥μ…λ‹λ‹¤. μ¤ν”„λ§ ν”„λ μ„μ›ν¬μ—μ„λ” <a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/MessageSource.html">λ©”μ‹μ§€ μ†μ¤</a>λ¥Ό ν†µν•΄ λ‹¤κµ­μ–΄ λ©”μ‹μ§€ μ²λ¦¬λ¥Ό μ§€μ›ν•©λ‹λ‹¤. ν”„λ¦¬λ§μ»¤ ν…ν”λ¦Ώ μ—”μ§„μ€ μ¤ν”„λ§μ λ©”μ‹μ§€ μ†μ¤μ™€λ” μ—°κ΄€μ„±μ΄ μ—†μΌλ―€λ΅ μ¤ν”„λ§ ν”„λ μ„μ›ν¬μ—μ„λ” ν”„λ¦¬λ§μ»¤ ν…ν”λ¦Ώμ—μ„ λ©”μ‹μ§€ μ†μ¤λ¥Ό μ‚¬μ©ν•  μ μλ„λ΅ <a href="https://github.com/spring-projects/spring-framework/blob/main/spring-webmvc/src/main/resources/org/springframework/web/servlet/view/freemarker/spring.ftl">spring.ftl</a>λ¥Ό ν¬ν•¨ν•κ³  μμµλ‹λ‹¤. </p><p>λ”°λΌμ„, ν”„λ¦¬λ§μ»¤ ν…ν”λ¦Ώμ—μ„ μ¤ν”„λ§ λ©”μ‹μ§€ μ²λ¦¬ν•λ” λ°©λ²•μ„ μ°Ύμ•„λ³΄λ©΄ λ‹¤μκ³Ό κ°™μ΄ ν•΄μ•Όν•λ‹¤λ” μ •λ³΄λ¥Ό ν™•μΈν•  μ μμµλ‹λ‹¤.</p><pre class="language-ftl" data-language="ftl"><code class="language-ftl"><span class="token ftl language-ftl"><span class="token ftl-directive"><span class="token punctuation">&lt;</span><span class="token directive keyword">#import</span><span class="token content ftl"> <span class="token string">"/spring.ftl"</span> <span class="token keyword">as</span> spring</span><span class="token punctuation">/></span></span></span><span class="token ftl language-ftl"><span class="token ftl-directive"><span class="token punctuation">&lt;</span><span class="token directive keyword">@spring</span><span class="token content ftl"><span class="token punctuation">.</span>message <span class="token string">"messageKey"</span></span><span class="token punctuation">/></span></span></span></code></pre><blockquote><p>λ‹¨, λ©”μ‹μ§€ μ†μ¤λ¥Ό μ‚¬μ©ν•  μ μλ„λ΅ μ •μλ FTL νμΌμ€ RequestContextλ¥Ό ν•„μ”λ΅ν•κΈ° λ•λ¬Έμ— μ‚¬μ©μμ μ”μ²­μ— λ€ν•΄ μ‘λ‹µν•λ” λ·°κ°€ μ•„λ‹ κ²½μ°μ—λ” μ‚¬μ©ν•  μ μ—†μµλ‹λ‹¤. λ”°λΌμ„, λ°±κ·ΈλΌμ΄λ“ μ‘μ—…μ μ¤λ λ“μ—λ” RequestContextκ°€ μ΅΄μ¬ν•μ§€ μ•κΈ° λ•λ¬Έμ— λ©”μ‹μ§€ μ†μ¤λ΅ λ‹¤κµ­μ–΄ λ©”μ‹μ§€ μ²λ¦¬κ°€ λ¶κ°€λ¥ν•©λ‹λ‹¤.</p></blockquote><h4 id="ResourceBundleModel"><a href="#ResourceBundleModel" class="headerlink" title="ResourceBundleModel"></a>ResourceBundleModel</h4><p>μ‚¬μ©μμ μ”μ²­μ— λ€ν• μ‘λ‹µμ΄ μ•„λ‹ λ°±κ·ΈλΌμ΄λ“ μ‘μ—…μ—μ„ ν”„λ¦¬λ§μ»¤ ν…ν”λ¦Ώ μ—”μ§„μ„ μ‚¬μ©ν•  λ• λ‹¤κµ­μ–΄ λ©”μ‹μ§€λ¥Ό μ κ³µν•κΈ° μ„ν•΄μ„λ” ν”„λ¦¬λ§μ»¤ ν…ν”λ¦Ώ μ—”μ§„μ—μ„ μ§€μ›ν•λ” λ°©λ²•μ„ μ‚¬μ©ν•΄μ•Όλ§ ν•©λ‹λ‹¤. ν”„λ¦¬λ§μ»¤ ν…ν”λ¦Ώ μ—”μ§„μ€ λ¦¬μ†μ¤ λ²λ“¤μ„ λ¨λΈλ΅ μ‚¬μ©ν•΄μ„ λ‹¤κµ­μ–΄λ¥Ό μ²λ¦¬ν•  μ μλ” <strong>ResourceBundleModel</strong>μ„ μ κ³µν•κ³  μμµλ‹λ‹¤.</p><p>μλ¥Ό λ“¤μ–΄, ν΄λμ¤ν¨μ¤μ— λ¦¬μ†μ¤ λ²λ“¤μ„ κµ¬μ„±ν•κ³  ResourceBundleModelλ΅ λ³€ν™ν•μ—¬ λ°μ΄ν„° λ¨λΈλ΅ μ „λ‹¬ν•λ©΄ λ©”μ‹μ§€ μ²λ¦¬κ°€ κ°€λ¥ν•΄μ§‘λ‹λ‹¤.</p><p><img data-src="/images/posts/freemarker-template/resource-bundle.png" alt="Resource Bundle"></p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Locale</span> locale <span class="token operator">=</span> <span class="token class-name">Locale</span><span class="token punctuation">.</span>ROOT<span class="token punctuation">;</span><span class="token class-name">Configuration</span> configuration <span class="token operator">=</span> configurationFactoryBean<span class="token punctuation">.</span><span class="token function">createConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">StringTemplateLoader</span> stringTemplateLoader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringTemplateLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>stringTemplateLoader<span class="token punctuation">.</span><span class="token function">putTemplate</span><span class="token punctuation">(</span><span class="token string">"template"</span><span class="token punctuation">,</span> <span class="token string">"$&#123;bundle(\"application.name\")&#125;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>configuration<span class="token punctuation">.</span><span class="token function">setTemplateLoader</span><span class="token punctuation">(</span>stringTemplateLoader<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Template</span> template <span class="token operator">=</span> configuration<span class="token punctuation">.</span><span class="token function">getTemplate</span><span class="token punctuation">(</span><span class="token string">"template"</span><span class="token punctuation">,</span> locale<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">ResourceBundle</span> resourceBundle <span class="token operator">=</span> <span class="token class-name">ResourceBundle</span><span class="token punctuation">.</span><span class="token function">getBundle</span><span class="token punctuation">(</span><span class="token string">"messages"</span><span class="token punctuation">,</span> locale<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> model <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>model<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"bundle"</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ResourceBundleModel</span><span class="token punctuation">(</span>resourceBundle<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">BeansWrapperBuilder</span><span class="token punctuation">(</span><span class="token class-name">Configuration</span><span class="token punctuation">.</span>DEFAULT_INCOMPATIBLE_IMPROVEMENTS<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">String</span> content <span class="token operator">=</span> <span class="token class-name">FreeMarkerTemplateUtils</span><span class="token punctuation">.</span><span class="token function">processTemplateIntoString</span><span class="token punctuation">(</span>template<span class="token punctuation">,</span> model<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><blockquote><p>κΈ°λ³Έμ μΌλ΅λ” ν”„λ΅νΌν‹° νμΌλ΅ λ¦¬μ†μ¤ λ²λ“¤μ„ λ§λ“¤μ§€λ§ <a href="https://docs.oracle.com/javase/7/docs/api/java/util/ResourceBundle.Control.html">XML</a> λλ” <a href="https://github.com/akkinoc/yaml-resource-bundle">YAML</a>λ΅ λ¦¬μ†μ¤ λ²λ“¤μ„ λ§λ“¤μ–΄μ„ μ‚¬μ©ν•  μλ„ μμµλ‹λ‹¤.</p></blockquote><h3 id="ν…ν”λ¦Ώ-μ²΄μ΄λ‹"><a href="#ν…ν”λ¦Ώ-μ²΄μ΄λ‹" class="headerlink" title="ν…ν”λ¦Ώ μ²΄μ΄λ‹"></a>ν…ν”λ¦Ώ μ²΄μ΄λ‹</h3><p><a href="https://freemarker.apache.org/docs/api/freemarker/cache/MultiTemplateLoader.html">MultiTemplateLoader</a>λ¥Ό μ‚¬μ©ν•λ©΄ μ—¬λ¬κ°€μ§€ λ°©μ‹μ <a href="https://freemarker.apache.org/docs/pgui_config_templateloading.html">ν…ν”λ¦Ώ λ΅λ”©</a>μ„ ν†µν•΄ ν…ν”λ¦Ώ λ΅λ”μ— μν•΄ λ΅λ“λλ” ν…ν”λ¦Ώμ„ ν•¨κ» μ‚¬μ©ν•  μ μμµλ‹λ‹¤. λν•, MultiTemplateLoaderμ— μ „λ‹¬λλ” ν…ν”λ¦Ώ λ΅λ”μ μμ„μ— λ”°λΌ SpringTemplateLoaderλ΅ κΈ°λ³Έ ν…ν”λ¦Ώ λ μ΄μ•„μ›ƒμ„ λ§λ“¤κ³  μ‹¤μ  ν…ν”λ¦Ώ λ‚΄μ©μ€ StringTemplateLoaderλ΅ μ¬μ •μν•  μλ„ μμµλ‹λ‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">StringTemplateLoader</span> stringTemplateLoader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringTemplateLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>stringTemplateLoader<span class="token punctuation">.</span><span class="token function">putTemplate</span><span class="token punctuation">(</span><span class="token string">"email.ftlh"</span><span class="token punctuation">,</span> <span class="token string">"$&#123;bundle(\"application.name\")&#125;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>stringTemplateLoader<span class="token punctuation">.</span><span class="token function">putTemplate</span><span class="token punctuation">(</span><span class="token string">"template"</span><span class="token punctuation">,</span> <span class="token string">"&lt;#include \"email.ftlh\" >"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Configuration</span> configuration <span class="token operator">=</span> configurationFactoryBean<span class="token punctuation">.</span><span class="token function">createConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">SpringTemplateLoader</span> springTemplateLoader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SpringTemplateLoader</span><span class="token punctuation">(</span>resourceLoader<span class="token punctuation">,</span> <span class="token string">"classpath:/templates/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">MultiTemplateLoader</span> multiTemplateLoader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MultiTemplateLoader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TemplateLoader</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">&#123;</span>stringTemplateLoader<span class="token punctuation">,</span> springTemplateLoader<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>configuration<span class="token punctuation">.</span><span class="token function">setTemplateLoader</span><span class="token punctuation">(</span>multiTemplateLoader<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Template</span> template <span class="token operator">=</span> configuration<span class="token punctuation">.</span><span class="token function">getTemplate</span><span class="token punctuation">(</span><span class="token string">"template"</span><span class="token punctuation">,</span> locale<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><blockquote><p>MultiTemplateLoaderμ μƒμ„±μμ— μ „λ‹¬λλ” ν…ν”λ¦Ώ λ΅λ”μ μμ„λ€λ΅ ν…ν”λ¦Ώμ„ μ°Ύλ„λ΅ μ„μ„ν•λ‹¤λ” κ²ƒμ— μ£Όμν•΄μ•Όν•©λ‹λ‹¤.</p></blockquote><p>μ‚¬μ©μμ μ”μ²­μ— λ€ν• μ‘λ‹µμ„ λ·°λ΅ μ²λ¦¬ν•κΈ° μ„ν•΄μ„ ν…ν”λ¦Ώ μ—”μ§„μ„ μ μ©ν•κΈ°λ„ ν•μ§€λ§ μ΄λ©”μΌ λ°μ†΅κ³Ό κ°™μ€ λ°±κ·ΈλΌμ΄λ“ μ‘μ—…μ—μ„λ„ ν”„λ¦¬λ§μ»¤ ν…ν”λ¦Ώ μ—”μ§„μ„ λ‹¤μ–‘ν• λ°©μ‹μΌλ΅ ν™μ©ν•  μ μλ‹¤λ” κ²ƒμ„ μ•κ²λμ—μµλ‹λ‹¤. ν”„λ¦¬λ§μ»¤ ν…ν”λ¦Ώμ„ λ™μ μΌλ΅ μ²λ¦¬ν•λ” λ°©λ²•μ— λ€ν•΄μ„ κ³ λ―Όν•κ² λλ©΄μ„ μ•μ•„λ³Έ λ‚΄μ©μ΄μ§€λ§ λ§μ€ λ¶„λ“¤μ—κ² λ„μ›€μ΄ λμ—μΌλ©΄ ν•©λ‹λ‹¤.</p><p>κ°μ‚¬ν•©λ‹λ‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;λ³Έ κΈ€μ€ &lt;a href=&quot;/sending-mail-with-freemarker-template/&quot;&gt;ν”„λ¦¬λ§μ»¤ ν…ν”λ¦ΏμΌλ΅ μ΄λ©”μΌ λ°μ†΅ν•κΈ°&lt;/a&gt;μ— μ΄μ–΄μ„ ν”„λ¦¬λ§μ»¤ ν…ν”λ¦Ώμ— λ€ν•΄μ„ μ΅°κΈ λ” ν•™μµν•΄λ³΄κ³  μ •λ¦¬ν•μ€μµλ‹λ‹¤.&lt;br&gt;μ΄ κΈ€</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>X509 Certificate Signed by Unknown Authority</title>
    <link href="https://kdevkr.github.io/docker-registry-certificate/"/>
    <id>https://kdevkr.github.io/docker-registry-certificate/</id>
    <published>2022-02-26T00:00:00.000Z</published>
    <updated>2022-05-23T14:52:51.521Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Error response from daemon: Get https://registry.domain.com&#x2F;v2&#x2F;: x509: certificate signed by unknown authority</p></blockquote><p>μƒκ°λ³΄λ‹¤ λ§μ€ μ΅°μ§μ—μ„ μ‚¬λ‚΄ μ •μ±…μ΄λ‚ λ„μ»¤ ν—λΈμ <a href="https://docs.docker.com/docker-hub/download-rate-limit/">λ‹¤μ΄λ΅λ“ μ ν•λ‰</a>μ„ κ²½ν—ν•κ³  λ„μ»¤μ—μ„ μ κ³µν•λ” <a href="https://hub.docker.com/_/registry">λ μ§€μ¤νΈλ¦¬ μ΄λ―Έμ§€</a>λ΅ μ‚¬μ„¤ λ„μ»¤ λ μ§€μ¤νΈλ¦¬ μ„λ²„λ¥Ό κµ¬μ¶•ν•λ” κ²ƒ κ°™μµλ‹λ‹¤. μ„ μ¤λ¥λ” λ„μ»¤ λ μ§€μ¤νΈλ¦¬ μ„λ²„μ— λ΅κ·ΈμΈμ„ μ‹λ„ν•  λ• λ‚νƒ€λ‚  μ μμµλ‹λ‹¤. μ°λ¦¬κ°€ μ‚¬μ©ν•λ” λ„μ»¤ μ—”μ§„μ΄λΌκ³ ν•λ” ν΄λΌμ΄μ–ΈνΈκ°€ λ„μ»¤ λ μ§€μ¤νΈλ¦¬ μ„λ²„κ°€ μ „λ‹¬ν•΄μ¤€ μΈμ¦μ„λ¥Ό μ‹ λΆ°ν•  μ μ—†λ‹¤λ” μλ―Έμ…λ‹λ‹¤. κ·Έλ¬λ©΄ μ„μ™€ κ°™μ΄ λ‚΄ μ»΄ν“¨ν„°μ— μ„¤μΉλ λ„μ»¤ μ—”μ§„μ—μ„ μ‚¬μ„¤λ΅ κµ¬μ¶•ν• λ„μ»¤ λ μ§€μ¤νΈλ¦¬ μ„λ²„μ μΈμ¦μ„λ¥Ό μ‹ λΆ°ν•  μ μ—†λ” λ¬Έμ κ°€ λ°μƒν•λ©΄ μ–΄λ–»κ² ν•΄κ²°ν•λ”μ§€λ¥Ό μ•μ•„λ³΄λ„λ΅ ν•μ£ .</p><h2 id="λ„μ»¤-λ μ§€μ¤νΈλ¦¬-μΈμ¦μ„"><a href="#λ„μ»¤-λ μ§€μ¤νΈλ¦¬-μΈμ¦μ„" class="headerlink" title="λ„μ»¤ λ μ§€μ¤νΈλ¦¬ μΈμ¦μ„"></a>λ„μ»¤ λ μ§€μ¤νΈλ¦¬ μΈμ¦μ„</h2><p>λ„μ»¤ μ—”μ§„μ—μ„ μ°Έμ΅°ν•λ” λ μ§€μ¤νΈλ¦¬ μ„λ²„μ— λ€ν• μΈμ¦μ„ ν΄λ”λ” <strong>certs.d</strong> μ…λ‹λ‹¤.</p><ul><li>Windows: C:&#x2F;ProgramData&#x2F;Docker&#x2F;certs.d&#x2F;</li><li>Linux: &#x2F;etc&#x2F;docker&#x2F;certs.d&#x2F;</li><li>Mac: ~&#x2F;.docker&#x2F;certs.d&#x2F;</li></ul><pre class="language-sh" data-language="sh"><code class="language-sh">&#x2F;etc&#x2F;docker&#x2F;certs.d&#x2F;         &lt;-- Certificate directoryβ””β”€β”€ registry.domain.com:5000 &lt;-- Hostname:port   β”β”€β”€ client.cert           &lt;-- Client certificate   β”β”€β”€ client.key            &lt;-- Client key   β””β”€β”€ ca.crt                &lt;-- Certificate authority that signed the registry certificate</code></pre><h3 id="μ•μ „ν•μ§€-μ•μ€-λ μ§€μ¤νΈλ¦¬"><a href="#μ•μ „ν•μ§€-μ•μ€-λ μ§€μ¤νΈλ¦¬" class="headerlink" title="μ•μ „ν•μ§€ μ•μ€ λ μ§€μ¤νΈλ¦¬"></a>μ•μ „ν•μ§€ μ•μ€ λ μ§€μ¤νΈλ¦¬</h3><p>HTTPSλ΅ μ‹¤ν–‰λ λ„μ»¤ λ μ§€μ¤νΈλ¦¬ μ„λ²„μ— λ€ν•΄μ„ λ„μ»¤ μ—”μ§„μ΄ μ‹ λΆ°ν•  μ μ—†λ” μΈμ¦μ„λ¥Ό λ¬΄μ‹ν•λ„λ΅ <a href="https://docs.docker.com/registry/insecure/">insecure-registries</a>μµμ…μ„ μ§€μ •ν•  μ μμµλ‹λ‹¤. λ‹¤λ§, μ΄ λ°©λ²•μ€ ν•΄λ‹Ή λ„λ©”μΈ μ£Όμ†μ λ μ§€μ¤νΈλ¦¬ μ„λ²„κ°€ μ¬λ°”λ¥Έ μΈμ¦μ„λ¥Ό μ‚¬μ©ν•λ”μ§€ κ²€μ¦ν•μ§€ μ•κΈ° λ•λ¬Έμ— λ³΄μ•μ μΈ λ¶€λ¶„μ„ μƒκ°ν•λ‹¤λ©΄ μΌλ°μ μΌλ΅ μ‚¬μ©ν•΄μ„λ” μ•λλ” λ°©λ²•μ…λ‹λ‹¤.</p><h3 id="μ‹ λΆ°ν• -μ-μλ”-μΈμ¦-κΈ°κ΄€"><a href="#μ‹ λΆ°ν• -μ-μλ”-μΈμ¦-κΈ°κ΄€" class="headerlink" title="μ‹ λΆ°ν•  μ μλ” μΈμ¦ κΈ°κ΄€"></a>μ‹ λΆ°ν•  μ μλ” μΈμ¦ κΈ°κ΄€</h3><p>λ„μ»¤ μ—”μ§„μ€ κΈ°λ³Έμ μΌλ΅ μ‹μ¤ν…μ— λ“±λ΅λ μ‹ λΆ°ν•  μ μλ” μΈμ¦ κΈ°κ΄€μ μΈμ¦μ„ λ©λ΅μΌλ΅ λ„μ»¤ λ μ§€μ¤νΈλ¦¬ μ„λ²„μ ν΄λΌμ΄μ–ΈνΈ μΈμ¦μ„λ¥Ό κ²€μ¦ν•©λ‹λ‹¤. μ΄λ” ν¬λ΅¬κ³Ό κ°™μ€ λΈλΌμ°μ €μ—μ„ HTTPS ν†µμ‹  μ‹ μ„λ²„μ—μ„ μ „λ‹¬ν•λ” μΈμ¦μ„κ°€ μ ν¨ν•μ§€λ¥Ό ν™•μΈν•λ” κ²ƒκ³Ό λ‹¤λ¥΄μ§€ μ•μµλ‹λ‹¤. μ €λ” <strong>μ‹ λΆ°ν•  μ μλ” μΈμ¦ κΈ°κ΄€μΌλ΅λ¶€ν„° λ°κΈ‰λ°›μ€ λ„λ©”μΈ μΈμ¦μ„λ¥Ό μ‚¬μ©</strong>ν•μ—¬ λ„μ»¤ λ μ§€μ¤νΈλ¦¬ μ„λ²„λ¥Ό κµ¬μ¶•ν•μ€λ”λ°λ„ λ¶κµ¬ν•κ³  λ„μ»¤ μ—”μ§„μ—μ„λ” νμ‚¬ λ„λ©”μΈ μ£Όμ†λ΅λ λ„μ»¤ λ μ§€μ¤νΈλ¦¬ μ„λ²„μ—μ„ μ „λ‹¬λ μΈμ¦μ„κ°€ μ¬λ°”λ¥΄μ§€ μ•λ‹¤λ©° λ™μΌν•κ² <code>x509: certificate signed by unknown authority</code> μ¤λ¥λ¥Ό μ•λ ¤μ£Όμ—μµλ‹λ‹¤.</p><h3 id="CA-μΈμ¦μ„-μ²΄μΈ"><a href="#CA-μΈμ¦μ„-μ²΄μΈ" class="headerlink" title="CA μΈμ¦μ„ μ²΄μΈ"></a>CA μΈμ¦μ„ μ²΄μΈ</h3><p>λ„μ»¤ μ—”μ§„μ—μ„ λ μ§€μ¤νΈλ¦¬ μ„λ²„μ μΈμ¦μ„λ¥Ό μ‹ λΆ°ν•  μ μ—†λ‹¤λ” κ²ƒμ€ λ‡κ°€μ§€ μ‚¬ν•­μ— λ€ν• μλ―Έλ¥Ό κ°€μ§ μ μμµλ‹λ‹¤. μ²«λ²μ§Έλ΅, λ„μ»¤ λ μ§€μ¤νΈλ¦¬ μ„λ²„ κµ¬μ¶• μ‹ μ‚¬μ©ν• CA μΈμ¦μ„κ°€ ν΄λΌμ΄μ–ΈνΈ μΈμ¦μ„μ™€ μΈμ¦ κΈ°κ΄€λ“¤μ— λ€ν• μΈμ¦μ„κ°€ μ—°κ²°λ CA μΈμ¦μ„ μ²΄μΈμ΄ μ•„λ‹ μ μλ‹¤λ” κ²ƒμ…λ‹λ‹¤. μ‹¤μ λ΅ μ§€κΈμ€ UI κΈ°λ°μ μ‚¬μ©μ λ° μ΄λ―Έμ§€ κ΄€λ¦¬λ¥Ό μ„ν•΄ <a href="https://goharbor.io/">Harbor</a>λ΅ λ„μ»¤ λ μ§€μ¤νΈλ¦¬ μ„λ²„λ¥Ό μ¬κµ¬μ¶•ν•μ€μΌλ‚ κΈ°μ΅΄ λ„μ»¤ λ μ§€μ¤νΈλ¦¬ μ„λ²„μ— μ‚¬μ©λ CA μΈμ¦μ„ νμΌμ—λ” ν΄λΌμ΄μ–ΈνΈ μΈμ¦μ„λ§ μ΅΄μ¬ν–λ λ¬Έμ κ°€ μμ—μµλ‹λ‹¤. κ·Έλμ„ μ΅°μ§ λ‚΄ κ°λ°μλ“¤μ—κ² λ μ§€μ¤νΈλ¦¬ μ„λ²„μ—μ„ μ‚¬μ©λ CA μΈμ¦μ„ νμΌκ³Ό ν΄λΌμ΄μ–ΈνΈ μΈμ¦μ„ λ° ν‚¤λ¥Ό μ „λ‹¬ν•κ³  λ„μ»¤ λ μ§€μ¤νΈλ¦¬ μΈμ¦μ„ ν΄λ”μ— μ €μ¥ν•μ—¬ μ‚¬μ©ν•΄λ‹¬λΌκ³  μ•λ‚΄ν–μ—μµλ‹λ‹¤. κ²°κµ­μ€ λ„μ»¤ μ—”μ§„μ΄ λ„μ»¤ λ μ§€μ¤νΈλ¦¬ μ„λ²„λ¥Ό μ‹ λΆ°ν•  μ μ—†μΌλ―€λ΅ CA μΈμ¦μ„ μ²΄μΈμ„ μ‹ λΆ°ν•  μ μλ” μΈμ¦μ„ λ©λ΅μ— ν¬ν•¨μ‹ν‚¤λ©΄ λ©λ‹λ‹¤.</p><p>μλ¥Ό λ“¤μ–΄, <a href="https://support.apple.com/ko-kr/guide/keychain-access/kyca2431/mac">Macμ© ν‚¤μ²΄μΈ μ ‘κ·Όμ„ μ‚¬μ©ν•μ—¬ ν‚¤μ²΄μΈμ— μΈμ¦μ„ μ¶”κ°€ν•κΈ°</a>μ— λ”°λΌ CA μΈμ¦μ„λ¥Ό μ¶”κ°€ν•λ©΄ λ‹¤μκ³Ό κ°™μ΄ μ ν¨ν• μΈμ¦μ„μ„μ΄ ν‘μ‹λ¨μ„ ν™•μΈν•  μ μμ—μµλ‹λ‹¤.</p><p><img data-src="/images/posts/docker-registry-certificate/trust-certificate.png"></p><pre class="language-sh" data-language="sh"><code class="language-sh">docker login registry.domain.com -u &#39;username&#39; -p &#39;password&#39;WARNING! Using --password via the CLI is insecure. Use --password-stdin.Login Succeeded</code></pre><blockquote><p>λ„μ»¤ λ μ§€μ¤νΈλ¦¬ μ„λ²„μ CA μΈμ¦μ„ μ²΄μΈμ„ μ‹μ¤ν… μΈμ¦μ„λ΅ λ“±λ΅ν•κ³ λ‚μ„λ” λ„μ»¤ μ—”μ§„μ΄ μ‹ λΆ°ν•  μ μλ” μΈμ¦μ„ λ©λ΅μ— λ”°λΌ μΈμ¦μ„κ°€ μ ν¨ν•¨μ„ ν™•μΈν•¨μΌλ΅ μ •μƒμ μΌλ΅ HTTPS ν†µμ‹ μ΄ μ΄λ£¨μ–΄μ§€κ³  λ΅κ·ΈμΈμ— μ„±κ³µν•μ€μµλ‹λ‹¤. λ μ§€μ¤νΈλ¦¬ μ„λ²„μ— λ€ν• λ΅κ·ΈμΈ μμ‹μ΄λ―€λ΅ CLI κ²½κ³  λ¬Έκµ¬λ” λ¬΄μ‹ν•΄μ£Όμ„Έμ”.</p></blockquote><h4 id="μ‹μ¤ν…-λ°-μ‚¬μ©μ-μ •μ-CA-μΈμ¦μ„-λ³‘ν•©"><a href="#μ‹μ¤ν…-λ°-μ‚¬μ©μ-μ •μ-CA-μΈμ¦μ„-λ³‘ν•©" class="headerlink" title="μ‹μ¤ν… λ° μ‚¬μ©μ μ •μ CA μΈμ¦μ„ λ³‘ν•©"></a>μ‹μ¤ν… λ° μ‚¬μ©μ μ •μ CA μΈμ¦μ„ λ³‘ν•©</h4><p><em>On Linux any root certificates authorities are merged with the system defaults, including the hostβ€™s root CA set. If you are running Docker on Windows Server, or Docker Desktop for Windows with Windows containers, the system default certificates are only used when no custom root certificates are configured.</em></p><p><a href="https://docs.docker.com/engine/security/certificates/#understand-the-configuration">κ³µμ‹λ¬Έμ„</a>μ— λ”°λ¥΄λ©΄ μ„μ™€ κ°™μ΄ μ‚¬μ©μ μ •μ μΈμ¦μ„(certs.d)λ” μ‹μ¤ν… μΈμ¦μ„μ™€ CA μΈμ¦μ„κ°€ ν•©μ³μ Έμ„ λ“±λ΅λλ‹¤λ” λ‚΄μ©μ΄ μμµλ‹λ‹¤. λ”°λΌμ„, λ„μ»¤ λ μ§€μ¤νΈλ¦¬ μ„λ²„μ CA μΈμ¦μ„ μ²΄μΈμ„ <strong>μ‹μ¤ν… μΈμ¦μ„ λ©λ΅</strong>μ΄λ‚ <strong>certs.d</strong> ν΄λ”μ— λ‘λ©΄ λλ‹¤λ” μ΄μ•ΌκΈ°μ…λ‹λ‹¤. μ‹¤μ λ΅ μ‹μ¤ν… μΈμ¦μ„λ΅ λ“±λ΅ν•μ§€ μ•μ•„λ„ certs.d ν΄λ”μ— ca.crtλΌλ” μ΄λ¦„μΌλ΅ CA μΈμ¦μ„ μ²΄μΈμ„ λ‘κ²λλ©΄ λ™μΌν•κ² λ™μ‘ν•¨μ„ ν™•μΈν•  μ μμ—μµλ‹λ‹¤.</p><blockquote><p>ν•κ°€μ§€ ν¥λ―Έλ΅μ΄ μ μ€ μ΄ κΈ€μ„ μ‘μ„±ν•κΈ° μ„ν•΄ Docker Desktop for Windows μ—μ„λ„ ν…μ¤νΈλ¥Ό ν•΄λ³Έ κ²°κ³Ό λ„μ»¤ λ μ§€μ¤νΈλ¦¬ μ„λ²„μ CA μΈμ¦μ„ μ²΄μΈμ„ κµ³μ΄ λ“±λ΅ν•μ§€ μ•μ•„λ„ μ •μƒμ μΌλ΅ λ΅κ·ΈμΈμ΄ λμ—λ‹¤λ” μ μ…λ‹λ‹¤. μ΄μ μΌλ΅ λ³΄μ•μ„λ• λ¨λ“  μ΄μμ²΄μ μ—μ„ λ™μΌν•κ² λ™μ‘ν•μ§€λ” μ•λ” κ²ƒ κ°™μ•„λ³΄μ…λ‹λ‹¤. λ”°λΌμ„, λ„μ»¤ μ—”μ§„μ—μ„ λ μ§€μ¤νΈλ¦¬ μ„λ²„λ¥Ό μ‹ λΆ°ν•  μ μ—†λ‹¤κ³  ν•λ‹¤λ©΄ λ μ§€μ¤νΈλ¦¬ μ„λ²„ κ΄€λ¦¬μμ—κ² μΈμ¦μ„ μ²΄μΈμ„ μ „λ‹¬λ°›μ•„μ„ λ“±λ΅ν•λ”κ² μΆ‹μ„ κ²ƒ κ°™μµλ‹λ‹¤.</p></blockquote><p>κ°μ‚¬ν•©λ‹λ‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;Error response from daemon: Get https://registry.domain.com&amp;#x2F;v2&amp;#x2F;: x509: certificate signed by unknown authority&lt;/p&gt;</summary>
      
    
    
    
    
    <category term="Docker Registry" scheme="https://kdevkr.github.io/tags/Docker-Registry/"/>
    
    <category term="Harbor" scheme="https://kdevkr.github.io/tags/Harbor/"/>
    
    <category term="Certificate" scheme="https://kdevkr.github.io/tags/Certificate/"/>
    
  </entry>
  
  <entry>
    <title>HTTP/2λ¥Ό μ‚¬μ©ν•λ” κ°λ° ν™κ²½</title>
    <link href="https://kdevkr.github.io/local-for-http2/"/>
    <id>https://kdevkr.github.io/local-for-http2/</id>
    <published>2022-02-22T00:00:00.000Z</published>
    <updated>2022-05-23T14:52:51.525Z</updated>
    
    <content type="html"><![CDATA[<p>μ§€λ‚ <a href="/ssl-certificate">SSL μΈμ¦μ„</a>μ™€ <a href="/tls-offload">TLS μ¤ν”„λ΅λ“</a>λΌλ” κΈ€μ„ ν†µν•΄ HTTPSμ— λ€ν•΄μ„ μ‚΄ν΄λ³Έ μ μ΄ μμµλ‹λ‹¤. μ΄μ²λΌ HTTPSλ” μ‚¬μ©μμ μ”μ²­μ΄ μ•μ „ν•κ² μ„λ²„λ΅ μ „λ‹¬λλ” κ²ƒμ„ λ©μ μΌλ΅ λ„μ…ν•μ§€λ§ <a href="https://developers.google.com/web/fundamentals/performance/http2?hl=ko">HTTP&#x2F;2</a>λ¥Ό μ‚¬μ©ν•κΈ° μ„ν•¨λ„ μμµλ‹λ‹¤. μΌλ° μ‚¬μ©μμ μ»΄ν“¨ν„°λ‚ λ¨λ°”μΌ λ””λ°”μ΄μ¤μ— λ€ν• μ„±λ¥μ΄ μΆ‹μ•„μ§€λ©΄μ„ TLS ν•Έλ“μ‰μ΄ν‚Ήμ— λ€ν• λΉ„μ©μ€ κ·Έλ‹¤μ§€ ν¬μ§€ μ•μµλ‹λ‹¤. κ·Έλ¬λ‚ HTTP 1.1μ—μ„μ Keep Alive λ„μ…μ€ μ΄λ―Έ μ—°κ²°μ¤‘μΈ TCPλ¥Ό λ‹¤μ‹ μ‚¬μ©ν•λ―€λ΅ μ–΄λμ •λ„μ TLS ν•Έλ“μ‰μ΄ν‚Ήμ— λ€ν• λΉ„μ©μ„ μ¤„μΌ μ μμ§€λ§ μ λ§μ€ μ”μ²­μ΄ λ°μƒν•λ” μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„λ” μ΄λ―Έ μ‘λ‹µμ„ κΈ°λ‹¤λ¦¬λ” μ”μ²­μ΄ λλ‚κΈ°λ¥Ό ν„μ¬ μ”μ²­μ΄ λ€κΈ°ν•΄μ•Όν•λ” λ¬Έμ λ¥Ό κ°€μ§€κ³  μμµλ‹λ‹¤.</p><blockquote><p>HTTP 1.1μ€ keep-alive μ»¤λ„¥μ…μ„ ν†µν•΄ μ—¬λ¬κ°μ TCP μ—°κ²°μ„ μΌμ • μ‹κ°„ μ—΄μ–΄λ†“κ³  μ”μ²­μ„ μ°¨λ΅€λ€λ΅ μν–‰ν•κΈ° λ•λ¬Έμ— λΈλΌμ°μ €μ—μ„λ” <a href="https://stackoverflow.com/a/985704">HTTP 1.1λ¥Ό μ‚¬μ©ν•  λ• λ„λ©”μΈ λ‹Ή μµλ€ μ—°κ²° μλ¥Ό μ ν•</a>ν•©λ‹λ‹¤.</p></blockquote><h2 id="HTTP-x2F-2"><a href="#HTTP-x2F-2" class="headerlink" title="HTTP&#x2F;2"></a>HTTP&#x2F;2</h2><p>HTTP 1.1μ΄ μ΄λ―Έ μ—°κ²°λ TCP μ»¤λ„¥μ…μ„ λ‹¤μ‹ μ¬μ‚¬μ©ν•λ‹¤λ©΄ HTTP2λ” λ‹¨μΌ TCP μ—°κ²°μ„ μν–‰ν•κ³  μ λ§μ€ μ”μ²­μ„ μ¤νΈλ¦ΌμΌλ΅ μ²λ¦¬ν•©λ‹λ‹¤. κ·Έλ ‡κΈ°μ— κ½¤ λ§μ€ μ”μ²­μ„ λ™μ‹μ— μν–‰ν•΄λ„ λΈλΌμ°μ €λ” μ΄λ¥Ό μ ν•ν•μ§€ μ•μµλ‹λ‹¤. μλ¥Ό λ“¤μ–΄, μλ°”μ¤ν¬λ¦½νΈμ—μ„ <strong>ν”„λ΅λ―Έμ¤λ΅ μ—¬λ¬κ° μ”μ²­μ„ λ™μ‹μ— μν–‰ν•λ„λ΅</strong> μ½”λ“λ¥Ό μ‘μ„±ν•λ”λΌλ„ λ‹¤λ¥Έ μ”μ²­μ΄ λλ‚κΈ°κΉμ§€ μ”μ²­μ΄ λ€κΈ°ν•λ” ν„μƒμ΄ μ¤„μ–΄λ“¤κ²λλ©°, μ›Ήν©μ„ ν†µν•΄ ν΄λΌμ΄μ–ΈνΈ UIλ¥Ό κµ¬μ„±ν•λ” μ—μ…‹ νμΌλ“¤μ„ <strong>μ—¬λ¬κ°μ μ‘μ€ μ‚¬μ΄μ¦λ΅ λ‚λ„λ” μ²­ν¬λ¥Ό μν–‰</strong>ν•κ³  μ›Ή νμ΄μ§€ λ΅λ”© μ‹ λ¶„ν• λ μ²­ν¬λ¥Ό λΉ λ¥΄κ² μ‘λ‹µλ°›μ„ μ μμµλ‹λ‹¤.</p><blockquote><p>λΈλΌμ°μ €μ—μ„ HTTP&#x2F;2λ„ λ„λ©”μΈ λ‹Ή TCP μ—°κ²°μ„ μν–‰ν•©λ‹λ‹¤. κ·Έλ¦¬κ³  λ€λ¶€λ¶„μ λΈλΌμ°μ €μ™€ μ„λ²„μ—μ„λ” HTTP&#x2F;2 μ—°κ²°μ„ μ„ν•΄ TLS μ‚¬μ©μ„ μ”κµ¬ν•©λ‹λ‹¤.</p></blockquote><h3 id="ALPN"><a href="#ALPN" class="headerlink" title="ALPN"></a>ALPN</h3><p>HTTP2.Pro μ‚¬μ΄νΈλ¥Ό μ‚¬μ©ν•΄μ„ <a href="https://http2.pro/check?url=https://naver.com/">λ„¤μ΄λ²„</a>μ™€ <a href="https://http2.pro/check?url=https://okky.kr/">μ¤ν‚¤</a> μ„λΉ„μ¤ μ£Όμ†λ¥Ό μ…λ ¥ν•΄λ³΄λ©΄ ALPN μ§€μ› μ—¬λ¶€μ— λ€ν• μ •λ³΄κ°€ ν‘μ‹λ©λ‹λ‹¤. ALPNμ€ TLS ν•Έλ“μ‰μ΄ν¬λ¥Ό μν–‰ν•κ³  μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈκ°„ μ—°κ²°μ—μ„ μ–΄λ–¤ HTTP ν”„λ΅ν† μ½μ„ μ‚¬μ©ν•  κ²ƒμΈμ§€λ¥Ό κ²°μ •ν•κΈ° μ„ν• μ •μ±…μ…λ‹λ‹¤. μ•„λ§μ΅΄ μ›Ή μ„λΉ„μ¤λ” <a href="https://aws.amazon.com/ko/about-aws/whats-new/2020/05/network-load-balancer-now-supports-tls-alpn-policies/">NLB</a>μ—μ„λ„ TLS ALPN μ •μ±…μ„ μ§€μ›ν•κΈ°λ„ ν•μ£ .</p><blockquote><p>HTTP&#x2F;2 μ—°κ²°μ„ μ°μ„ μ μΌλ΅ μ”κµ¬ν•κ³  ν΄λΌμ΄μ–ΈνΈκ°€ λ¶κ°€λ¥ν•λ‹¤λ©΄ HTTP 1.1λ΅ μ—°κ²°ν•  μ μμµλ‹λ‹¤.</p></blockquote><h3 id="Local-CA-with-mkcert"><a href="#Local-CA-with-mkcert" class="headerlink" title="Local CA with mkcert"></a>Local CA with mkcert</h3><p><a href="https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.webserver.configure-http2.undertow">μ¤ν”„λ§ λ¶€νΈ μ• ν”λ¦¬μΌ€μ΄μ…</a> λΏλ§ μ•„λ‹λΌ <a href="/reverse-proxy-using-nginx">μ—”μ§„μ—‘μ¤</a>μ—μ„λ„ TLS κµ¬μ„±μ„ μ„ν•΄μ„λ” μΈμ¦μ„κ°€ ν•„μ”ν•©λ‹λ‹¤. κ·Έλμ„ μ§€λ‚ SSL μΈμ¦μ„ κΈ€μ—μ„λ” <a href="/ssl-certificate/#%EC%9E%90%EC%B2%B4-%EC%84%9C%EB%AA%85-CA-%EC%9D%B8%EC%A6%9D%EC%84%9C-%EB%B0%9C%EA%B8%89">μμ²΄ μ„λ… CA μΈμ¦μ„ λ°κΈ‰</a>μ„ ν•κ²ƒμ²λΌ λ΅μ»¬ κ°λ° ν™κ²½μ„ μ„ν• μΈμ¦μ„λ¥Ό λ§λ“¤κ³  μ μ©ν•λ” κ³Όμ •μ„ κ³µμ ν–μµλ‹λ‹¤. μ΄ κ³Όμ •λ“¤μ€ μƒκ°λ³΄λ‹¤ κΉλ‹¤λ΅­κ³  λ¶νΈν• λ¶€λ¶„μ΄ λ§μµλ‹λ‹¤. κ²°κµ­ λ¶νΈν• κ²ƒμ„ κ·Ήν μ‹«μ–΄ν•λ” κ°λ°μλ“¤μ€ <a href="https://github.com/FiloSottile/mkcert">mkcert</a>λΌκ³  ν•λ” λ΅μ»¬ ν™κ²½μ„ μ„ν• CA μΈμ¦μ„λ¥Ό μλ™μΌλ΅ μ‹ λΆ° κΈ°κ΄€μ— λ“±λ΅ν•λ” λ„κµ¬λ¥Ό λ§λ“¤μ–΄λƒ…λ‹λ‹¤.</p><pre class="language-ps" data-language="ps"><code class="language-ps">PS C:\Users\Mambo\cert&gt; mkcert -installThe local CA is now installed in the system trust store! β΅οΈPS C:\Users\Mambo\docker\nginx.conf&gt; mkcert -ecdsa localhost 127.0.0.1 ::1 mambo.krCreated a new certificate valid for the following names π“ - &quot;localhost&quot; - &quot;127.0.0.1&quot; - &quot;::1&quot; - &quot;mambo.kr&quot;The certificate is at &quot;.&#x2F;localhost+3.pem&quot; and the key at &quot;.&#x2F;localhost+3-key.pem&quot; β…It will expire on 22 May 2024 π—“</code></pre><blockquote><p>κ°„λ‹¨ν•κ² CA μΈμ¦μ„λ¥Ό μ‹ λΆ° κΈ°κ΄€μ— λ“±λ΅ν•κ³  λ΅μ»¬ μ»΄ν“¨ν„°λ¥Ό μ„ν• μΈμ¦μ„λ¥Ό λ°κΈ‰ν–μµλ‹λ‹¤.<br>λ΅μ»¬ μ»΄ν“¨ν„°λ¥Ό μ„ν• μΈμ¦μ„μ— λ€ν• μ‹ λΆ° μΈμ¦μ„λ¥Ό λ“±λ΅ν•λ‹¤λ” μ μ„ μμ§€ λ§μ„Έμ”.</p></blockquote><h2 id="λ΅μ»¬-κ°λ°-ν™κ²½"><a href="#λ΅μ»¬-κ°λ°-ν™κ²½" class="headerlink" title="λ΅μ»¬ κ°λ° ν™κ²½"></a>λ΅μ»¬ κ°λ° ν™κ²½</h2><p>μΌλ°μ μΌλ΅ TLS ν•Έλ“μ‰μ΄ν¬λ¥Ό μν–‰ν•λ” μ΄ν›„μ νΈλν”½ μ „λ‹¬μ—λ” TLS μ—°κ²°μ„ μν–‰ν•λ„λ΅ ν•μ§€ μ•λ„λ΅ κµ¬μ„±ν•©λ‹λ‹¤. μΌλ¶€ μ—”μ§€λ‹μ–΄λ“¤μ€ λ¨λ“  νΈλν”½ μ „λ‹¬μ— TLS μ—°κ²°μ„ ν•΄μ•Όν•λ‹¤κ³  λ§ν•©λ‹λ‹¤. μ–΄λμ •λ„μ λ³΄μ•μ μΈ κµ¬μ„±μ„ ν•λλƒλ” μ΅°μ§μ—μ„ κ²°μ •ν•΄μ•Όν•  μΌμ…λ‹λ‹¤. ν„μ¬ μ΅°μ§μ€ μ•„λ§μ΅΄ μ›Ή μ„λΉ„μ¤μ λ΅λ“λ°Έλ°μ„μ—μ„ TLS ν•Έλ“μ‰μ΄ν¬λ¥Ό μν–‰ν•λ„λ΅ ν•κ³  λ‚΄λ¶€μ μΈ νΈλν”½ μ „λ‹¬μ—λ” TLSλ¥Ό μ‚¬μ©ν•μ—¬ ν¨ν‚·μ„ λ³΄νΈν•μ§€ μ•μµλ‹λ‹¤. </p><p>TLS μ¤ν”„λ΅λ“ λ° λ¦¬λ²„μ¤ ν”„λ΅μ‹λ¥Ό μ„ν• μ—”μ§„μ—‘μ¤λ¥Ό κµ¬μ„±ν•κ³  HTTPλ΅ μ‹¤ν–‰λ μ• ν”λ¦¬μΌ€μ΄μ…μ— νΈλν”½μ„ μ „λ‹¬ν•λ©° HTTP&#x2F;2λ¥Ό μ‚¬μ©ν•  μ μκ² λ§λ“¤κ² μµλ‹λ‹¤. μ΄λ―Έ μ‚¬μ©μ¤‘μΈ μ—”μ§„μ—‘μ¤κ°€ μ—†λ‹¤λ©΄ μ  κΉƒν—λΈ λ¦¬νμ§€ν† λ¦¬ <a href="https://github.com/kdevkr/nginx.conf">nginx.conf</a>μ μ½”λ“λ¥Ό ν™μ©ν•΄μ„ λ„μ»¤ μ»΄ν¬μ¦λ΅ μ—”μ§„μ—‘μ¤ μ»¨ν…μ΄λ„λ¥Ό μ‹¤ν–‰ν•μ…”λ„ μΆ‹μµλ‹λ‹¤.</p><pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3.8'</span><span class="token key atrule">services</span><span class="token punctuation">:</span>   <span class="token key atrule">nginx</span><span class="token punctuation">:</span>    <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx<span class="token punctuation">:</span>1.21.3<span class="token punctuation">-</span>alpine    <span class="token key atrule">ports</span><span class="token punctuation">:</span>       <span class="token punctuation">-</span> <span class="token datetime number">80:80</span>      <span class="token punctuation">-</span> 443<span class="token punctuation">:</span><span class="token number">443</span>    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> ./nginx.conf<span class="token punctuation">:</span>/etc/nginx/nginx.conf      <span class="token punctuation">-</span> ./localhost+3.pem<span class="token punctuation">:</span>/etc/nginx/server.crt      <span class="token punctuation">-</span> ./localhost+3<span class="token punctuation">-</span>key.pem<span class="token punctuation">:</span>/etc/nginx/server.key      <span class="token punctuation">-</span> ./static<span class="token punctuation">:</span>/etc/nginx/static  <span class="token key atrule">app</span><span class="token punctuation">:</span>    <span class="token key atrule">image</span><span class="token punctuation">:</span> amazoncorretto<span class="token punctuation">:</span>11<span class="token punctuation">-</span>alpine    <span class="token key atrule">command</span><span class="token punctuation">:</span> <span class="token string">'java -jar /etc/app.jar'</span>    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> ./demo<span class="token punctuation">-</span>0.0.1<span class="token punctuation">-</span>SNAPSHOT.jar<span class="token punctuation">:</span>/etc/app.jar</code></pre><blockquote><p>μ €λ” λ¦¬νμ§€ν† λ¦¬μ— μλ” μ‚¬μ„¤ μΈμ¦μ„ λ€μ‹ μ— mkcertλ¥Ό ν†µν•΄ λ§λ“¤μ–΄μ§„ μΈμ¦μ„λ¥Ό μ‚¬μ©ν•λ„λ΅ λ³€κ²½ν–μµλ‹λ‹¤.</p></blockquote><p>λ¦¬νμ§€ν† λ¦¬μ— μ €μ¥λ μƒν” μ• ν”λ¦¬μΌ€μ΄μ…μ„ κ·Έλ€λ΅ μ‚¬μ©ν–μ§€λ§ λ΅μ»¬ νΈμ¤νΈμ—μ„ μΈν…”λ¦¬μ μ΄μ™€ κ°™μ€ κ°λ° λ„κµ¬λ΅ μ• ν”λ¦¬μΌ€μ΄μ…μ„ μ‹¤ν–‰ν•μ…¨λ‹¤λ©΄ nginx.conf νμΌμ λ°±μ—”λ“ μ¤νΈλ¦Όμ— λ€ν• μ£Όμ†λ¥Ό <code>host.docker.internal</code>λ΅ λ³€κ²½ν•μ„Έμ”. μ»¨ν…μ΄λ„λ΅ μ‹¤ν–‰λ μ—”μ§„μ—‘μ¤μ—μ„ λ΅μ»¬ νΈμ¤νΈλ΅ νΈλν”½μ΄ μ „λ‹¬λκ² λ©λ‹λ‹¤.</p><p><img data-src="/images/posts/local-for-http2/security-overview.png" alt="TLS Handshake"><br><img data-src="/images/posts/local-for-http2/network-overview.png" alt="HTTP/2"></p><blockquote><p>mkcertκ°€ μλ™μΌλ΅ μ‹ λΆ° κΈ°κ΄€ λ©λ΅μ— μμ‹ μ CA μΈμ¦μ„λ¥Ό λ“±λ΅ν•μ€κΈ° λ•λ¬Έμ— λΈλΌμ°μ €λ” μΈμ¦μ„λ¥Ό μ‹ λΆ°ν•  μ μλ‹¤κ³  νλ‹¨ν–κ³  HTTPS μ—°κ²°μ΄ μ •μƒμ μΌλ΅ μν–‰λμ—μµλ‹λ‹¤.</p></blockquote><p>μ΄μ  μ—¬λ¬λ¶„λ“¤λ„ λ΅μ»¬ ν™κ²½μ—μ„ κ°λ°ν•μ‹¤λ• HTTPSμ™€ κ·Έλ¦¬κ³  HTTP 1.1μ΄ μ•„λ‹ HTTP&#x2F;2λ¥Ό μ‚¬μ©ν•΄λ³΄μ‹κΈ° λ°”λλ‹λ‹¤.</p><p>κ°μ‚¬ν•©λ‹λ‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;μ§€λ‚ &lt;a href=&quot;/ssl-certificate&quot;&gt;SSL μΈμ¦μ„&lt;/a&gt;μ™€ &lt;a href=&quot;/tls-offload&quot;&gt;TLS μ¤ν”„λ΅λ“&lt;/a&gt;λΌλ” κΈ€μ„ ν†µν•΄ HTTPSμ— λ€ν•΄μ„ μ‚΄ν΄λ³Έ μ μ΄ μμµλ‹λ‹¤. μ΄μ²λΌ HTTPSλ” μ‚¬μ©μμ μ”μ²­μ΄ μ•μ „ν•κ² μ„</summary>
      
    
    
    
    
    <category term="Spring Boot" scheme="https://kdevkr.github.io/tags/Spring-Boot/"/>
    
    <category term="Nginx" scheme="https://kdevkr.github.io/tags/Nginx/"/>
    
    <category term="TLS" scheme="https://kdevkr.github.io/tags/TLS/"/>
    
    <category term="HTTP2" scheme="https://kdevkr.github.io/tags/HTTP2/"/>
    
    <category term="mkcert" scheme="https://kdevkr.github.io/tags/mkcert/"/>
    
  </entry>
  
  <entry>
    <title>EC2 μΈμ¤ν„΄μ¤ μ ν•μ„ κµμ²΄ν•λ” μ΄μ </title>
    <link href="https://kdevkr.github.io/reason-for-replacing-ec2-instance-type/"/>
    <id>https://kdevkr.github.io/reason-for-replacing-ec2-instance-type/</id>
    <published>2022-02-20T00:00:00.000Z</published>
    <updated>2022-05-23T14:52:51.525Z</updated>
    
    <content type="html"><![CDATA[<p>μ„λΉ„μ¤μ κ·λ¨ κ·Έλ¦¬κ³  μ„λΉ„μ¤λ¥Ό μ΄μν•λ” μ΅°μ§μ κ·λ¨κ°€ ν¬κ±΄ μ‘κ±΄ μ„λΉ„μ¤λ¥Ό μ μ§€ν•κΈ° μ„ν•΄ λ“¤μ–΄κ°€λ” ν΄λΌμ°λ“ μΈν”„λΌ ν™κ²½μ— λ€ν• λΉ„μ©μ€ μƒκ°λ³΄λ‹¤ μ¤‘μ”ν• λ¶€λ¶„μ…λ‹λ‹¤. μ‘μ€ μ΅°μ§μ—μ„ λΉ„μ©μ— λ€ν•΄ μλ―Όν• μ§€λ” λ°λΌλ„ μ¤νλ ¤ μΈν”„λΌ ν€μ΄ λ³„λ„λ΅ μ΅΄μ¬ν•λ” μ΅°μ§μ΄λΌλ©΄ λ” ν¨μ¨μ μΌλ΅ μΈν”„λΌ ν™κ²½μ„ κµ¬μ„±ν•  μ λ°–μ— μ—†μ–΄λ³΄μ…λ‹λ‹¤. κ·Έλμ„ λ§μ€ μ΅°μ§μ—μ„λ” μ„λΉ„μ¤ μΈν”„λΌ λΉ„μ©μ„ μ¤„μ΄κΈ° μ„ν•΄ <a href="https://gameanalytics.com/product-updates/reduce-costs-https-api-aws/">λ‡κ°€μ§€ νΈλν”½μ„ μ¤„μΌ μ μλ” λ…Έλ ¥</a>μ„ ν•λ‹¤κ±°λ‚ <a href="https://aws.amazon.com/ko/blogs/korea/cost-optimization-cases-ridibooks-reserved-instance/">μΌμ • κΈ°κ°„λ™μ• μ‚¬μ©ν•  μ μλ” μμ›μ„ κµ¬λ§¤ν•΄μ„ μ‚¬μ©</a>ν•κ³  <a href="https://www.grumatic.com/ko/aws-ebs-gp3-cost-saving/">μΈν”„λΌ μμ›μ μ„±λ¥μ„ λΉ„κµν•΄μ„ λ™μΌν• μ„±λ¥ λ€λΉ„ κ°€κ²©μ΄ μ‘μ€ κ²ƒμ„ μ„ νƒ</a>ν•κΈ°λ„ ν•©λ‹λ‹¤.</p><h2 id="EC2-μΈμ¤ν„΄μ¤-μ ν•"><a href="#EC2-μΈμ¤ν„΄μ¤-μ ν•" class="headerlink" title="EC2 μΈμ¤ν„΄μ¤ μ ν•"></a>EC2 μΈμ¤ν„΄μ¤ μ ν•</h2><p>μ•„λ§μ΅΄ μ›Ή μ„λΉ„μ¤μ—μ„λ” λ‹¤μ–‘ν• λ©μ μ— λ§λ” <a href="https://aws.amazon.com/ko/ec2/instance-types/">μΈμ¤ν„΄μ¤ μ ν•</a>μ„ μ κ³µν•κ³  μμµλ‹λ‹¤. μ—¬λ¬κ°€μ§€ μΈμ¤ν„΄μ¤ μ ν• μ¤‘ <a href="https://aws.amazon.com/ko/ec2/graviton/">ARM κΈ°λ°μ AWS Graviton</a> ν”„λ΅μ„Έμ„λ¥Ό μ‚¬μ©ν•λ” μΈμ¤ν„΄μ¤κ°€ λ™μΌν• μ„±λ¥ λ€λΉ„ λ” μ μ•½λ μ”κΈμΌλ΅ μ„λ²„λ¥Ό κµ¬μ„±ν•  μ μμµλ‹λ‹¤. Graviton ν”„λ΅μ„Έμ„μ— λ€ν•΄ μμ„Έν•κ² μ•κ³  μ‹¶λ‹¤λ©΄ <a href="https://engineering.ab180.co/stories/migrating-python-application-to-arm">Python x ARM: Graviton2 μ‹¤μ „ λ„μ…κΈ°</a>λ¥Ό μ°Έκ³ ν•μ‹λ©΄ λ  κ²ƒ κ°™μµλ‹λ‹¤.</p><p>μ•„λλ” <a href="https://ec2.shop/?region=ap-northeast-2&filter=t2,t3,t3a,t4g">EC μΈμ¤ν„΄μ¤ μ ν•λ³„ μ”κΈ λΉ„κµ</a> μ¤‘ μΌλ°μ μΌλ΅ μ‚¬μ©λ λ§ν• CPUμ™€ λ©”λ¨λ¦¬ κµ¬μ„±μ„ κ°€μ§„ μΈμ¤ν„΄μ¤λ§μ„ ν•„ν„°ν• κ²°κ³Όμ…λ‹λ‹¤.</p><p><img data-src="/images/posts/reason-for-replacing-ec2-instance-type/ec2-instance-type-compare-pricing.png" alt="ec2.shop/?region=ap-northeast-2&amp;filter=t2,t3,t3a,t4g">  </p><p>κ° μΈμ¤ν„΄μ¤λ³„λ΅ μΌλ¶€ μ¤ν™μ— μν• μ„±λ¥ μ°¨μ΄λ” μκ² μ§€λ§ T2 μΈμ¤ν„΄μ¤λ³΄λ‹¤λ” <a href="https://aws.amazon.com/ko/ec2/nitro/">Nitro System</a>μΌλ΅ ν™•μ¥λ <strong>T3 μΈμ¤ν„΄μ¤</strong>κ°€ λ” μ‘μ€ μ”κΈμ΄ ν• λ‹Ήλ©λ‹λ‹¤. κ·Έλ¦¬κ³  μΈν…” ν”„λ΅μ„Έμ„ κΈ°λ°μ T3 μΈμ¤ν„΄μ¤ λ³΄λ‹¤λ” AMD ν”„λ΅μ„Έμ„ κΈ°λ°μ <strong>T3a μΈμ¤ν„΄μ¤</strong>κ°€ λ” μ‘μ€ μ”κΈμ΄ λ“­λ‹λ‹¤. κ·Έλ¦¬κ³  AWS Graviton ν”„λ΅μ„Έμ„λ¥Ό μ‚¬μ©ν•λ” ARM μ•„ν‚¤ν…μ² κΈ°λ°μ <strong>T4g μΈμ¤ν„΄μ¤</strong>κ°€ λ” μ”κΈμ΄ μ κ² λ“­λ‹λ‹¤.</p><h3 id="μ•„ν‚¤ν…μ²-λ³€κ²½-μ ν•"><a href="#μ•„ν‚¤ν…μ²-λ³€κ²½-μ ν•" class="headerlink" title="μ•„ν‚¤ν…μ² λ³€κ²½ μ ν•"></a>μ•„ν‚¤ν…μ² λ³€κ²½ μ ν•</h3><p>νΉμ • μ•„ν‚¤ν…μ² κΈ°λ°μ AMIλ΅ μ‹μ‘λ μΈμ¤ν„΄μ¤ μ ν•μ€ λ‹¤λ¥Έ μ•„ν‚¤ν…μ²λ¥Ό μ‚¬μ©ν•λ” μΈμ¤ν„΄μ¤ μ ν•μΌλ΅ κµμ²΄ν•  μ μ—†μµλ‹λ‹¤. μ΄λ” μ•„ν‚¤ν…μ²κ°„ νΈν™μ„±μ΄ μ—†κΈ° λ•λ¬Έμ΄λ―€λ΅ x86 μ•„ν‚¤ν…μ² κΈ°λ°μ κΈ°μ΅΄ μΈμ¤ν„΄μ¤ μ ν•μ„ ARM μ•„ν‚¤ν…μ² κΈ°λ°μΌλ΅ λ³€κ²½ν•κΈ° μ„ν•΄μ„λ” ARM κΈ°λ°μ AMIλ΅ μΈμ¤ν„΄μ¤λ¥Ό μ‹μ‘ν•κ³  κΈ°μ΅΄ μΈμ¤ν„΄μ¤λ΅λ¶€ν„° λ§μ΄κ·Έλ μ΄μ…μ„ μν–‰ν•΄μ•Όλ§ν•©λ‹λ‹¤.</p><blockquote><p>ν„μ¬ μ΅°μ§μ—μ„λ„ μμ•½ μΈμ¤ν„΄μ¤λ¥Ό κµ¬λ§¤ν•μ—¬ μ‚¬μ©μ¤‘μΈ κ²ƒμ€ λ§λ£λ μ΄ν›„ Graviton μΈμ¤ν„΄μ¤λ΅ λ³€κ²½ν•λ ¤κ³  μμ •ν•κ³  μκ³  μ•„ν‚¤ν…μ² μ „ν™ λ¬Έμ λ΅ μΈν•μ—¬ GravitonμΌλ΅ λ³€κ²½ν•  μ μ—†λ” μΌλ¶€ μΈμ¤ν„΄μ¤λ“¤μ€ AMD ν”„λ΅μ„Έμ„ κΈ°λ°μ μΈμ¤ν„΄μ¤λ΅ μΌλ¶€ λ³€κ²½ν•μ€μµλ‹λ‹¤.</p></blockquote><p>κ°μ‚¬ν•©λ‹λ‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;μ„λΉ„μ¤μ κ·λ¨ κ·Έλ¦¬κ³  μ„λΉ„μ¤λ¥Ό μ΄μν•λ” μ΅°μ§μ κ·λ¨κ°€ ν¬κ±΄ μ‘κ±΄ μ„λΉ„μ¤λ¥Ό μ μ§€ν•κΈ° μ„ν•΄ λ“¤μ–΄κ°€λ” ν΄λΌμ°λ“ μΈν”„λΌ ν™κ²½μ— λ€ν• λΉ„μ©μ€ μƒκ°λ³΄λ‹¤ μ¤‘μ”ν• λ¶€λ¶„μ…λ‹λ‹¤. μ‘μ€ μ΅°μ§μ—μ„ λΉ„μ©μ— λ€ν•΄ μλ―Όν• μ§€λ” λ°λΌλ„ μ¤νλ ¤ μΈν”„λΌ ν€μ΄ λ³„λ„λ΅ μ΅΄μ¬ν•λ” μ΅°μ§</summary>
      
    
    
    
    
    <category term="EC2" scheme="https://kdevkr.github.io/tags/EC2/"/>
    
    <category term="AWS Graviton2" scheme="https://kdevkr.github.io/tags/AWS-Graviton2/"/>
    
  </entry>
  
  <entry>
    <title>λ²¨λ¦¬λ°μ΄μ… μ¤λ¥ λ©”μ‹μ§€κ°€ μ‚¬μ©μ μ–Έμ–΄λ΅ μ²λ¦¬λμ§€ μ•μ€ μ΄μ </title>
    <link href="https://kdevkr.github.io/spring-validation/"/>
    <id>https://kdevkr.github.io/spring-validation/</id>
    <published>2022-02-17T00:00:00.000Z</published>
    <updated>2022-05-23T14:52:51.525Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>μ¤ν”„λ§ λ¶€νΈ μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„ λ²¨λ¦¬λ°μ΄μ… μ¤λ¥ λ©”μ‹μ§€κ°€ μ‚¬μ©μκ°€ μ–Έμ–΄λ΅ μ²λ¦¬λμ§€ μ•λ” μ‚¬μ λ¥Ό κ²½ν—ν•μ—¬ μ΄μ™€ κ°™μ€ λ¬Έμ κ°€ λ°μƒν• μ΄μ μ— λ€ν•΄μ„ μ•μ•„λ³΄κ³  μ¤ν”„λ§μ—μ„ μ κ³µν•λ” λ²¨λ¦¬λ°μ΄μ…μ— λ€ν•΄μ„ μ •λ¦¬ν• κΈ€μ…λ‹λ‹¤.<br>κ΄€λ ¨ μ½”λ“λ” <a href="https://github.com/kdevkr/spring-demo-validation">spring-demo-validation</a>μ—μ„ ν™•μΈν•  μ μμµλ‹λ‹¤.</p></blockquote><h2 id="μμΉ΄λ¥΄νƒ€-λ²¨λ¦¬λ°μ΄μ…"><a href="#μμΉ΄λ¥΄νƒ€-λ²¨λ¦¬λ°μ΄μ…" class="headerlink" title="μμΉ΄λ¥΄νƒ€ λ²¨λ¦¬λ°μ΄μ…"></a>μμΉ΄λ¥΄νƒ€ λ²¨λ¦¬λ°μ΄μ…</h2><p>μ¤ν”„λ§ λ¶€νΈ μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„λ” λ²¨λ¦¬λ°μ΄μ… μ¤νƒ€ν„°λ¥Ό ν†µν•΄ <a href="https://beanvalidation.org/2.0/">μμΉ΄λ¥΄νƒ€ λ²¨λ¦¬λ°μ΄μ…</a> κΈ°λ°μ <a href="https://hibernate.org/validator/">ν•μ΄λ²„λ„¤μ΄νΈ λ²¨λ¦¬λ°μ΄ν„°</a>λ¥Ό μ‚¬μ©ν•μ—¬ λ²¨λ¦¬λ°μ΄μ…μ„ μν–‰ν•  μ μλ” κΈ°λ¥μ„ μ κ³µν•©λ‹λ‹¤. μ΄ μ¤νƒ€ν„°κ°€ ν¬ν•¨λλ©΄ <strong>ValidationAutoConfiguration</strong>μ΄λΌλ” μλ™ κµ¬μ„± ν΄λμ¤λ¥Ό ν†µν•΄ κΈ°λ³Έμ μΈ λ²¨λ¦¬λ°μ΄ν„°(Validator)λ¥Ό μ‚¬μ©ν•  μ μλ„λ΅ λΉμΌλ΅ λ“±λ΅ν•΄μ¤λ‹λ‹¤.</p><pre class="language-groovy" data-language="groovy"><code class="language-groovy">dependencies <span class="token punctuation">&#123;</span>    implementation <span class="token string">'org.springframework.boot:spring-boot-starter-validation'</span><span class="token punctuation">&#125;</span></code></pre><p>κ·Έλμ„ μ¤ν”„λ§ λ¶€νΈ κ°λ°μλ“¤μ€ λ³„λ„μ μ„¤μ •μ—†μ΄ μ»¨νΈλ΅¤λ¬ ν•Έλ“¤λ¬ ν•¨μμ— μ „λ‹¬λλ” μ‚¬μ©μ μ”μ²­ μ •λ³΄λ¥Ό κ°„λ‹¨ν•κ² κ²€μ¦ν•  μ μκ² λ©λ‹λ‹¤. λν•, ν•μ΄λ²„λ„¤μ΄νΈ λ²¨λ¦¬λ°μ΄ν„° λΌμ΄λΈλ¬λ¦¬μ—λ” λ²¨λ¦¬λ°μ΄μ…μ„ μ„ν• μ–΄λ…Έν…μ΄μ…μ— λ€ν• κΈ°λ³Έμ μΈ <strong>λ²¨λ¦¬λ°μ΄μ… λ©”μ‹μ§€ μ†μ¤ λ²λ“¤</strong> μ„ ν¬ν•¨ν•κ³  μμ–΄ ν•κµ­μ–΄λ‚ μμ–΄μ™€ κ°™μ΄ μ£Όμ” κµ­κ°€μ—μ„ μ‚¬μ©ν•λ” μ–Έμ–΄μ— λ€ν•΄μ„λ” λ©”μ‹μ§€λ¥Ό μ²λ¦¬ν•μ—¬ λ²μ—­λ λ©”μ‹μ§€λ¥Ό μ‚¬μ©μμ—κ² μ κ³µν•  μ μμµλ‹λ‹¤.</p><p><img data-src="/images/posts/spring-validation/hibernate-validator-01.png" alt="org.hibernate.validator.ValidationMessages"></p><h3 id="μ ν¨μ„±-κ²€μ‚¬"><a href="#μ ν¨μ„±-κ²€μ‚¬" class="headerlink" title="μ ν¨μ„± κ²€μ‚¬"></a>μ ν¨μ„± κ²€μ‚¬</h3><p><a href="https://meetup.toast.com/posts/223">Validation μ–΄λ””κΉμ§€ ν•΄λ΄¤λ‹?</a>μ—μ„ μ• μ μλ“―μ΄ μμΉ΄λ¥΄νƒ€ λ²¨λ¦¬λ°μ΄μ…μ ν©ν† λ¦¬ ν•¨μλ¥Ό ν†µν•΄ κ°„λ‹¨ν•κ² λ²¨λ¦¬λ°μ΄ν„°λ¥Ό μƒμ„±ν•κ³  μλ°” λΉ ν΄λμ¤μ— μ €μ¥λ μ •λ³΄κ°€ μ¬λ°”λ¥Έμ§€ ν•„λ“ κ²€μ¦μ„ μ‰½κ² μν–‰ν•  μ μμµλ‹λ‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Service</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoginService</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">validate</span><span class="token punctuation">(</span><span class="token class-name">Account<span class="token punctuation">.</span>Login</span> login<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Validator</span> validator <span class="token operator">=</span> <span class="token class-name">Validation</span><span class="token punctuation">.</span><span class="token function">buildDefaultValidatorFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getValidator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ConstraintViolation</span><span class="token punctuation">&lt;</span><span class="token class-name">Account<span class="token punctuation">.</span>Login</span><span class="token punctuation">></span><span class="token punctuation">></span></span> constraintViolations <span class="token operator">=</span> validator<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>login<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> constraintViolations<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><h3 id="λ΅μΌ€μΌ-μ΄μ"><a href="#λ΅μΌ€μΌ-μ΄μ" class="headerlink" title="λ΅μΌ€μΌ μ΄μ"></a>λ΅μΌ€μΌ μ΄μ</h3><p>μμΉ΄λ¥΄νƒ€ λ²¨λ¦¬λ°μ΄μ…μ ν©ν† λ¦¬ ν•¨μλ΅ λ§λ“¤μ–΄μ§€λ” λ²¨λ¦¬λ°μ΄ν„°λ” κΈ°λ³Έκ°’μΌλ΅ μ •μλ μ„¤μ •μ„ ν†µν•΄μ„ λ²¨λ¦¬λ°μ΄μ…μ„ μν–‰ν•κΈ° λ•λ¬Έμ— <code>μ‚¬μ©μμ μ–Έμ–΄ μ •λ³΄μ— λ”°λΌ λ²¨λ¦¬λ°μ΄μ…μ— λ€ν• μ¤λ¥ λ©”μ‹μ§€κ°€ λ²μ—­λμ§€ μ•λ” λ¬Έμ </code>κ°€ μμµλ‹λ‹¤. μ΄λ¬ν• λ¬Έμ λ” κ³ κ°μ μ”κµ¬μ‚¬ν•­μ— μν•΄μ„ CSV λλ” μ—‘μ…€ νμΌμ„ μ—…λ΅λ“ν•μ—¬ μ›Ή μ„λΉ„μ¤λ¥Ό μ΄μ©ν•  λ• ν•„μλ΅ λ“±λ΅λμ–΄μ•Όν•λ” κ³Όμ •μ„ λ²ν¬ ν•μ‹μΌλ΅ μ§€μ›ν•΄μ•Όν–κ³  κµ¬ν„ κ³Όμ •μ—μ„ μ• ν”λ¦¬μΌ€μ΄μ… μ»¨ν…μ¤νΈμ— λ“±λ΅λ λ²¨λ¦¬λ°μ΄ν„°κ°€ μ•„λ‹ ν©ν† λ¦¬ ν•¨μλ΅ λ§λ“¤μ–΄μ§€λ” λ²¨λ¦¬λ°μ΄ν„°λ¥Ό μ‚¬μ©ν•΄μ„ λ²¨λ¦¬λ°μ΄μ…μ„ μν–‰ν•λ©΄μ„ λ°κ²¬λμ—μµλ‹λ‹¤.</p><pre class="language-sh" data-language="sh"><code class="language-sh">LoginController : [ConstraintViolationImpl&#123;interpolatedMessage&#x3D;&#39;κ³µλ°±μΌ μ μ—†μµλ‹λ‹¤&#39;, propertyPath&#x3D;loginId, rootBeanClass&#x3D;class com.example.springboot.bean.Account$Login, messageTemplate&#x3D;&#39;&#123;javax.validation.constraints.NotBlank.message&#125;&#39;&#125;]LoginController : locale: en_US</code></pre><blockquote><p>μ„μ™€ κ°™μ΄ λ΅κ·ΈμΈ μ”μ²­ μ •λ³΄μ— λ€ν• λ²¨λ¦¬λ°μ΄μ…μ„ μν–‰ν•μ€κ³  λ΅κ·ΈμΈ μ”μ²­μ„ ν• μ‚¬μ©μμ μ–Έμ–΄ μ •λ³΄μ™€ ν•¨κ» λ²¨λ¦¬λ°μ΄μ… μ¤λ¥μ— λ€ν• λ©”μ‹μ§€λ¥Ό μ¶λ ¥ν•΄λ³΄λ©΄ μ‚¬μ©μμ μ–Έμ–΄κ°€ μ•„λ‹λΌ μ‹μ¤ν… λ΅μΌ€μΌ μ •λ³΄μΈ ν•κµ­μ–΄λ΅ λ©”μ‹μ§€κ°€ λ²μ—­λμ–΄ μ²λ¦¬λμ—μμ„ ν™•μΈν•  μ μμµλ‹λ‹¤.</p></blockquote><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">MessageInterpolator</span> messageInterpolator <span class="token operator">=</span> <span class="token class-name">Validation</span><span class="token punctuation">.</span><span class="token function">byDefaultProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDefaultMessageInterpolator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>messageInterpolator <span class="token keyword">instanceof</span> <span class="token class-name">ResourceBundleMessageInterpolator</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"defaultMessageInterpolator is ResourceBundleMessageInterpolator"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">Validator</span> validator <span class="token operator">=</span> <span class="token class-name">Validation</span><span class="token punctuation">.</span><span class="token function">byDefaultProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">messageInterpolator</span><span class="token punctuation">(</span>messageInterpolator<span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">buildValidatorFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">getValidator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ConstraintViolation</span><span class="token punctuation">&lt;</span><span class="token class-name">Account<span class="token punctuation">.</span>Login</span><span class="token punctuation">></span><span class="token punctuation">></span></span> constraintViolations <span class="token operator">=</span> validator<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>loginInfo<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>κΈ°λ³Έ λ©”μ‹μ§€ μΈν„°ν΄λ μ΄ν„°λ¥Ό κ°€μ Έμ™€μ„ ResourceBundleMessageInterpolator ν΄λμ¤μ μΈμ¤ν„΄μ¤μΈμ§€λ¥Ό λΉ„κµν•΄λ³΄λ©΄ μ„ λ΅κ·Έκ°€ μ¶λ ¥λλ” κ²ƒμ„ ν™•μΈν•  μ μμµλ‹λ‹¤. κ·Έλ¦¬κ³  λ™μΌν•κ² μ‚¬μ©μ μ–Έμ–΄κ°€ μ•„λ‹ μ‹μ¤ν… λ΅μΌ€μΌμ„ κΈ°λ°μΌλ΅ λ©”μ‹μ§€κ°€ μ²λ¦¬λ¨μ„ λ³΄μ—¬μ¤λ‹λ‹¤.</p><pre class="language-none"><code class="language-none">LoginController : defaultMessageInterpolator is ResourceBundleMessageInterpolatorLoginController : [ConstraintViolationImpl&#123;interpolatedMessage&#x3D;&#39;κ³µλ°±μΌ μ μ—†μµλ‹λ‹¤&#39;, propertyPath&#x3D;loginId, rootBeanClass&#x3D;class com.example.springboot.bean.Account$Login, messageTemplate&#x3D;&#39;&#123;javax.validation.constraints.NotBlank.message&#125;&#39;&#125;]LoginController : locale: en_US</code></pre><h2 id="μ‚¬μ©μ-μ–Έμ–΄-κΈ°λ°μ-λ©”μ‹μ§€-μ²λ¦¬"><a href="#μ‚¬μ©μ-μ–Έμ–΄-κΈ°λ°μ-λ©”μ‹μ§€-μ²λ¦¬" class="headerlink" title="μ‚¬μ©μ μ–Έμ–΄ κΈ°λ°μ λ©”μ‹μ§€ μ²λ¦¬"></a>μ‚¬μ©μ μ–Έμ–΄ κΈ°λ°μ λ©”μ‹μ§€ μ²λ¦¬</h2><p>κΈ°λ³Έ λ²¨λ¦¬λ°μ΄ν„°λ” μ‹μ¤ν… λ΅μΌ€μΌμ„ κΈ°λ°μΌλ΅ λ©”μ‹μ§€κ°€ μ²λ¦¬λ¨μ„ ν™•μΈν•μ€μΌλ‹ μ‚¬μ©μμ μ–Έμ–΄ μ •λ³΄λ¥Ό κΈ°λ°μΌλ΅ λ©”μ‹μ§€λ¥Ό μ²λ¦¬ν•κΈ° μ„ν•΄μ„λ” μ–΄λ–»κ² ν•μ—¬μ•Όν•λ”μ§€ μ•μ•„λ³΄λ„λ΅ ν•κ² μµλ‹λ‹¤. <a href="https://docs.jboss.org/hibernate/validator/3.0/api/org/hibernate/validator/MessageInterpolator.html">MessageInterpolator</a> μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•μ—¬ λ©”μ‹μ§€λ¥Ό μ²λ¦¬ν•λ„λ΅ λμ–΄μκΈ° λ•λ¬Έμ— μ‚¬μ©μμ μ–Έμ–΄ μ •λ³΄λ¥Ό μ‚¬μ©ν•λ” MessageInterpolatorλ¥Ό μ μ©ν•΄μ•Όν•©λ‹λ‹¤.</p><p>μ¤ν”„λ§μ—μ„ μ‚¬μ©μμ μ”μ²­μ— μν• μ¤λ λ“ λ‚΄μ—μ„λ” LocaleContextHolder ν΄λμ¤λ¥Ό ν†µν•΄ μ‚¬μ©μμ λ΅μΌ€μΌ μ •λ³΄λ¥Ό μ‰½κ² κ°€μ Έμ¬ μ μλ„λ΅ μ κ³µν•©λ‹λ‹¤. κ·Έλ¦¬κ³  μ΄ ν΄λμ¤λ¥Ό μ‚¬μ©ν•΄μ„ λ΅μΌ€μΌ μ •λ³΄λ¥Ό κ°€μ Έμ™€μ„ λ©”μ‹μ§€λ¥Ό μ²λ¦¬ν•λ” <a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/validation/beanvalidation/LocaleContextMessageInterpolator.html"><strong>LocaleContextMessageInterpolator</strong></a>λ¥Ό μ κ³µν•κ³  μμµλ‹λ‹¤.</p><p>κΈ°λ³Έ λ©”μ‹μ§€ μΈν„°ν΄λ μ΄ν„°μΈ ResourceBundleMessageInterpolatorλ¥Ό LocaleContextMessageInterpolatorμ μƒμ„±μλ΅ μ „λ‹¬ν•μ—¬ MessageInterpolatorλ¥Ό λ€μ²΄ν•μ—¬ μ μ©ν•΄λ³΄λ„λ΅ ν•κ² μµλ‹λ‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">MessageInterpolator</span> messageInterpolator <span class="token operator">=</span> <span class="token class-name">Validation</span><span class="token punctuation">.</span><span class="token function">byDefaultProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDefaultMessageInterpolator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>messageInterpolator <span class="token keyword">instanceof</span> <span class="token class-name">ResourceBundleMessageInterpolator</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"defaultMessageInterpolator is ResourceBundleMessageInterpolator"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>messageInterpolator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LocaleContextMessageInterpolator</span><span class="token punctuation">(</span>messageInterpolator<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Validator</span> validator <span class="token operator">=</span> <span class="token class-name">Validation</span><span class="token punctuation">.</span><span class="token function">byDefaultProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">messageInterpolator</span><span class="token punctuation">(</span>messageInterpolator<span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">buildValidatorFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">getValidator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ConstraintViolation</span><span class="token punctuation">&lt;</span><span class="token class-name">Account<span class="token punctuation">.</span>Login</span><span class="token punctuation">></span><span class="token punctuation">></span></span> constraintViolations <span class="token operator">=</span> validator<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>loginInfo<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>κ·Έλ¦¬κ³  λ‹¤μ‹ μ‚¬μ©μμ λ΅κ·ΈμΈ μ”μ²­μ„ μν–‰ν•΄λ³΄κ³  μ–΄λ–»κ² λ²¨λ¦¬λ°μ΄μ… μ¤λ¥ λ©”μ‹μ§€κ°€ λ²μ—­λλ”μ§€ ν™•μΈν•΄λ³΄μ£ .</p><pre class="language-sh" data-language="sh"><code class="language-sh">LoginController : [ConstraintViolationImpl&#123;interpolatedMessage&#x3D;&#39;must not be blank&#39;, propertyPath&#x3D;loginId, rootBeanClass&#x3D;class com.example.springboot.bean.Account$Login, messageTemplate&#x3D;&#39;&#123;javax.validation.constraints.NotBlank.message&#125;&#39;&#125;]LoginController : locale: en_US</code></pre><blockquote><p>μ•μ„  κ³Όμ •μ„ ν†µν•΄μ„ λ²¨λ¦¬λ°μ΄μ…μ— λ€ν• λ©”μ‹μ§€ μ²λ¦¬λ” MessageInterpolatorλ¥Ό μ‚¬μ©ν•λ―€λ΅ LocaleContextMessageInterpolatorλ¥Ό μ μ©ν•λ©΄ μ¤ν”„λ§μ—μ„ κ΄€λ¦¬ν•λ” λ΅μΌ€μΌ μ •λ³΄λ¥Ό μ‚¬μ©ν•΄μ„ λ©”μ‹μ§€λ¥Ό μ²λ¦¬ν•  μ μμμ„ μ΄ν•΄ν–μµλ‹λ‹¤.</p></blockquote><h3 id="LocalValidatorFactoryBean"><a href="#LocalValidatorFactoryBean" class="headerlink" title="LocalValidatorFactoryBean"></a>LocalValidatorFactoryBean</h3><p><a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/validation/beanvalidation/LocalValidatorFactoryBean.html">LocalValidatorFactoryBean</a>λ” λ²¨λ¦¬λ°μ΄μ… μ¤νƒ€ν„°μ— μν•΄μ„ μλ™μΌλ΅ λ“±λ΅λλ” λ²¨λ¦¬λ°μ΄ν„°μ…λ‹λ‹¤. μ»¨νΈλ΅¤λ¬μ ν•Έλ“¤λ¬ ν•¨μλ΅ μ „λ‹¬λλ” κ³Όμ •μ—μ„ μ΄ λ²¨λ¦¬λ°μ΄ν„°λ¥Ό ν†µν•΄μ„ μ‚¬μ©μμ μ”μ²­ μ •λ³΄λ¥Ό κ²€μ¦ν•λ©° λ²¨λ¦¬λ°μ΄μ… μ¤λ¥ λ©”μ‹μ§€λ¥Ό μ κ³µν•κ² λ©λ‹λ‹¤.</p><p>ν„μ¬ μ΅°μ§μ—μ„λ” μ¤λμ „μ— κ³µμ ν• <a href="managing-i18n-messages-with-xml">XMLλ΅ λ‹¤κµ­μ–΄ λ©”μ‹μ§€ κ΄€λ¦¬ν•κΈ°</a>μ—μ„μ²λΌ XML νμΌμ„ κΈ°λ°μΌλ΅ λ‹¤κµ­μ–΄ λ©”μ‹μ§€ μ •λ³΄λ¥Ό κ΄€λ¦¬ν•κ³  μμΌλ©° μ΄ λ©”μ‹μ§€ μ†μ¤λ¥Ό μ‚¬μ©ν•λ„λ΅ μλ™ κµ¬μ„±μ΄ μ•„λ‹ LocalValidatorFactoryBeanλ¥Ό μ§μ ‘ λ²¨λ¦¬λ°μ΄ν„° λΉμΌλ΅ λ“±λ΅ν•μ—¬ μ‚¬μ©ν•κ³  μμµλ‹λ‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">MessageSource</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>validation<span class="token punctuation">.</span>beanvalidation<span class="token punctuation">.</span></span><span class="token class-name">LocalValidatorFactoryBean</span></span><span class="token punctuation">;</span><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MessageConfig</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">LocalValidatorFactoryBean</span> <span class="token function">validator</span><span class="token punctuation">(</span><span class="token class-name">CustomMessageSource</span> customMessageSource<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">LocalValidatorFactoryBean</span> factoryBean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LocalValidatorFactoryBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        factoryBean<span class="token punctuation">.</span><span class="token function">setValidationMessageSource</span><span class="token punctuation">(</span>customMessageSource<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> factoryBean<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>μ„μ™€ κ°™μ΄ LocalValidatorFactoryBeanλ¥Ό λ“±λ΅ν•  λ• λ²¨λ¦¬λ°μ΄μ… λ©”μ‹μ§€ μ†μ¤λ¥Ό μ§€μ •ν•λ” κ²ƒμ€ ν•μ΄λ²„λ„¤μ΄νΈ λ²¨λ¦¬λ°μ΄ν„°μ— μν•΄ ν΄λμ¤ν¨μ¤μ— ν¬ν•¨λ ValidationMessagesλ¥Ό μ‚¬μ©ν•μ§€ λ»ν•λ‹¤λ” λ‚΄μ¬λ κ²°ν•¨μ„ κ°€μ§€κ² λ©λ‹λ‹¤.</p><pre class="language-sh" data-language="sh"><code class="language-sh">LoginController : [ConstraintViolationImpl&#123;interpolatedMessage&#x3D;&#39;javax.validation.constraints.NotBlank.message&#39;, propertyPath&#x3D;loginId, rootBeanClass&#x3D;class com.example.springboot.bean.Account$Login, messageTemplate&#x3D;&#39;&#123;javax.validation.constraints.NotBlank.message&#125;&#39;&#125;]LoginController : locale: en_US</code></pre><blockquote><p>κΈ°λ³ΈμΌλ΅ μ‚¬μ©λλ” ValidationMessages λ€μ‹ μ— λ²¨λ¦¬λ°μ΄μ… λ©”μ‹μ§€ μ†μ¤λ¥Ό μ§€μ •ν•μ€κΈ°μ— ν•΄λ‹Ή λ©”μ‹μ§€λ΅ μ²λ¦¬λμ§€ μ•μ•μµλ‹λ‹¤. μ™λƒν•λ©΄ JSR-303 μ–΄λ…Έν…μ΄μ…μ— λ€ν• λ©”μ‹μ§€λ” μ§μ ‘ μ •μν•μ§€ μ•μ•κΈ° λ•λ¬Έμ΄μ£ .</p></blockquote><pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Bean</span><span class="token keyword">public</span> <span class="token class-name">LocalValidatorFactoryBean</span> <span class="token function">validator</span><span class="token punctuation">(</span><span class="token class-name">CustomMessageSource</span> messageSource<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">LocalValidatorFactoryBean</span> factoryBean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LocalValidatorFactoryBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    factoryBean<span class="token punctuation">.</span><span class="token function">setValidationMessageSource</span><span class="token punctuation">(</span>messageSource<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">MessageInterpolator</span> defaultMessageInterpolator <span class="token operator">=</span> <span class="token class-name">Validation</span><span class="token punctuation">.</span><span class="token function">byDefaultProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDefaultMessageInterpolator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">LocaleContextMessageInterpolator</span> localeContextMessageInterpolator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LocaleContextMessageInterpolator</span><span class="token punctuation">(</span>defaultMessageInterpolator<span class="token punctuation">)</span><span class="token punctuation">;</span>    factoryBean<span class="token punctuation">.</span><span class="token function">setMessageInterpolator</span><span class="token punctuation">(</span>localeContextMessageInterpolator<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> factoryBean<span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><p>ν„μ¬ μ΅°μ§μ²λΌ μ‚¬μ©μ μ •μ λ©”μ‹μ§€ μ†μ¤λ¥Ό λ²¨λ¦¬λ°μ΄μ… λ©”μ‹μ§€ μ†μ¤λ΅λ„ μ‚¬μ©ν•λ„λ΅ μ§€μ •ν•μ€λ‹¤λ©΄ μ„μ™€ κ°™μ΄ MessageInterpolatorλ¥Ό μ§€μ •ν•λ”κ² μΆ‹μµλ‹λ‹¤. μ΄λ•μ—λ„ μ‚¬μ©μμ μ–Έμ–΄ μ •λ³΄μ— λ”°λΌ λ©”μ‹μ§€κ°€ μ²λ¦¬λλ„λ΅ LocaleContextMessageInterpolatorλ¥Ό μ μ©ν•΄μ•Όν•©λ‹λ‹¤.</p><h4 id="MessageInterpolatorFactory"><a href="#MessageInterpolatorFactory" class="headerlink" title="MessageInterpolatorFactory"></a>MessageInterpolatorFactory</h4><p>LocalValidatorFactoryBeanμ„ μλ™ κµ¬μ„±ν•λ” ValidationAutoConfiguration ν΄λμ¤λ¥Ό μ‚΄ν΄λ³΄λ©΄ LocaleContextMessageInterpolatorμ΄ μ•„λ‹λΌ μ¤ν”„λ§ λ¶€νΈμ—μ„ μ¶”κ°€λ MessageInterpolatorFactoryλ¥Ό ν†µν•΄ MessageInterpolatorλ¥Ό κ°€μ Έμ™€μ„ λ“±λ΅ν•λ” κ²ƒμ„ ν™•μΈν•  μ μμµλ‹λ‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ValidationAutoConfiguration</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">LocalValidatorFactoryBean</span> <span class="token function">defaultValidator</span><span class="token punctuation">(</span><span class="token class-name">ApplicationContext</span> applicationContext<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">LocalValidatorFactoryBean</span> factoryBean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LocalValidatorFactoryBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">MessageInterpolatorFactory</span> interpolatorFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MessageInterpolatorFactory</span><span class="token punctuation">(</span>applicationContext<span class="token punctuation">)</span><span class="token punctuation">;</span>        factoryBean<span class="token punctuation">.</span><span class="token function">setMessageInterpolator</span><span class="token punctuation">(</span>interpolatorFactory<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> factoryBean<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>μ΄λ¥Ό μ°Έκ³ ν•μ—¬ μ‚¬μ©μ μ •μ λ©”μ‹μ§€ μ†μ¤ λ²λ“¤μ„ λ²¨λ¦¬λ°μ΄μ… λ©”μ‹μ§€ μ†μ¤λ΅ μ§€μ •ν•μ€λ”λΌλ„ MessageInterpolatorFactoryλ¥Ό ν†µν•΄ ResourceBundleMessageInterpolatorμ— μν•΄μ„ λ©”μ‹μ§€κ°€ λ²μ—­λμ–΄ μ²λ¦¬λ¨μ„ ν™•μΈν•  μ μμµλ‹λ‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Bean</span><span class="token keyword">public</span> <span class="token class-name">LocalValidatorFactoryBean</span> <span class="token function">validator</span><span class="token punctuation">(</span><span class="token class-name">CustomMessageSource</span> messageSource<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">LocalValidatorFactoryBean</span> factoryBean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LocalValidatorFactoryBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    factoryBean<span class="token punctuation">.</span><span class="token function">setValidationMessageSource</span><span class="token punctuation">(</span>messageSource<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">MessageInterpolatorFactory</span> messageInterpolatorFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MessageInterpolatorFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    factoryBean<span class="token punctuation">.</span><span class="token function">setMessageInterpolator</span><span class="token punctuation">(</span>messageInterpolatorFactory<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> factoryBean<span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><blockquote><p>κ·Έλ°λ° μ•μ„  μμΉ΄λ¥΄νƒ€ ν©ν† λ¦¬ ν•¨μμ— μν•΄ μƒμ„±λ λ²¨λ¦¬λ°μ΄ν„°λ„ ResourceBundleMessageInterpolatorλ¥Ό μ‚¬μ©ν•μ€λ”λ° μ–΄λ–»κ² LocalValidatorFactoryBeanλ” μ‚¬μ©μ μ–Έμ–΄ μ •λ³΄μ— λ”°λΌ μ¤λ¥ λ©”μ‹μ§€λ¥Ό μ²λ¦¬ν•΄μ£Όκ² λλ” κ²ƒμΌκΉμ”?</p></blockquote><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">MessageInterpolator</span> targetInterpolator <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>messageInterpolator<span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>targetInterpolator <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    targetInterpolator <span class="token operator">=</span> configuration<span class="token punctuation">.</span><span class="token function">getDefaultMessageInterpolator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>configuration<span class="token punctuation">.</span><span class="token function">messageInterpolator</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LocaleContextMessageInterpolator</span><span class="token punctuation">(</span>targetInterpolator<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>μ„ μ½”λ“λ” LocalValidatorFactoryBeanμ΄ λΉμΌλ΅ λ“±λ΅λκ³  λ‚ ν›„ afterPropertiesSet ν•¨μμ— μν•΄ μν–‰λλ” μ½”λ“ μ¤‘ μΌλ¶€μ…λ‹λ‹¤. LocalValidatorFactoryBeanμ„ λΉμΌλ΅ λ“±λ΅ν•  λ• MessageInterpolatorFactoryμ— μν•΄ κ°€μ Έμ¨ ResourceBundleMessageInterpolatorλ¥Ό μ§€μ •ν•μ€μ§€λ§ μ΄λ¥Ό λ‹¤μ‹ LocaleContextMessageInterpolatorλ΅ λ³€ν™ν•μ—¬ λ“±λ΅ν•¨μ„ ν™•μΈν•  μ μμµλ‹λ‹¤. </p><p>κ²°κµ­ LocalValidatorFactoryBeanμ„ λΉμΌλ΅ λ“±λ΅ν•  λ•λ” λ‹¤μκ³Ό κ°™μ΄ LocaleContextMessageInterpolatorλ¥Ό μ „λ‹¬ν•μ§€ μ•μ•„λ„ λ¨μ„ μλ―Έν•©λ‹λ‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Bean</span><span class="token keyword">public</span> <span class="token class-name">LocalValidatorFactoryBean</span> <span class="token function">validator</span><span class="token punctuation">(</span><span class="token class-name">CustomMessageSource</span> messageSource<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">LocalValidatorFactoryBean</span> factoryBean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LocalValidatorFactoryBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    factoryBean<span class="token punctuation">.</span><span class="token function">setValidationMessageSource</span><span class="token punctuation">(</span>messageSource<span class="token punctuation">)</span><span class="token punctuation">;</span>    factoryBean<span class="token punctuation">.</span><span class="token function">setMessageInterpolator</span><span class="token punctuation">(</span><span class="token class-name">Validation</span><span class="token punctuation">.</span><span class="token function">byDefaultProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDefaultMessageInterpolator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> factoryBean<span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><h3 id="μ‚¬μ©μ-μ •μ-λ©”μ‹μ§€"><a href="#μ‚¬μ©μ-μ •μ-λ©”μ‹μ§€" class="headerlink" title="μ‚¬μ©μ μ •μ λ©”μ‹μ§€"></a>μ‚¬μ©μ μ •μ λ©”μ‹μ§€</h3><p>κ·Έλ ‡λ‹¤λ©΄ λ‹¤μκ³Ό κ°™μ΄ ValidationMessagesμ— μ •μλ λ©”μ‹μ§€ μ½”λ“λ¥Ό μ •μν•λ©΄ μ–΄λ–»κ² λ©”μ‹μ§€κ°€ μ²λ¦¬λ κΉμ”?</p><pre class="language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>messages</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>entry</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>javax.validation.constraints.NotBlank.message<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ko_KR</span><span class="token punctuation">></span></span><span class="token cdata">&lt;![CDATA[[μ‚¬μ©μ μ •μ] κ³µλ°±μΌ μ μ—†μµλ‹λ‹¤]]></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ko_KR</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>en_US</span><span class="token punctuation">></span></span><span class="token cdata">&lt;![CDATA[[Custom] must not be blank]]></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>en_US</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>entry</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>messages</span><span class="token punctuation">></span></span></code></pre><p>NotBlankμ— λ€ν• λ©”μ‹μ§€λ¥Ό μ •μν–μ§€λ§ ValidationMessagesμ— μ •μλ λ©”μ‹μ§€λ΅ μ²λ¦¬λ¨μ„ ν™•μΈν•  μ μμ„κ²λ‹λ‹¤. μ΄λ ‡κ² λλ” μ΄μ λ” setValidationMessageSource ν•¨μ λ™μ‘μ— μμµλ‹λ‹¤. setValidationMessageSource ν•¨μμ μ½”λ“λ¥Ό μ‚΄ν΄λ³΄λ©΄ νλΌλ―Έν„°λ΅ μ „λ‹¬λ λ©”μ‹μ§€ μ†μ¤λ¥Ό κΈ°λ°μΌλ΅ ResourceBundleMessageInterpolatorλ¥Ό λ§λ“¤μ–΄μ„ MessageInterpolatorλ¥Ό λ³€κ²½ν•λ„λ΅ λμ–΄μκΈ° λ•λ¬Έμ…λ‹λ‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setValidationMessageSource</span><span class="token punctuation">(</span><span class="token class-name">MessageSource</span> messageSource<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>messageInterpolator <span class="token operator">=</span> <span class="token class-name">HibernateValidatorDelegate</span><span class="token punctuation">.</span><span class="token function">buildMessageInterpolator</span><span class="token punctuation">(</span>messageSource<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">HibernateValidatorDelegate</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">MessageInterpolator</span> <span class="token function">buildMessageInterpolator</span><span class="token punctuation">(</span><span class="token class-name">MessageSource</span> messageSource<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ResourceBundleMessageInterpolator</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MessageSourceResourceBundleLocator</span><span class="token punctuation">(</span>messageSource<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><blockquote><p>κ²°κµ­ setValidationMessageSourceμ™€ setMessageInterpolatorλ” λ™μ‹μ— μ μ©ν•  μ μ—†μΌλ―€λ΅ μ‚¬μ©μ μ •μ λ©”μ‹μ§€ μ†μ¤λ¥Ό μ§€μ •ν• κ²ƒμ΄ μλ―Έμ—†λ” μ“°λ κΈ° μ½”λ“κ°€ λ©λ‹λ‹¤.</p></blockquote><p>μ¤ν”„λ§ λ¶€νΈ 2.6.0 λ²„μ „λ¶€ν„°λ” MessageInterpolatorFactory μƒμ„±μκ°€ λ©”μ‹μ§€ μ†μ¤λ¥Ό λ°›μ„ μ μλ„λ΅ μμ •λμ—κ³  μƒμ„±μμ— μν•΄ μ „λ‹¬λ λ©”μ‹μ§€ μ†μ¤κ°€ μλ‹¤λ©΄ MessageSourceMessageInterpolatorλ΅ λ³€κ²½ν•μ—¬μ£Όλ” μ½”λ“κ°€ μ¶”κ°€λμ–΄μμµλ‹λ‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Override</span><span class="token keyword">public</span> <span class="token class-name">MessageInterpolator</span> <span class="token function">getObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">MessageInterpolator</span> messageInterpolator <span class="token operator">=</span> <span class="token function">getMessageInterpolator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>messageSource <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">MessageSourceMessageInterpolator</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>messageSource<span class="token punctuation">,</span> messageInterpolator<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> messageInterpolator<span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><h3 id="μ‚¬μ©μ-μ •μ-μ μ•½μ‚¬ν•­"><a href="#μ‚¬μ©μ-μ •μ-μ μ•½μ‚¬ν•­" class="headerlink" title="μ‚¬μ©μ μ •μ μ μ•½μ‚¬ν•­"></a>μ‚¬μ©μ μ •μ μ μ•½μ‚¬ν•­</h3><p>μ‚¬μ©μ μ •μ λ©”μ‹μ§€ μ†μ¤λ¥Ό μ κ³µν•λ”λΌλ„ λ©”μ‹μ§€ ν¨ν„΄μ—μ„ {value}μ™€ κ°™μ€ νλΌλ―Έν„° ν‘ν„μ΄ λ¶κ°€λ¥ν•©λ‹λ‹¤. μλ¥Ό λ“¤μ–΄, λ‹¤μκ³Ό κ°™μ΄ μ–΄λ–¤ κ°’μ— λ€ν• κΈΈμ΄λ¥Ό μ ν•ν•λ‹¤κ³  κ°€μ •ν•μ—¬ @Min μ–΄λ…Έν…μ΄μ…μ„ λ¶€μ—¬ν–λ‹¤κ³  κ°€μ •ν•κ² μµλ‹λ‹¤.</p><pre class="language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>messages</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>entry</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>javax.validation.constraints.Min.message<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ko_KR</span><span class="token punctuation">></span></span><span class="token cdata">&lt;![CDATA[(μ‚¬μ©μ μ •μ) &#123;value&#125; λ³΄λ‹¤ κ°™κ±°λ‚ μ»¤μ•Όν•©λ‹λ‹¤]]></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ko_KR</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>en_US</span><span class="token punctuation">></span></span><span class="token cdata">&lt;![CDATA[(Custom) must be greater than or equal to &#123;value&#125;]]></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>en_US</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>entry</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>messages</span><span class="token punctuation">></span></span></code></pre><p>μ‚¬μ©μ μ •μ λ©”μ‹μ§€μ—μ„ VailidationMessagesμ— μ •μλ κ²ƒμ²λΌ νλΌλ―Έν„° ν‘ν„μ„ μ‚¬μ©ν•΄λ³΄κ² μµλ‹λ‹¤.</p><pre class="language-none"><code class="language-none">org.springframework.web.util.NestedServletException: Request processing failed; nested exception is javax.validation.ValidationException: HV000149: An exception occurred during message interpolation...Caused by: java.lang.IllegalArgumentException: can&#39;t parse argument number: valueat java.base&#x2F;java.text.MessageFormat.makeFormat(MessageFormat.java:1451) ~[na:na]at java.base&#x2F;java.text.MessageFormat.applyPattern(MessageFormat.java:491) ~[na:na]at java.base&#x2F;java.text.MessageFormat.&lt;init&gt;(MessageFormat.java:390) ~[na:na]...Caused by: java.lang.NumberFormatException: For input string: &quot;value&quot;at java.base&#x2F;java.lang.NumberFormatException.forInputString(NumberFormatException.java:65) ~[na:na]at java.base&#x2F;java.lang.Integer.parseInt(Integer.java:652) ~[na:na]at java.base&#x2F;java.lang.Integer.parseInt(Integer.java:770) ~[na:na]at java.base&#x2F;java.text.MessageFormat.makeFormat(MessageFormat.java:1449) ~[na:na]</code></pre><blockquote><p>μ΄λ¬ν• νλΌλ―Έν„° ν‘ν„μ€ Hibernate Validatorμ—μ„ μ§€μ›ν•λ” ν‘ν„μ‹μ΄λ―€λ΅ MessageFormatκ°€ μ§€μ›ν•λ” ν‘ν„μ‹κ³Όλ” λ‹¤λ¦…λ‹λ‹¤. MessageFormatλ” {0}, {1} μ΄λ ‡κ² μ«μ κΈ°λ°μ ν‘ν„μ‹μ„ μ§€μ›ν•κΈ° λ•λ¬Έμ— ν‘ν„μ‹ μ μ•½μ΄ λ°μƒν•©λ‹λ‹¤. μ•„μ‰½μ§€λ§ μ‚¬μ©μ μ •μ λ©”μ‹μ§€μ—μ„ νλΌλ―Έν„° ν‘ν„μ‹μ„ μ‚¬μ©ν•μ§€ μ•μ„ μ λ°–μ— μ—†κ³  νλΌλ―Έν„° ν‘ν„μ‹μ„ μ‚¬μ©ν•΄μ•Όν•λ‹¤λ©΄ ValidationMessages λ¦¬μ†μ¤ λ²λ“¤μ„ ν΄λμ¤ν¨μ¤μ— μ¬μ •μν•΄μ„ μ‚¬μ©ν•  μ λ°–μ— μ—†μµλ‹λ‹¤. </p></blockquote><p>μ–Έμ–΄λ³„ λ©”μ‹μ§€κ°€ μ •μλ ν”„λ΅νΌν‹° νμΌμ„ λ³΄μ™„ν•κ³ μ XMLλ΅ λ©”μ‹μ§€λ¥Ό μ •μν•μ—¬ λ©”μ‹μ§€ μ†μ¤λ¥Ό λ§λ“¤μ–΄μ„ μ‚¬μ©ν–μ§€λ§ μλ„ν•μ§€ μ•μ€ μ μ•½μ΄ μƒκ²¨λ²„λ Έμµλ‹λ‹¤. λ¶νΈν•λ”λΌλ„ λ²¨λ¦¬λ°μ΄μ… λ©”μ‹μ§€λ” ν”„λ΅νΌν‹° νμΌλ΅ κ΄€λ¦¬ν•΄μ„ ResourceBundleMessageInterpolatorμ— μν•΄ μ²λ¦¬λλ„λ΅ ν•΄μ•Όν•  κ²ƒ κ°™μµλ‹λ‹¤.</p><p>κ°μ‚¬ν•©λ‹λ‹¤.</p><h2 id="μ°Έκ³ "><a href="#μ°Έκ³ " class="headerlink" title="μ°Έκ³ "></a>μ°Έκ³ </h2><ul><li><a href="/managing-i18n-messages-with-xml">XMLλ΅ λ‹¤κµ­μ–΄ λ©”μ‹μ§€ κ΄€λ¦¬ν•κΈ°</a></li><li><a href="https://meetup.toast.com/posts/223">Validation μ–΄λ””κΉμ§€ ν•΄λ΄¤λ‹?</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;μ¤ν”„λ§ λ¶€νΈ μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„ λ²¨λ¦¬λ°μ΄μ… μ¤λ¥ λ©”μ‹μ§€κ°€ μ‚¬μ©μκ°€ μ–Έμ–΄λ΅ μ²λ¦¬λμ§€ μ•λ” μ‚¬μ λ¥Ό κ²½ν—ν•μ—¬ μ΄μ™€ κ°™μ€ λ¬Έμ κ°€ λ°μƒν• μ΄μ μ— λ€ν•΄μ„ μ•μ•„λ³΄κ³  μ¤ν”„λ§μ—μ„ μ κ³µν•λ” λ²¨λ¦¬λ°μ΄μ…μ— λ€ν•΄μ„ μ •λ¦¬ν• κΈ€μ…λ‹λ‹¤.&lt;br&gt;κ΄€λ ¨ μ½”λ“λ”</summary>
      
    
    
    
    
    <category term="Jakarta Bean Validation" scheme="https://kdevkr.github.io/tags/Jakarta-Bean-Validation/"/>
    
    <category term="Hibernate Validator" scheme="https://kdevkr.github.io/tags/Hibernate-Validator/"/>
    
  </entry>
  
  <entry>
    <title>μ¤ν”„λ§ λ¶€νΈ μ•΅μ„Έμ¤ λ΅κ·Έλ¥Ό μ—λΌμ¤ν‹±μ„μΉμ— κΈ°λ΅ν•κΈ°</title>
    <link href="https://kdevkr.github.io/spring-boot-accesslog-with-elasticsearch/"/>
    <id>https://kdevkr.github.io/spring-boot-accesslog-with-elasticsearch/</id>
    <published>2022-02-10T00:00:00.000Z</published>
    <updated>2022-05-23T14:52:51.525Z</updated>
    
    <content type="html"><![CDATA[<p>μ•λ…•ν•μ„Έμ” Mambo μ…λ‹λ‹¤.</p><p>μ• ν”λ¦¬μΌ€μ΄μ… μ„λ²„λ΅ μ”μ²­λλ” μ •λ³΄λ¥Ό κΈ°λ΅ν•λ” <a href="https://d2.naver.com/helloworld/3585246">μ•΅μ„Έμ¤ λ΅κ·Έ</a>λ” μ• ν”λ¦¬μΌ€μ΄μ… μ΄μκ³Ό μ¥μ•  λ€μ‘μ— μμ–΄μ„ μƒλ‹Ήν μ¤‘μ”ν• μ •λ³΄μ…λ‹λ‹¤. μ•„λ§μ΅΄ μ›Ή μ„λΉ„μ¤μ—μ„λ„ <a href="https://docs.aws.amazon.com/ko_kr/AmazonS3/latest/userguide/enable-server-access-logging.html">Amazon S3 μ„λ²„ μ•΅μ„Έμ¤ λ΅κΉ… ν™μ„±ν™”</a>μ²λΌ μ•΅μ„Έμ¤ λ΅κ·Έλ¥Ό κΈ°λ΅ν•  μ μλ” κΈ°λ¥μ„ μ κ³µν•μ£ . μ¤ν”„λ§ λ¶€νΈλ” <strong>ν†°μΊ£(Tomcat)</strong> μ΄λ‚ <strong>μ–Έλ”ν† μ°(Undertow)</strong> μ™€ κ°™μ€ WASμ— λ€ν•μ—¬ μ•΅μ„Έμ¤ λ΅κ·Έλ¥Ό νμΌλ΅ μ €μ¥ν•  μ μλ” κΈ°λ¥μ„ κΈ°λ³Έμ μΌλ΅ ν¬ν•¨ν•κ³  μμµλ‹λ‹¤.</p><p>λ§μ•½, μ–Έλ”ν† μ°λ¥Ό μ‚¬μ©ν•κ³  μλ‹¤λ©΄ λ‹¤μκ³Ό κ°™μ΄ μ•΅μ„Έμ¤ λ΅κ·Έλ¥Ό ν™μ„±ν™”ν•κ³  ν¨ν„΄μ„ μ§€μ •ν•  μ μμµλ‹λ‹¤.</p><pre class="language-properties" data-language="properties"><code class="language-properties"><span class="token key attr-name">server.undertow.accesslog.enabled</span><span class="token punctuation">=</span><span class="token value attr-value">true</span><span class="token key attr-name">server.undertow.accesslog.pattern</span><span class="token punctuation">=</span><span class="token value attr-value">common</span></code></pre><h2 id="μ¤ν”„λ§-λ¶€νΈ-λ΅κΉ…"><a href="#μ¤ν”„λ§-λ¶€νΈ-λ΅κΉ…" class="headerlink" title="μ¤ν”„λ§ λ¶€νΈ λ΅κΉ…"></a>μ¤ν”„λ§ λ¶€νΈ λ΅κΉ…</h2><p>μ¤ν”„λ§ λ¶€νΈλ” κΈ°λ³Έμ μΌλ΅ Slf4j κΈ°λ°μ <a href="https://logback.qos.ch/">λ΅κ·Έλ°±(Logback)</a>μ„ λ΅κΉ… ν”„λ μ„μ›ν¬λ΅ μ‚¬μ©ν•©λ‹λ‹¤. κ·Έλμ„ μ• ν”λ¦¬μΌ€μ΄μ…μ λ΅κ·Έλ¥Ό μ—λΌμ¤ν‹±μ„μΉμ— κΈ°λ΅ν•κΈ° μ„ν•΄μ„λ” <a href="https://github.com/logfellow/logstash-logback-encoder">Logstash Logback Encoder</a>μ™€ κ°™μ΄ λ΅κ·Έλ°±μΌλ΅ κΈ°λ΅λλ” λ΅κ·Έλ¥Ό μ—λΌμ¤ν‹±μ„μΉλ΅ μ „λ‹¬ν•  μ μκ² κµ¬ν„ν•΄μ•Όν•©λ‹λ‹¤.</p><h3 id="Logback-Elasticsearch-Appender"><a href="#Logback-Elasticsearch-Appender" class="headerlink" title="Logback Elasticsearch Appender"></a>Logback Elasticsearch Appender</h3><p><a href="https://github.com/internetitem/logback-elasticsearch-appender">Logback Elasticsearch Appender</a>λ” ELK μ¤νƒμ΄ μ•„λ‹λ”λΌλ„ λ΅κ·Έλ°±μΌλ΅ κΈ°λ΅λλ” λ΅κ·Έλ¥Ό μ—λΌμ¤ν‹±μ„μΉλ΅ μ „λ‹¬ν•λ” κΈ°λ¥μ„ μ κ³µν•©λ‹λ‹¤. μ¤λμ€ μ΄κ²ƒμ„ ν™μ©ν•μ—¬ μ¤ν”„λ§ λ¶€νΈ μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„ λ°μƒν•λ” μ•΅μ„Έμ¤ λ΅κ·Έλ¥Ό μ—λΌμ¤ν‹±μ„μΉμ— κΈ°λ΅ν•΄λ³΄κ³ μ ν•©λ‹λ‹¤. </p><p><img data-src="/images/posts/spring-boot-accesslog-with-elasticsearch/logback-elasticsearch-appender-01.png"></p><p>κ·Έλ¦¬κ³  μ„ μ²λΌ <a href="https://logback.qos.ch/access.html">Logback Access</a>μ— λ€ν• Appenderλ¥Ό ν¬ν•¨ν•κ³  μμΌλ―€λ΅ μ•΅μ„Έμ¤ λ΅κ·Έλ¥Ό μ‰½κ² μ—λΌμ¤ν‹±μ„μΉλ΅ μ „λ‹¬ν•  μ μκ² λ©λ‹λ‹¤.</p><h3 id="Logback-Access-Spring-Boot-Starter"><a href="#Logback-Access-Spring-Boot-Starter" class="headerlink" title="Logback Access Spring Boot Starter"></a>Logback Access Spring Boot Starter</h3><p><a href="https://github.com/akkinoc/logback-access-spring-boot-starter">logback-access-spring-boot-starter</a>λ” λ΅κ·Έλ°± μ—‘μ„Έμ¤ μ„¤μ •μ— λ€ν• μ¤ν”„λ§ λ¶€νΈ μ¤νƒ€ν„°μ…λ‹λ‹¤. μ–Έλ”ν† μ°κΉμ§€ μ§€μ›ν•λ―€λ΅ μ–Έλ”ν† μ°μ— λ€ν•΄ λ΅κ·Έλ°± μ—‘μ„Έμ¤ μ„¤μ •μ„ μ„ν• <a href="https://gist.github.com/cdmatta/2a4536ab687bf7a92482faf031e8a0b5">μ»¤μ¤ν„°λ§μ΄μ €</a>λ¥Ό μ§μ ‘ κµ¬ν„ν•μ§€ μ•μ•„λ„ λ©λ‹λ‹¤.</p><h3 id="λ”°λΌν•κΈ°"><a href="#λ”°λΌν•κΈ°" class="headerlink" title="λ”°λΌν•κΈ°"></a>λ”°λΌν•κΈ°</h3><p>μ¤ν”„λ§ λ¶€νΈ ν”„λ΅μ νΈλ¥Ό λ§λ“¤κ³  μ €λ” μ–Έλ”ν† μ°λ¥Ό μ„ νΈν•λ―€λ΅ ν†°μΊ£ λ¨λ“μ„ μ μ™Έν•κ³  μ–Έλ”ν† μ° μ¤νƒ€ν„°λ¥Ό μ¶”κ°€ν–μµλ‹λ‹¤.</p><pre class="language-groovy" data-language="groovy"><code class="language-groovy">configurations<span class="token punctuation">.</span>all <span class="token punctuation">&#123;</span>    exclude module<span class="token punctuation">:</span> <span class="token string">'spring-boot-starter-tomcat'</span><span class="token punctuation">&#125;</span>dependencies <span class="token punctuation">&#123;</span>    implementation <span class="token string">'org.springframework.boot:spring-boot-starter-web'</span>    implementation <span class="token string">'org.springframework.boot:spring-boot-starter-undertow'</span>    implementation <span class="token string">'com.internetitem:logback-elasticsearch-appender:1.6'</span>    implementation <span class="token string">'dev.akkinoc.spring.boot:logback-access-spring-boot-starter:3.2.1'</span><span class="token punctuation">&#125;</span></code></pre><blockquote><p>λ΅κ·Έλ°± μ—‘μ„Έμ¤ μ¤νƒ€ν„°λ” μ–Έλ”ν† μ° λΏλ§ μ•„λ‹λΌ ν†°μΊ£λ„ μ§€μ›ν•λ―€λ΅ μ„¤μ •μ— λ€ν• μ°¨μ΄λ” μ—†μµλ‹λ‹¤.</p></blockquote><p>κ·Έλ¦¬κ³  λ‹¤μκ³Ό κ°™μ΄ λ΅κ·Έλ°± μ—‘μ„Έμ¤λ¥Ό μ„ν• μ„¤μ • νμΌμ„ ν΄λμ¤ν¨μ¤μ— μ¶”κ°€ν•©λ‹λ‹¤. μ„¤μ • νμΌμ„ λ¶λ¬μ¤λ” <a href="https://github.com/akkinoc/logback-access-spring-boot-starter#priority-order">μ°μ„ μμ„</a>μ— λ”°λΌ μ„¤μ • νμΌλ…μ€ logback-access-spring.xml μ΄λΌκ³  μƒμ„±ν•κ² μµλ‹λ‹¤.</p><p><strong>logback-access-spring.xml</strong></p><pre class="language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>springProperty</span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>context<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>elasticsearch_uris<span class="token punctuation">"</span></span> <span class="token attr-name">source</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>spring.elasticsearch.uris<span class="token punctuation">"</span></span> <span class="token attr-name">defaultValue</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://localhost:9200<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ELASTIC<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.internetitem.logback.elasticsearch.ElasticsearchAccessAppender<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">></span></span>$&#123;elasticsearch_uris&#125;/_bulk<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>index</span><span class="token punctuation">></span></span>application-accesslog-%date&#123;yyyy-MM-dd&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>index</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>headers</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>Content-Type<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>application/json<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>headers</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ELASTIC<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span></code></pre><p>μ¤ν”„λ§ λ¶€νΈ μ• ν”λ¦¬μΌ€μ΄μ…μ„ μ‹¤ν–‰ν•κ³  λΈλΌμ°μ € λλ” ν΄λΌμ΄μ–ΈνΈ λ„κµ¬λ¥Ό ν†µν•΄ μ•΅μ„Έμ¤ κΈ°λ΅μ„ λ‚¨κ²¨λ³΄κ³  μ—λΌμ¤ν‹±μ„μΉμ— μ μ €μ¥λλ”μ§€ ν™•μΈν•΄λ΄…λ‹λ‹¤.</p><p><img data-src="/images/posts/spring-boot-accesslog-with-elasticsearch/elasticsearch-devtools-01.png"></p><p>μΈλ±μ¤λ” μƒμ„±λμ—μ§€λ§ μ•΅μ„Έμ¤ λ΅κ·Έμ— λ€ν• μ •λ³΄κ°€ μ—†μµλ‹λ‹¤. μ•΅μ„Έμ¤ λ΅κ·Έ μ •λ³΄λ¥Ό κΈ°λ΅ν•κΈ° μ„ν•΄μ„λ” <a href="https://logback.qos.ch/manual/layouts.html#logback-access">Logback Access conversion words</a>λ¥Ό μ°Έκ³ ν•΄μ„ ν”„λ΅νΌν‹°λ¥Ό μ„¤μ •ν•΄μ•Όν•©λ‹λ‹¤. μ•μ„ μƒμ„±ν• λ΅κ·Έλ°± μ—‘μ„Έμ¤ μ„¤μ • νμΌμ— λ‹¤μκ³Ό κ°™μ΄ ν”„λ΅νΌν‹° ν•­λ©μ„ μ¶”κ°€λ΅ μ •μν•κ² μµλ‹λ‹¤.</p><pre class="language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>springProperty</span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>context<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>elasticsearch_uris<span class="token punctuation">"</span></span> <span class="token attr-name">source</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>spring.elasticsearch.uris<span class="token punctuation">"</span></span> <span class="token attr-name">defaultValue</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://localhost:9200<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ELASTIC<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.internetitem.logback.elasticsearch.ElasticsearchAccessAppender<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">></span></span>$&#123;elasticsearch_uris&#125;/_bulk<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>index</span><span class="token punctuation">></span></span>application-accesslog-%date&#123;yyyy-MM-dd&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>index</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>contentLength<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>%b<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>remoteHost<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>%h<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>protocol<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>%H<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>referer<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>%i&#123;Referer&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>userAgent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>%i&#123;User-Agent&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>requestMethod<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>%m<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>statusCode<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>%s<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>elapsedTime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>%D<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>date<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>%t&#123;yyyy-MM-dd'T'HH:mm:ss&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>user<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>%u<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>queryString<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>%q<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>requestURI<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>%U<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>headers</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>Content-Type<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>application/json<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>headers</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ELASTIC<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span></code></pre><blockquote><p>λ―Έλ¦¬ μ •μλ ν¨ν„΄μΈ combinedλ¥Ό μ°Έκ³ ν•μ—¬ λ¦¬νΌλ¬μ™€ μ μ € μ—μ΄μ „νΈ ν—¤λ”λ¥Ό ν¬ν•¨ν•λ„λ΅ ν”„λ΅νΌν‹°λ¥Ό μ„¤μ •ν–μµλ‹λ‹¤.</p></blockquote><p><img data-src="/images/posts/spring-boot-accesslog-with-elasticsearch/elasticsearch-devtools-02.png"></p><p>μ„ μ²λΌ ν”„λ΅νΌν‹°λ¥Ό μ„¤μ •ν•μ€μΌλ―€λ΅ μ”μ²­λ μ•΅μ„Έμ¤μ— λ€ν• λ΅κ·Έλ¥Ό ν†µν•΄ μ μ € μ—μ΄μ „νΈκ°€ ν¬μ¤νΈλ§¨μ΄λ©° μ”μ²­λ κ²½λ΅λ” μ•΅μ¶”μ—μ΄ν„°μΈ κ²ƒμ„ ν™•μΈν•  μ μκ² λμ—μµλ‹λ‹¤. λ”°λΌν•μ‹λ” μ—¬λ¬λ¶„μ€ λ‹¤μ–‘ν• ν•­λ©μ— λ€ν•΄μ„λ„ κΈ°λ΅ν•΄λ³΄μ‹λ©΄ μΆ‹μ„ κ²ƒ κ°™μµλ‹λ‹¤.</p><h4 id="μ•΅μ„Έμ¤-λ΅κ·Έ-μΈλ±μ¤-ν…ν”λ¦Ώ"><a href="#μ•΅μ„Έμ¤-λ΅κ·Έ-μΈλ±μ¤-ν…ν”λ¦Ώ" class="headerlink" title="μ•΅μ„Έμ¤ λ΅κ·Έ μΈλ±μ¤ ν…ν”λ¦Ώ"></a>μ•΅μ„Έμ¤ λ΅κ·Έ μΈλ±μ¤ ν…ν”λ¦Ώ</h4><p>μƒμ„±λ μ•΅μ„Έμ¤ λ΅κ·Έμ— λ€ν• μΈλ±μ¤ λ§¤ν•‘ μ •λ³΄λ¥Ό μ΅°νν•λ©΄ λ™μ  λ§¤ν•‘μ— μν•΄μ„ μ—λΌμ¤ν‹±μ„μΉκ°€ ν•„λ“ μ ν•μ„ μ„μλ€λ΅ μ§€μ •ν• κ²ƒμ„ ν™•μΈν•  μ μμµλ‹λ‹¤. λ™μ  λ§¤ν•‘μ€ μ €μ¥λλ” λ„νλ¨ΌνΈμ ν•„λ“ μ •λ³΄λ¥Ό μ•κΈ° μ–΄λ ¤μΈ λ•λ” νΈλ¦¬ν• κΈ°λ¥μ΄μ§€λ§ μ§€κΈμ²λΌ μ•΅μ„Έμ¤ λ΅κ·Έμ— μ €μ¥λλ” ν•„λ“κ°€ κ³ μ •λμ–΄μκ³  ν•„λ“ μ ν•μ„ νμ•…ν•  μ μλ‹¤λ©΄ μ •μ  λ§¤ν•‘μ„ μ •μν•΄λ‘λ” κ²ƒμ΄ μΆ‹μµλ‹λ‹¤.</p><p><img data-src="/images/posts/spring-boot-accesslog-with-elasticsearch/elasticsearch-devtools-03.png"></p><p>μ•΅μ„Έμ¤ λ΅κ·Έμ— κΈ°λ΅λλ” μ •λ³΄κ°€ λ…ν™•ν•λ―€λ΅ λ™μ  λ§¤ν•‘μ„ μν–‰ν•μ§€ μ•κ³  λ―Έλ¦¬ μ •μλ λ§¤ν•‘μ„ μ‚¬μ©ν•λ„λ΅ μΈλ±μ¤ ν…ν”λ¦Ώμ„ μ •μν•΄λ‘κ² μµλ‹λ‹¤. </p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>  <span class="token property">"index_patterns"</span><span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token string">"applicaiton-accesslog-*"</span>  <span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token property">"template"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token property">"settings"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>      <span class="token property">"analysis"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>        <span class="token property">"analyzer"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>          <span class="token property">"path_analyzer"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>            <span class="token property">"tokenizer"</span><span class="token operator">:</span> <span class="token string">"path_hierarchy"</span>          <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token property">"mappings"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>      <span class="token property">"properties"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>        <span class="token property">"@timestamp"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"date"</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token property">"contentLength"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"long"</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token property">"date"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"date"</span><span class="token punctuation">,</span>          <span class="token property">"format"</span><span class="token operator">:</span> <span class="token string">"date_hour_minute_second || epoch_millis"</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token property">"elapsedTime"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"integer"</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token property">"protocol"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"keyword"</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token property">"referer"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"keyword"</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token property">"remoteHost"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"ip"</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token property">"requestMethod"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"keyword"</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token property">"requestURI"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"text"</span><span class="token punctuation">,</span>          <span class="token property">"analyzer"</span><span class="token operator">:</span> <span class="token string">"path_analyzer"</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token property">"statusCode"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"short"</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token property">"user"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"keyword"</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token property">"userAgent"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"keyword"</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><blockquote><p>ν„μ¬ μ΅°μ§μ—μ„λ” μ—λΌμ¤ν‹±μ„μΉμ— μ• ν”λ¦¬μΌ€μ΄μ…μ λ΅κ·Έ λ° μ•΅μ„Έμ¤ λ΅κ·Έλ¥Ό κΈ°λ΅ν•μ§€λ” μ•κ³  μμµλ‹λ‹¤λ§, μ—λΌμ¤ν‹±μ„μΉλ¥Ό ν•™μµν•κΈ° μ„ν• μƒν” λ°μ΄ν„°κ°€ μ—†μ–΄μ„ κ°„λ‹¨ν•κ²λ‚λ§ μ•΅μ„Έμ¤ λ΅κ·Έλ¥Ό κΈ°λ΅ν•΄λ³΄λ©΄ μ–΄λ– ν• κΉ μƒκ°ν•΄μ„ μ‹λ„ν•΄λ³΄μ•μµλ‹λ‹¤. ν„μ¬ λ€λ‰μ <a href="https://github.com/kdevkr/elasticsearch/blob/main/sample/access.q">λλ¤ μ•΅μ„Έμ¤ λ΅κ·Έ</a>λ¥Ό λ§λ“¤κΈ° μ„ν•΄μ„ μ»¬λΌν• μ‹κ³„μ—΄ λ°μ΄ν„°λ² μ΄μ¤μΈ KDBλ¥Ό ν™μ©ν•΄λ³΄κ³ λ” μμµλ‹λ‹¤λ§ μ‰½μ§€λ” μ•λ„¤μ”. μ΄ λ¶€λ¶„μ— λ€ν•΄μ„λ” λ§μ΄ μ‹λ„ν•΄λ³΄κ³  μ •λ¦¬ν•μ—¬ κ³µμ ν•΄λ³΄κ² μµλ‹λ‹¤.</p></blockquote><p>κ°μ‚¬ν•©λ‹λ‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;μ•λ…•ν•μ„Έμ” Mambo μ…λ‹λ‹¤.&lt;/p&gt;
&lt;p&gt;μ• ν”λ¦¬μΌ€μ΄μ… μ„λ²„λ΅ μ”μ²­λλ” μ •λ³΄λ¥Ό κΈ°λ΅ν•λ” &lt;a href=&quot;https://d2.naver.com/helloworld/3585246&quot;&gt;μ•΅μ„Έμ¤ λ΅κ·Έ&lt;/a&gt;λ” μ• ν”λ¦¬μΌ€μ΄μ… μ΄μκ³Ό μ¥μ•  λ€μ‘μ— μμ–΄μ„ μƒλ‹Ήν </summary>
      
    
    
    
    
    <category term="Spring Boot" scheme="https://kdevkr.github.io/tags/Spring-Boot/"/>
    
    <category term="Elasticsearch" scheme="https://kdevkr.github.io/tags/Elasticsearch/"/>
    
    <category term="Access Log" scheme="https://kdevkr.github.io/tags/Access-Log/"/>
    
  </entry>
  
  <entry>
    <title>Base64</title>
    <link href="https://kdevkr.github.io/base64/"/>
    <id>https://kdevkr.github.io/base64/</id>
    <published>2022-01-22T00:00:00.000Z</published>
    <updated>2022-05-23T14:52:51.521Z</updated>
    
    <content type="html"><![CDATA[<p><img data-src="/images/posts/base64/base64-01.png"></p><p>μ„μ™€ κ°™μ΄ μ–΄λ–¤ μ„λΉ„μ¤μ— λ€ν• νμ›κ°€μ…μ„ μν–‰ν•κ±°λ‚ λΉ„λ°€λ²νΈ μ°ΎκΈ°μ™€ κ°™μ€ κΈ°λ¥μ„ μν–‰ν–μ„κ²½μ° μΈμ¦ κ΄€λ ¨ λ©”μΌμ΄ λ°μ†΅λλ” κ²ƒμ„ μμ£Ό ν™•μΈν•  μ μμµλ‹λ‹¤. κ·Έλ¬λ‚ μ„μ™€ κ°™μ΄ μΈμ¦ν™•μΈ λ²„νΌμ„ ν΄λ¦­ν–μ„λ• μ–΄λ– ν• λ™μ‘μ„ ν•λ”μ§€ κ¶κΈν•μ‹μ§€ μ•μΌμ‹ κ°€μ”? μ„μ™€ κ°™μ€ μΈμ¦ λ²„νΌμ€ λ§ν¬ μ—λ¦¬λ¨ΌνΈλ΅ λμ–΄μμΌλ©° μΌλ°μ μΈ GET μ”μ²­μ…λ‹λ‹¤. κ·Έλ¦¬κ³  κ·Έ URIμ—λ” λ‹¤μκ³Ό κ°™μ€ μ–΄λ– ν• ν•νƒμ λ¬Έμμ—΄μ΄ ν¬ν•¨λκ² λ©λ‹λ‹¤.</p><blockquote><p>a2RldmtyQGdtYWlsLmNvbTp5Rm5iTUtrblZrRW85ckdxTVlmTGtWNE03UUtMTldXWg&#x3D;&#x3D;</p></blockquote><p>μ„μ™€ κ°™μ΄ κµ¬μ„±λ λ¬Έμμ—΄μ€ Base64λ΅ μΈμ½”λ”©λ λ°μ΄ν„°μ΄λ©° ν¬λ΅¬ κ°λ°μλ„κµ¬μ μ½μ†”μ„ ν†µν•΄ μ΄ μ•„μ¤ν‚¤ λ¬Έμμ—΄μ„ λ””μ½”λ”©ν•λ©΄ λ‹¤μκ³Ό κ°™μ€ λ¬Έμμ—΄ λ°μ΄ν„°λ¥Ό ν™•μΈν•  μ μμµλ‹λ‹¤.</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">atob</span><span class="token punctuation">(</span><span class="token string">"a2RldmtyQGdtYWlsLmNvbTp5Rm5iTUtrblZrRW85ckdxTVlmTGtWNE03UUtMTldXWg=="</span><span class="token punctuation">)</span><span class="token string">'kdevkr@gmail.com:yFnbMKknVkEo9rGqMYfLkV4M7QKLNWWZ'</span></code></pre><p>μ  μ΄λ©”μΌ μ£Όμ†μ™€ ν•¨κ» μ–΄λ– ν• λ¬Έμμ—΄μ„ ν¬ν•¨ν•κ³  μμµλ‹λ‹¤. μ•„λ§λ„ μ € μ•μμ—†λ” λ¬Έμμ—΄μ€ μ•”νΈν™”λ μΈμ¦ μ •λ³΄μΌ κ²ƒμ…λ‹λ‹¤. μΈμ¦ μ •λ³΄μ™€ GET μ”μ²­μ— ν¬ν•¨λ μ΄λ©”μΌ μ£Όμ†κ°€ λ™μΌν•μ§€λ¥Ό λ‚΄λ¶€μ μΌλ΅ κ²€μ¦ν•κ² μ£ . μ΄λ¬ν• μΈμ¦ μ •λ³΄λ¥Ό μ™ Base64λ΅ μΈμ½”λ”©ν•μ—¬ μ „μ†΅ν•κ² λλ” κ²ƒμΌκΉμ”? <strong>μ•μ „ν• ν•νƒλ΅ λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•κ³ μν•λ” λ©μ </strong>μ— μμµλ‹λ‹¤.</p><h2 id="μ•„μ¤ν‚¤-μ½”λ“"><a href="#μ•„μ¤ν‚¤-μ½”λ“" class="headerlink" title="μ•„μ¤ν‚¤ μ½”λ“"></a>μ•„μ¤ν‚¤ μ½”λ“</h2><p>μ‚¬λλ“¤μ€ μ λ§μ€ λ¬Έμμ ν•νƒλ¥Ό μ½κ³  κµ¬λ¶„ν•  μ μμ§€λ§ 0κ³Ό 1λ΅ μ΄λ£¨μ–΄μ§„ μ»΄ν“¨ν„° μ‹μ¤ν…μ€ μ‹μ¤ν…μ— λ”°λΌ 0κ³Ό 1μ„ μ½κ³  κµ¬λ¶„ν•λ” λ°©μ‹μ΄ λ‹¤λ¥Ό μ μμµλ‹λ‹¤. μ‹μ¤ν…μ λ°μ „μ— λ”°λΌ μ•„μ¤ν‚¤ μ½”λ“λ¶€ν„° μ λ‹μ½”λ“ κ·Έλ¦¬κ³  μ—¬λ¬κ°€μ§€ λ¬Έμ μ΅°ν•©μ΄ ν™•μ¥λκ³  μμµλ‹λ‹¤. λ€λ¶€λ¶„μ λ¬Έμ ν•μ‹μ€ μ•„μ¤ν‚¤ μ½”λ“λ¥Ό κΈ°μ΄λ΅ λ§λ“¤μ–΄μ§€κΈ° λ•λ¬Έμ— μ•„μ¤ν‚¤ μ½”λ“ μ¤‘ μΌλ¶€ λ¬Έμ μ§‘ν•©μ€ κ±°μ λ¨λ“  μ‹μ¤ν…μ—μ„ κ³µν†µμΌλ΅ μ‚¬μ©λλ” λ¬Έμμ…λ‹λ‹¤. κ·Έλ¬ν• λ¬Έμλ“¤μ„ λ¨μ•„ λ§λ“¤μ–΄μ§€λ”κ² Base64 μΈμ½”λ”©μ…λ‹λ‹¤.</p><h3 id="Base64-μ΄λ―Έμ§€"><a href="#Base64-μ΄λ―Έμ§€" class="headerlink" title="Base64 μ΄λ―Έμ§€"></a>Base64 μ΄λ―Έμ§€</h3><p>λΈλΌμ°μ €μ—μ„λ” λ°”μ΄λ„λ¦¬ λ°μ΄ν„° λΏλ§ μ•„λ‹λΌ Base64λ΅ μ΄λ£¨μ–΄μ§„ μ΄λ―Έμ§€ λ°μ΄ν„°λ¥Ό ν‘ν„ν•  μ μμµλ‹λ‹¤. </p><pre class="language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">data-src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAA+VJREFUeF7tnclu4zAUBEf//9EeYG6SAhUKTdJUpnMV1663kbKd4/P5fP70bxsFjgLZhsW/hRTIXjwKZDMeBVIguymw2XqaQwpkMwU2Ww56yHEcS5d8PRZd56djU9p+9mZx/XQOKZCxiAoELiK+bXBX3A1ZXw7JMRByOevgFPNTC6b10vx2PzeBL8BxPTaH0IB2AyRIgVwUJcEsAGtBBVIgqY2d+luD1kmdzgm0G+pPIdF6jB2P1jd9f2kOSQXSFiSrogIBEyILtAJai52dw+L91UPOV0MkqDUAHQHeBsRaOAlIgi0PyQVSD4nKwnoIHP1Xu3SBfBkIxfgUEI2/2uC2PxiSYAVyeb8w24IKRN5lFchZMDrH4ME3LXupzqfn5AH2+XU+FEC+r6D9xCG0QJ7PIRZAgcBlYz1EmpQNSRSj/7uQJfXWzUnw2c/1gmUH9FibQ+T8uvlswWl8vWDZoUAG3zRI/W/NC+S3AUktIu1PST8tM9P1je6Pd1mjJ7TjFYhVbHL7ApkssB2+QOBykQTFKkKerNPLS8oxtJ/0oKn7jz6HFMjzF5xQnwJxPoKCyghw8+ACeTkQunqwFmTHG53kR49HOQv1sR5iBbQLJIHo+ej57Hhx+wJxL6hGG0ScQ+ohkwFaD6G62p4baDxKuWSxuz+PPYQELJDz78GRQRQIfK7MhmQSnJ4XyNuBUBlnQxjV4TZnUPt0Ptr/8PEpqdOCCmTsb4jqF1SUtG0MJgu3BkEGYuej+eshg7+FawHZJK3Hp5A1egGph5EH0Pir+1sPwpBVIM82PjpEF8ji77tQCCuQtwEhorOfz84JFOPT+a0+6CF2wNHtU0Gof4FIYiRoWjUVSIE8KoAhy1qo1PvWPLXYtAxN9xvPbw+GqeDUv0BAgdRiCADlALpLov72YJvutx5yIRILIu/KhhuEDVkUUqxHkAXTc/KgFNDy8QvEvc8gA6HnZLC6yqqHuB88s3oViPyvgeQB9Hy6h9iqZHVMtzkABQu/REoeE3tIgTx/DouqsJvBpEm9QArkZFQ2Ztv2NuSRgf66kDVaUAopJDDlHALw+pBVIGFVYS2QLKpACoSi0uNzMrDXhSyK4bRh8igaP6LxQ2dc7+5lLwmGGxzs4SkgXG+BfPc/mTZkhZ/D2t5D0gXaGD/6LowOfrQ/CkHUf7iH2AlJACs4AbXro5xFZbydr0BAsQKRVZD1IGuxrwNiN2jbW8GtgGnIsSFSt7dlrxXYti+QzT+XRRZWD7EmL9vXQ0YX0hJAm58VwHfqFWytAgWyVm+crUBQorUNCmSt3jhbgaBEaxsUyFq9cbYCQYnWNvgLqC4vPjN7siAAAAAASUVORK5CYII=<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAA+VJREFUeF7tnclu4zAUBEf//9EeYG6SAhUKTdJUpnMV1663kbKd4/P5fP70bxsFjgLZhsW/hRTIXjwKZDMeBVIguymw2XqaQwpkMwU2Ww56yHEcS5d8PRZd56djU9p+9mZx/XQOKZCxiAoELiK+bXBX3A1ZXw7JMRByOevgFPNTC6b10vx2PzeBL8BxPTaH0IB2AyRIgVwUJcEsAGtBBVIgqY2d+luD1kmdzgm0G+pPIdF6jB2P1jd9f2kOSQXSFiSrogIBEyILtAJai52dw+L91UPOV0MkqDUAHQHeBsRaOAlIgi0PyQVSD4nKwnoIHP1Xu3SBfBkIxfgUEI2/2uC2PxiSYAVyeb8w24IKRN5lFchZMDrH4ME3LXupzqfn5AH2+XU+FEC+r6D9xCG0QJ7PIRZAgcBlYz1EmpQNSRSj/7uQJfXWzUnw2c/1gmUH9FibQ+T8uvlswWl8vWDZoUAG3zRI/W/NC+S3AUktIu1PST8tM9P1je6Pd1mjJ7TjFYhVbHL7ApkssB2+QOBykQTFKkKerNPLS8oxtJ/0oKn7jz6HFMjzF5xQnwJxPoKCyghw8+ACeTkQunqwFmTHG53kR49HOQv1sR5iBbQLJIHo+ej57Hhx+wJxL6hGG0ScQ+ohkwFaD6G62p4baDxKuWSxuz+PPYQELJDz78GRQRQIfK7MhmQSnJ4XyNuBUBlnQxjV4TZnUPt0Ptr/8PEpqdOCCmTsb4jqF1SUtG0MJgu3BkEGYuej+eshg7+FawHZJK3Hp5A1egGph5EH0Pir+1sPwpBVIM82PjpEF8ji77tQCCuQtwEhorOfz84JFOPT+a0+6CF2wNHtU0Gof4FIYiRoWjUVSIE8KoAhy1qo1PvWPLXYtAxN9xvPbw+GqeDUv0BAgdRiCADlALpLov72YJvutx5yIRILIu/KhhuEDVkUUqxHkAXTc/KgFNDy8QvEvc8gA6HnZLC6yqqHuB88s3oViPyvgeQB9Hy6h9iqZHVMtzkABQu/REoeE3tIgTx/DouqsJvBpEm9QArkZFQ2Ztv2NuSRgf66kDVaUAopJDDlHALw+pBVIGFVYS2QLKpACoSi0uNzMrDXhSyK4bRh8igaP6LxQ2dc7+5lLwmGGxzs4SkgXG+BfPc/mTZkhZ/D2t5D0gXaGD/6LowOfrQ/CkHUf7iH2AlJACs4AbXro5xFZbydr0BAsQKRVZD1IGuxrwNiN2jbW8GtgGnIsSFSt7dlrxXYti+QzT+XRRZWD7EmL9vXQ0YX0hJAm58VwHfqFWytAgWyVm+crUBQorUNCmSt3jhbgaBEaxsUyFq9cbYCQYnWNvgLqC4vPjN7siAAAAAASUVORK5CYII=<span class="token punctuation">"</span></span> <span class="token attr-name">data-loaded</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre><p><img data-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAA+VJREFUeF7tnclu4zAUBEf//9EeYG6SAhUKTdJUpnMV1663kbKd4/P5fP70bxsFjgLZhsW/hRTIXjwKZDMeBVIguymw2XqaQwpkMwU2Ww56yHEcS5d8PRZd56djU9p+9mZx/XQOKZCxiAoELiK+bXBX3A1ZXw7JMRByOevgFPNTC6b10vx2PzeBL8BxPTaH0IB2AyRIgVwUJcEsAGtBBVIgqY2d+luD1kmdzgm0G+pPIdF6jB2P1jd9f2kOSQXSFiSrogIBEyILtAJai52dw+L91UPOV0MkqDUAHQHeBsRaOAlIgi0PyQVSD4nKwnoIHP1Xu3SBfBkIxfgUEI2/2uC2PxiSYAVyeb8w24IKRN5lFchZMDrH4ME3LXupzqfn5AH2+XU+FEC+r6D9xCG0QJ7PIRZAgcBlYz1EmpQNSRSj/7uQJfXWzUnw2c/1gmUH9FibQ+T8uvlswWl8vWDZoUAG3zRI/W/NC+S3AUktIu1PST8tM9P1je6Pd1mjJ7TjFYhVbHL7ApkssB2+QOBykQTFKkKerNPLS8oxtJ/0oKn7jz6HFMjzF5xQnwJxPoKCyghw8+ACeTkQunqwFmTHG53kR49HOQv1sR5iBbQLJIHo+ej57Hhx+wJxL6hGG0ScQ+ohkwFaD6G62p4baDxKuWSxuz+PPYQELJDz78GRQRQIfK7MhmQSnJ4XyNuBUBlnQxjV4TZnUPt0Ptr/8PEpqdOCCmTsb4jqF1SUtG0MJgu3BkEGYuej+eshg7+FawHZJK3Hp5A1egGph5EH0Pir+1sPwpBVIM82PjpEF8ji77tQCCuQtwEhorOfz84JFOPT+a0+6CF2wNHtU0Gof4FIYiRoWjUVSIE8KoAhy1qo1PvWPLXYtAxN9xvPbw+GqeDUv0BAgdRiCADlALpLov72YJvutx5yIRILIu/KhhuEDVkUUqxHkAXTc/KgFNDy8QvEvc8gA6HnZLC6yqqHuB88s3oViPyvgeQB9Hy6h9iqZHVMtzkABQu/REoeE3tIgTx/DouqsJvBpEm9QArkZFQ2Ztv2NuSRgf66kDVaUAopJDDlHALw+pBVIGFVYS2QLKpACoSi0uNzMrDXhSyK4bRh8igaP6LxQ2dc7+5lLwmGGxzs4SkgXG+BfPc/mTZkhZ/D2t5D0gXaGD/6LowOfrQ/CkHUf7iH2AlJACs4AbXro5xFZbydr0BAsQKRVZD1IGuxrwNiN2jbW8GtgGnIsSFSt7dlrxXYti+QzT+XRRZWD7EmL9vXQ0YX0hJAm58VwHfqFWytAgWyVm+crUBQorUNCmSt3jhbgaBEaxsUyFq9cbYCQYnWNvgLqC4vPjN7siAAAAAASUVORK5CYII=" alt="Base64λ΅ ν‘μ‹λ QRμ½”λ“ μ΄λ―Έμ§€"></p><blockquote><p>μ›Ήν©μ <a href="https://v4.webpack.js.org/loaders/url-loader/">url-loader</a>λ” μ„μ™€ κ°™μ€ Base64 ν•μ‹μ URIλ΅ λ³€ν™ν•©λ‹λ‹¤. </p></blockquote><h3 id="HTTP-κΈ°λ³Έ-μΈμ¦"><a href="#HTTP-κΈ°λ³Έ-μΈμ¦" class="headerlink" title="HTTP κΈ°λ³Έ μΈμ¦"></a>HTTP κΈ°λ³Έ μΈμ¦</h3><p>μ‚¬μ©μ μ΄λ¦„κ³Ό λΉ„λ°€λ²νΈλ¥Ό Authorization ν—¤λ”μ— ν¬ν•¨ν•μ—¬ μ „λ‹¬ν•λ” HTTP κΈ°λ³Έ μΈμ¦μ κ²½μ°μ—λ„ Base64 μΈμ½”λ”©μ„ μ‚¬μ©ν•©λ‹λ‹¤. μ΄λ” HTTP ν—¤λ”μ κ°’μ΄ <strong>μ•„μ¤ν‚¤ μ½”λ“</strong>λ΅ μΈμ½”λ”©λμ–΄μ•Όν•κΈ° λ•λ¬Έμ…λ‹λ‹¤. λ”°λΌμ„, μ•„μ¤ν‚¤ μ½”λ“λ΅ ν‘ν„ν•  μ μ—†λ” λ°μ΄ν„°λ„ μ „λ‹¬ν•  μ μλ„λ΅ Base64 μΈμ½”λ”©μ„ μ‚¬μ©ν•λ” κ²ƒμ…λ‹λ‹¤.</p><blockquote><p>Authorization: Basic bWFtYm86cGFzc3dvcmQ&#x3D;</p></blockquote><h3 id="JWT-Base64Url"><a href="#JWT-Base64Url" class="headerlink" title="JWT Base64Url"></a>JWT Base64Url</h3><p>μµκ·Ό μ‚¬μ©μ μΈμ¦μ„ μ„ν•΄ λ§μ΄ λ„μ…ν•λ” JWT(JSON Web Token)λ” νμ΄λ΅λ“μ™€ μ‹κ·Έλ‹μ² λ¶€λ¶„μ„ <strong>Base64Url(URL Safe Base64)</strong> λ΅ μΈμ½”λ”©ν•©λ‹λ‹¤. JWTλ¥Ό Base64λ΅ μΈμ½”λ”©ν•λ” μ΄μ λ” ν† ν°μ΄ URL νλΌλ―Έν„°λ΅ μ „μ†΅λ  μ μκΈ° λ•λ¬Έμ…λ‹λ‹¤. </p><h2 id="λλ§μΉλ©°"><a href="#λλ§μΉλ©°" class="headerlink" title="λλ§μΉλ©°"></a>λλ§μΉλ©°</h2><p>Base64λ¥Ό μ‚¬μ©ν•λ” μ΄μ μ— λ€ν•΄μ„ κ°„λ‹¨ν•κ² μ•μ•„λ³΄μ•μµλ‹λ‹¤. μ΄λ³΄ κ°λ°μλ¶„λ“¤ λΏλ§ μ•„λ‹λΌ μ €μ²λΌ Base64μ— λ€ν•΄μ„ μΈμ§€ν•κ³  μμ—λ λ¶„λ“¤μ—κ²λ„ λ„μ›€μ΄ λμ—μΌλ©΄ ν•©λ‹λ‹¤. κ°μ‚¬ν•©λ‹λ‹¤.</p><blockquote><p>Base64μ— λ€ν•΄μ„ μμ„Έν• λ‚΄μ©μ„ μ•κ³  μ‹¶λ‹¤λ©΄ <a href="https://datatracker.ietf.org/doc/html/rfc4648">RFC4648</a>μ„ μ°Έκ³ ν•μ„Έμ”.</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img data-src=&quot;/images/posts/base64/base64-01.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;μ„μ™€ κ°™μ΄ μ–΄λ–¤ μ„λΉ„μ¤μ— λ€ν• νμ›κ°€μ…μ„ μν–‰ν•κ±°λ‚ λΉ„λ°€λ²νΈ μ°ΎκΈ°μ™€ κ°™μ€ κΈ°λ¥μ„ μν–‰ν–μ„κ²½μ° μΈμ¦ κ΄€λ ¨ λ©”μΌμ΄ λ°μ†΅λλ” κ²ƒμ„ μμ£Ό ν™•μΈν•  μ</summary>
      
    
    
    
    
    <category term="Base64" scheme="https://kdevkr.github.io/tags/Base64/"/>
    
  </entry>
  
  <entry>
    <title>Webpack 5 λΉλ“ μ†λ„ κ°μ„ ν•κΈ°</title>
    <link href="https://kdevkr.github.io/improve-webpack5-build-speed/"/>
    <id>https://kdevkr.github.io/improve-webpack5-build-speed/</id>
    <published>2022-01-15T00:00:00.000Z</published>
    <updated>2022-05-23T14:52:51.525Z</updated>
    
    <content type="html"><![CDATA[<p>μ•λ…•ν•μ„Έμ” Mambo μ…λ‹λ‹¤.</p><p>ν„μ¬ μ΅°μ§μ—μ„λ” μ›Ήν© 4λ΅ κµ¬μ„±λ ν”„λ΅μ νΈλ¥Ό μ›Ήν© 5λ¥Ό μ‚¬μ©ν•  μ μλ„λ΅ μ—…κ·Έλ μ΄λ“ μ‘μ—…μ„ μν–‰ν•μ€κ³  λ§μ€ λ…Έλ ¥ λμ— μµμ‹  λ²„μ „μ μ›Ήν© κµ¬μ„±μΌλ΅ λ³€κ²½ν•λ” κ²ƒμ„ μ™„λ£ν–μµλ‹λ‹¤. κ·Έλ¬λ‚ μ¤νλ ¤ μ›Ήν© 5μΌλ΅ μ „ν™ν•κ² λ ν›„ λΉλ“ μ‹κ°„μ΄ λ” λμ–΄λ‚¨μ„ κ²½ν—ν•κ² λμ—λ”λ° μ¤λμ€ μ™ μ΄λ° λ¬Έμ κ°€ λ°μƒν–λ”μ§€λ¥Ό κ³µμ ν•κ³ μ ν•©λ‹λ‹¤.</p><h2 id="Webpack5"><a href="#Webpack5" class="headerlink" title="Webpack5"></a>Webpack5</h2><p>μ–΄λ–¤ λ„κµ¬μ— λ€ν• μµμ‹  λ²„μ „μ„ μ‚¬μ©ν•λ ¤λ” λ©μ μ€ λ²„κ·Έ κ°μ„  λΏλ§ μ•„λ‹λΌ κµ¬μ΅°μ μΈ κ°μ„ μΌλ΅ μΈν• μ„±λ¥ ν–¥μƒμ— μκΈ°λ„ ν•©λ‹λ‹¤. λ¬Όλ΅  λ°λ“μ‹ μµμ‹  λ²„μ „μΌλ΅ μ—…λ°μ΄νΈν•λ” κ²ƒμ΄ μ„±λ¥ μƒμΌλ΅ μΆ‹μ•„μ§μ„ λ³΄μ¥ν•  μ μ—†μµλ‹λ‹¤. μ›Ήν©μ—μ„ λ§μ΄κ·Έλ μ΄μ… κ°€μ΄λ“ λ¬Έμ„λ¥Ό μ κ³µν•λ‹¤κ³ ν•΄λ„ λ§μ€ λ΅λ”μ™€ ν”λ¬κ·ΈμΈλ“±μ„ μ‚¬μ©ν•κΈ° λ•λ¬Έμ— λΉλ“ μ„±λ¥μ΄ μΆ‹μ§€ μ•λ‹¤λ” κ²ƒμ„ κ²€ν† ν•κΈ°μ—λ” μ–΄λ ¤μ›€μ΄ λ§μµλ‹λ‹¤.</p><h3 id="λλ ¤μ§„-μ¬λΉλ“-μ‹κ°„"><a href="#λλ ¤μ§„-μ¬λΉλ“-μ‹κ°„" class="headerlink" title="λλ ¤μ§„ μ¬λΉλ“ μ‹κ°„"></a>λλ ¤μ§„ μ¬λΉλ“ μ‹κ°„</h3><p>μ›Ήν© 5λ΅ μ „ν™ν•κ³ λ‚μ„ μΌλ¶€ μ‹μ¤ν… ν™κ²½μ— λ”°λΌ μ‹κ°„μ€ λ‹¤λ¥΄μ§€λ§ λ‹¤μκ³Ό κ°™μ΄ λΉλ“ μ‹κ°„μ΄ μƒλ‹Ήν λλ ¤μ§μ„ κ²½ν—ν–μµλ‹λ‹¤. μ΄κΈ° λΉλ“ μ‹κ°„μ€ κ·Έλ‹¤μ§€ μ°¨μ΄κ°€ λ°μƒν•μ§€ μ•μ•μΌλ‚ μ›Ήν© 5κ°€ μ΅°κΈμ€ λΉ¨λμµλ‹λ‹¤. κ·Έλ¬λ‚, μ  ν‚¨μ¤μ™€ κ°™μ€ CI λ„κµ¬μ—μ„λ” μ¬λΉλ“λ¥Ό μν–‰ν•κΈ°λ„ ν•λ―€λ΅ λ‹¤μκ³Ό κ°™μ΄ μ¬λΉλ“μ— λ€ν•΄μ„ κ²€ν† ν• κ²°κ³Ό μ¤νλ ¤ λΉλ“κ°€ λλ¦Όμ„ ν™•μΈν–μµλ‹λ‹¤. </p><p><img data-src="/images/posts/improve-webpack5-build-speed/wp5-build-02.png#full"></p><p>μ¬λΉλ“ μ‹μ—λ§ μ›Ήν© 5μ—μ„ μ‹¬κ°ν•κ² λλ¦Όμ„ λ³΄μ΄λ” μ΄μ λ” <strong>μΊμ‹</strong>μ— μμ—μµλ‹λ‹¤. μ›Ήν© 5μ—μ„λ” μκµ¬ μΊμ‹(νμΌμ‹μ¤ν… μΊμ‹)λ¥Ό μ§€μ›ν•κΈ° μ„ν•΄μ„ μΊμ‹ λ°©μ‹μ„ λ³€κ²½ν•μ€μµλ‹λ‹¤. μ΄μ „ μ›Ήν© 4μ—μ„λ” μΊμ‹ λ°©μ‹μ΄ μ—†μΌλ―€λ΅ λ‹¤μκ³Ό κ°™μ΄ λ΅λ”μ™€ ν”λ¬κ·ΈμΈμ—μ„ μμ²΄μ μΈ μΊμ‹ νμΌμ„ λ§λ“λ” κ²ƒμ„ μ ν•ν•μ§€ μ•μ•μµλ‹λ‹¤.</p><p><img data-src="/images/posts/improve-webpack5-build-speed/wp5-build-03.png"></p><p>κ·Έλ¬λ‚ μ°μΈ΅μ μ›Ήν© 5μ—μ„λ” <code>terser-webpack-plugin</code> κ³Ό <code>css-minimizer-webpack-plugin</code>μ— λ€ν• μΊμ‹ ν΄λ”κ°€ μƒμ„±λμ§€ μ•μ•μμ„ ν™•μΈν•  μ μλ”λ°μ”. μ΄λ ‡κ² λ μ •ν™•ν• μ΄μ λ” μ°Ύμ„ μ μ—†μ—μ§€λ§ μμƒν•λ” λ°”λ” μΊμ‹ κµ¬μ΅° λ³€κ²½μΌλ΅ μΈν•μ—¬ μ›Ήν© μμ²΄μ μΌλ΅ μ κ³µν•λ” λ΅λ”μ™€ ν”λ¬κ·ΈμΈμ— λ€ν•΄μ„λ” μΊμ‹ νμΌμ„ λ§λ“¤μ§€μ•λ„λ΅ μμ •λ κ²ƒ κ°™μµλ‹λ‹¤.</p><h4 id="μκµ¬-μΊμ‹"><a href="#μκµ¬-μΊμ‹" class="headerlink" title="μκµ¬ μΊμ‹"></a>μκµ¬ μΊμ‹</h4><p>μκµ¬ μΊμ‹(Persistent Cache)λ¥Ό μ„ν•΄ νμΌμ‹μ¤ν… μΊμ‹λ¥Ό μ§€μ •ν•λ©΄ μ–΄λ–»κ² λλ”μ§€ ν™•μΈν•΄λ³΄κ² μµλ‹λ‹¤. </p><pre class="language-javascript" data-language="javascript"><code class="language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token literal-property property">cache</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'filesystem'</span><span class="token punctuation">,</span>        <span class="token literal-property property">buildDependencies</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>            <span class="token literal-property property">config</span><span class="token operator">:</span> <span class="token punctuation">[</span>__filename<span class="token punctuation">]</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>node_modules ν•μ„μ μΊμ‹ ν΄λ”λ¥Ό μ§€μ΄ μƒνƒμ—μ„ λΉλ“λ¥Ό μν–‰ν•κ³  λ‹¤μ‹ν•λ² μ¬λΉλ“λ¥Ό μν–‰ν• κ²°κ³Όλ¥Ό λΉ„κµν•΄λ΄…λ‹λ‹¤.</p><p><img data-src="/images/posts/improve-webpack5-build-speed/wp5-build-04.png"></p><p>μ›Ήν© 5μ—μ„ μ§€μ›ν•λ” νμΌμ‹μ¤ν… μΊμ‹λ¥Ό μ μ©ν•κ³ λ‚λ‹ μ¬λΉλ“ μ‹κ°„μ΄ λ¬΄λ ¤ 15μ΄λ΅ λ‹¨μ¶•λ¨μ„ ν™•μΈν•  μ μμµλ‹λ‹¤. μ΄μ²λΌ μ›Ήν© 5λ΅ λ³€κ²½ν•κ³ λ‚μ„ μ¤νλ ¤ λΉλ“ μ‹κ°„μ΄ λλ ¤μ§μ„ κ²½ν—ν–λ λ¶„μ΄λΌλ©΄ μ‚¬μ©μ¤‘μΈ λ΅λ”μ™€ ν”λ¬κ·ΈμΈμ—μ„ μμ²΄μ μΈ μΊμ‹λ¥Ό μ‚¬μ©ν–λ”μ§€ κ²€ν† ν•κ³  <strong>νμΌμ‹μ¤ν… μΊμ‹</strong>λ¥Ό μ μ©ν•μ…”μ•Ό ν•  μ μμµλ‹λ‹¤.</p><h3 id="λ΅λ”-λ°-ν”λ¬κ·ΈμΈ-λ€μ²΄"><a href="#λ΅λ”-λ°-ν”λ¬κ·ΈμΈ-λ€μ²΄" class="headerlink" title="λ΅λ” λ° ν”λ¬κ·ΈμΈ λ€μ²΄"></a>λ΅λ” λ° ν”λ¬κ·ΈμΈ λ€μ²΄</h3><p>μµμ‹ λ²„μ „μ μ›Ήν© κµ¬μ„±μ„ μ„ν•΄μ„λ” μ‚¬μ©ν•λ” λ΅λ”μ™€ ν”λ¬κ·ΈμΈλ“¤μ νΈν™μ„±μ„ μ„ν•΄ μµμ‹  λ²„μ „μΌλ΅ μ—…λ°μ΄νΈν•΄μ•Όλ§ ν•©λ‹λ‹¤. λ΅λ”μ™€ ν”λ¬κ·ΈμΈλ“¤μ λ²„μ „μ΄ μ—…λ°μ΄νΈλλ©΄μ„ μ¤νλ ¤ μν–‰ν•λ” μΌμ΄ λ” λ§μ•„μ§ μ μμμ„ μΈμ§€ν•΄μ•Όν•  μ μμµλ‹λ‹¤. μλ¥Ό λ“¤μ–΄, λ°”λ²¨μ„ μ μ©μ¤‘μ΄λΌλ©΄ λ” λ§μ€ λ¬Έλ²•μ„ μ§€μ›ν•κ±°λ‚ ν”„λ¦¬μ…‹μ— λ” λ§μ€ ν”λ¬κ·ΈμΈμ΄ κΈ°λ³Έμ μΌλ΅ ν¬ν•¨λ  μλ„ μμµλ‹λ‹¤.</p><h4 id="esbuild-loader"><a href="#esbuild-loader" class="headerlink" title="esbuild-loader"></a>esbuild-loader</h4><p><a href="https://github.com/privatenumber/esbuild-loader">esbuild-loader</a>λ” esbuildλ¥Ό ν†µν•΄ μ›Ήν© λΉλ“λ¥Ό λ” λΉ λ¥΄κ² μν–‰ν•κΈ° μ„ν• λ΅λ” μ¤‘ ν•λ‚μ…λ‹λ‹¤. μ΄μ™Έμ—λ„ <a href="https://github.com/swc-project/swc-loader">swc-loader</a>λ„ μμµλ‹λ‹¤.</p><blockquote><p>esbuildμ™€ swcλ” λ– μ¤λ¥΄λ” μλ°”μ¤ν¬λ¦½νΈ λ²λ“¤λ¬μ…λ‹λ‹¤!</p></blockquote><p>esbuildλ” μμ²΄μ μΌλ΅ λΉ λ¥Έ κ²ƒλ„ μμ§€λ§ Minificationλ„ ν•¨κ» μ§€μ›ν•λ‹¤λ” μ¥μ λ„ μμµλ‹λ‹¤. κΈ°μ΅΄μ—λ” νΈλμ¤νμΌλ§μ„ μ„ν•΄ λ°”λ²¨ λ΅λ”λ¥Ό μ‚¬μ©ν•κ³  μλ°”μ¤ν¬λ¦½νΈ λλ” CSS νμΌ μ¶•μ†λ¥Ό μ„ν•΄μ„ terser-webpack-pluginκ³Ό css-minimizer-pluginμ„ μ μ©ν•΄μ•Όν–μµλ‹λ‹¤. esbuild λ§μΌλ΅λ„ μ„ κΈ°λ¥μ„ λ€μ²΄ν•  μ μκΈ° λ•λ¬Έμ— μ—¬λ¬κ°€μ§€ λ΅λ”μ™€ ν”λ¬κ·ΈμΈμ„ μν–‰ν•λ” κ²ƒλ³΄λ‹¤λ” λ” μΆ‹μ„ μ μμµλ‹λ‹¤.</p><blockquote><p>μ›Ήν© λ¬Έμ„μ—μ„λ„ μµλ€ν• λ΅λ”μ™€ ν”λ¬κ·ΈμΈμ„ μ¤„μ—¬μ•Όν•λ‹¤κ³  μ•λ‚΄ν•©λ‹λ‹¤.</p></blockquote><pre class="language-javascript" data-language="javascript"><code class="language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>        <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token punctuation">&#123;</span>                <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>                <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(node_modules)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>                <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>                <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">cacheDirectory</span><span class="token operator">:</span> <span class="token boolean">true</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">]</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>        <span class="token literal-property property">mimimizer</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>                <span class="token literal-property property">minimizerOptions</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">preset</span><span class="token operator">:</span> <span class="token punctuation">[</span>                        <span class="token string">'default'</span><span class="token punctuation">,</span>                        <span class="token punctuation">&#123;</span>                            <span class="token literal-property property">discardDuplicates</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">removeAll</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                            <span class="token literal-property property">discardComments</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">removeAll</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span>                        <span class="token punctuation">&#125;</span>                    <span class="token punctuation">]</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>        <span class="token punctuation">]</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>μ΄μ  λ°”λ²¨μ„ esbuild-loaderλ΅ λ³€κ²½ν•΄λ³΄κ³  λΉλ“λ¥Ό ν•΄λ³΄κ² μµλ‹λ‹¤.</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>        <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token punctuation">&#123;</span>                <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>                <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(node_modules)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>                <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">'esbuild-loader'</span><span class="token punctuation">,</span>                <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">'es2015'</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">]</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p><img data-src="/images/posts/improve-webpack5-build-speed/wp5-build-05.png" alt="esbuild-loader + teser + css-miminizer"></p><p>μ΄κΈ° λΉλ“ μ‹ 2λ¶„ 54μ΄λΌλ” μ‹κ°„μ—μ„ <strong>2λ¶„ 21μ΄</strong>λ΅ λ‹¨μ¶•λμ—μµλ‹λ‹¤.</p><h4 id="TerserPlugin-esbuildMinify"><a href="#TerserPlugin-esbuildMinify" class="headerlink" title="TerserPlugin.esbuildMinify"></a>TerserPlugin.esbuildMinify</h4><p>terser-webpack-pluginμ€ esbuildλ΅ μλ°”μ¤ν¬λ¦½νΈμ— λ€ν• μµμ ν™”λ¥Ό μν–‰ν•  μ μλ„λ΅ <code>TerserPlugin.esbuildMinify</code>λ¥Ό μ§€μ›ν•©λ‹λ‹¤.</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>        <span class="token literal-property property">mimimizer</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>                <span class="token literal-property property">minify</span><span class="token operator">:</span> TerserPlugin<span class="token punctuation">.</span>esbuildMinify            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">]</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p><img data-src="/images/posts/improve-webpack5-build-speed/wp5-build-06.png" alt="esbuild-loader + teser[esbuild] + css-miminizer"></p><h4 id="CssMinimizerPlugin-esbuildMinify"><a href="#CssMinimizerPlugin-esbuildMinify" class="headerlink" title="CssMinimizerPlugin.esbuildMinify"></a>CssMinimizerPlugin.esbuildMinify</h4><p>css-minimizer-webpack-pluginλ„ esbuildλ΅ CSSμ— λ€ν• μµμ ν™”λ¥Ό μν–‰ν•  μ μλ„λ΅ <code>CssMinimizerPlugin.esbuildMinify</code>μ„ μ§€μ›ν•©λ‹λ‹¤.</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>        <span class="token literal-property property">mimimizer</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>                <span class="token literal-property property">minify</span><span class="token operator">:</span> CssMinimizerPlugin<span class="token punctuation">.</span>esbuildMinify            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">]</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p><img data-src="/images/posts/improve-webpack5-build-speed/wp5-build-07.png" alt="esbuild-loader + teser[esbuild] + css-miminizer[esbuild]"></p><h4 id="ESBuildMinifyPlugin"><a href="#ESBuildMinifyPlugin" class="headerlink" title="ESBuildMinifyPlugin"></a>ESBuildMinifyPlugin</h4><p>esbuild-loaderμ—λ” <a href="https://github.com/privatenumber/esbuild-loader#css-assets">ESBuildMinifyPlugin</a>κ°€ ν¬ν•¨λμ–΄μμΌλ―€λ΅ κµ³μ΄ terser-webpack-pluginκ³Ό css-minimizer-webpack-pluginμ„ μ‚¬μ©ν•  ν•„μ”κ°€ μ—†μµλ‹λ‹¤. λ‘κ°μ ν”λ¬κ·ΈμΈμΌλ΅ μν–‰ν•λ” κ²ƒλ³΄λ‹¤λ” ν•λ‚μ ν”λ¬κ·ΈμΈμΌλ΅ μ²λ¦¬ν•λ”κ² λ” ν¨μ¨μ μ…λ‹λ‹¤. μµμ ν™”μ— λ€ν• λ²¤μΉλ§ν¬λ” <a href="https://github.com/privatenumber/minification-benchmarks">JS minification benchmarks</a>λ¥Ό μ°Έκ³ ν•μ‹κΈ° λ°”λλ‹λ‹¤.</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token punctuation">&#123;</span> ESBuildMinifyPlugin <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'esbuild-loader'</span><span class="token punctuation">)</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>        <span class="token literal-property property">mimimizer</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token keyword">new</span> <span class="token class-name">ESBuildMinifyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>                <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">'es2015'</span><span class="token punctuation">,</span>                <span class="token literal-property property">css</span><span class="token operator">:</span> <span class="token boolean">true</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">]</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p><img data-src="/images/posts/improve-webpack5-build-speed/wp5-build-08.png" alt="esbuild-loader + esbuild-minify"></p><h3 id="λΉλ“-κ²°κ³Ό-μΆ…ν•©"><a href="#λΉλ“-κ²°κ³Ό-μΆ…ν•©" class="headerlink" title="λΉλ“ κ²°κ³Ό μΆ…ν•©"></a>λΉλ“ κ²°κ³Ό μΆ…ν•©</h3><p>κΈ°μ΅΄μ— μ‚¬μ©ν•λ λ΅λ”μ™€ ν”λ¬κ·ΈμΈμ„ λ€μ²΄ν•λ©΄μ„ λΉλ“ μ‹κ°„μ΄ λ‹¨μ¶•λ¨μ„ ν™•μΈν–μµλ‹λ‹¤. κ·Έλ¬λ‚ μ—¬λ¬λ¶„μ ν”„λ΅μ νΈμ—μ„ μ”κµ¬ν•λ” λ²λ“¤λ§ ν’μ§μ— λ€ν•΄μ„λ„ κ²€ν† ν•μ…”μ•Όλ§ ν•©λ‹λ‹¤. λ‹¨μν λΉλ“ μ‹κ°„μ΄ λ‹¨μ¶•λμ—λ‹¤κ³  λ” μΆ‹λ‹¤κ³  ν•  μλ” μ—†κΈ° λ•λ¬Έμ…λ‹λ‹¤. μλ¥Ό λ“¤μ–΄, esbuildμ—μ„ μ§€μ›ν•λ” λ¬Έλ²•μ ν•κ³„κ°€ μμΌλ―€λ΅ λ°λ“μ‹ λ©ν‘λ΅ν•λ” λΈλΌμ°μ €μ—μ„ λ™μ‘ν•λ”μ§€ κ²€μ¦ν•΄μ•Όν•©λ‹λ‹¤. </p><table><thead><tr><th>λ΅λ”</th><th>ν”λ¬κ·ΈμΈ</th><th>λΉλ“μ‹κ°„</th></tr></thead><tbody><tr><td>babel-loader</td><td>teser + css-minimizer</td><td>2 mins, 54.35 secs</td></tr><tr><td>esbuild-loader</td><td>teser + css-minimizer</td><td>2 mins, 21.11 secs</td></tr><tr><td>esbuild-loader</td><td>teser[esbuild] + css-minimizer</td><td>1 mins, 29.034 secs</td></tr><tr><td>esbuild-loader</td><td>teser[esbuild] + css-minimizer[esbuild]</td><td>1 mins, 19.44 secs</td></tr><tr><td>esbuild-loader</td><td>esbuild-minify</td><td>1 mins, 16.92 secs</td></tr></tbody></table><blockquote><p>λΉλ“ ν’μ§μ— μƒκ΄€μ—†μΌμ‹  λ¶„λ“¤μ΄λΌλ©΄ esbuild λ„μ…μ„ κ²€ν† ν•΄λ³΄μ‹λ” κ²ƒλ„ λ‚μμ§€ μ•μ„ κ²ƒ κ°™μµλ‹λ‹¤.</p></blockquote><p>κ°μ‚¬ν•©λ‹λ‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;μ•λ…•ν•μ„Έμ” Mambo μ…λ‹λ‹¤.&lt;/p&gt;
&lt;p&gt;ν„μ¬ μ΅°μ§μ—μ„λ” μ›Ήν© 4λ΅ κµ¬μ„±λ ν”„λ΅μ νΈλ¥Ό μ›Ήν© 5λ¥Ό μ‚¬μ©ν•  μ μλ„λ΅ μ—…κ·Έλ μ΄λ“ μ‘μ—…μ„ μν–‰ν•μ€κ³  λ§μ€ λ…Έλ ¥ λμ— μµμ‹  λ²„μ „μ μ›Ήν© κµ¬μ„±μΌλ΅ λ³€κ²½ν•λ” κ²ƒμ„ μ™„λ£ν–μµλ‹λ‹¤. κ·Έλ¬λ‚ μ¤νλ ¤ μ›Ήν© 5μΌλ΅ μ „</summary>
      
    
    
    
    
    <category term="Webpack5" scheme="https://kdevkr.github.io/tags/Webpack5/"/>
    
    <category term="Persistent cache" scheme="https://kdevkr.github.io/tags/Persistent-cache/"/>
    
  </entry>
  
</feed>
