<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Mambo</title>
  
  <subtitle>Today I Learned ğŸ”¥</subtitle>
  <link href="https://kdevkr.github.io/atom.xml" rel="self"/>
  
  <link href="https://kdevkr.github.io/"/>
  <updated>2024-01-01T01:22:22.873Z</updated>
  <id>https://kdevkr.github.io/</id>
  
  <author>
    <name>Mambo</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ê°€ë…ì„± ìˆëŠ” ê°œë°œì ì´ë ¥ì„œ</title>
    <link href="https://kdevkr.github.io/resume-fonts/"/>
    <id>https://kdevkr.github.io/resume-fonts/</id>
    <published>2024-01-01T00:00:00.000Z</published>
    <updated>2024-01-01T01:22:22.873Z</updated>
    
    <content type="html"><![CDATA[<iframe width="520" height="310" src="https://www.youtube.com/embed/ZRTJxA3UDWk" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe><p>ì¢‹ì€ ì´ë ¥ì„œì— ëŒ€í•´ì„œ ì°¾ì•„ë³´ë©´ ëŒ€ë¶€ë¶„ì˜ HR ì „ë¬¸ê°€ë“¤ì€ ê°€ë…ì„±ì´ ìˆê²Œ ì‘ì„±í•´ì•¼í•œë‹¤ê³  í”¼ë“œë°±ì„ í•˜ëŠ” í¸ì¸ ê²ƒ ê°™ë‹¤. ê°œë°œì ì´ë ¥ì„œëŠ” ì´ë ‡ê²Œ ì‘ì„±í•´ì•¼í•œë‹¤ê³  ì˜ ì•Œë ¤ì§„ <a href="https://wonny-log.notion.site/Wonny-Public-c2f8051bfb574f349406a30d2bc71a45">ë°ì´í„°ë¡œ ì¼í•˜ëŠ” ê°œë°œì</a> ì—ì„œë„ ê°€ë…ì„±ì„ ë†’ì´ê¸° ìœ„í•´ ì—¬ëŸ¬ê°€ì§€ë¥¼ ì¡°ì–¸í•´ì£¼ê³  ìˆë‹¤. ìœ„ ìœ íŠœë¸Œ ì˜ìƒì—ì„œëŠ” íœ´ë¨¼ëª…ì¡°ì²´ê°€ ì‹ ë¢°ê°ê³¼ ì•ˆì •ê°ì„ ì£¼ê¸´ í•˜ì§€ë§Œ <strong>ë””ì§€í„¸ íƒ€ì…ì˜ ë¬¸ì„œì—ëŠ” ì í•©í•˜ì§€ ì•Šë‹¤</strong>ê³  ì´ì•¼ê¸°í•˜ë©° ê³ ë”•ì²´ë¥¼ ê¶Œì¥í•˜ëŠ” ê±¸ ë³¼ ìˆ˜ ìˆëŠ”ë° ìš°ë¦¬ê°€ PDF íŒŒì¼ë¡œ ì „ë‹¬í•˜ëŠ” ì´ë ¥ì„œëŠ” ì–´ë””ì— í•´ë‹¹ë ê¹Œ?</p><blockquote><p><a href="https://fonts.google.com/noto/specimen/Noto+Sans+KR/tester">Google Fonts Type tester</a>ë¡œ ë³¸ê³ ë”•(Noto Sans KR) ê²°ê³¼ì™€ êµ¬ê¸€ ì›Œë“œ ë¬¸ì„œì—ì„œ ì‘ì„±í•´ë³¸ ê²°ê³¼ê°€ ë‹¤ë¥´ì§€ë§Œ í™•ì‹¤í•˜ê²Œ ì›Œë“œ ë¬¸ì„œì—ì„œ ë³´ì´ëŠ” ê²°ê³¼ëŠ” ëª…ì¡°ì²´ë³´ë‹¤ëŠ” ê³ ë”•ì²´ê°€ ê°€ë…ì„±ì´ ìˆì–´ë³´ì´ê²Œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.</p></blockquote><p>ê¸°ì—…ë§ˆë‹¤ ì´ë ¥ì„œë¥¼ ì¶œë ¥í•´ì„œ ê²€í† í•˜ëŠ” ê³³ì´ ì´ì œëŠ” ì—†ë‹¤ê³  ìƒê°í•  ìˆœ ì—†ì§€ë§Œ ê°œë°œì ì§€ì›ìê°€ ìˆ˜ë„ ì—†ë‹¤ëŠ” ì†Œì‹ìœ¼ë¡œ ë³¼ë•ŒëŠ” ì´ë ¥ì„œë¥¼ ê²€í† í•  ë•Œ ì¶œë ¥í•´ì„œ ë³¼ ê°€ëŠ¥ì„±ì€ ì ì§€ ì•Šì„ê¹Œ ì‹¶ë‹¤. ê·¸ë ‡ë‹¤ë©´ ìœ„ ì˜ìƒì—ì„œ ì•Œë ¤ì£¼ëŠ” ê²ƒê³¼ ê°™ì´ ê³ ë”•ì²´ë¥¼ ì¨ì•¼ ê°€ë…ì„±ì´ ìˆì„ ê²ƒ ê°™ë‹¤ê³  ìƒê°í•  ìˆ˜ ìˆê² ë‹¤.</p><ul><li>ë…¸ì…˜ ì´ë ¥ì„œ : Sans Serif</li><li>ì›í‹°ë“œ ë˜ëŠ” ë ë¦¿ : Pretendard</li></ul><p>ì¼ë°˜ì ìœ¼ë¡œ ë§ì´ ì‘ì„±í•œë‹¤ê³  ë³¼ ìˆ˜ ìˆëŠ” ë…¸ì…˜ ì´ë ¥ì„œëŠ” Sans Serif ë¡œ ì•Œê³  ìˆê³  ì›í‹°ë“œë‚˜ ë ë¦¿ ê°™ì€ ì„œë¹„ìŠ¤ì—ì„œëŠ” Pretendard ë¡œ ë³´ì—¬ì£¼ëŠ” ê²ƒ ê°™ë‹¤. ê·¸ëŸ°ë° ì•„ë¬´ë¦¬ ì‹ ê²½ì¨ì„œ ê³ ë¯¼í•˜ê³  ì‘ì„±í•´ë„ <strong>PDFë¡œ ë³€í™˜í•œ ê²°ê³¼ëŠ” ìƒê°ë³´ë‹¤ ì „í˜€ ë‹¤ë¥¸ ëª¨ìŠµì„ ë³´ì—¬</strong>ì¤€ë‹¤. êµ¬ê¸€ ì›Œë“œ ë¬¸ì„œë¡œ ì´ë ¥ì„œë¥¼ ì‘ì„±í•˜ë ¤ê³  í–ˆì„ë•ŒëŠ” ëª…ì¡°ì²´ ë³´ë‹¤ëŠ” ê³ ë”•ì²´ê°€ ë” ê¹”ë”í•˜ë‹¤ê³  ë³´ì—¬ì§€ì§€ë§Œ PDFë¡œ ë‹¤ìš´ë¡œë“œí•œ ìˆœê°„ ëª…ì¡°ì²´ê°€ ë” ê°€ë…ì„±ì´ ìˆê²Œ ì¶œë ¥ë¨ì„ ë³¼ ìˆ˜ ìˆë‹¤.</p><ul><li>ì›¹ ê¸°ë°˜ ì´ë ¥ì„œ : ê³ ë”•ì²´</li><li>ì´ë ¥ì„œ PDF íŒŒì¼ : ëª…ì¡°ì²´</li></ul><p>ë°±ì—”ë“œ ê°œë°œìë¼ì„œ ì˜ ëª°ëì§€ë§Œ ì°¾ì•„ë³´ë‹ˆ ë…¸ì…˜ ì´ë ¥ì„œì˜ sans-serifëŠ” ê³ ë”•ì— í•´ë‹¹ëœë‹¤ê³  í•œë‹¤. ê·¸ë¦¬ê³  serifëŠ” ëª…ì¡°ì— í•´ë‹¹ëœë‹¤ê³  í•˜ë‹ˆ ë…¸ì…˜ ì´ë ¥ì„œë¥¼ ì‚¬ìš©í•˜ë”ë¼ë„ ê¸°ë³¸ì´ ì•„ë‹Œ <strong>ì„¸ë¦¬í”„ë¡œ ë³€ê²½í•œ í›„ PDFë¡œ ë‚´ë³´ë‚´ëŠ” ê²Œ í•„ìš”</strong>í•´ë³´ì¸ë‹¤. ê·¸ë¦¬ê³  ë…¸ì…˜ ì´ë ¥ì„œë¥¼ PDFë¡œ ë³€í™˜í–ˆì„ë•Œ A4 í¬ê¸°ë³´ë‹¤ëŠ” A3 í¬ê¸°ë¡œ ì„ íƒí–ˆì„ë•Œ PDF íŒŒì¼ì„ ì—° ê²°ê³¼ê°€ ê¹”ë”í–ˆë‹¤.</p><blockquote><p>ë©´ì ‘ê´€ìœ¼ë¡œì¨ ì´ë ¥ì„œë¥¼ ê²€í† í•˜ëŠ” ê²ƒë„ ì–´ë ¤ìš´ ì¼ì´ì§€ë§Œ ì§€ì›ìë¡œì¨ ê°€ë…ì„± ìˆëŠ” ì´ë ¥ì„œë¥¼ ì‘ì„±í•˜ëŠ” ê±´ ì‰½ì§€ ì•Šì„ ì¼ ê°™ìŠµë‹ˆë‹¤. í°íŠ¸ì— ë”°ë¼ì„œ ë””ìŠ¤í”Œë ˆì´ì™€ ë¬¸ì„œ ìƒì—ì„œ ë³´ì´ëŠ” ê²°ê³¼ê°€ ë‹¤ë¥´ë‹¤ëŠ” ê²ƒì— ìƒˆì‚¼ ë†€ë¼ê²Œ ë˜ë„¤ìš”. ê°œë°œìë„ ë¬¸ì„œí™”ì— ëŒ€í•´ì„œëŠ” ì¤‘ìš”í•˜ë‹¤ê³  ì¸ì§€í•˜ê³ ëŠ” ìˆì§€ë§Œ ë¬¸ì„œë¥¼ ì „ë¬¸ì ìœ¼ë¡œ ì‘ì„±í•˜ëŠ” ì¸ë ¥ì€ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ê·¸ë‹¤ì§€ ì‹ ê²½ì“°ì§€ ì•Šì•˜ë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;iframe width=&quot;520&quot; height=&quot;310&quot; src=&quot;https://www.youtube.com/embed/ZRTJxA3UDWk&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; clipboard-w</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Simple Java Mail ë¡œ ì´ë©”ì¼ ë³´ë‚´ê¸°</title>
    <link href="https://kdevkr.github.io/gmail-smtp-with-simplejavamail/"/>
    <id>https://kdevkr.github.io/gmail-smtp-with-simplejavamail/</id>
    <published>2023-12-30T14:00:00.000Z</published>
    <updated>2024-01-01T01:22:22.873Z</updated>
    
    <content type="html"><![CDATA[<p><a href="/gmail-smtp/">Gmail SMTP</a> ì„ ì‘ì„±í•˜ë©´ì„œ êµ¬ê¸€ ê³„ì •ìœ¼ë¡œ ì´ë©”ì¼ì„ ë°œì†¡í•˜ëŠ” ê²ƒì„ ë‹¤ë£¬ ê²ƒë„ 1ë…„ì´ ë„˜ê²Œ ì§€ë‚¬ë‹¤. ìŠ¤í”„ë§ ë¶€íŠ¸ ê¸°ë°˜ì˜ í”„ë¡œì íŠ¸ì—ì„œ spring-boot-starter-mail ëª¨ë“ˆì„ í†µí•´ JavaMailSenderë¡œ ì´ë©”ì¼ì„ ë³´ë‚¼ ìˆ˜ ìˆëŠ” êµ¬í˜„ì„ ì‰½ê²Œ ì°¾ì•„ë³¼ ìˆ˜ ìˆë‹¤. ìš°ì—°íˆ ì•Œê²Œëœ <a href="https://www.simplejavamail.org/">Simple Java Mail</a> ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” JavaMailSender ì™€ MimeMessageHelperì™€ ê°™ì€ í´ë˜ìŠ¤ì— ìµìˆ™í•˜ì§€ ì•Šì€ ì´ˆë³´ ê°œë°œìë“¤ì—ê²Œ ê°„ë‹¨í•˜ê²Œ ë©”ì¼ ë°œì†¡ì„ í•  ìˆ˜ ìˆë„ë¡ APIë¥¼ ì œê³µí•´ì¤€ë‹¤.</p><h4 id="Features"><a href="#Features" class="headerlink" title="Features"></a>Features</h4><p>ì´ë©”ì¼ ë°œì†¡ì— ëŒ€í•œ ì„¤ì •ì„ ê¹Šê²Œ ë“¤ì–´ê°€ë©´ ì–´ë ¤ìš¸ ìˆ˜ ìˆìœ¼ë‚˜ ì´ˆë³´ ê°œë°œìì—ê²Œ ì í•©í•œ íŠ¹ì§•ì€ ì•„ë˜ì™€ ê°™ë‹¤.</p><ul><li><a href="https://www.simplejavamail.org/features.html#section-builder-api">Fluent API</a></li><li><a href="https://www.simplejavamail.org/configuration.html#section-spring-support">Spring Support</a></li><li><a href="https://www.simplejavamail.org/features.html#section-reusable-mailer">Thread-Safe</a></li><li><a href="https://www.simplejavamail.org/features.html#section-email-validation">ì´ë©”ì¼ ê²€ì¦ ì§€ì›</a></li></ul><h4 id="SSL-and-TLS-with-Google-mail"><a href="#SSL-and-TLS-with-Google-mail" class="headerlink" title="SSL and TLS with Google mail"></a>SSL and TLS with Google mail</h4><p>ê¸°ì¡´ì— <a href="/sending-mail-with-freemarker-template/">í”„ë¦¬ë§ˆì»¤ í…œí”Œë¦¿ìœ¼ë¡œ ì´ë©”ì¼ ë°œì†¡í•˜ê¸°</a> ì—ì„œ ì²˜ëŸ¼ Gmail SMTP ì„œë²„ë¥¼ ì´ìš©í•  ë•Œ STARTTLS ë°©ì‹ì„ ì‚¬ìš©í–ˆì—ˆë˜ ê²ƒì²˜ëŸ¼ ì–´ë–»ê²Œ ì„¤ì •í•´ì•¼í•˜ëŠ”ì§€ë¥¼ <a href="https://www.simplejavamail.org/features.html#section-gmail">SSL and TLS with Google mail</a>ì—ì„œ ì„¤ëª…í•´ì£¼ê³  ìˆë‹¤. STARTTLS ë°©ì‹ì€ <a href="https://www.simplejavamail.org/security.html#section-transport-strategy-tls">SMTP_TLS</a>ë¥¼ ì‚¬ìš©í•´ì•¼í•¨ì„ ì•Œ ìˆ˜ ìˆë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token class-name">SimpleJavaMailSpringSupport</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token annotation punctuation">@SpringBootApplication</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SimpleMailApplication</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">SimpleMailApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-yaml" data-language="yaml"><div class="caption"><span>application.yml</span></div><code class="language-yaml"><span class="token key atrule">simplejavamail.javaxmail.debug</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span class="token key atrule">simplejavamail.smtp.host</span><span class="token punctuation">:</span> smtp.gmail.com<span class="token key atrule">simplejavamail.smtp.port</span><span class="token punctuation">:</span> <span class="token number">587</span><span class="token key atrule">simplejavamail.transportstrategy</span><span class="token punctuation">:</span> SMTP_TLS<span class="token key atrule">simplejavamail.smtp.username</span><span class="token punctuation">:</span> kdevkr@gmail.com<span class="token key atrule">simplejavamail.smtp.password</span><span class="token punctuation">:</span> <span class="token string">'ì•± ë¹„ë°€ë²ˆí˜¸'</span></code></pre><pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootTest</span><span class="token punctuation">(</span>webEnvironment <span class="token operator">=</span> <span class="token class-name">SpringBootTest<span class="token punctuation">.</span>WebEnvironment</span><span class="token punctuation">.</span><span class="token constant">NONE</span><span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">GmailSmtpTests</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token class-name">Mailer</span> mailer<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Test</span>    <span class="token keyword">void</span> <span class="token function">sendMail</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Assertions</span><span class="token punctuation">.</span><span class="token function">assertDoesNotThrow</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> mailer<span class="token punctuation">.</span><span class="token function">testConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Email</span> email <span class="token operator">=</span> <span class="token class-name">EmailBuilder</span><span class="token punctuation">.</span><span class="token function">startingBlank</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"Mambo &lt;kdevkr@gmail.com>"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token keyword">to</span><span class="token punctuation">(</span><span class="token string">"kdevkr@gmail.com"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">withSubject</span><span class="token punctuation">(</span><span class="token string">"Java Mail Test with simplejavamail"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">withPlainText</span><span class="token punctuation">(</span><span class="token string">"Hello world"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">buildEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Assertions</span><span class="token punctuation">.</span><span class="token function">assertDoesNotThrow</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> mailer<span class="token punctuation">.</span><span class="token function">sendMail</span><span class="token punctuation">(</span>email<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><blockquote><p>ì•± ë¹„ë°€ë²ˆí˜¸ ë°œê¸‰ì€ <a href="/gmail-smtp/">Gmail SMTP</a> ê¸€ì„ ì°¸ê³ í•˜ì„¸ìš”.</p></blockquote><h4 id="Convert-Email-to-MimeMessage"><a href="#Convert-Email-to-MimeMessage" class="headerlink" title="Convert Email to MimeMessage"></a>Convert Email to MimeMessage</h4><p>EmailConverter, MailerHelper, JMail í´ë˜ìŠ¤ë¥¼ í†µí•´ ìœ ìš©í•œ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ”ë° EmailConverterë¥¼ ì´ìš©í•˜ë©´ Email ì„ MimeMessageë¡œ ë³€í™˜í•˜ëŠ” ê²ƒì„ ì œê³µí•´ì£¼ê¸° ë•Œë¬¸ì— JavaMailSenderì™€ì˜ í†µí•©ë„ ìœ ìš©í•´ë³´ì¸ë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Email</span> email <span class="token operator">=</span> <span class="token class-name">EmailBuilder</span><span class="token punctuation">.</span><span class="token function">startingBlank</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">buildEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">MimeMessage</span> mimeMessage <span class="token operator">=</span> <span class="token class-name">EmailConverter</span><span class="token punctuation">.</span><span class="token function">emailToMimeMessage</span><span class="token punctuation">(</span>email<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><blockquote><p>ë” ìì„¸íˆ spring-boot-starter-mail ê³¼ ë¹„êµí•´ë³´ê³  ì‹¶ë‹¤ë©´ <a href="https://www.simplejavamail.org/feature-matrix.html">Feature Comparison Matrix</a> ë¬¸ì„œë¥¼ ì°¸ê³ í•´ë³´ì„¸ìš”.</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;/gmail-smtp/&quot;&gt;Gmail SMTP&lt;/a&gt; ì„ ì‘ì„±í•˜ë©´ì„œ êµ¬ê¸€ ê³„ì •ìœ¼ë¡œ ì´ë©”ì¼ì„ ë°œì†¡í•˜ëŠ” ê²ƒì„ ë‹¤ë£¬ ê²ƒë„ 1ë…„ì´ ë„˜ê²Œ ì§€ë‚¬ë‹¤. ìŠ¤í”„ë§ ë¶€íŠ¸ ê¸°ë°˜ì˜ í”„ë¡œì íŠ¸ì—ì„œ spring-boot-starter-mail ëª¨ë“ˆì„ í†µí•´ Ja</summary>
      
    
    
    
    
    <category term="Gmail SMTP" scheme="https://kdevkr.github.io/tags/Gmail-SMTP/"/>
    
    <category term="Simple Java Mail" scheme="https://kdevkr.github.io/tags/Simple-Java-Mail/"/>
    
  </entry>
  
  <entry>
    <title>Couldn&#39;t Find FilterChainProxy</title>
    <link href="https://kdevkr.github.io/spring-security-gh-14370/"/>
    <id>https://kdevkr.github.io/spring-security-gh-14370/</id>
    <published>2023-12-29T09:00:00.000Z</published>
    <updated>2024-01-01T01:22:22.877Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><a href="https://github.com/spring-projects/spring-security/issues/14370">https://github.com/spring-projects/spring-security/issues/14370</a><br><a href="https://github.com/spring-projects/spring-security/commit/7cd626fe2569346b945feec40fa16f231a558fde">https://github.com/spring-projects/spring-security/commit/7cd626fe2569346b945feec40fa16f231a558fde</a></p></blockquote><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span></span>BeanCreationException</span><span class="token operator">:</span> <span class="token class-name">Error</span> creating bean <span class="token keyword">with</span> <span class="token namespace">name</span> 'springSecurityFilterChain'<span class="token operator">:</span> <span class="token class-name">Failed</span> <span class="token keyword">to</span> <span class="token namespace">instantiate</span> <span class="token punctuation">[</span><span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>web<span class="token punctuation">.</span>configuration<span class="token punctuation">.</span></span>WebMvcSecurityConfiguration</span>$<span class="token class-name">CompositeFilterChainProxy</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token class-name">Constructor</span> threw exceptionat <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>support<span class="token punctuation">.</span></span>ConstructorResolver</span><span class="token punctuation">.</span><span class="token function">instantiate</span><span class="token punctuation">(</span><span class="token class-name">ConstructorResolver</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">322</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>spring<span class="token operator">-</span>beans<span class="token operator">-</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">.</span>jar<span class="token operator">:</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">]</span>at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>support<span class="token punctuation">.</span></span>ConstructorResolver</span><span class="token punctuation">.</span><span class="token function">autowireConstructor</span><span class="token punctuation">(</span><span class="token class-name">ConstructorResolver</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">310</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>spring<span class="token operator">-</span>beans<span class="token operator">-</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">.</span>jar<span class="token operator">:</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">]</span>at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>support<span class="token punctuation">.</span></span>AbstractAutowireCapableBeanFactory</span><span class="token punctuation">.</span><span class="token function">autowireConstructor</span><span class="token punctuation">(</span><span class="token class-name">AbstractAutowireCapableBeanFactory</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">1354</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>spring<span class="token operator">-</span>beans<span class="token operator">-</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">.</span>jar<span class="token operator">:</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">]</span>at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>support<span class="token punctuation">.</span></span>AbstractAutowireCapableBeanFactory</span><span class="token punctuation">.</span><span class="token function">createBeanInstance</span><span class="token punctuation">(</span><span class="token class-name">AbstractAutowireCapableBeanFactory</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">1191</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>spring<span class="token operator">-</span>beans<span class="token operator">-</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">.</span>jar<span class="token operator">:</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">]</span>at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>support<span class="token punctuation">.</span></span>AbstractAutowireCapableBeanFactory</span><span class="token punctuation">.</span><span class="token function">doCreateBean</span><span class="token punctuation">(</span><span class="token class-name">AbstractAutowireCapableBeanFactory</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">561</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>spring<span class="token operator">-</span>beans<span class="token operator">-</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">.</span>jar<span class="token operator">:</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">]</span>at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>support<span class="token punctuation">.</span></span>AbstractAutowireCapableBeanFactory</span><span class="token punctuation">.</span><span class="token function">createBean</span><span class="token punctuation">(</span><span class="token class-name">AbstractAutowireCapableBeanFactory</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">521</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>spring<span class="token operator">-</span>beans<span class="token operator">-</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">.</span>jar<span class="token operator">:</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">]</span>at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>support<span class="token punctuation">.</span></span>AbstractBeanFactory</span><span class="token punctuation">.</span>lambda$doGetBean$<span class="token function">0</span><span class="token punctuation">(</span><span class="token class-name">AbstractBeanFactory</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">325</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>spring<span class="token operator">-</span>beans<span class="token operator">-</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">.</span>jar<span class="token operator">:</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">]</span>at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>support<span class="token punctuation">.</span></span>DefaultSingletonBeanRegistry</span><span class="token punctuation">.</span><span class="token function">getSingleton</span><span class="token punctuation">(</span><span class="token class-name">DefaultSingletonBeanRegistry</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">234</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>spring<span class="token operator">-</span>beans<span class="token operator">-</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">.</span>jar<span class="token operator">:</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">]</span>at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>support<span class="token punctuation">.</span></span>AbstractBeanFactory</span><span class="token punctuation">.</span><span class="token function">doGetBean</span><span class="token punctuation">(</span><span class="token class-name">AbstractBeanFactory</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">323</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>spring<span class="token operator">-</span>beans<span class="token operator">-</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">.</span>jar<span class="token operator">:</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">]</span>at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>support<span class="token punctuation">.</span></span>AbstractBeanFactory</span><span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">AbstractBeanFactory</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">199</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>spring<span class="token operator">-</span>beans<span class="token operator">-</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">.</span>jar<span class="token operator">:</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">]</span>at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>support<span class="token punctuation">.</span></span>AbstractBeanFactory</span><span class="token punctuation">.</span><span class="token function">doGetBean</span><span class="token punctuation">(</span><span class="token class-name">AbstractBeanFactory</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">312</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>spring<span class="token operator">-</span>beans<span class="token operator">-</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">.</span>jar<span class="token operator">:</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">]</span>at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>support<span class="token punctuation">.</span></span>AbstractBeanFactory</span><span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">AbstractBeanFactory</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">199</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>spring<span class="token operator">-</span>beans<span class="token operator">-</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">.</span>jar<span class="token operator">:</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">]</span>at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>support<span class="token punctuation">.</span></span>DefaultListableBeanFactory</span><span class="token punctuation">.</span><span class="token function">preInstantiateSingletons</span><span class="token punctuation">(</span><span class="token class-name">DefaultListableBeanFactory</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">975</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>spring<span class="token operator">-</span>beans<span class="token operator">-</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">.</span>jar<span class="token operator">:</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">]</span>at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>support<span class="token punctuation">.</span></span>AbstractApplicationContext</span><span class="token punctuation">.</span><span class="token function">finishBeanFactoryInitialization</span><span class="token punctuation">(</span><span class="token class-name">AbstractApplicationContext</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">960</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>spring<span class="token operator">-</span>context<span class="token operator">-</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">.</span>jar<span class="token operator">:</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">]</span>at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>support<span class="token punctuation">.</span></span>AbstractApplicationContext</span><span class="token punctuation">.</span><span class="token function">refresh</span><span class="token punctuation">(</span><span class="token class-name">AbstractApplicationContext</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">625</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>spring<span class="token operator">-</span>context<span class="token operator">-</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">.</span>jar<span class="token operator">:</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">]</span>at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span>ServletWebServerApplicationContext</span><span class="token punctuation">.</span><span class="token function">refresh</span><span class="token punctuation">(</span><span class="token class-name">ServletWebServerApplicationContext</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">146</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>spring<span class="token operator">-</span>boot<span class="token operator">-</span><span class="token number">3.2</span><span class="token number">.1</span><span class="token punctuation">.</span>jar<span class="token operator">:</span><span class="token number">3.2</span><span class="token number">.1</span><span class="token punctuation">]</span>at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span>SpringApplication</span><span class="token punctuation">.</span><span class="token function">refresh</span><span class="token punctuation">(</span><span class="token class-name">SpringApplication</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">762</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>spring<span class="token operator">-</span>boot<span class="token operator">-</span><span class="token number">3.2</span><span class="token number">.1</span><span class="token punctuation">.</span>jar<span class="token operator">:</span><span class="token number">3.2</span><span class="token number">.1</span><span class="token punctuation">]</span>at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span>SpringApplication</span><span class="token punctuation">.</span><span class="token function">refreshContext</span><span class="token punctuation">(</span><span class="token class-name">SpringApplication</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">464</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>spring<span class="token operator">-</span>boot<span class="token operator">-</span><span class="token number">3.2</span><span class="token number">.1</span><span class="token punctuation">.</span>jar<span class="token operator">:</span><span class="token number">3.2</span><span class="token number">.1</span><span class="token punctuation">]</span>at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span>SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">SpringApplication</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">334</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>spring<span class="token operator">-</span>boot<span class="token operator">-</span><span class="token number">3.2</span><span class="token number">.1</span><span class="token punctuation">.</span>jar<span class="token operator">:</span><span class="token number">3.2</span><span class="token number">.1</span><span class="token punctuation">]</span>at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span>SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">SpringApplication</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">1358</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>spring<span class="token operator">-</span>boot<span class="token operator">-</span><span class="token number">3.2</span><span class="token number">.1</span><span class="token punctuation">.</span>jar<span class="token operator">:</span><span class="token number">3.2</span><span class="token number">.1</span><span class="token punctuation">]</span>at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span>SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">SpringApplication</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">1347</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>spring<span class="token operator">-</span>boot<span class="token operator">-</span><span class="token number">3.2</span><span class="token number">.1</span><span class="token punctuation">.</span>jar<span class="token operator">:</span><span class="token number">3.2</span><span class="token number">.1</span><span class="token punctuation">]</span>at <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>uptime<span class="token punctuation">.</span></span>SpringBootUptimeApplication</span><span class="token punctuation">.</span><span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">SpringBootUptimeApplication</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">23</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>main<span class="token operator">/</span><span class="token operator">:</span>na<span class="token punctuation">]</span><span class="token class-name">Caused</span> by<span class="token operator">:</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span></span>BeanInstantiationException</span><span class="token operator">:</span> <span class="token class-name">Failed</span> <span class="token keyword">to</span> <span class="token namespace">instantiate</span> <span class="token punctuation">[</span><span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>web<span class="token punctuation">.</span>configuration<span class="token punctuation">.</span></span>WebMvcSecurityConfiguration</span>$<span class="token class-name">CompositeFilterChainProxy</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token class-name">Constructor</span> threw exceptionat <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span></span>BeanUtils</span><span class="token punctuation">.</span><span class="token function">instantiateClass</span><span class="token punctuation">(</span><span class="token class-name">BeanUtils</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">223</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>spring<span class="token operator">-</span>beans<span class="token operator">-</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">.</span>jar<span class="token operator">:</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">]</span>at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>support<span class="token punctuation">.</span></span>SimpleInstantiationStrategy</span><span class="token punctuation">.</span><span class="token function">instantiate</span><span class="token punctuation">(</span><span class="token class-name">SimpleInstantiationStrategy</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">111</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>spring<span class="token operator">-</span>beans<span class="token operator">-</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">.</span>jar<span class="token operator">:</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">]</span>at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>support<span class="token punctuation">.</span></span>ConstructorResolver</span><span class="token punctuation">.</span><span class="token function">instantiate</span><span class="token punctuation">(</span><span class="token class-name">ConstructorResolver</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">319</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>spring<span class="token operator">-</span>beans<span class="token operator">-</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">.</span>jar<span class="token operator">:</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token number">21</span> common frames omitted<span class="token class-name">Caused</span> by<span class="token operator">:</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>IllegalStateException</span><span class="token operator">:</span> <span class="token class-name">Couldn</span>'t find <span class="token class-name">FilterChainProxy</span> in <span class="token punctuation">[</span><span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>handler<span class="token punctuation">.</span></span>HandlerMappingIntrospector</span>$$<span class="token class-name">Lambda</span>$<span class="token number">881</span><span class="token operator">/</span><span class="token number">0x000001d78949a2d0</span><span class="token annotation punctuation">@6b2fdffc</span><span class="token punctuation">,</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>web<span class="token punctuation">.</span>debug<span class="token punctuation">.</span></span>DebugFilter</span><span class="token annotation punctuation">@2ca3d826</span><span class="token punctuation">]</span>at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>web<span class="token punctuation">.</span>configuration<span class="token punctuation">.</span></span>WebMvcSecurityConfiguration</span>$<span class="token class-name">CompositeFilterChainProxy</span><span class="token punctuation">.</span><span class="token function">findFilterChainProxy</span><span class="token punctuation">(</span><span class="token class-name">WebMvcSecurityConfiguration</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">302</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>spring<span class="token operator">-</span>security<span class="token operator">-</span>config<span class="token operator">-</span><span class="token number">6.2</span><span class="token number">.1</span><span class="token punctuation">.</span>jar<span class="token operator">:</span><span class="token number">6.2</span><span class="token number">.1</span><span class="token punctuation">]</span>at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>web<span class="token punctuation">.</span>configuration<span class="token punctuation">.</span></span>WebMvcSecurityConfiguration</span>$<span class="token class-name">CompositeFilterChainProxy</span><span class="token punctuation">.</span><span class="token generics"><span class="token punctuation">&lt;</span>init<span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token class-name">WebMvcSecurityConfiguration</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">214</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>spring<span class="token operator">-</span>security<span class="token operator">-</span>config<span class="token operator">-</span><span class="token number">6.2</span><span class="token number">.1</span><span class="token punctuation">.</span>jar<span class="token operator">:</span><span class="token number">6.2</span><span class="token number">.1</span><span class="token punctuation">]</span>at java<span class="token punctuation">.</span>base<span class="token operator">/</span><span class="token class-name"><span class="token namespace">jdk<span class="token punctuation">.</span>internal<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span>NativeConstructorAccessorImpl</span><span class="token punctuation">.</span><span class="token function">newInstance0</span><span class="token punctuation">(</span><span class="token class-name">Native</span> <span class="token class-name">Method</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>na<span class="token operator">:</span>na<span class="token punctuation">]</span>at java<span class="token punctuation">.</span>base<span class="token operator">/</span><span class="token class-name"><span class="token namespace">jdk<span class="token punctuation">.</span>internal<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span>NativeConstructorAccessorImpl</span><span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token class-name">NativeConstructorAccessorImpl</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">77</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>na<span class="token operator">:</span>na<span class="token punctuation">]</span>at java<span class="token punctuation">.</span>base<span class="token operator">/</span><span class="token class-name"><span class="token namespace">jdk<span class="token punctuation">.</span>internal<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span>DelegatingConstructorAccessorImpl</span><span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token class-name">DelegatingConstructorAccessorImpl</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">45</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>na<span class="token operator">:</span>na<span class="token punctuation">]</span>at java<span class="token punctuation">.</span>base<span class="token operator">/</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span>Constructor</span><span class="token punctuation">.</span><span class="token function">newInstanceWithCaller</span><span class="token punctuation">(</span><span class="token class-name">Constructor</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">499</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>na<span class="token operator">:</span>na<span class="token punctuation">]</span>at java<span class="token punctuation">.</span>base<span class="token operator">/</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span>Constructor</span><span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token class-name">Constructor</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">480</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>na<span class="token operator">:</span>na<span class="token punctuation">]</span>at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span></span>BeanUtils</span><span class="token punctuation">.</span><span class="token function">instantiateClass</span><span class="token punctuation">(</span><span class="token class-name">BeanUtils</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">210</span><span class="token punctuation">)</span> <span class="token operator">~</span><span class="token punctuation">[</span>spring<span class="token operator">-</span>beans<span class="token operator">-</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">.</span>jar<span class="token operator">:</span><span class="token number">6.1</span><span class="token number">.2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token number">23</span> common frames omitted</code></pre><h4 id="ì˜¤ë¥˜ì›ì¸"><a href="#ì˜¤ë¥˜ì›ì¸" class="headerlink" title="ì˜¤ë¥˜ì›ì¸"></a>ì˜¤ë¥˜ì›ì¸</h4><p>ìŠ¤í”„ë§ ë¶€íŠ¸ 3.1.5 ë¶€í„° 3.2.1 ê¹Œì§€ì˜ ë²„ì „ì—ì„œ @EnableWebSecurityì˜ debug ì˜µì…˜ì„ í™œì„±í™”í•˜ëŠ” ê²½ìš° FilterChainProxy ê°€ ì•„ë‹Œ DebugFilterê°€ ë“±ë¡ë˜ì–´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ êµ¬ì„± ì‹œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ëŠ” ë¬¸ì œê°€ ìˆë‹¤ëŠ” ì†Œì‹ì´ë‹¤. ìŠ¤í”„ë§ ë¶€íŠ¸ì™€ í•¨ê»˜ ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ì— ëŒ€í•´ì„œ í•™ìŠµí•˜ëŠ” ê°œë°œìì—ê²ŒëŠ” ìƒê°ë³´ë‹¤ í° ì´ìŠˆì¼ ìˆ˜ë„ ìˆì–´ë³´ì¸ë‹¤.</p><h4 id="í•´ê²°ë°©ì•ˆ"><a href="#í•´ê²°ë°©ì•ˆ" class="headerlink" title="í•´ê²°ë°©ì•ˆ"></a>í•´ê²°ë°©ì•ˆ</h4><pre class="language-groovy" data-language="groovy"><code class="language-groovy">ext<span class="token punctuation">[</span><span class="token string">'spring-security.version'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'6.2.2'</span></code></pre><p>ì´ ê¸€ì„ ì‘ì„±í•˜ëŠ” 2023ë…„ 12ì›” 29ì¼ ê¸°ì¤€ìœ¼ë¡œ ìŠ¤í”„ë§ ì‹œíë¦¬í‹° 6.1.7 ë˜ëŠ” 6.2.2 ë²„ì „ì´ ë¦´ë¦¬ì¦ˆ ë˜ì§€ ì•Šì€ ìƒíƒœì´ë‹¤. ê·¸ë˜ì„œ ê¸‰í•˜ê²Œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê³  ì‹¶ë‹¤ë©´ ì•„ë˜ì™€ ê°™ì€ ì„ì‹œ ì¡°ì¹˜ê°€ í•„ìš”í•˜ë‹¤.</p><ul><li>@EnableWebSecurityì˜ debug ì˜µì…˜ì„ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ (ë¡œê·¸ ë ˆë²¨ë¡œ ëŒ€ì²´)</li><li>Spring Boot 3.1.4 ì´í•˜ì˜ ë²„ì „ì„ ì‚¬ìš©</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/spring-projects/spring-security/issues/14370&quot;&gt;https://github.com/spring-projects/spring-security</summary>
      
    
    
    
    
    <category term="Spring Security" scheme="https://kdevkr.github.io/tags/Spring-Security/"/>
    
    <category term="issue-14370" scheme="https://kdevkr.github.io/tags/issue-14370/"/>
    
  </entry>
  
  <entry>
    <title>Spring Boot Commons-Logging Conflicts</title>
    <link href="https://kdevkr.github.io/spring-boot-commons-logging-conflicts/"/>
    <id>https://kdevkr.github.io/spring-boot-commons-logging-conflicts/</id>
    <published>2023-12-28T14:00:00.000Z</published>
    <updated>2024-01-01T01:22:22.873Z</updated>
    
    <content type="html"><![CDATA[<pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Standard</span> <span class="token class-name">Commons</span> <span class="token class-name">Logging</span> discovery in action <span class="token keyword">with</span> <span class="token namespace">spring</span><span class="token operator">-</span>jcl<span class="token operator">:</span> please remove commons<span class="token operator">-</span>logging<span class="token punctuation">.</span>jar from classpath in order <span class="token keyword">to</span> <span class="token namespace">avoid</span> potential conflicts</code></pre><p>ì‹ ê·œ í”„ë¡œì íŠ¸ì—ì„œ ìŠ¤í”„ë§ ë¶€íŠ¸ 3 ê¸°ë°˜ìœ¼ë¡œ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•˜ê³  ê°œë°œí•˜ë‹ˆ ìœ„ì™€ ê°™ì€ ë¡œê·¸ê°€ ì¶œë ¥ë˜ëŠ” ê²ƒì„ ì¸ì§€í•˜ì˜€ë‹¤. ìŠ¤í”„ë§ ë¶€íŠ¸ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ commons-logging ì„ ì‚¬ìš©í•˜ê³  ìˆìœ¼ë‚˜ <a href="https://docs.spring.io/spring-framework/reference/core/spring-jcl.html">spring-jcl</a> ëª¨ë“ˆì„ í†µí•´ Slf4j ë¡œ ë™ì‘í•  ìˆ˜ ìˆë„ë¡ ë˜ì–´ìˆê³  ê¸°ë³¸ì ìœ¼ë¡œ Logback ì„ ì‚¬ìš©í•˜ê³  ìˆëŠ” ê±¸ë¡œ ì•Œê³  ìˆì—ˆê¸°ì— ì˜ì•„í–ˆë‹¤. ìœ„ ë¡œê·¸ëŠ” ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ 6.0 ë¶€í„° í´ë˜ìŠ¤ íŒ¨ìŠ¤ì— commons-logging ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í¬í•¨ë˜ì–´ ìˆì„ê²½ìš° ì¶œë ¥ë˜ëŠ”ë° <a href="https://github.com/spring-projects/spring-framework/blob/b1b6b544a2b374d3f84ffff73bdca119251de42c/spring-jcl/src/main/java/org/apache/commons/logging/LogFactoryService.java#L39-L42">LogFactoryService.java</a> ì—ì„œ System.out.printlnì„ ì‚¬ìš©í•˜ê³  ìˆë‹¤.</p><h4 id="commons-logging-ê°€-í¬í•¨ë˜ëŠ”-ë¼ì´ë¸ŒëŸ¬ë¦¬"><a href="#commons-logging-ê°€-í¬í•¨ë˜ëŠ”-ë¼ì´ë¸ŒëŸ¬ë¦¬" class="headerlink" title="commons-logging ê°€ í¬í•¨ë˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬"></a>commons-logging ê°€ í¬í•¨ë˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬</h4><p>commons-logging ëª¨ë“ˆì´ í¬í•¨ë˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ìƒê°ë³´ë‹¤ ë§ì€ë° ëŒ€ëµì ìœ¼ë¡œ ì•„ë˜ì™€ ê°™ë‹¤. AWS í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ì— ì˜ì¡´í•˜ëŠ” ê²½ìš° ë§ì´ ì‚¬ìš©í•˜ëŠ” AWS Java SDK ì—ë„ commons-logging ì„ í¬í•¨í•˜ê³  ìˆì–´ ì‰½ê²Œ ì¶œë ¥ë  ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤.</p><pre class="language-groovy" data-language="groovy"><code class="language-groovy">dependencies <span class="token punctuation">&#123;</span>    implementation <span class="token string">'commons-beanutils:commons-beanutils:1.9.4'</span>    implementation <span class="token string">'org.apache.httpcomponents:httpclient:4.5.14'</span>    implementation <span class="token string">'org.apache.commons:commons-dbcp2:2.11.0'</span>    implementation <span class="token function">platform</span><span class="token punctuation">(</span><span class="token string">'com.amazonaws:aws-java-sdk-bom:1.12.529'</span><span class="token punctuation">)</span>    implementation <span class="token string">'com.amazonaws:aws-java-sdk-ec2'</span><span class="token punctuation">&#125;</span></code></pre><h4 id="í•´ê²°ë°©ì•ˆ"><a href="#í•´ê²°ë°©ì•ˆ" class="headerlink" title="í•´ê²°ë°©ì•ˆ"></a>í•´ê²°ë°©ì•ˆ</h4><p>í•´ë‹¹ ë¡œê·¸ëŠ” í´ë˜ìŠ¤íŒ¨ìŠ¤ì— commons-logging ì´ í¬í•¨ë  ë•Œ ì¶œë ¥ë˜ë¯€ë¡œ commons-logging ëª¨ë“ˆì´ í¬í•¨ë˜ì§€ ì•Šë„ë¡ ì œì™¸í•˜ë©´ ëœë‹¤.</p><pre class="language-groovy" data-language="groovy"><code class="language-groovy">configurations<span class="token punctuation">.</span>all <span class="token punctuation">&#123;</span>    exclude group<span class="token punctuation">:</span> <span class="token string">'commons-logging'</span><span class="token punctuation">,</span> module<span class="token punctuation">:</span> <span class="token string">'commons-logging'</span><span class="token punctuation">&#125;</span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;pre class=&quot;language-java&quot; data-language=&quot;java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;Standard&lt;/span&gt; &lt;span class=&quot;toke</summary>
      
    
    
    
    
    <category term="Spring" scheme="https://kdevkr.github.io/tags/Spring/"/>
    
    <category term="Logging" scheme="https://kdevkr.github.io/tags/Logging/"/>
    
  </entry>
  
  <entry>
    <title>Amazon Linux 2023 Docker Compose í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜</title>
    <link href="https://kdevkr.github.io/install-docker-compose-in-amazon-linux-2023/"/>
    <id>https://kdevkr.github.io/install-docker-compose-in-amazon-linux-2023/</id>
    <published>2023-12-17T10:00:00.000Z</published>
    <updated>2024-01-01T01:22:22.873Z</updated>
    
    <content type="html"><![CDATA[<p>Amazon Linux 2023 ì—ì„œëŠ” Extraë¥¼ ì œê³µí•˜ì§€ëŠ” ì•Šì§€ë§Œ DockerëŠ” ê¸°ë³¸ì ìœ¼ë¡œ í¬í•¨ë˜ì–´ìˆë‹¤. Amazon Linux 2 ì—ì„œì™€ ë™ì¼í•˜ê²Œ Docker Compose Plugin ì€ ë³„ë„ë¡œ í¬í•¨í•´ì£¼ì§€ ì•Šìœ¼ë¯€ë¡œ ì§ì ‘ ìˆ˜ë™ìœ¼ë¡œ ì„¤ì¹˜í•´ì•¼í•œë‹¤. ë‹¤ë§Œ, docker-compose ëª…ë ¹ì–´ë¡œ ë³„ë„ë¡œ ì‚¬ìš©í•˜ê¸° ë³´ë‹¤ëŠ” ìµœì‹  ë²„ì „ì— ë§ì¶° Docker <a href="https://docs.docker.com/compose/install/linux/#install-the-plugin-manually">Compose í”ŒëŸ¬ê·¸ì¸</a>ìœ¼ë¡œ ì„¤ì¹˜í•´ë³´ë„ë¡ í•˜ì. <a href="https://github.com/docker/compose/releases">Docker Compose Releases</a> ì‚¬ì´íŠ¸ì—ì„œ ë‹¤ìš´ë¡œë“œ ë°›ì€ docker-compose ë¥¼ cli-plugins í´ë” ì•„ë˜ì— ë³µì‚¬í•˜ë©´ ëœë‹¤.</p><pre class="language-bash" data-language="bash"><div class="caption"><span>Terminal</span></div><code class="language-bash"><span class="token comment"># Docker</span><span class="token function">sudo</span> yum <span class="token function">install</span> <span class="token parameter variable">-y</span> <span class="token function">docker</span><span class="token function">sudo</span> <span class="token function">usermod</span> <span class="token parameter variable">-aG</span> <span class="token function">docker</span> ec2-user<span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> <span class="token parameter variable">--now</span> <span class="token function">docker</span><span class="token builtin class-name">exec</span> <span class="token function">bash</span><span class="token function">docker</span> <span class="token function">ps</span><span class="token comment"># Compose Plugin</span><span class="token function">sudo</span> <span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /usr/local/lib/docker/cli-plugins/<span class="token function">sudo</span> <span class="token function">curl</span> <span class="token parameter variable">-SL</span> <span class="token string">"https://github.com/docker/compose/releases/latest/download/docker-compose-linux-<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> <span class="token parameter variable">-m</span><span class="token variable">)</span></span>"</span> <span class="token parameter variable">-o</span> /usr/local/lib/docker/cli-plugins/docker-compose<span class="token function">sudo</span> <span class="token function">chmod</span> +x /usr/local/lib/docker/cli-plugins/docker-compose<span class="token function">docker</span> compose version</code></pre><h4 id="Compose-í”ŒëŸ¬ê·¸ì¸ì„-docker-compose-ëª…ë ¹ì–´ë¡œ-ì‚¬ìš©í•˜ê¸°"><a href="#Compose-í”ŒëŸ¬ê·¸ì¸ì„-docker-compose-ëª…ë ¹ì–´ë¡œ-ì‚¬ìš©í•˜ê¸°" class="headerlink" title="Compose í”ŒëŸ¬ê·¸ì¸ì„ docker-compose ëª…ë ¹ì–´ë¡œ ì‚¬ìš©í•˜ê¸°"></a>Compose í”ŒëŸ¬ê·¸ì¸ì„ docker-compose ëª…ë ¹ì–´ë¡œ ì‚¬ìš©í•˜ê¸°</h4><p>Docker Compose í”ŒëŸ¬ê·¸ì¸ì„ ì„¤ì¹˜í–ˆìœ¼ë‚˜ ê¸°ì¡´ ìŠ¤í¬ë¦½íŠ¸ê°€ docker-composeë¡œ ë˜ì–´ìˆì–´ì„œ ëª…ë ¹ì–´ í˜¸í™˜ì„±ì„ ë§ì¶”ê³  ì‹¶ë‹¤ë©´ docker-composeë¥¼ ì‹¬ë³¼ë¦­ ë§í¬ ë˜ëŠ” aliasë¡œ ë“±ë¡í•˜ë©´ ëœë‹¤.</p><pre class="language-bash" data-language="bash"><div class="caption"><span>Terminal</span></div><code class="language-bash"><span class="token comment"># sudo ln -s /usr/local/lib/docker/cli-plugins/docker-compose /usr/local/bin/docker-compose</span><span class="token builtin class-name">alias</span> docker-compose<span class="token operator">=</span><span class="token string">'docker compose --compatibility "$@"'</span><span class="token function">docker-compose</span> version</code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Amazon Linux 2023 ì—ì„œëŠ” Extraë¥¼ ì œê³µí•˜ì§€ëŠ” ì•Šì§€ë§Œ DockerëŠ” ê¸°ë³¸ì ìœ¼ë¡œ í¬í•¨ë˜ì–´ìˆë‹¤. Amazon Linux 2 ì—ì„œì™€ ë™ì¼í•˜ê²Œ Docker Compose Plugin ì€ ë³„ë„ë¡œ í¬í•¨í•´ì£¼ì§€ ì•Šìœ¼ë¯€ë¡œ ì§ì ‘ ìˆ˜ë™ìœ¼ë¡œ ì„¤ì¹˜í•´ì•¼í•œ</summary>
      
    
    
    
    
    <category term="AL2023" scheme="https://kdevkr.github.io/tags/AL2023/"/>
    
    <category term="Docker" scheme="https://kdevkr.github.io/tags/Docker/"/>
    
    <category term="Docker Compose" scheme="https://kdevkr.github.io/tags/Docker-Compose/"/>
    
  </entry>
  
  <entry>
    <title>Elastic Beanstalk Java SE í”Œë«í¼ìœ¼ë¡œ ìŠ¤í”„ë§ ë¶€íŠ¸ ë°°í¬í•˜ê¸°</title>
    <link href="https://kdevkr.github.io/deploy-spring-boot-with-beanstalk-java-se-platform/"/>
    <id>https://kdevkr.github.io/deploy-spring-boot-with-beanstalk-java-se-platform/</id>
    <published>2023-12-17T07:00:00.000Z</published>
    <updated>2024-01-01T01:22:22.869Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ì˜¤ë˜ ì „ 2017ë…„ì— ì‘ì„±í•œ <a href="/deploy-application-to-the-aws-elastic-beanstalk-java-se-platform-enviroment">AWS Elastic Beanstalk Java SE í”Œë«í¼ í™˜ê²½ìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬í•˜ê¸°</a> ê¸€ì´ ì§€ê¸ˆì—ì„œëŠ” ì°¸ê³ í•  ë§Œí•œ ì •ë³´ê°€ ì•„ë‹ˆê²Œ ëœ ë¶€ë¶„ì´ ë§ì•„ì„œ 2023ë…„ ê¸°ì¤€ìœ¼ë¡œ ì˜¬ë°”ë¥¸ ì •ë³´ë“¤ì„ ì •ë¦¬í•˜ì—¬ ì‘ì„±í•œ ê¸€ì…ë‹ˆë‹¤. </p></blockquote><p><img data-src="/images/posts/beanstalk-java-se-platform/aws-elastic-beanstalk-logo.jpg#compact"></p><p>ì•„ë§ˆì¡´ ì›¹ ì„œë¹„ìŠ¤ì˜ Elastic Beanstalk ì—ì„œ ì œê³µí•˜ëŠ” <code>Java SE í”Œë«í¼</code>ì€ <code>ì‹¤í–‰ ê°€ëŠ¥í•˜ë„ë¡ íŒ¨í‚¤ì§•ë˜ëŠ” Jarì™€ War íŒŒì¼</code>ì„ í†µí•´ ìŠ¤í”„ë§ ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•˜ëŠ” í™˜ê²½ì´ë‹¤. AWS ì¸í”„ë¼ í™˜ê²½ì—ì„œ Elastic Beanstalk ì„œë¹„ìŠ¤ëŠ” ê°œë°œìê°€ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹¤í–‰ë˜ëŠ” í™˜ê²½ì„ ë¹ ë¥´ê³  ì‰½ê²Œ êµ¬ì„±í•˜ë©´ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬í•˜ê³ ë‚œ í›„ ì„±ëŠ¥ ì§€í‘œì— ë”°ë¼ ì˜¤í† ìŠ¤ì¼€ì¼ë§ ë˜ëŠ” í”„ë¡œë¹„ì €ë‹í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì‰½ê²Œ ì ìš©í•  ìˆ˜ ìˆë‹¤. ë³¸ ê¸€ì„ í† ëŒ€ë¡œ Elastic Beanstalk ê²½í—˜ì´ ë¶€ì¡±í•œ ì´ˆë³´ ê°œë°œì ë˜ëŠ” íšŒì‚¬ì—ì„œ ì„œë¹„ìŠ¤ë¥¼ ë‹´ë‹¹í•˜ì§€ ì•Šì•˜ë˜ ê°œë°œìë“¤ì€ Elastic Beanstalk í™˜ê²½ìœ¼ë¡œ ìë°” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬í•  ìˆ˜ ìˆëŠ” í™˜ê²½ì„ êµ¬ì„±í•˜ê³  ì–´ë–¤ ê³¼ì •ìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬í•  ìˆ˜ ìˆëŠ”ì§€ ì´í•´í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.</p><h4 id="Elastic-Beanstalk-UI-Console"><a href="#Elastic-Beanstalk-UI-Console" class="headerlink" title="Elastic Beanstalk UI Console"></a>Elastic Beanstalk UI Console</h4><p><a href="https://docs.aws.amazon.com/ko_kr/elasticbeanstalk/latest/dg/eb-cli3.html">EB CLI</a>ëŠ” Elastic Beanstalk ì½˜ì†” ëŒ€ì‹ ì— ë¡œì»¬ì—ì„œ CLI ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡œì íŠ¸ì— ëŒ€í•œ Beanstalk í™˜ê²½ êµ¬ì„±ì„ í•  ìˆ˜ ìˆê²Œ ì§€ì›í•œë‹¤. í•˜ì§€ë§Œ Elastic Beanstalkì— ëŒ€í•œ ìƒì„¸í•œ ìš©ì–´ë“¤ì„ ì´í•´í•˜ê³  ìˆì–´ì•¼í•˜ë¯€ë¡œ ì²˜ìŒì— ìµìˆ™í•˜ì§€ ì•Šì€ ê°œë°œìë“¤ì€ UI ì½˜ì†”ì— ì˜ì¡´í•˜ê¸°ë¥¼ ë°”ë€ë‹¤. UI ì½˜ì†”ì„ ì´ìš©í•´ë„ ì²˜ìŒì—ëŠ” ìˆ˜ ë§ì€ ì˜¤ë¥˜ë“¤ì„ ê²½í—˜í•˜ê³  í™˜ê²½ì„ ì¢…ë£Œí•œ ë’¤ ë‹¤ì‹œ ë§Œë“¤ì–´ì•¼í•  ìˆ˜ ìˆë‹¤.</p><p><img data-src="/images/posts/deploy-spring-boot-with-beanstalk-java-se-platform/00.png"></p><blockquote><p>ìœ„ì™€ ê°™ì´ ëª‡ ë¶„ ë§Œì— ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì†ì‰½ê²Œ ë°°í¬í•˜ê¸° ì–´ë ¤ìš¸ ìˆ˜ ìˆëŠ”ë° ê·¸ ì£¼ëœ ì´ìœ ì—ëŠ” ì„ íƒí•˜ëŠ” ì˜µì…˜ì— ë”°ë¥¸ ì œí•œê³¼ ì˜¬ë°”ë¥´ì§€ ì•Šì€ êµ¬ì„±ì— ëŒ€í•´ì„œ ê°œë°œìì—ê²Œ ì•Œë ¤ì£¼ì§€ ì•ŠëŠ”ë‹¤. ì˜ˆë¥¼ ë“¤ì–´, í”„ë¦¬í‹°ì–´ ì‚¬ìš©ìì˜ ê²½ìš° ì‚¬ì „ ì„¤ì •ìœ¼ë¡œ ë‹¨ì¼ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì„ íƒí•  ìˆ˜ ìˆë‹¤ê³ ëŠ” ë˜ì–´ìˆì§€ë§Œ ì¸ìŠ¤í„´ìŠ¤ ì„œë¸Œë„·ì´ ìœ„ì¹˜í•˜ëŠ” AZì— ë”°ë¼ í”„ë¦¬í‹°ì–´ ëŒ€ìƒì¸ t2.micro ì„ íƒì´ ë¶ˆê°€ëŠ¥í•  ìˆ˜ ìˆë‹¤. í”„ë¦¬í‹°ì–´ ê°œë…ì— ëŒ€í•´ì„œ ì˜ ì´í•´í•˜ê³  ìˆì§€ ì•Šì€ ê°œë°œìê°€ t3.microë¥¼ ì„ íƒí•´ë²„ë¦¬ë©´ í”„ë¦¬í‹°ì–´ í™˜ê²½ì´ ì•„ë‹Œ ì‚¬ìš©ì ì •ì˜ í™˜ê²½ìœ¼ë¡œ ì•ˆë‚´ ë©”ì‹œì§€ ì—†ì´ ì „í™˜ëœë‹¤.</p></blockquote><h4 id="ìƒ˜í”Œ-ì• í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œ-ì‹œì‘í•˜ê¸°"><a href="#ìƒ˜í”Œ-ì• í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œ-ì‹œì‘í•˜ê¸°" class="headerlink" title="ìƒ˜í”Œ ì• í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œ ì‹œì‘í•˜ê¸°"></a>ìƒ˜í”Œ ì• í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œ ì‹œì‘í•˜ê¸°</h4><p>ìë°” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬í•˜ê¸° ìœ„í•´ì„œ <code>ì›¹ ì„œë²„ í™˜ê²½</code>ê³¼ <code>Java í”Œë«í¼ ìœ í˜•</code>ì„ ì„ íƒí•˜ê³  í”„ë¡œì íŠ¸ì— ë§ëŠ” ìë°” ë²„ì „ê³¼ í•¨ê»˜ <code>Amazon Linux 2023</code> ê·¸ë¦¬ê³  <code>ìƒ˜í”Œ ì• í”Œë¦¬ì¼€ì´ì…˜</code>ìœ¼ë¡œ ì‹œì‘í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•œë‹¤. Elastic Beanstalk ì— ëŒ€í•´ì„œ ê²½í—˜ì´ ìˆì–´ë„ CloudFormationì— ì˜ì¡´í•˜ëŠ” Beanstalk êµ¬ì„±ì˜ íŠ¹ì„± ìƒ ì²˜ìŒë¶€í„° í™˜ê²½ì´ êµ¬ì„±ë˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆë‹¤. </p><p><img data-src="/images/posts/deploy-spring-boot-with-beanstalk-java-se-platform/02.png"></p><blockquote><p>ì°¸ê³ ë¡œ <strong>Amazon Linux 2ì€ 2025ë…„ ì§€ì› ì¢…ë£Œ(EOL) ì˜ˆì •</strong> ì´ë¯€ë¡œ í™˜ê²½ êµ¬ì„± í™•ì¥ ì‹œ íŒ¨í‚¤ì§€ ì„¤ì¹˜ê°€ ì–´ë µë‹¤ë©´ Amazon Linux 2ë¥¼ ì„ íƒí•´ë„ ì•„ì§ê¹Œì§€ëŠ” ê´œì°®ìŠµë‹ˆë‹¤. ë˜í•œ, Elastic Beanstalk í™˜ê²½ êµ¬ì„±ì„ ì™„ë£Œí–ˆì–´ë„ ì—¬ëŸ¬ë²ˆ í™˜ê²½ì„ ì¬ êµ¬ì„±í•´ë³´ê¸°ë¥¼ ë°”ëë‹ˆë‹¤.</p></blockquote><h4 id="ì• í”Œë¦¬ì¼€ì´ì…˜-ì†ŒìŠ¤-ë²ˆë“¤"><a href="#ì• í”Œë¦¬ì¼€ì´ì…˜-ì†ŒìŠ¤-ë²ˆë“¤" class="headerlink" title="ì• í”Œë¦¬ì¼€ì´ì…˜ ì†ŒìŠ¤ ë²ˆë“¤"></a>ì• í”Œë¦¬ì¼€ì´ì…˜ ì†ŒìŠ¤ ë²ˆë“¤</h4><p>ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬í•˜ëŠ” ê²½ìš° ë‹¨ì¼ Jar íŒŒì¼ ë³´ë‹¤ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ì†ŒìŠ¤ ë²ˆë“¤ì„ êµ¬ì„±í•˜ì—¬ ì—…ë¡œë“œí•˜ëŠ” ê²ƒì„ ê¶Œì¥í•œë‹¤. ì¼ë°˜ì ìœ¼ë¡œ JVM Option ì„ ì ìš©í•  í•„ìš”ê°€ ìƒê¸°ë¯€ë¡œ Procfileì— ê¸°ë³¸ì ì¸ ìë°” ì• í”Œë¦¬ì¼€ì´ì…˜ ëª…ë ¹ì–´ë¥¼ ì •ì˜í•´ë†“ê³  í™˜ê²½ ì†ì„±ì„ í†µí•´ ì‚¬ìš©ì ì •ì˜í•˜ëŠ” êµ¬ì„±ì„ ì¶”ì²œí•œë‹¤.</p><pre class="language-config" data-language="config"><div class="caption"><span>Procfile</span></div><code class="language-config">web: java -Dfile.encoding&#x3D;UTF-8 -Djava.net.preferIPv4Stack&#x3D;true -Xmx1g -jar app.jar</code></pre><blockquote><p>ê³µì‹ ë¬¸ì„œì— í¬í•¨ë˜ì–´ìˆëŠ” ë‚´ìš©ì€ ì•„ë‹ˆì§€ë§Œ ìë°” ì˜µì…˜ì€ _<strong>JAVA_OPTIONS</strong> ë˜ëŠ” <strong>JAVA_TOOL_OPTIONS</strong> í™˜ê²½ ì†ì„±ìœ¼ë¡œ ëŒ€ì²´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ êµ³ì´ ìë°” ì˜µì…˜ì„ ì¡°ì •í•˜ê¸° ìœ„í•´ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì†ŒìŠ¤ ë²ˆë“¤ì˜ Procfileì„ ìˆ˜ì •í•  í•„ìš”ëŠ” ì—†ë‹µë‹ˆë‹¤. <a href="https://woowabros.github.io/woowabros/2017/08/07/ebextension.html">Elastic Beanstalk Configuration files(.ebextensions)</a>ì—ì„œë„ ë‰´ë ë¦­ ìë°” ì—ì´ì „íŠ¸ë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ì„œ Procfileì— ì •ì˜í•˜ì§€ë§Œ JAVA_TOOL_OPTIONS í™˜ê²½ ì†ì„±ì„ ì´ìš©í•˜ëŠ” ê²ƒì´ ë” ìœ ì—°í•œ êµ¬ì„±ì´ ë  ê²ë‹ˆë‹¤.</p></blockquote><h4 id="ì„œë¹„ìŠ¤-ì•¡ì„¸ìŠ¤-êµ¬ì„±"><a href="#ì„œë¹„ìŠ¤-ì•¡ì„¸ìŠ¤-êµ¬ì„±" class="headerlink" title="ì„œë¹„ìŠ¤ ì•¡ì„¸ìŠ¤ êµ¬ì„±"></a>ì„œë¹„ìŠ¤ ì•¡ì„¸ìŠ¤ êµ¬ì„±</h4><p>Elastic Beanstalk ì´ ê°œë°œì ëŒ€ì‹ ì— EC2 ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ê³  ì˜¤í† ìŠ¤ì¼€ì¼ë§ì´ ê°€ëŠ¥í•œ ì¸í”„ë¼ë¥¼ êµ¬ì„±í•˜ê¸° ìœ„í•´ì„œëŠ” <a href="https://docs.aws.amazon.com/ko_kr/elasticbeanstalk/latest/dg/concepts-roles-service.html">ì„œë¹„ìŠ¤ ì—­í• </a> ë¿ë§Œ ì•„ë‹ˆë¼ E2 ì¸ìŠ¤í„´ìŠ¤ í”„ë¡œíŒŒì¼ì— ëŒ€í•œ IAM ì´ í•„ìš”í•˜ë‹¤. ì˜ˆì „ì—ëŠ” EC2 ì¸ìŠ¤í„´ìŠ¤ í”„ë¡œíŒŒì¼ì— ì‚¬ìš©ë  ì—­í• ë„ ìë™ìœ¼ë¡œ ë§Œë“¤ì–´ì£¼ì—ˆìœ¼ë‚˜ AWS ë³´ì•ˆ ì •ì±… ë³€ê²½ìœ¼ë¡œ ì¸í•´ <code>aws-elasticbeanstalk-ec2-role</code>ì„ ë§Œë“¤ì–´ì£¼ì§€ ì•ŠëŠ”ë‹¤ê³  í•œë‹¤. (ì°¸ê³  - <a href="https://stackoverflow.com/a/76620598">https://stackoverflow.com/a/76620598</a>)</p><h5 id="aws-elasticbeanstalk-service-role"><a href="#aws-elasticbeanstalk-service-role" class="headerlink" title="aws-elasticbeanstalk-service-role"></a>aws-elasticbeanstalk-service-role</h5><p><img data-src="/images/posts/deploy-spring-boot-with-beanstalk-java-se-platform/05.png"></p><blockquote><p>ì„œë¹„ìŠ¤ ì—­í• ì„ ìë™ ìƒì„±í•˜ëŠ” ê²½ìš°ì—ë„ ìœ„ ì´ë¯¸ì§€ì™€ ë‹¤ë¥´ê²Œ AWSElasticBeanstalkManagedUpdatesCustomerRolePolicy ê°€ ì •ì±…ìœ¼ë¡œ í¬í•¨ë˜ëŠ” ê²ƒ ê°™ë„¤ìš”. AWSElasticBeanstalkService ê°€ í¬í•¨ë˜ì–´ìˆë‹¤ë©´ ì˜¤ë˜ì „ì— ì´ë¯¸ ìƒì„±í–ˆìŒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.</p></blockquote><h5 id="aws-elasticbeanstalk-ec2-role"><a href="#aws-elasticbeanstalk-ec2-role" class="headerlink" title="aws-elasticbeanstalk-ec2-role"></a>aws-elasticbeanstalk-ec2-role</h5><p>EC2 ì¸ìŠ¤í„´ìŠ¤ í”„ë¡œíŒŒì¼ë¡œ ì§€ì •í•˜ëŠ” IAM ì—­í• ì—ëŠ” ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì—”í„°í‹°ë¡œ ec2.amazonaws.com ì„œë¹„ìŠ¤ë¥¼ ë“±ë¡í•´ì•¼í•˜ë©° êµ¬ì„±í•˜ê³ ì í•˜ëŠ” í™˜ê²½ì— ë”°ë¼ ì•„ë˜ì˜ ì„¸ê°€ì§€ ì •ì±…ì„ ê¶Œí•œìœ¼ë¡œ ë“±ë¡í•´ì•¼í•œë‹¤. ì´ì— ëŒ€í•œ ì •ë³´ëŠ” <a href="https://docs.aws.amazon.com/ko_kr/elasticbeanstalk/latest/dg/iam-instanceprofile.html">Elastic Beanstalk ì¸ìŠ¤í„´ìŠ¤ í”„ë¡œíŒŒì¼ ê´€ë¦¬</a>ì— ì„¤ëª…ë˜ì–´ìˆë‹¤.</p><ul><li>AWSElasticBeanstalkWebTier</li><li>AWSElasticBeanstalkWorkerTier</li><li>AWSElasticBeanstalkMulticontainerDocker</li></ul><p><img data-src="/images/posts/deploy-spring-boot-with-beanstalk-java-se-platform/06.png"></p><blockquote><p>ê¸°ë³¸ì ìœ¼ë¡œëŠ” aws-elasticbeanstalk-service-role ê³¼ aws-elasticbeanstalk-ec2-role ì´ë¼ëŠ” ì´ë¦„ì˜ ì—­í• ì„ ì°¾ì•„ ì„ íƒí•´ì£¼ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤. ë§Œì•½ ë³„ë„ì˜ ì´ë¦„ì„ ê°€ì§„ IAM ì—­í• ì„ ë§Œë“œëŠ” ê²½ìš°ì—ëŠ” ì˜ëª» ì„ íƒí•˜ì§€ ì•Šë„ë¡ ì£¼ì˜í•´ì•¼í•©ë‹ˆë‹¤. ì›¹ UI ì½˜ì†”ì—ì„œëŠ” ì˜ëª»ëœ IAM ì—­í• ì„ ì„ íƒí•˜ëŠ” ê±¸ ê²€ì¦í•´ì£¼ì§€ ì•ŠìŠµë‹ˆë‹¤.</p></blockquote><h4 id="í¼ë¸”ë¦­-ì„œë¸Œë„·"><a href="#í¼ë¸”ë¦­-ì„œë¸Œë„·" class="headerlink" title="í¼ë¸”ë¦­ ì„œë¸Œë„·"></a>í¼ë¸”ë¦­ ì„œë¸Œë„·</h4><p>ë‹¨ì¼ ì¸ìŠ¤í„´ìŠ¤ê°€ ì•„ë‹Œ ë¡œë“œ ë°¸ëŸ°ì„œë¥¼ í†µí•´ ì˜¤í† ìŠ¤ì¼€ì¼ë§ì´ ê°€ëŠ¥í•œ í™˜ê²½ì„ êµ¬ì„±í•˜ê³ ì í•˜ëŠ” ê²½ìš°ë¼ë©´ í¼ë¸”ë¦­ ì„œë¸Œë„·ì„ ì§€ì •í•˜ëŠ” ê²ƒì— ì£¼ì˜í•´ì•¼í•  í•„ìš”ê°€ ìˆë‹¤. UI ì½˜ì†”ë„ ëª¨ë“  ê²ƒì— ì¹œì ˆí•˜ì§€ëŠ” ì•Šì•„ì„œ ê°€ì‹œì„±ì„ í¼ë¸”ë¦­ìœ¼ë¡œ ì„ íƒí•˜ë”ë¼ë„ ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ê°€ ì—°ê²°ë˜ì§€ ì•Šì€ í”„ë¼ì´ë¹— ì„œë¸Œë„·ë„ ì„ íƒ ì˜µì…˜ìœ¼ë¡œ ë…¸ì¶œë˜ë¯€ë¡œ í¼ë¸”ë¦­ ì„œë¸Œë„·ì´ ì•„ë‹Œ ê²ƒì„ ì„ íƒí•˜ì§€ ì•Šë„ë¡ ì£¼ì˜í•´ì•¼í•œë‹¤.</p><ul><li>ë‹¨ì¼ ì¸ìŠ¤í„´ìŠ¤ì´ë©´ì„œ ì¸ìŠ¤í„´ìŠ¤ ì„œë¸Œë„·ì´ í”„ë¼ì´ë¹— ì„œë¸Œë„·ìœ¼ë¡œ ì§€ì •ë˜ëŠ” ê²½ìš° - í™˜ê²½ ìƒì„± ë¶ˆê°€</li><li>ê³ ê°€ìš©ì„± ì„¤ì •ì´ë©´ì„œ ë¡œë“œë°¸ëŸ°ì„œ ì„œë¸Œë„·ì´ í”„ë¼ì´ë¹— ì„œë¸Œë„·ìœ¼ë¡œ ì§€ì •ë˜ëŠ” ê²½ìš° - í™˜ê²½ ìƒì„± ê°€ëŠ¥</li></ul><blockquote><p>ì˜¬ë°”ë¥¸ ê°€ìš© ì˜ì—­ì˜ ì„œë¸Œë„·ìœ¼ë¡œ êµ¬ì„±í–ˆëŠ”ì§€ VPC êµ¬ì„±ì„ ê²€í† í•˜ì…”ì•¼í•©ë‹ˆë‹¤. ì¸ìŠ¤í„´ìŠ¤ ì„œë¸Œë„·ê³¼ ë¡œë“œë°¸ëŸ°ì„œ ì„œë¸Œë„· ëª¨ë‘ ì˜ëª»ëœ ì„œë¸Œë„·ì„ ì„ íƒí•˜ëŠ” ê²ƒì„ UI ì›¹ ì½˜ì†”ì—ì„œëŠ” ê²€ì¦í•´ì£¼ì§€ ì•ŠìŠµë‹ˆë‹¤. í™˜ê²½ì´ ë§Œë“¤ì–´ì§€ë”ë¼ë„ Elastic Beanstalk ì—ì„œë„ ì˜¬ë°”ë¥¸ ì „í™˜ì´ ì–´ë ¤ìš¸ ìˆ˜ ìˆì–´ ì£¼ì˜í•´ì•¼í•  ì„ íƒ í•­ëª©ì…ë‹ˆë‹¤.</p></blockquote><h4 id="ì¸ìŠ¤í„´ìŠ¤-ë£¨íŠ¸-ë³¼ë¥¨"><a href="#ì¸ìŠ¤í„´ìŠ¤-ë£¨íŠ¸-ë³¼ë¥¨" class="headerlink" title="ì¸ìŠ¤í„´ìŠ¤ ë£¨íŠ¸ ë³¼ë¥¨"></a>ì¸ìŠ¤í„´ìŠ¤ ë£¨íŠ¸ ë³¼ë¥¨</h4><p>ì¸ìŠ¤í„´ìŠ¤ íŠ¸ë˜í”½ ë° í¬ê¸° ì¡°ì • êµ¬ì„± ë©”ë‰´ì—ì„œ ì„ íƒì‚¬í•­ì´ê¸´ í•˜ë‚˜ ë£¨íŠ¸ ë³¼ë¥¨ì˜ í¬ê¸°ê°€ 8GB ì¸ ê²ƒì— ì£¼ì˜í•  í•„ìš”ê°€ ìˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ 8GB ì´ì–´ë„ ì¶©ë¶„í•˜ë‹¤ê³  ìƒê°ë˜ì§€ë§Œ ì˜ˆê¸°ì¹˜ ì•Šì€ ìƒí™©ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œ ë²”ìš© 3(SSD) ë° 30GB ì´ìƒì˜ í¬ê¸°ë¥¼ ê°€ì§€ëŠ” ê²ƒì„ ê¶Œì¥í•œë‹¤. </p><p><img data-src="/images/posts/deploy-spring-boot-with-beanstalk-java-se-platform/07.png"></p><blockquote><p>ì¸ìŠ¤í„´ìŠ¤ ë©”íƒ€ë°ì´í„° ì„œë¹„ìŠ¤(IMDS)ëŠ” IMDSv2ë¥¼ ì‚¬ìš©í•˜ë„ë¡ IMDSv1 ë¹„í™œì„±í™” ì„ íƒ ê¸°ë³¸ê°’ì„ ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ëŠ” ê±¸ ê¶Œì¥í•©ë‹ˆë‹¤. ì¸ìŠ¤í„´ìŠ¤ ë©”íƒ€ë°ì´í„° ì„œë¹„ìŠ¤ëŠ” í”Œë«í¼ í™•ì¥ ì‹œ ì¸ìŠ¤í„´ìŠ¤ ì •ë³´ë¥¼ ì¡°íšŒí•˜ëŠ”ë° ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë” ìì„¸í•œ ë‚´ìš©ì´ ê¶ê¸ˆí•˜ë‹¤ë©´ <a href="/beanstalk-platforms-linux-extend/">Beanstalk Linux í”Œë«í¼ í™•ì¥ì— ëŒ€í•´ì„œ</a> ê¸€ì„ ì°¸ì¡°í•˜ì„¸ìš”.</p></blockquote><h4 id="EC2-ì¸ìŠ¤í„´ìŠ¤-í™•ì¸"><a href="#EC2-ì¸ìŠ¤í„´ìŠ¤-í™•ì¸" class="headerlink" title="EC2 ì¸ìŠ¤í„´ìŠ¤ í™•ì¸"></a>EC2 ì¸ìŠ¤í„´ìŠ¤ í™•ì¸</h4><p>Elastic Beanstalk í™˜ê²½ì˜ ì´ë²¤íŠ¸ì— í™˜ê²½ êµ¬ì„±ì— ëŒ€í•œ ì„±ê³µ ë©”ì‹œì§€ë¥¼ í™•ì¸í–ˆë‹¤ë©´ ë„ë©”ì¸ ì£¼ì†Œë¥¼ í´ë¦­í•˜ì—¬ ìƒ˜í”Œ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì˜í•œ Congratulations í™”ë©´ì´ ë…¸ì¶œë˜ëŠ”ì§€ í™•ì¸í•´ì•¼í•œë‹¤. í™˜ê²½ì´ ìƒì„±ë˜ì—ˆì–´ë„ êµ¬ì„± ìƒ ì´ìƒí•œ ì„¤ì •ì´ ìˆë‹¤ë©´ EC2 ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ì†í•˜ì—¬ eb-engine(&#x2F;var&#x2F;log&#x2F;eb-engine.log)ë¥¼ ì‚´í´ë³´ì•„ì•¼ í•œë‹¤. ë‹¤ìŒê³¼ ê°™ì´ &#x2F;opt&#x2F;elasticbeanstalk&#x2F;bin&#x2F;get-config ë„êµ¬ë¡œ EC2 ì»¨í…Œì´ë„ˆì—ì„œ ì‚´í´ë³´ì•„ì•¼í•  ë¡œê·¸ íŒŒì¼ ëª©ë¡ì„ ì•Œ ìˆ˜ ìˆë‹¤.</p><pre class="language-bash" data-language="bash"><div class="caption"><span>/opt/elasticbeanstalk/bin/get-config</span></div><code class="language-bash"><span class="token punctuation">[</span>root@ip-10-0-2-119 ~<span class="token punctuation">]</span><span class="token comment"># /opt/elasticbeanstalk/bin/get-config --output YAML container</span>common_log_list:    - /var/log/eb-engine.log    - /var/log/eb-hooks.logdefault_log_list:    - /var/log/nginx/access.log    - /var/log/nginx/error.log    - /var/log/web.stdout.logenvironment_name: Ss-envinstance_port: <span class="token string">"80"</span>log_group_name_prefix: /aws/elasticbeanstalkproxy_server: nginxstatic_files:    - <span class="token string">""</span>xray_enabled: <span class="token string">"false"</span></code></pre><blockquote><p>í™˜ê²½ ìƒì„±ì´ ì™„ë£Œë˜ì—ˆì„ë•Œë„ eb-engine ë¡œê·¸ë¥¼ ì‚´í´ë³´ê³  ì–´ë–»ê²Œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬í–ˆëŠ”ì§€ í™•ì¸í•´ë³´ëŠ”ê²Œ ì¢‹ìŠµë‹ˆë‹¤. Java SE í”Œë«í¼ í™˜ê²½ì—ì„œëŠ” Nginxë¥¼ ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œë¡œ êµ¬ì„±í•˜ê³  ì• í”Œë¦¬ì¼€ì´ì…˜ì´ 5000 í¬íŠ¸ë¡œ ì‹¤í–‰ëœë‹¤ëŠ” ê°€ì •ìœ¼ë¡œ íŠ¸ë˜í”½ì„ ì „ë‹¬í•©ë‹ˆë‹¤. ì°¸ê³ ë¡œ ìƒ˜í”Œ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ EC2 ì¸ìŠ¤í„´ìŠ¤ ë‚´ì—ì„œ ë¹Œë“œë˜ì–´ ì‹¤í–‰ë˜ëŠ” ê²ƒìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p></blockquote><h4 id="ì• í”Œë¦¬ì¼€ì´ì…˜-ë¹Œë“œ-ë°-ë°°í¬"><a href="#ì• í”Œë¦¬ì¼€ì´ì…˜-ë¹Œë“œ-ë°-ë°°í¬" class="headerlink" title="ì• í”Œë¦¬ì¼€ì´ì…˜ ë¹Œë“œ ë° ë°°í¬"></a>ì• í”Œë¦¬ì¼€ì´ì…˜ ë¹Œë“œ ë° ë°°í¬</h4><p>ìƒ˜í”Œ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬ê°€ ì™„ë£Œë˜ì—ˆë‹¤ë©´ ìš°ë¦¬ê°€ ê°œë°œí•œ ìë°” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë¹Œë“œí•˜ê³  ë°°í¬í•´ì•¼í•œë‹¤. ì•„ì§ê¹Œì§€ëŠ” í”Œë«í¼ í™•ì¥ì´ í•„ìš”í•˜ì§€ ì•Šë‹¤ëŠ” ê°€ì •í•˜ì— ì• í”Œë¦¬ì¼€ì´ì…˜ì„ íŒ¨í‚¤ì§•í•˜ê³  ì• í”Œë¦¬ì¼€ì´ì…˜ ì†ŒìŠ¤ ë²ˆë“¤ì„ ì••ì¶• íŒŒì¼ë¡œ ë§Œë“œëŠ” ê²ƒì„ ì•Œì•„ë³´ì. ì• í”Œë¦¬ì¼€ì´ì…˜ ì†ŒìŠ¤ ë²ˆë“¤ì—ëŠ” Procfileê³¼ ì‹¤í–‰ ê°€ëŠ¥í•˜ë„ë¡ íŒ¨í‚¤ì§•ëœ Jar ë˜ëŠ” War íŒŒì¼ì„ í¬í•¨í•˜ì—¬ì•¼ í•œë‹¤.</p><ul><li>Procfile</li><li>application.jar</li></ul><p>ì• í”Œë¦¬ì¼€ì´ì…˜ ì†ŒìŠ¤ ë²ˆë“¤ì€ ì••ì¶• ëª…ë ¹ì–´ë¡œë„ ë§Œë“¤ ìˆ˜ ìˆìœ¼ë‚˜ Gradle ì„ ì‚¬ìš©ì¤‘ì´ë¼ë©´ Zip íƒœìŠ¤í¬ë¥¼ ì´ìš©í•´ì„œ Beanstalk ë°°í¬ë¥¼ ìœ„í•œ ë¹Œë“œ íƒœìŠ¤í¬ë¥¼ ë§Œë“¤ì–´ì„œ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤. ë‹¤ìŒì€ gradle-8.5 ê¸°ì¤€ìœ¼ë¡œ ì‘ì„±í•œ íƒœìŠ¤í¬ ì˜ˆì‹œì´ë‹¤.</p><pre class="language-groovy" data-language="groovy"><div class="caption"><span>build.gradle</span></div><code class="language-groovy">tasks<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">'procfile'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    bootJar<span class="token punctuation">.</span>archiveFileName<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'application.jar'</span><span class="token punctuation">)</span>    dependsOn <span class="token string">'bootJar'</span>    doFirst <span class="token punctuation">&#123;</span>        <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"build/libs"</span></span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"Procfile"</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">"web: java -jar </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token expression">bootJar<span class="token punctuation">.</span>archiveFileName<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">"</span></span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>tasks<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">'zipSourceBundle'</span><span class="token punctuation">,</span> Zip<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    dependsOn <span class="token string">'clean'</span>    dependsOn <span class="token string">'procfile'</span>    <span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'build/libs'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">include</span><span class="token punctuation">(</span><span class="token string">'application.jar'</span><span class="token punctuation">)</span>        <span class="token function">include</span><span class="token punctuation">(</span><span class="token string">'Procfile'</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    archiveBaseName <span class="token operator">=</span> <span class="token string">'beanstalk'</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-bash" data-language="bash"><div class="caption"><span>Terminal</span></div><code class="language-bash">./gradlew zipSourceBundle</code></pre><blockquote><p>ë‹¤ë¥¸ Elastic Beanstalk ê´€ë ¨ ê¸€ê³¼ëŠ” ë‹¤ë¥´ê²Œ Procfileì— JVM ì˜µì…˜ì„ ì •ì˜í•˜ì§€ ì•Šì•˜ëŠ”ë° Java SE í”Œë«í¼ì˜ JVM íŠ¹ì„± ìƒ ìë°” í™˜ê²½ ë³€ìˆ˜ë¥¼ í†µí•´ ë³„ë„ë¡œ ì£¼ì…ì´ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. Elastic Beanstalk ë¬¸ì„œì—ëŠ” ë³„ë„ë¡œ ê¸°ì¬ë˜ì–´ìˆì§€ëŠ” ì•Šì§€ë§Œ JVMTI í‘œì¤€ ìŠ¤í™ì¸ JAVA_TOOL_OPTIONS ë˜ëŠ” _JAVA_OPTIONS í™˜ê²½ ë³€ìˆ˜ë¥¼ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p></blockquote><h4 id="ì• í”Œë¦¬ì¼€ì´ì…˜-í™˜ê²½-ì†ì„±"><a href="#ì• í”Œë¦¬ì¼€ì´ì…˜-í™˜ê²½-ì†ì„±" class="headerlink" title="ì• í”Œë¦¬ì¼€ì´ì…˜ í™˜ê²½ ì†ì„±"></a>ì• í”Œë¦¬ì¼€ì´ì…˜ í™˜ê²½ ì†ì„±</h4><p>ì• í”Œë¦¬ì¼€ì´ì…˜ ì†ŒìŠ¤ ë²ˆë“¤ì„ ì—…ë¡œë“œí•˜ê¸° ì „ì— ìƒ˜í”Œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬ì¤‘ì¸ ìƒíƒœì—ì„œ í™˜ê²½ ì†ì„±ì„ ë¨¼ì € ë“±ë¡í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•œë‹¤. ì•ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì†ŒìŠ¤ ë²ˆë“¤ì—ëŠ” í”„ë¡œíŒŒì¼ ì§€ì •ì´ë‚˜ JVM ì˜µì…˜ì„ ì •ì˜í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ì˜¬ë°”ë¥´ê²Œ ì‹¤í–‰ë  ìˆ˜ ìˆë„ë¡ í•´ì•¼í•œë‹¤. êµ¬ì„± â†’ ì—…ë°ì´íŠ¸, ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹… â†’ í”Œë«í¼ ì†Œí”„íŠ¸ì›¨ì–´ â†’ í™˜ê²½ ì†ì„±ì— JAVA_TOOL_OPTIONSë¥¼ ì¶”ê°€í•˜ì. í™˜ê²½ ì†ì„±ì„ ì¶”ê°€í•˜ëŠ” ê²ƒì€ EC2 ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì¢…ë£Œí•˜ì§€ ì•Šê³  ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬ ê³¼ì •ë§Œ ë‹¤ì‹œ ìˆ˜í–‰í•˜ê²Œ ëœë‹¤.</p><p><img data-src="/images/posts/deploy-spring-boot-with-beanstalk-java-se-platform/08.png"></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@ip-10-0-2-119 ~<span class="token punctuation">]</span><span class="token comment"># jps -v</span><span class="token number">6226</span> Jps <span class="token parameter variable">-Dapplication.home</span><span class="token operator">=</span>/usr/lib/jvm/java-17-amazon-corretto.x86_64 <span class="token parameter variable">-Xms8m</span> <span class="token parameter variable">-Djdk.module.main</span><span class="token operator">=</span>jdk.jcmd<span class="token number">6148</span> sample-app-1.0-jar-with-dependencies.jar <span class="token parameter variable">-Dfile.encoding</span><span class="token operator">=</span>UTF-8 <span class="token parameter variable">-Djava.net.preferIPv4Stack</span><span class="token operator">=</span>true <span class="token parameter variable">-Xms250m</span> <span class="token parameter variable">-Xmx250m</span></code></pre><blockquote><p>ìœ„ ì´ë¯¸ì§€ ìƒì—ëŠ” JAVA_TOOL_OPTIONS ì™€ _JAVA_OPTIONSë¥¼ í™œìš©í•  ìˆ˜ ìˆìŒì„ ë³´ì—¬ì£¼ê¸° ìœ„í•´ ë³„ë„ë¡œ ë‚˜ëˆ„ì–´ì„œ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. í˜¼ìš©í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê²½ìš° JAVA_TOOL_OPTIONSì´ ë¨¼ì € ë‚˜ì—´ë˜ê³  ê·¸ ë‹¤ìŒì— _JAVA_OPTIONS ì´ ì ìš©ë˜ë¯€ë¡œ ìˆœì„œì— ì£¼ì˜í•´ì•¼í•  í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤. ê°œì¸ì ìœ¼ë¡œëŠ” JAVA_TOOL_OPTIONS ë§Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.</p></blockquote><h4 id="í”Œë«í¼-í™•ì¥-ë¦¬ë²„ìŠ¤-í”„ë¡ì‹œ-êµ¬ì„±"><a href="#í”Œë«í¼-í™•ì¥-ë¦¬ë²„ìŠ¤-í”„ë¡ì‹œ-êµ¬ì„±" class="headerlink" title="í”Œë«í¼ í™•ì¥ - ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ êµ¬ì„±"></a>í”Œë«í¼ í™•ì¥ - ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ êµ¬ì„±</h4><p>ì• í”Œë¦¬ì¼€ì´ì…˜ì´ 5000 í¬íŠ¸ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ PORT í™˜ê²½ ë³€ìˆ˜ë¡œ ì§€ì •í•˜ê±°ë‚˜ ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ êµ¬ì„±ìœ¼ë¡œ ì œê³µí•˜ëŠ” ê¸°ë³¸ Nginx ì„¤ì •ì„ ëŒ€ì²´í•  ìˆ˜ ìˆë‹¤. <a href="/beanstalk-platforms-linux-extend/">Beanstalk Linux í”Œë«í¼ í™•ì¥ì— ëŒ€í•´ì„œ</a> ì²˜ëŸ¼ ì•„ë˜ì˜ ë‘ê°œì˜ íŒŒì¼ì„ ì• í”Œë¦¬ì¼€ì´ì…˜ ì†ŒìŠ¤ ë²ˆë“¤ì— í¬í•¨ì‹œì¼œë„ ëœë‹¤.</p><pre class="language-conf" data-language="conf"><div class="caption"><span>.platform/nginx/conf.d/upstream.conf</span></div><code class="language-conf">upstream web &#123;    server 127.0.0.1:5000;    keepalive 1024;&#125;</code></pre><pre class="language-conf" data-language="conf"><div class="caption"><span>.platform/nginx/conf.d/elasticbeanstalk/00_application.conf</span></div><code class="language-conf">location &#x2F; &#123;  proxy_pass          http:&#x2F;&#x2F;web;  proxy_http_version  1.1;  proxy_set_header    Connection          $connection_upgrade;  proxy_set_header    Upgrade             $http_upgrade;  proxy_set_header    Host                $host;  proxy_set_header    X-Real-IP           $remote_addr;  proxy_set_header    X-Forwarded-For     $proxy_add_x_forwarded_for;&#125;</code></pre><pre class="language-groovy" data-language="groovy"><div class="caption"><span>build.gradle</span></div><code class="language-groovy">tasks<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">'zipSourceBundle'</span><span class="token punctuation">,</span> Zip<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    dependsOn <span class="token string">'clean'</span>    dependsOn <span class="token string">'procfile'</span>    <span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'build/libs'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">include</span><span class="token punctuation">(</span><span class="token string">'application.jar'</span><span class="token punctuation">)</span>        <span class="token function">include</span><span class="token punctuation">(</span><span class="token string">'Procfile'</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'beanstalk'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">include</span><span class="token punctuation">(</span><span class="token string">'.platform/nginx/conf.d/upstream.conf'</span><span class="token punctuation">)</span>        <span class="token function">include</span><span class="token punctuation">(</span><span class="token string">'.platform/nginx/conf.d/elasticbeanstalk/00_application.conf'</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    archiveBaseName <span class="token operator">=</span> <span class="token string">'beanstalk'</span><span class="token punctuation">&#125;</span></code></pre><p>ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•˜ëŠ” nginx.conf ì— ì˜ì¡´í•˜ë˜ ë¯¸ë¦¬ ì •ì˜ë˜ì–´ìˆëŠ” 00_application.conf íŒŒì¼ì´ ëŒ€ì²´ë˜ë„ë¡ zipSourceBundle íƒœìŠ¤í¬ë¥¼ ìˆ˜ì •í•˜ì˜€ë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬ì— ì„±ê³µí•˜ì˜€ë‹¤ë©´ ë„ë©”ì¸ ì£¼ì†Œ ë˜ëŠ” EC2 ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ì†í•´ë³´ë©´ ìƒ˜í”Œ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ìš°ë¦¬ê°€ íŒ¨í‚¤ì§•í•˜ì—¬ ì „ë‹¬í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ íŒŒì¼ì´ ì‹¤í–‰ë˜ê³  ìˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p><p><img data-src="/images/posts/deploy-spring-boot-with-beanstalk-java-se-platform/09.png"></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@ip-10-0-2-119 ~<span class="token punctuation">]</span><span class="token comment"># jps -v</span><span class="token number">6964</span> application.jar <span class="token parameter variable">-Dfile.encoding</span><span class="token operator">=</span>UTF-8 <span class="token parameter variable">-Djava.net.preferIPv4Stack</span><span class="token operator">=</span>true <span class="token parameter variable">-Xms250m</span> <span class="token parameter variable">-Xmx250m</span><span class="token number">7109</span> Jps <span class="token parameter variable">-Dapplication.home</span><span class="token operator">=</span>/usr/lib/jvm/java-17-amazon-corretto.x86_64 <span class="token parameter variable">-Xms8m</span> <span class="token parameter variable">-Djdk.module.main</span><span class="token operator">=</span>jdk.jcmd</code></pre><blockquote><p>ì—¬ëŸ¬ë¶„ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬ë¥¼ ì™„ë£Œí–ˆë‹¤ë©´ <a href="/beanstalk-platforms-linux-extend/">Beanstalk Linux í”Œë«í¼ í™•ì¥ì— ëŒ€í•´ì„œ</a>ë¥¼ ì°¸ê³ í•´ë³´ì„¸ìš”. ì• í”Œë¦¬ì¼€ì´ì…˜ì— ë” ì í•©í•œ í™˜ê²½ì„ êµ¬ì„±í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p></blockquote><h4 id="Elastic-Beanstalk-ì‹œì‘í•˜ê¸°-íŠ¸ëŸ¬ë¸”-ìŠˆíŒ…"><a href="#Elastic-Beanstalk-ì‹œì‘í•˜ê¸°-íŠ¸ëŸ¬ë¸”-ìŠˆíŒ…" class="headerlink" title="Elastic Beanstalk ì‹œì‘í•˜ê¸° íŠ¸ëŸ¬ë¸” ìŠˆíŒ…"></a>Elastic Beanstalk ì‹œì‘í•˜ê¸° íŠ¸ëŸ¬ë¸” ìŠˆíŒ…</h4><h5 id="ì¸ìŠ¤í„´ìŠ¤-ì„œë¸Œë„·ì˜-ê°€ìš©-ì˜ì—­ì—ì„œ-ì§€ì›í•˜ì§€-ì•ŠëŠ”-EC2-ìœ í˜•-ë¬¸ì œ"><a href="#ì¸ìŠ¤í„´ìŠ¤-ì„œë¸Œë„·ì˜-ê°€ìš©-ì˜ì—­ì—ì„œ-ì§€ì›í•˜ì§€-ì•ŠëŠ”-EC2-ìœ í˜•-ë¬¸ì œ" class="headerlink" title="ì¸ìŠ¤í„´ìŠ¤ ì„œë¸Œë„·ì˜ ê°€ìš© ì˜ì—­ì—ì„œ ì§€ì›í•˜ì§€ ì•ŠëŠ” EC2 ìœ í˜• ë¬¸ì œ"></a>ì¸ìŠ¤í„´ìŠ¤ ì„œë¸Œë„·ì˜ ê°€ìš© ì˜ì—­ì—ì„œ ì§€ì›í•˜ì§€ ì•ŠëŠ” EC2 ìœ í˜• ë¬¸ì œ</h5><p><img data-src="/images/posts/deploy-spring-boot-with-beanstalk-java-se-platform/10.png"></p><p>Elastic Beanstalk í™˜ê²½ êµ¬ì„± ì‹œ ì¸ìŠ¤í„´ìŠ¤ ì„œë¸Œë„·ìœ¼ë¡œ ì„ íƒí•œ ê°€ìš© ì˜ì—­ ëª©ë¡ì— ë”°ë¼ì„œ ì§€ì›í•˜ì§€ ì•ŠëŠ” EC2 ìœ í˜•ì€ ì„ íƒí•  ìˆ˜ ì—†ë‹¤. ë‹¤ë§Œ, x86_64 ì•„í‚¤í…ì²˜ë¥¼ ì„ íƒí•´ë‘ì–´ë„ arm ì•„í‚¤í…ì²˜ì— í•´ë‹¹í•˜ëŠ” XXg ì¸ìŠ¤í„´ìŠ¤ ìœ í˜•ì´ ëª©ë¡ì— í‘œì‹œë˜ì–´ ì„ íƒí•  ìˆ˜ ìˆì§€ë§Œ í™˜ê²½ ìƒì„± ì‹œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì—¬ í™•ì¸ì„ ìš”êµ¬í•œë‹¤. ë˜í•œ, í”„ë¦¬í‹°ì–´ ì‚¬ìš©ìì˜ ê²½ìš° ë‹¨ì¼ ì¸ìŠ¤í„´ìŠ¤(í”„ë¦¬í‹°ì–´ ì‚¬ìš© ê°€ëŠ¥) ì‚¬ì „ ì„¤ì •ì„ ì„ íƒí•˜ëŠ” ê²½ìš°ì—ë„ ì¸ìŠ¤í„´ìŠ¤ ì„œë¸Œë„·ì´ ap-northeast-2a ë§Œ ì„ íƒë˜ì–´ìˆì§€ ì•ŠëŠ”ë‹¤ë©´ í”„ë¦¬í‹°ì–´ ëŒ€ìƒì¸ t2.micro ìœ í˜•ì„ ì„ íƒí•  ìˆ˜ ì—†ë‹¤.</p><blockquote><p>í”„ë¦¬í‹°ì–´ ì‚¬ìš©ìê°€ ë‹¨ì¼ ì¸ìŠ¤í„´ìŠ¤ë¡œ ì„ íƒí•˜ê³ ë‚˜ì„œ ì¸ìŠ¤í„´ìŠ¤ ì„œë¸Œë„·ì„ ì˜ëª» ì§€ì •í•˜ë”ë¼ë„ t3.micro ì™€ t3.small ì„ ê¸°ë³¸ì ìœ¼ë¡œ ì„ íƒí•˜ê³  ìˆìŠµë‹ˆë‹¤. ì‚¬ìš©ì ê²½í—˜ ìƒ ap-northest-2a ë¥¼ ì„ íƒí•˜ë”ë¼ë„ t2.microë¥¼ ê¸°ë³¸ìœ¼ë¡œ ë¶€ì—¬í•´ì£¼ì§€ ì•Šê¸° ë•Œë¬¸ì— ì£¼ì˜í•´ì•¼í•  ì„ íƒ í•­ëª©ì— í•´ë‹¹í•©ë‹ˆë‹¤.</p></blockquote><p>í™˜ê²½ ìƒì„± ì´í›„ì—ëŠ” í”„ë¡œì„¸ì„œ ì•„í‚¤í…ì²˜ë¥¼ ë³€ê²½í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ì¸ìŠ¤í„´ìŠ¤ ìœ í˜•ì´ ì œí•œëœë‹¤ëŠ” ê²ƒì„ ì•Œê³  ìˆì–´ì•¼ í•œë‹¤. í™˜ê²½ì„ ìƒì„±í•  ë‹¹ì‹œì—ëŠ” ì„ íƒëœ ì•„í‚¤í…ì²˜ ì´ì™¸ì— ì§€ì›í•˜ì§€ ì•ŠëŠ” EC2 ì¸ìŠ¤í„´ìŠ¤ ìœ í˜•ë„ ì„ íƒí•  ìˆ˜ ìˆë„ë¡ ëª©ë¡ì—ëŠ” í‘œì‹œë˜ê³  ìˆì–´ ì£¼ì˜ê°€ í•„ìš”í•˜ë‹¤. í”„ë¡œì„¸ì„œ ì•„í‚¤í…ì²˜ë¥¼ arm64 ë¡œ ì„ íƒí•˜ëŠ” ê²½ìš°ì—ë„ ì„ íƒëœ AZì— ap-northeast-2d ê°€ í¬í•¨ë˜ì–´ìˆë‹¤ë©´ ì§€ì›í•˜ì§€ ì•ŠëŠ” ìœ í˜•ì— t4gê°€ í¬í•¨ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— t4g.microë¥¼ ê¸°ë³¸ìœ¼ë¡œ ì„ íƒí•´ì£¼ì§€ ì•ŠëŠ”ë‹¤.</p><h4 id="ì¸ìŠ¤í„´ìŠ¤-ì„œë¸Œë„·ê³¼-ë¡œë“œë°¸ëŸ°ì„œ-ì„œë¸Œë„·ì˜-í¼ë¸”ë¦­-ì—¬ë¶€-ë¬¸ì œ"><a href="#ì¸ìŠ¤í„´ìŠ¤-ì„œë¸Œë„·ê³¼-ë¡œë“œë°¸ëŸ°ì„œ-ì„œë¸Œë„·ì˜-í¼ë¸”ë¦­-ì—¬ë¶€-ë¬¸ì œ" class="headerlink" title="ì¸ìŠ¤í„´ìŠ¤ ì„œë¸Œë„·ê³¼ ë¡œë“œë°¸ëŸ°ì„œ ì„œë¸Œë„·ì˜ í¼ë¸”ë¦­ ì—¬ë¶€ ë¬¸ì œ"></a>ì¸ìŠ¤í„´ìŠ¤ ì„œë¸Œë„·ê³¼ ë¡œë“œë°¸ëŸ°ì„œ ì„œë¸Œë„·ì˜ í¼ë¸”ë¦­ ì—¬ë¶€ ë¬¸ì œ</h4><p><img data-src="/images/posts/deploy-spring-boot-with-beanstalk-java-se-platform/11.png"></p><p>ì¸ìŠ¤í„´ìŠ¤ ì„œë¸Œë„·ê³¼ ë¡œë“œë°¸ëŸ°ì„œ ì„œë¸Œë„· ëª¨ë‘ í¼ë¸”ë¦­ìœ¼ë¡œ ì„ íƒí•˜ëŠ” ê²ƒì€ ì¸í„°ë„· ìš”ì²­ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•¨ì´ë¯€ë¡œ ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ì— ì—°ê²°ë˜ì–´ìˆëŠ” í¼ë¸”ë¦­ ì„œë¸Œë„·ì„ ì§€ì •í•´ì•¼í•œë‹¤. ì›¹ UI ì½˜ì†” ìƒ ì„ íƒí•˜ëŠ” ì„œë¸Œë„·ì´ ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ê°€ ì—°ê²°ë˜ì—ˆëŠ”ì§€ê¹Œì§€ëŠ” í™•ì¸í•´ì£¼ì§€ ì•Šìœ¼ë¯€ë¡œ ì˜¬ë°”ë¥´ì§€ ì•Šì€ êµ¬ì„±ìœ¼ë¡œ í™˜ê²½ ìƒì„±ì„ ì‹œì‘í•  ìˆ˜ ìˆë‹¤. ë§Œì¼, ë‹¨ì¼ ì¸ìŠ¤í„´ìŠ¤ë¡œ í¼ë¸”ë¦­ ì²´í¬ë¥¼ í•œ í›„ ì¸ìŠ¤í„´ìŠ¤ ì„œë¸Œë„·ì„ ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ê°€ ì—°ê²°ë˜ì§€ ì•Šì€ í”„ë¼ì´ë¹— ì„œë¸Œë„·ìœ¼ë¡œ ì„ íƒí•˜ëŠ” ê²½ìš° Elastic Beanstalk ì´ í™˜ê²½ ìƒì„±ì„ ì‹œë„í•˜ë‹¤ê°€ ë©ˆì¶”ëŠ” ìƒí™©ì„ ë§Œë‚  ìˆ˜ ìˆë‹¤.</p><pre class="language-none"><code class="language-none">The EC2 instances failed to communicate with AWS Elastic Beanstalk, either because of configuration problems with the VPC or a failed EC2 instance. Check your VPC configuration and try launching the environment again.</code></pre><blockquote><p>Elastic Beanstalk ì´ í™˜ê²½ ìƒì„±ì— ë¬¸ì œê°€ ìˆëŠ” ê²½ìš° ê°œë°œìê°€ ì§ì ‘ CloudFormation ì—ì„œ í•´ë‹¹ ìŠ¤íƒì„ ì°¾ì•„ ì‚­ì œë¥¼ ì‹œë„í•´ì•¼í•©ë‹ˆë‹¤. Elastic Beanstalk ì„œë¹„ìŠ¤ê°€ CloudFormation ì— ì˜í•œ ì½”ë“œ ê¸°ë°˜ êµ¬ì„±ì— ì˜ì¡´í•˜ê¸° ë•Œë¬¸ì´ë©° Elastic Beanstalk ì´ í™˜ê²½ì„ ì—…ë°ì´íŠ¸í•˜ëŠ” ë„ì¤‘ì—ëŠ” ì›¹ UI ì½˜ì†” ê¸°ëŠ¥ì´ ì œí•œí•´ë‘ì—ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</p></blockquote><h5 id="ìƒíƒœ-ë³´ê³ -ê¸°ë³¸-ì„ íƒ-ì‹œ-ê´€ë¦¬í˜•-ì—…ë°ì´íŠ¸-ì„¤ì •-ë¶ˆê°€"><a href="#ìƒíƒœ-ë³´ê³ -ê¸°ë³¸-ì„ íƒ-ì‹œ-ê´€ë¦¬í˜•-ì—…ë°ì´íŠ¸-ì„¤ì •-ë¶ˆê°€" class="headerlink" title="ìƒíƒœ ë³´ê³  ê¸°ë³¸ ì„ íƒ ì‹œ ê´€ë¦¬í˜• ì—…ë°ì´íŠ¸ ì„¤ì • ë¶ˆê°€"></a>ìƒíƒœ ë³´ê³  ê¸°ë³¸ ì„ íƒ ì‹œ ê´€ë¦¬í˜• ì—…ë°ì´íŠ¸ ì„¤ì • ë¶ˆê°€</h5><p><img data-src="/images/posts/deploy-spring-boot-with-beanstalk-java-se-platform/12.png"></p><p>ìƒíƒœ ë³´ê³  ì˜µì…˜ì„ <code>ì‹œìŠ¤í…œ ê°•í™”ë¨</code>ì—ì„œ ê¸°ë³¸ìœ¼ë¡œ ì„ íƒí•˜ê³ ë‚˜ì„œ <code>ê´€ë¦¬í˜• ì—…ë°ì´íŠ¸</code>ë¥¼ í™œì„±í™”ë¥¼ ìœ ì§€í•˜ëŠ” ê²½ìš° UI ì½˜ì†” ìƒ ì„¤ëª…ì„ ì œê³µí•˜ì§€ ì•Šì•„ë„ í™˜ê²½ ìƒì„± ì‹œë„ ì‹œ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤. ê´€ë¦¬í˜• ì—…ë°ì´íŠ¸ë¥¼ ì„¤ì •í•˜ê³ ì í•˜ëŠ” ê²½ìš°ì—ëŠ” ë°˜ë“œì‹œ ìƒíƒœ ë³´ê³ ë¥¼ ì‹œìŠ¤í…œ ê°•í™”ë¨ìœ¼ë¡œ ì„¤ì •í•´ì•¼í•œë‹¤.</p><pre class="language-bash" data-language="bash"><div class="caption"><span>ìƒíƒœ ë³´ê³  ì‹œìŠ¤í…œ ê¸°ë³¸ ì„ íƒ ì‹œ ê´€ë¦¬í˜• ì—…ë°ì´íŠ¸ ë¶ˆê°€</span></div><code class="language-bash">Invalid option specification <span class="token punctuation">(</span>Namespace: <span class="token string">'aws:elasticbeanstalk:managedactions'</span>, OptionName: <span class="token string">'ManagedActionsEnabled'</span><span class="token punctuation">)</span>: Managed platform updates require enhanced health reporting <span class="token punctuation">(</span>option SystemType <span class="token keyword">in</span> namespace aws:elasticbeanstalk:healthreporting:system<span class="token punctuation">)</span>.</code></pre><h4 id="Elastic-Beanstalk-í™˜ê²½-êµ¬ì„±ì—-ëŒ€í•˜ì—¬"><a href="#Elastic-Beanstalk-í™˜ê²½-êµ¬ì„±ì—-ëŒ€í•˜ì—¬" class="headerlink" title="Elastic Beanstalk í™˜ê²½ êµ¬ì„±ì— ëŒ€í•˜ì—¬"></a>Elastic Beanstalk í™˜ê²½ êµ¬ì„±ì— ëŒ€í•˜ì—¬</h4><p>ë§ì€ ê°œë°œìë“¤ì´ Elastic Beanstalk í™˜ê²½ì„ êµ¬ì„±í•˜ëŠ” ê²ƒì— ëŒ€í•œ ê¸€ì„ ì°¸ê³ í•˜ë©° ë”°ë¼í•˜ê² ì§€ë§Œ ë¦¬ëˆ…ìŠ¤ ì»¤ë„ íŠœë‹ì´ë‚˜ ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ êµ¬ì„±ê³¼ ê°™ì€ í”Œë«í¼ í™•ì¥ì— ëŒ€í•´ì„œëŠ” ë‹¨ìˆœíˆ ë”°ë¼í•˜ê¸°ë³´ë‹¤ëŠ” ê·¸ê²ƒì´ ë°˜ë“œì‹œ í•„ìš”í•œì§€ë¥¼ ê³ ë¯¼í•´ë³¼ í•„ìš”ê°€ ìˆë‹¤. ì˜¤ë˜ëœ ê¸€ì´ ë§ê¸° ë•Œë¬¸ì— ìµœì‹  ë¦¬ëˆ…ìŠ¤ ì»¤ë„ì˜ ê²½ìš°ì—ëŠ” ë¦¬ëˆ…ìŠ¤ ì»¤ë„ íŒŒë¼ë¯¸í„° ì¡°ì •ì´ í•„ìš”í•˜ì§€ ì•Šì„ ì •ë„ë¡œ ê¸°ë³¸ê°’ì´ ì„¤ì •ë˜ì–´ìˆë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ ìš´ì˜ì— ë¬¸ì œê°€ ì—†ëŠ”ë°ë„ ë¶ˆêµ¬í•˜ê³  ë¦¬ëˆ…ìŠ¤ ì‹œìŠ¤í…œì„ ìµœì í™”í•œë‹¤ê³  ì‹œë„í•´ë†“ìœ¼ë©´ ì™œ ê·¸ ì„¤ì •ì´ í•„ìš”í•œì§€ ì´í•´í•˜ì§€ ëª»í•˜ëŠ” í™˜ê²½ì„ ë§Œë“¤ê²Œ ëœë‹¤.</p><p>ë˜í•œ, ì–¸ì œë‚˜ Elastic Beanstalk ì— ì˜í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ ìš´ì˜ ì‹œ ì˜ˆê¸°ì¹˜ ì•Šì€ ìƒí™©ì´ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë¬¸ì œì— ëŒ€í•œ ì›ì¸ì„ ì°¾ì•„ê°€ê¸° ì‰½ë„ë¡ ì–´ë–¤ ì •ë³´ë“¤ì„ ì°¸ê³ í•  ìˆ˜ ìˆëŠ”ì§€ë¥¼ ë¯¸ë¦¬ ì¸ì§€í•˜ëŠ”ê²Œ ì¢‹ë‹¤. ê°€ì¥ ê¸°ë³¸ì ìœ¼ë¡œëŠ” Elastic Beanstalk ì—ì„œ ì œê³µí•˜ëŠ” ì´ë²¤íŠ¸ ì •ë³´ë¡œ êµ¬ë³„í•  ìˆ˜ ìˆê³  ë” ë‚˜ì•„ê°€ì„œëŠ” ì§ì ‘ EC2 ì¸ìŠ¤í„´ìŠ¤ê¹Œì§€ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ë°©ì•ˆì„ ë§ˆë ¨í•´ë‘ëŠ” ê²ƒì´ í•„ìš”í•˜ë‹¤. <a href="https://docs.aws.amazon.com/ko_kr/elasticbeanstalk/latest/dg/using-features.logging.html?icmpid=docs_elasticbeanstalk_console">Elastic Beanstalk í™˜ê²½ì—ì„œ Amazon EC2 ì¸ìŠ¤í„´ìŠ¤ ë¡œê·¸ ë³´ê¸°</a>ëŠ” ì§ì ‘ EC2 ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ê·¼í•˜ì§€ ì•Šì•„ë„ ì¼ë ¨ì˜ ë¡œê·¸ë“¤ì„ ì¡°íšŒí•  ìˆ˜ ìˆëŠ” ì¢‹ì€ ë°©ë²•ì´ë‹¤.</p><p>ëª¨ë“  ê°œë°œìê°€ ì–´ë–¤ ê¸°ìˆ ì„ ì‚¬ìš©í•œë‹¤ê³ í•´ì„œ ë™ì¼í•œ ê²½í—˜ì„ í•  ìˆ˜ ìˆëŠ”ê²Œ ì•„ë‹ˆë¯€ë¡œ ì§€ì†ì ì¸ í•™ìŠµì€ ì¤‘ìš”í•œ ë“¯ ì‹¶ë‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;ì˜¤ë˜ ì „ 2017ë…„ì— ì‘ì„±í•œ &lt;a href=&quot;/deploy-application-to-the-aws-elastic-beanstalk-java-se-platform-enviroment&quot;&gt;AWS Elastic Beanstalk</summary>
      
    
    
    
    
    <category term="Spring Boot" scheme="https://kdevkr.github.io/tags/Spring-Boot/"/>
    
    <category term="Elastic Beanstalk" scheme="https://kdevkr.github.io/tags/Elastic-Beanstalk/"/>
    
  </entry>
  
  <entry>
    <title>ì•„ì´íŒ¨ë“œ ì—ì–´ì—ì„œ ë¬´ì„  ë„¤íŠ¸ì›Œí¬ê°€ í‘œì‹œë˜ì§€ ì•Šì€ ì´ìœ </title>
    <link href="https://kdevkr.github.io/ipad-air-not-found-wifi-network/"/>
    <id>https://kdevkr.github.io/ipad-air-not-found-wifi-network/</id>
    <published>2023-12-12T13:00:00.000Z</published>
    <updated>2024-01-01T01:22:22.873Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ê°œë°œ ê´€ë ¨ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…ì€ ì•„ë‹ˆì§€ë§Œ ì˜¤ëœë§Œì— ê²½í—˜í•˜ëŠ” í•œê¸€ ì¸ì½”ë”© ë¬¸ì œê°€ í¬í•¨ë˜ì–´ìˆì–´ ê³µìœ í•˜ë ¤ê³  í•©ë‹ˆë‹¤. ì—¬ìì¹œêµ¬ì—ê²Œ ì„ ë¬¼í•´ì¤€ ì•„ì´íŒ¨ë“œ ì—ì–´ 5ì„¸ëŒ€ì—ì„œ ì‚¬ìš©ì¤‘ì¸ ê³µìœ ê¸°ì˜ ë¬´ì„  ë„¤íŠ¸ì›Œí¬ê°€ ì™€ì´íŒŒì´ ëª©ë¡ì— í‘œì‹œë˜ì§€ ì•ŠëŠ”ë‹¤ê³  í•˜ì—¬ ì›ì¸ì„ ì°¾ì•„ í•´ê²°í•˜ëŠ” ê³¼ì •ì—ì„œ ì¼ì–´ë‚œ ì´ì•¼ê¸°ì…ë‹ˆë‹¤.</p></blockquote><h4 id="ê³µìœ ê¸°-ì™€ì´íŒŒì´ê°€-ì•„ì´íŒ¨ë“œì—-í‘œì‹œë˜ì§€-ì•ŠëŠ”ë‹¤"><a href="#ê³µìœ ê¸°-ì™€ì´íŒŒì´ê°€-ì•„ì´íŒ¨ë“œì—-í‘œì‹œë˜ì§€-ì•ŠëŠ”ë‹¤" class="headerlink" title="ê³µìœ ê¸° ì™€ì´íŒŒì´ê°€ ì•„ì´íŒ¨ë“œì— í‘œì‹œë˜ì§€ ì•ŠëŠ”ë‹¤"></a>ê³µìœ ê¸° ì™€ì´íŒŒì´ê°€ ì•„ì´íŒ¨ë“œì— í‘œì‹œë˜ì§€ ì•ŠëŠ”ë‹¤</h4><p>ì•„ì´íŒ¨ë“œ ì—ì–´ 5ì„¸ëŒ€ë¥¼ ìˆ˜ë ¹í•˜ê³ ë‚˜ì„œ ìƒê°ë³´ë‹¤ ë§ì€ ë¶ˆëŸ‰ í…ŒìŠ¤íŠ¸ë¥¼ í•´ì•¼í•œë‹¤ê³  ì˜ìƒì„ ê³µìœ í•´ì¤¬ëŠ”ë° ë³„ë‹¤ë¥¸ ë¬¸ì œëŠ” ì—†ë‹¤ê³  í–ˆì§€ë§Œ ëœ¬ê¸ˆì—†ì´ <code>ì‚¬ë¬´ì‹¤ì˜ ê³µìœ ê¸°ê°€ ì™€ì´íŒŒì´ ëª©ë¡ì— í‘œì‹œë˜ì§€ ì•ŠëŠ”ë‹¤</code>ëŠ” ì´ì•¼ê¸°ë¥¼ ë“¤ì—ˆë‹¤. ì¡°ê¸ˆì€ ì´í•´ë˜ì§€ ì•ŠëŠ” ë¬¸ì œì´ê¸°ë„ í•˜ê³  ì „ì ì¥ë¹„ì˜ ë„¤íŠ¸ì›Œí¬ ë¬¸ì œëŠ” ì¼ê°œ ì›¹ ê°œë°œìê°€ í•´ê²°í•  ìˆ˜ ìˆëŠ” ì˜ì—­ì˜ ë¬¸ì œê°€ ì•„ë‹ ìˆ˜ë„ ìˆì–´ì„œ ChatGTP ì—ë„ ë¬¼ì–´ë³´ê³  ì´ë¦¬ì €ë¦¬ ê²€ìƒ‰ì„ í•´ë³´ì•˜ì§€ë§Œ ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì— ëŒ€í•œ ì´ìŠˆëŠ” ìˆì–´ë„ ë¬´ì„  ë„¤íŠ¸ì›Œí¬ ìì²´ê°€ í‘œì‹œë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ë¬¸ì˜ëŠ” ë”±íˆ ë³´ì´ì§€ ì•Šì•˜ë‹¤.</p><p><img data-src="/images/posts/ipad-air-not-found-wifi/07.jpg" alt="ë¬¸ì œì˜ í˜„ìƒì„ ë§Œë‚œ ì•„ì´íŒ¨ë“œ ì—ì–´ 5ì„¸ëŒ€ í•‘í¬"></p><h4 id="ë„¤íŠ¸ì›Œí¬-ì´ë¦„-ìˆ¨ê¹€ì˜-ë¬¸ì œëŠ”-ì•„ë‹ˆë‹¤"><a href="#ë„¤íŠ¸ì›Œí¬-ì´ë¦„-ìˆ¨ê¹€ì˜-ë¬¸ì œëŠ”-ì•„ë‹ˆë‹¤" class="headerlink" title="ë„¤íŠ¸ì›Œí¬ ì´ë¦„ ìˆ¨ê¹€ì˜ ë¬¸ì œëŠ” ì•„ë‹ˆë‹¤"></a>ë„¤íŠ¸ì›Œí¬ ì´ë¦„ ìˆ¨ê¹€ì˜ ë¬¸ì œëŠ” ì•„ë‹ˆë‹¤</h4><p>ë„¤íŠ¸ì›Œí¬ê°€ í‘œì‹œë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ë¬¼ìŒì— ì²˜ìŒìœ¼ë¡œ ìƒê°í–ˆë˜ ì›ì¸ì€ í˜¹ì‹œë‚˜ <code>ê³µìœ ê¸°ì˜ ë¬´ì„  ë„¤íŠ¸ì›Œí¬ ì´ë¦„(SSID)ì„ ìˆ¨ê¸´ ìƒíƒœ</code>ëŠ” ì•„ë‹ê¹Œì˜€ë‹¤. íŒ€ë·°ì–´ í”„ë¡œê·¸ë¨ìœ¼ë¡œ ì›ê²©ì„ ì‹œë„í•´ì„œ ê³µìœ ê¸° ì„¤ì •(192.168.0.1)ë¡œ ë“¤ì–´ê°€ í™•ì¸í•´ë³´ì•˜ì§€ë§Œ ë„¤íŠ¸ì›Œí¬ ì´ë¦„ ì•Œë¦¼ì€ ì œëŒ€ë¡œ ì²´í¬ê°€ ë˜ì–´ìˆëŠ” ìƒí™©ì´ì—ˆë‹¤. ì•„ì´íŒ¨ë“œ ì´ì™¸ì— ê°¤ëŸ­ì‹œì™€ ê°™ì€ íœ´ëŒ€í°ì—ì„œëŠ” ì •ìƒì ìœ¼ë¡œ ë„¤íŠ¸ì›Œí¬ê°€ í‘œì‹œë˜ê³  ì—°ê²°í•  ìˆ˜ ìˆëŠ” ìƒí™©ì´ì—ˆë‹¤.</p><p><img data-src="/images/posts/ipad-air-not-found-wifi/08.png" alt="ì¸í„°ë„· ì†ë„ 26Mbps?..."></p><h4 id="ì™€ì´íŒŒì´-ê·œê²©ì˜-í˜¸í™˜ì„±-ë¬¸ì œì¼ê¹Œ"><a href="#ì™€ì´íŒŒì´-ê·œê²©ì˜-í˜¸í™˜ì„±-ë¬¸ì œì¼ê¹Œ" class="headerlink" title="ì™€ì´íŒŒì´ ê·œê²©ì˜ í˜¸í™˜ì„± ë¬¸ì œì¼ê¹Œ"></a>ì™€ì´íŒŒì´ ê·œê²©ì˜ í˜¸í™˜ì„± ë¬¸ì œì¼ê¹Œ</h4><p>ì•„ì´íŒ¨ë“œ ì—ì–´ 5ì„¸ëŒ€ì˜ ì™€ì´íŒŒì´ ê·œê²©ì€ <code>Wi-Fi 6</code>ë¡œ ìµœì‹  ì™€ì´íŒŒì´ ê·œê²©ì´ê¸°ì— í˜¹ì‹œë‚˜ ì‚¬ë¬´ì‹¤ì—ì„œ ì‚¬ìš©ì¤‘ì¸ <code>ê³µìœ ê¸°ê°€ ì˜¤ë˜ë˜ì–´ ì§€ì›í•˜ì§€ ì•ŠëŠ” ì™€ì´íŒŒì´ ê·œê²©ì¸ê°€</code>ë¥¼ ì˜ì‹¬í–ˆë‹¤. ê³µìœ ê¸°ì˜ ì œí’ˆëª…ì„ í™•ì¸í•´ë³´ë‹ˆ <a href="https://namu.wiki/w/ipTIME%20N704BCM">ipTIME N704BCM</a> ì´ì—ˆê³  ë¬´ë ¤ 2012ë…„ì— ì¶œì‹œí•´ì„œ ì•„ì§ë„ íŒë§¤í•˜ëŠ” ì—…ì²´ê°€ ì¡´ì¬í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤. ì™€ì´íŒŒì´ ì§€ì› ê·œê²©ì€ <code>Wi-Fi 4</code>ì´ê¸° ë•Œë¬¸ì— <a href="https://support.apple.com/ko-kr/guide/deployment/depf9bb7e412/web">ì•„ì´íŒ¨ë“œ ì—ì–´ì˜ ì™€ì´íŒŒì´ í˜¸í™˜ì„±</a> ì •ë³´ë¥¼ ì°¾ì•„ë³¸ ê²°ê³¼ <code>802.11n(Wi-Fi 4)ë¥¼ ì§€ì›</code>í•˜ëŠ” ê²ƒìœ¼ë¡œ ë‚˜íƒ€ë‚¬ë‹¤. ê·¸ëŸ¬ë©´ ì™œ ë‚˜ì˜¤ì§€ ì•ŠëŠ”ê±´ë°?!</p><h4 id="ë„¤íŠ¸ì›Œí¬-í‘œì‹œê°€-ë˜ì§€-ì•Šì€-ì›ì¸ì€-ì¸ì¦-ë°-ì•”í˜¸í™”-ë°©ì‹"><a href="#ë„¤íŠ¸ì›Œí¬-í‘œì‹œê°€-ë˜ì§€-ì•Šì€-ì›ì¸ì€-ì¸ì¦-ë°-ì•”í˜¸í™”-ë°©ì‹" class="headerlink" title="ë„¤íŠ¸ì›Œí¬ í‘œì‹œê°€ ë˜ì§€ ì•Šì€ ì›ì¸ì€ ì¸ì¦ ë° ì•”í˜¸í™” ë°©ì‹"></a>ë„¤íŠ¸ì›Œí¬ í‘œì‹œê°€ ë˜ì§€ ì•Šì€ ì›ì¸ì€ ì¸ì¦ ë° ì•”í˜¸í™” ë°©ì‹</h4><p>ì™€ì´íŒŒì´ ëª©ë¡ì— í‘œì‹œë˜ì§€ ì•ŠëŠ” ì›ì¸ì„ ì°¾ì•„ê°€ê¸° ìœ„í•´ ì´ë¦¬ ì €ë¦¬ ê²€ìƒ‰í•´ë³´ë˜ ì¤‘ì— <a href="https://support.apple.com/ko-kr/HT202068">ë¼ìš°í„°ì—ì„œ í”¼í•´ì•¼ í•  ì·¨ì•½í•œ ë³´ì•ˆ ì„¤ì •</a>ìœ¼ë¡œ <code>WPA/WPA2 í˜¼í•© ëª¨ë“œëŠ” ë”ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” êµ¬í˜• ë³´ì•ˆ í”„ë¡œí† ì½œì— ì†í•œë‹¤</code>ëŠ” ê²ƒì´ë‹¤. ë³´ì•ˆì´ ì·¨ì•½í•œ ë„¤íŠ¸ì›Œí¬ë¼ëŠ” ê²½ê³ ê°€ í‘œì‹œë˜ë”ë¼ë„ ë„¤íŠ¸ì›Œí¬ ëª©ë¡ì— ë‚˜íƒ€ë‚˜ì•¼í•˜ê³  ì—°ê²°í•  ìˆ˜ëŠ” ìˆì–´ì•¼í•˜ëŠ”ë° <a href="https://support.apple.com/ko-kr/guide/security/sec8a67fa93d/web">ë¬´ì„  ë„¤íŠ¸ì›Œí¬ì— ëŒ€í•œ ë³´ì•ˆ ì—°ê²°</a> ì •ë³´ì—ì„œ <code>ì „í™˜í˜• WPA/WPA2 ëŠ” í–¥í›„ ì†Œí”„íŠ¸ì›¨ì–´ ë²„ì „ì—ì„œ ì œê±°ë  ìˆ˜ ìˆë‹¤</code>ëŠ” ë¬¸êµ¬ë¥¼ í™•ì¸í•  ìˆ˜ ìˆì–´ì„œ í˜¹ì‹œ ëª°ë¼ ì‚¬ìš©ì¤‘ì´ì—ˆë˜ ê³µìœ ê¸°ì˜ ë¬´ì„  ì„¤ì •ì„ í™•ì¸í•´ë³´ë‹ˆ <code>WPAPSK/WPA2PSK + AES</code>ë¡œ ì„ íƒë˜ì–´ìˆì–´ ê¶Œì¥ ì„¤ì •ì— í•´ë‹¹í•˜ëŠ” <code>WPA2PSAK + AES</code>ë¡œ ë³€ê²½í–ˆë‹¤.</p><p><img data-src="/images/posts/ipad-air-not-found-wifi/01.png" alt="WPA/WPA2 í˜¼í•© ëª¨ë“œ"></p><p><img data-src="/images/posts/ipad-air-not-found-wifi/02.png" alt="ê°œì¸ìš© WPA2"></p><blockquote><p>ì¸ì¦ ë° ì•”í˜¸í™” ë°©ì‹ì„ ë³€ê²½í•˜ê³ ë‚˜ì„œë„ ë„¤íŠ¸ì›Œí¬ ëª©ë¡ì— í‘œì‹œë˜ì§€ ì•ŠëŠ”ë‹¤ê³  í–ˆìœ¼ë‚˜ ì•Œê³ ë³´ë‹ˆ ë„¤íŠ¸ì›Œí¬ ì´ë¦„ì˜ í•œê¸€ì´ ê¹¨ì§„ ìƒíƒœë¡œ í‘œì‹œë˜ê³  ìˆì–´ì„œ ì¸ì§€ë¥¼ ëª»í–ˆë˜ ê²ƒì´ë‹¤. ì—¬ìì¹œêµ¬ëŠ” ê°œë°œìê°€ ì•„ë‹Œ ì¼ë°˜ì¸ì— í•´ë‹¹í•˜ë¯€ë¡œ í‰ì†Œì— ì•Œê³  ìˆëŠ” í•œê¸€ë¡œ ëœ ì´ë¦„ì„ ì°¾ê³  ìˆì—ˆë˜ ê²ƒì´ë‹¤.</p></blockquote><h4 id="ë„¤íŠ¸ì›Œí¬-ì´ë¦„ì˜-í•œê¸€ì´-ê¹¨ì§€ëŠ”-ë¬¸ì œ"><a href="#ë„¤íŠ¸ì›Œí¬-ì´ë¦„ì˜-í•œê¸€ì´-ê¹¨ì§€ëŠ”-ë¬¸ì œ" class="headerlink" title="ë„¤íŠ¸ì›Œí¬ ì´ë¦„ì˜ í•œê¸€ì´ ê¹¨ì§€ëŠ” ë¬¸ì œ"></a>ë„¤íŠ¸ì›Œí¬ ì´ë¦„ì˜ í•œê¸€ì´ ê¹¨ì§€ëŠ” ë¬¸ì œ</h4><p><img data-src="/images/posts/ipad-air-not-found-wifi/04.jpg" alt="ì„¸ëª¨???ë¡œ í‘œì‹œë˜ëŠ” í•œê¸€"></p><p>ì›¹ ê°œë°œì ì…ì¥ì—ì„œ ì˜¤ëœë§Œì— ê²½í—˜í•˜ëŠ” í•œê¸€ ì¸ì½”ë”© ë¬¸ì œì¸ë° ê³µìœ ê¸°ê°€ ì˜¤ë˜ë˜ê³  íŒì›¨ì–´ ì—…ë°ì´íŠ¸ë¥¼ ìˆ˜í–‰í•˜ì§€ ì•Šì€ì§€ ì˜¤ë˜ë˜ë‹¤ë³´ë‹ˆ <code>UTF-8</code> ì¸ì½”ë”©ì´ ì•„ë‹Œ <code>EUC-KR</code>ë¡œ ë˜ì–´ìˆë˜ ê²ƒ ê°™ë‹¤. ê³µìœ ê¸°ì˜ íŒì›¨ì–´ ë²„ì „ì€ 9.26 ì´ì—ˆëŠ”ë° ì•„ì´í”¼íƒ€ì„ ì›¹ì‚¬ì´íŠ¸ì—ì„œ ì°¾ì•„ë³´ë‹ˆ 2014ë…„ 8ì›”ì— ì—…ë°ì´íŠ¸ëœ ë²„ì „ìœ¼ë¡œ ë¬´ë ¤ ì•½ 10ë…„ì´ë‚˜ ì§€ë‚œ ë²„ì „ì— í•´ë‹¹ëœë‹¤. ì•„ì´í”¼íƒ€ì„ ê³µìœ ê¸° ì„¤ì • ìƒ ë„¤íŠ¸ì›Œí¬ ì´ë¦„(SSID)ì˜ ì¸ì½”ë”©ì„ ì„¤ì •í•  ìˆ˜ ìˆë„ë¡ ì œê³µí•˜ëŠ” ë¶€ë¶„ì€ ì—†ìœ¼ë¯€ë¡œ í•œê¸€ì„ ì œëŒ€ë¡œ í‘œì‹œí•˜ê¸° ìœ„í•´ì„œëŠ” ìµœì‹ ì˜ íŒì›¨ì–´ ë²„ì „ìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œí•˜ëŠ” ë°©ë²• ë¿ì´ë‹¤.</p><p><img data-src="/images/posts/ipad-air-not-found-wifi/04.png" alt="ipTIME N704BCM íŒì›¨ì–´ ì—…ë°ì´íŠ¸ ì¼ì"></p><blockquote><p>í•´ë‹¹ ì œí’ˆìœ¼ë¡œ ì§€ì›í•˜ëŠ” ê°€ì¥ ìµœì‹  íŒì›¨ì–´ ë²„ì „ìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œ í•´ë„ ì¸ì½”ë”© ë¬¸ì œê°€ í•´ê²°ë˜ëŠ”ì§€ëŠ” ëª…í™•í•˜ì§€ ì•Šë‹¤. ë˜í•œ, ì›ê²©ìœ¼ë¡œ ì„¤ì •í•´ì£¼ë ¤ê³  í•˜ê¸° ë•Œë¬¸ì— íŒì›¨ì–´ ì—…ë°ì´íŠ¸ ì‹¤íŒ¨ì— ëŒ€í•œ ìƒí™©ì— ëŒ€ë¹„í•  ìˆ˜ ì—†ì–´ì„œ í•œê¸€ì´ ê¹¨ì§€ëŠ” ê²ƒì„ ë³´ì™„í•˜ê¸° ìœ„í•´ ì˜ì–´ë„ í•¨ê»˜ ì´ë¦„ì— í‘œê¸°í•˜ëŠ” ê²ƒìœ¼ë¡œ ì¡°ì¹˜í•´ì£¼ë ¤ê³  í•œë‹¤.</p></blockquote><p>ê·¸ëŸ¼ì—ë„ ì´ìƒí•œ ë¶€ë¶„ì€ ê°¤ëŸ­ì‹œì™€ ì•„ì´í°ì—ì„œë„ ë„¤íŠ¸ì›Œí¬ì™€ í•œê¸€ì´ ì •ìƒì ìœ¼ë¡œ í‘œì‹œëœë‹¤ê³  í•˜ê¸°ì— ì•„ì´í°ì€ EUC-KRì— ëŒ€í•œ í˜¸í™˜ì„ ì§€ì›í•˜ì§€ë§Œ ì•„ì´íŒ¨ë“œì˜ ê²½ìš° UTF-8 ì¸ì½”ë”©ë§Œ ì§€ì›í•œë‹¤ê³  ìƒê°í•˜ëŠ” í¸ì´ ì¢‹ì„ ê²ƒ ê°™ë‹¤. ì•„ë¬´ë˜ë„ ë‚¨ìì¹œêµ¬ê°€ ê°œë°œìì´ê¸°ì— ì–´ë–»ê²Œë“  í•´ê²°í•˜ê²Œ ë˜ì—ˆë˜ ê²ƒ ê°™ì€ë° í¬ê¸°í•œ ì‚¬ëŒë“¤ë„ ê½¤ë‚˜ ë§ì„ ê²ƒ ê°™ì€ ë¬¸ì œë¡œ ìƒê°ë˜ì–´ ì •ë¦¬í–ˆë‹¤.  </p><p><img data-src="/images/posts/ipad-air-not-found-wifi/05.jpg" alt="ì•„ë¬´íŠ¼ í•´ê²°! &lt;span class=&quot;emoji&quot; alias=&quot;smile&quot; style=&quot;&quot; fallback-src=&quot;https://github.githubassets.com/images/icons/emoji/unicode/1f604.png?v8&quot;&gt;&#x1f604;&lt;/span&gt;"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;ê°œë°œ ê´€ë ¨ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…ì€ ì•„ë‹ˆì§€ë§Œ ì˜¤ëœë§Œì— ê²½í—˜í•˜ëŠ” í•œê¸€ ì¸ì½”ë”© ë¬¸ì œê°€ í¬í•¨ë˜ì–´ìˆì–´ ê³µìœ í•˜ë ¤ê³  í•©ë‹ˆë‹¤. ì—¬ìì¹œêµ¬ì—ê²Œ ì„ ë¬¼í•´ì¤€ ì•„ì´íŒ¨ë“œ ì—ì–´ 5ì„¸ëŒ€ì—ì„œ ì‚¬ìš©ì¤‘ì¸ ê³µìœ ê¸°ì˜ ë¬´ì„  ë„¤íŠ¸ì›Œí¬ê°€ ì™€ì´íŒŒì´ ëª©ë¡ì— í‘œì‹œë˜ì§€ ì•ŠëŠ”ë‹¤ê³  í•˜ì—¬ </summary>
      
    
    
    
    
    <category term="ì•„ì´íŒ¨ë“œ ì—ì–´" scheme="https://kdevkr.github.io/tags/%EC%95%84%EC%9D%B4%ED%8C%A8%EB%93%9C-%EC%97%90%EC%96%B4/"/>
    
    <category term="ipTIME ê³µìœ ê¸°" scheme="https://kdevkr.github.io/tags/ipTIME-%EA%B3%B5%EC%9C%A0%EA%B8%B0/"/>
    
    <category term="WPA2PSK" scheme="https://kdevkr.github.io/tags/WPA2PSK/"/>
    
    <category term="EUC-KR" scheme="https://kdevkr.github.io/tags/EUC-KR/"/>
    
  </entry>
  
  <entry>
    <title>Beanstalk Linux í”Œë«í¼ í™•ì¥ì— ëŒ€í•´ì„œ</title>
    <link href="https://kdevkr.github.io/beanstalk-platforms-linux-extend/"/>
    <id>https://kdevkr.github.io/beanstalk-platforms-linux-extend/</id>
    <published>2023-12-10T13:00:00.000Z</published>
    <updated>2024-01-01T01:22:22.869Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ì˜¤ëœë§Œì— ì‹ ê·œ í”„ë¡œì íŠ¸ë¡œ ì¸í•˜ì—¬ ì•„ë§ˆì¡´ ì›¹ ì„œë¹„ìŠ¤ì˜ ë¹ˆìŠ¤í†¡ í™˜ê²½ êµ¬ì„±ì— ëŒ€í•´ì„œ ì‚´í´ë³¼ ê¸°íšŒê°€ ìˆì–´ ë¦¬ëˆ…ìŠ¤ í”Œë«í¼ì˜ í™•ì¥ì— ëŒ€í•´ ë” ìì„¸í•˜ê²Œ í•™ìŠµí•˜ê³  ì–´ë–»ê²Œ ì´ìš©í•  ìˆ˜ ìˆëŠ”ì§€ ì •ë¦¬í•´ë³´ê³ ì í•œë‹¤. ì˜ˆì „ê³¼ ë‹¤ë¥´ê²Œ ë³€ê²½ë˜ëŠ” ë¶€ë¶„ì´ ìƒê°ë³´ë‹¤ ë§ì•„ì„œ ì˜¤ë˜ì „ì— ì •ë¦¬í–ˆë˜ <a href="/deploy-application-to-the-aws-elastic-beanstalk-java-se-platform-enviroment/">AWS Elastic Beanstalk Java SE í”Œë«í¼ í™˜ê²½ìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬í•˜ê¸°</a>ë¼ëŠ” ê¸€ì€ ì˜¬ë°”ë¥´ì§€ ì•Šì€ ë‚´ìš©ì„ í¬í•¨í•˜ê³  ìˆìŒì„ ì•Œë¦°ë‹¤.</p></blockquote><p>AWS Elastic Beanstalk ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìš´ì˜í•˜ê¸° ìœ„í•œ ì¸í”„ë¼ë¥¼ ì‰½ê²Œ êµ¬ì„±í•˜ê³  ë°°í¬í•  ìˆ˜ ìˆë„ë¡ ê´€ë¦¬í•´ì¤€ë‹¤. ê°œë°œìê°€ ì¸í”„ë¼ì— ëŒ€í•´ì„œ ì‹ ê²½ì“°ì§€ ì•Šì•„ë„ íŠ¸ë˜í”½ì´ë‚˜ ì¼ì • ì„ê³„ê°’ ê¸°ë°˜ìœ¼ë¡œ ìŠ¤ì¼€ì¼ ì•„ì›ƒì´ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •í•  ìˆ˜ ìˆìœ¼ë©° ë‹¤ì–‘í•œ ì–¸ì–´ë¡œ ì‘ì„±ë˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì— ëŒ€í•´ì„œ ì§€ì›í•˜ê³  ì‹¬ì§€ì–´ëŠ” ë„ì»¤ ì»¨í…Œì´ë„ˆ ë‚´ì—ì„œ ì‹¤í–‰í•˜ëŠ” í™˜ê²½ê¹Œì§€ë„ ì œê³µí•œë‹¤. Amazon EKSì™€ ê°™ì€ ì¿ ë²„ë„¤í‹°ìŠ¤ ì¸í”„ë¼ í™˜ê²½ì„ êµ¬ì„±í•  í•„ìš”ê°€ ì—†ëŠ” ì‘ì€ ê·œëª¨ì˜ í”„ë¡œì íŠ¸ë¼ë©´ AWS Elastic Beanstalkì€ ì¢‹ì€ ì„ íƒì— í•´ë‹¹í•  ìˆ˜ ìˆë‹¤.</p><blockquote><p>ê°œë°œ ì¡°ì§ì—ì„œ ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ê³ ë¯¼í•˜ê³  ìˆë‹¤ë©´ ì •ë§ë¡œ ì¿ ë²„ë„¤í‹°ìŠ¤ê°€ í•„ìš”í•œ ê·œëª¨ì¸ê°€ì— ëŒ€í•´ì„œ ê³ ë¯¼í•´ë³¼ í•„ìš”ê°€ ìˆë‹¤. ê°œì¸ì ìœ¼ë¡œ ì¿ ë²„ë„¤í‹°ìŠ¤ê°€ í•„ìš”í•´ë³´ì´ëŠ” ê·œëª¨ì˜ í”„ë¡œì íŠ¸ëŠ” ìƒê°ë³´ë‹¤ ë§ì§€ ì•Šì„ê±°ë¼ê³  ìƒê°í•˜ëŠ” í¸ì´ë‹¤. ìµœì†Œí•œ ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì œëŒ€ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ìš´ì˜ ì¡°ì§ì„ êµ¬ì„±í•  ìˆ˜ ìˆì–´ì•¼í•œë‹¤.</p></blockquote><h4 id="ìƒ˜í”Œ-ì• í”Œë¦¬ì¼€ì´ì…˜"><a href="#ìƒ˜í”Œ-ì• í”Œë¦¬ì¼€ì´ì…˜" class="headerlink" title="ìƒ˜í”Œ ì• í”Œë¦¬ì¼€ì´ì…˜"></a>ìƒ˜í”Œ ì• í”Œë¦¬ì¼€ì´ì…˜</h4><p>AWS Elastic Beanstalk ì„ ì‚¬ìš©í•˜ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‰½ê²Œ ë°°í¬í•  ìˆ˜ ìˆëŠ” í™˜ê²½ì„ ë§Œë“¤ ìˆ˜ ìˆì§€ë§Œ ê°œì¸ì ì¸ ê²½í—˜ì„ ê¸°ë°˜ìœ¼ë¡œ ì´ì•¼ê¸°í•´ë³´ìë©´ ì²˜ìŒì— í™˜ê²½ì„ êµ¬ì„±í•´ë³´ê³ ìí•˜ëŠ” ê²½ìš° ìƒê°ë³´ë‹¤ ë§ì€ ì˜¤ë¥˜ë¥¼ ê²½í—˜í•˜ê³  ì‹¤íŒ¨í•´ì„œ í™˜ê²½ì„ ì§€ì› ë‹¤ê°€ ìƒˆë¡œ ìƒì„±í•˜ëŠ” ê²½ìš°ê°€ ë§ì„ ê²ƒì´ë‹¤. ë¹ˆìŠ¤í†¡ í™˜ê²½ì— ëŒ€í•œ ê²½í—˜ì´ ìˆë”ë¼ë„ ìµœì†Œí•œ ì²˜ìŒì—ëŠ” ìƒ˜í”Œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‚¬ìš©í•´ì„œ í™˜ê²½ì„ ì‹œì‘í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•œë‹¤. AWS CloudFormation ì„ ì´ìš©í•˜ì—¬ Elastic Beanstalk í™˜ê²½ ìŠ¤íƒì„ êµ¬ì„±í•˜ê¸° ë•Œë¬¸ì— ë¹ˆìŠ¤í†¡ ì„œë¹„ìŠ¤ì—ì„œ ì¡°ì°¨ í•´ê²°í•  ìˆ˜ ì—†ëŠ” ìƒíƒœê°€ ëœë‹¤ë©´ CloudFormation ì—ì„œ ì§ì ‘ ìŠ¤íƒì„ ìˆ˜ì •í•˜ê±°ë‚˜ ì‚­ì œí•´ì•¼í•œë‹¤.</p><h4 id="ì• í”Œë¦¬ì¼€ì´ì…˜-ì†ŒìŠ¤-ë²ˆë“¤"><a href="#ì• í”Œë¦¬ì¼€ì´ì…˜-ì†ŒìŠ¤-ë²ˆë“¤" class="headerlink" title="ì• í”Œë¦¬ì¼€ì´ì…˜ ì†ŒìŠ¤ ë²ˆë“¤"></a>ì• í”Œë¦¬ì¼€ì´ì…˜ ì†ŒìŠ¤ ë²ˆë“¤</h4><p>í”Œë«í¼ í™•ì¥ì— ëŒ€í•´ì„œ ì´ì•¼ê¸°í•˜ê¸° ì•ì„œ ë¹ˆìŠ¤í†¡ í™˜ê²½ì— ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬ ì‹œ ì‚¬ìš©ë˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ì†ŒìŠ¤ ë²ˆë“¤ì— ëŒ€í•´ì„œ ì •ë¦¬í•´ë³´ì. <a href="https://docs.aws.amazon.com/ko_kr/elasticbeanstalk/latest/dg/applications-sourcebundle.html">ì• í”Œë¦¬ì¼€ì´ì…˜ ì†ŒìŠ¤ ë²ˆë“¤</a>ì— ëŒ€í•œ ì£¼ì˜ì‚¬í•­ìœ¼ë¡œ ì¸í•´ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬ê°€ ì‹¤íŒ¨í•˜ì—¬ ë¡¤ë°±ë˜ëŠ” ê²½ìš°ë„ ìˆê¸° ë•Œë¬¸ì´ë‹¤.</p><ul><li>ë‹¨ì¼ ZIP íŒŒì¼ ë˜ëŠ” WAR íŒŒì¼ì´ì–´ì•¼ í•œë‹¤.</li><li>ì†ŒìŠ¤ ë²ˆë“¤ì˜ í¬ê¸°ëŠ” 500 MBë¥¼ ì´ˆê³¼í•˜ì§€ ì•Šì•„ì•¼ í•œë‹¤.</li></ul><blockquote><p>ë‹¨ì¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬í•˜ë”ë¼ë„ ZIP íŒŒì¼ë¡œ êµ¬ì„±ëœ ì†ŒìŠ¤ ë²ˆë“¤ì„ ì‚¬ìš©í•˜ì—¬ Procfileì„ ë°˜ë“œì‹œ ì´ìš©í•˜ê¸°ë¥¼ ê¶Œì¥í•œë‹¤.</p></blockquote><h4 id="Elastic-Beanstalk-Linux-í”Œë«í¼-í™•ì¥"><a href="#Elastic-Beanstalk-Linux-í”Œë«í¼-í™•ì¥" class="headerlink" title="Elastic Beanstalk Linux í”Œë«í¼ í™•ì¥"></a>Elastic Beanstalk Linux í”Œë«í¼ í™•ì¥</h4><p><a href="https://docs.aws.amazon.com/ko_kr/elasticbeanstalk/latest/dg/platforms-linux.html">Elastic Beanstalk Linux í”Œë«í¼</a>ì€ ì•„ë§ˆì¡´ ì›¹ ì„œë¹„ìŠ¤ì—ì„œ ì œê³µí•˜ëŠ” Amazon Linuxë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë¦¬ëˆ…ìŠ¤ë¥¼ êµ¬ì„±í•˜ëŠ” í™˜ê²½ì„ ë§í•œë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ì¼ë°˜ì ì¸ ë¦¬ëˆ…ìŠ¤ í™˜ê²½ ì„¤ì •ì„ ì œê³µí•˜ê¸°ëŠ” í•˜ì§€ë§Œ ì• í”Œë¦¬ì¼€ì´ì…˜ ìš”êµ¬ì‚¬í•­ì— ë”°ë¼ ë³´ì•ˆ ì¡°ì¹˜ë¥¼ í•´ì•¼í•˜ê±°ë‚˜ ì‹œê°„ ì„¤ì • ë˜ëŠ” ëª¨ë‹ˆí„°ë§ ì†”ë£¨ì…˜ê³¼ì˜ ì—°ê³„ë¥¼ ìœ„í•´ ë³„ë„ì˜ ì—ì´ì „íŠ¸ë‚˜ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ì—¬ í™˜ê²½ êµ¬ì„±ì„ í™•ì¥í•´ì•¼í•  ìˆ˜ ìˆë‹¤. Elastic Beanstalk Linux í”Œë«í¼ ì—ì„œëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ì†ŒìŠ¤ ë²ˆë“¤ì— í¬í•¨ë˜ëŠ” .platform ë˜ëŠ” .ebextensions í´ë”ë¥¼ í†µí•´ <a href="https://docs.aws.amazon.com/ko_kr/elasticbeanstalk/latest/dg/platforms-linux-extend.html">í”Œë«í¼ì— ëŒ€í•´ì„œ í™•ì¥ì„ ì§€ì›</a>í•œë‹¤.</p><blockquote><p>2023ë…„ 10ì›” 19ì¼ë¶€í„° Amazon Liunx 2ì™€ Amazon Linux 2023ì„ ì§€ì›í•˜ê³  ìˆìœ¼ë©° AL2ì— ëŒ€í•´ì„œëŠ” 2025ë…„ 6ì›” 30ì¼ê¹Œì§€ ì§€ì› ì˜ˆì •ì´ë‹¤. AL2023 ìœ¼ë¡œì˜ ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ì¶©ë¶„íˆ ì œê³µí•˜ê¸° ìœ„í•´ Amazon Linux 2 ì§€ì› ì¢…ë£Œ ë‚ ì§œ(EOL)ê°€ 2023ë…„ 6ì›” 30ì¼ì—ì„œ 2025ë…„ 6ì›” 30ì¼ë¡œ 2ë…„ ì—°ì¥ë˜ì—ˆë‹¤.</p></blockquote><p>ë³¸ ê¸€ì—ì„œëŠ” ìë°” ìŠ¤í”„ë§ ê¸°ë°˜ì˜ ë°±ì—”ë“œ ê°œë°œì ê¸°ì¤€ì˜ Java SE í”Œë«í¼ì— ëŒ€í•´ì„œë§Œ ì„¤ëª…í•œë‹¤. ë‚˜ë¨¸ì§€ í”Œë«í¼ì— ëŒ€í•´ì„œëŠ” ê²½í—˜í•  ê¸°íšŒê°€ ì—†ê¸°ì— í”Œë«í¼ êµ¬ì„± í™•ì¥ ì‹œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì—¬ëŸ¬ê°€ì§€ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…ì— ëŒ€í•´ì„œ ê³µìœ í•˜ê¸°ê°€ ì–´ë µë‹¤. ì•„ë¬´íŠ¼ Elastic Beanstalk ì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬í•˜ê¸° ìœ„í•œ í™˜ê²½ì„ êµ¬ì„±í•˜ëŠ” ê³¼ì •, ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬í•˜ëŠ” ê³¼ì •ì— ëŒ€í•´ì„œ ì´í•´í•œë‹¤ë©´ ì–´ë–¤ ë¬¸ì œê°€ ë°œìƒí–ˆì„ ë•Œ ì–´ë–¤ ë¶€ë¶„ì˜ ë¡œê·¸ë¥¼ í™•ì¸í•´ì•¼í•˜ëŠ”ì§€ë¥¼ ì•Œ ìˆ˜ ìˆë‹¤.</p><h4 id="ë¦¬ë²„ìŠ¤-í”„ë¡ì‹œë¥¼-ìœ„í•œ-Nginx-ì›¹ì„œë²„-êµ¬ì„±"><a href="#ë¦¬ë²„ìŠ¤-í”„ë¡ì‹œë¥¼-ìœ„í•œ-Nginx-ì›¹ì„œë²„-êµ¬ì„±" class="headerlink" title="ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œë¥¼ ìœ„í•œ Nginx ì›¹ì„œë²„ êµ¬ì„±"></a>ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œë¥¼ ìœ„í•œ Nginx ì›¹ì„œë²„ êµ¬ì„±</h4><p>Elastic Beanstalk Java SE í”Œë«í¼ì—ëŠ” ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ì—­í• ì„ í•˜ë©° ìºì‹œëœ ì •ì  ì½˜í…ì¸ ë¥¼ ì œê³µí•˜ê³  ìš”ì²­ì„ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì „ë‹¬í•˜ëŠ” nginx ì„œë²„ê°€ í¬í•¨ë˜ì–´ ìˆë‹¤. ê¸°ë³¸ì ì¸ ì„¤ì •ì„ ì œê³µí•˜ê³  ìˆì–´ .conf íŒŒì¼ì„ í¬í•¨ì‹œí‚¬ìˆ˜ë„ ìˆê³  nginx.conf íŒŒì¼ì„ ì™„ì „íˆ ëŒ€ì²´í•  ìˆ˜ë„ ìˆë‹¤. Nginx ì›¹ì„œë²„ êµ¬ì„±ì„ í™•ì¥í•˜ê¸° ì „ì— ê¸°ë³¸ì ì¸ ì„¤ì •ì„ ì–´ë–»ê²Œ ì œê³µí•˜ë©° ë¶ˆí•„ìš”í•œ í™•ì¥ì„ ìˆ˜í–‰í•˜ëŠ” ê±´ ì•„ë‹Œì§€ í™•ì¸í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. <a href="https://jojoldu.tistory.com/322">AWS Beanstalkì„ ì´ìš©í•œ ì„±ëŠ¥ íŠœë‹ ì‹œë¦¬ì¦ˆì˜ Nginx íŠœë‹</a> ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆëŠ” <a href="https://nginx.org/en/docs/events.html">ì»¤ë„¥ì…˜ ì²˜ë¦¬ë¥¼ ìœ„í•œ ë°©ì‹</a>ì„ epollë¡œ ì„ íƒí•˜ê³ ì í•˜ëŠ” ê²½ìš°ëŠ” ê³ ë ¤í•´ë³¼ë§Œ í•˜ë‹¤.</p><blockquote><p>events ë””ë ‰í‹°ë¸Œ ìœ„ì¹˜ ìƒ epoll ë°©ì‹ì„ ì ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” .platform&#x2F;nginx&#x2F;nginx.confë¡œ ì™„ì „íˆ ëŒ€ì²´í•  ìˆ˜ ë°–ì— ì—†ë‹¤.</p></blockquote><p>ë‹¤ìŒì€ Amazon Linux 2023 ê¸°ë°˜ì—ì„œì˜ ê¸°ë³¸ê°’ì„ í† ëŒ€ë¡œ ì¼ë¶€ ì˜µì…˜ì„ ì ìš©í•œ ê²ƒì´ë‹¤. include ìœ„ì¹˜ì— ë”°ë¼ì„œ ì–´ëŠ í´ë”ì— ì„¤ì • íŒŒì¼ì„ ë‘˜ ìˆ˜ ìˆëŠ”ì§€ ì˜ ì‚´í´ë³´ê¸°ë¥¼ ë°”ë€ë‹¤. ì–´ì°¨í”¼ nginx.confë¡œ ëŒ€ì²´í•  ê²ƒì´ë¼ë©´ nginx.conf íŒŒì¼ì— ëª¨ë“  ì„¤ì •ì„ ë‘ì–´ë„ ìƒê´€ì´ ì—†ë‹¤.</p><pre class="language-conf" data-language="conf"><div class="caption"><span>.platform/nginx/nginx.conf</span></div><code class="language-conf">user                    nginx;error_log               &#x2F;var&#x2F;log&#x2F;nginx&#x2F;error.log warn;pid                     &#x2F;var&#x2F;run&#x2F;nginx.pid;worker_processes        auto;worker_rlimit_nofile    200000;events &#123;    use epoll;    worker_connections  1024;    multi_accept on;&#125;http &#123;    server_tokens off;    include       &#x2F;etc&#x2F;nginx&#x2F;mime.types;    default_type  application&#x2F;octet-stream;    log_format  main  &#39;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &#39;                      &#39;$status $body_bytes_sent &quot;$http_referer&quot; &#39;                      &#39;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#39;;    include       conf.d&#x2F;*.conf;    map $http_upgrade $connection_upgrade &#123;        default     &quot;upgrade&quot;;    &#125;    server &#123;        listen        80 default_server;        access_log    &#x2F;var&#x2F;log&#x2F;nginx&#x2F;access.log main;        client_header_timeout 60;        client_body_timeout   60;        keepalive_timeout     60;        gzip                  off;        gzip_comp_level       4;        gzip_types text&#x2F;plain text&#x2F;css application&#x2F;json application&#x2F;javascript application&#x2F;x-javascript text&#x2F;xml application&#x2F;xml application&#x2F;xml+rss text&#x2F;javascript;        # Include the Elastic Beanstalk generated locations        include conf.d&#x2F;elasticbeanstalk&#x2F;*.conf;    &#125;&#125;</code></pre><pre class="language-conf" data-language="conf"><div class="caption"><span>.platform/nginx/conf.d/upstream.conf</span></div><code class="language-conf">upstream web &#123;    server 127.0.0.1:5000;    keepalive 1024;&#125;</code></pre><pre class="language-conf" data-language="conf"><div class="caption"><span>.platform/nginx/conf.d/elasticbeanstalk/00_application.conf</span></div><code class="language-conf">location &#x2F; &#123;  proxy_pass          http:&#x2F;&#x2F;web;  proxy_http_version  1.1;  proxy_set_header    Connection          $connection_upgrade;  proxy_set_header    Upgrade             $http_upgrade;  proxy_set_header    Host                $host;  proxy_set_header    X-Real-IP           $remote_addr;  proxy_set_header    X-Forwarded-For     $proxy_add_x_forwarded_for;&#125;</code></pre><h4 id="í”Œë«í¼-ìŠ¤í¬ë¦½íŠ¸-ë„êµ¬"><a href="#í”Œë«í¼-ìŠ¤í¬ë¦½íŠ¸-ë„êµ¬" class="headerlink" title="í”Œë«í¼ ìŠ¤í¬ë¦½íŠ¸ ë„êµ¬"></a>í”Œë«í¼ ìŠ¤í¬ë¦½íŠ¸ ë„êµ¬</h4><p><code>/opt/elasticbeanstalk/bin/get-config</code>ëŠ” Amazon Linux í”Œë«í¼ì„ ì‚¬ìš©í•˜ëŠ” í™˜ê²½ì— ëŒ€í•´ AWS Elastic Beanstalkê°€ ì œê³µí•˜ëŠ” ë„êµ¬ì´ë‹¤. í”Œë«í¼ í˜¹ì€ ì»¨í…Œì´ë„ˆ ì •ë³´ë¥¼ ì¡°íšŒí•˜ê±°ë‚˜ í™˜ê²½ ë³€ìˆ˜ë¥¼ ê°€ì ¸ì˜¤ëŠ”ë° ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë§Œì•½, ë¹ˆìŠ¤í†¡ì— ì˜í•´ ë§Œë“¤ì–´ì§„ EC2 ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ì†í•˜ì—¬ í˜„ì¬ ì‹¤í–‰ì¤‘ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ë²ˆë“¤ì´ ìœ„ì¹˜í•˜ëŠ” í´ë” ë˜ëŠ” í™•ì¸í•˜ê³ ì í•˜ëŠ” ë¡œê·¸ê°€ ì–´ë–¤ ìœ„ì¹˜ì— ìˆëŠ”ì§€ ì•Œê³  ì‹¶ë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ ëª…ë ¹ì–´ë¥¼ ìˆ˜í–‰í•˜ì—¬ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># /opt/elasticbeanstalk/bin/get-config --output YAML platformconfig</span>generalconfig:    appuser: webapp    appdeploydir: /var/app/current/    appstagingdir: /var/app/staging/    proxyserver: nginx    defaultinstanceport: <span class="token string">"80"</span>platformspecificconfig:    ApplicationPort: <span class="token string">"5000"</span>    JavaVersion: <span class="token string">"11"</span><span class="token comment"># /opt/elasticbeanstalk/bin/get-config --output YAML container</span>common_log_list:    - /var/log/eb-engine.log    - /var/log/eb-hooks.logdefault_log_list:    - /var/log/nginx/access.log    - /var/log/nginx/error.log    - /var/log/web.stdout.logenvironment_name: test-envinstance_port: <span class="token string">"80"</span>log_group_name_prefix: /aws/elasticbeanstalkproxy_server: nginxstatic_files:    - <span class="token string">""</span>xray_enabled: <span class="token string">"false"</span></code></pre><blockquote><p>AWS Elastic Beanstalk í™˜ê²½ì—ì„œ ë‰´ë ë¦­ ì¸í”„ë¼ ë° ìë°” ì—ì´ì „íŠ¸ë¥¼ ì„¤ì¹˜í•˜ëŠ” ê³¼ì •ì—ì„œ í™œìš©í•  ì˜ˆì •ì´ë‹¤.</p></blockquote><h4 id="ì¸ìŠ¤í„´ìŠ¤-ë©”íƒ€ë°ì´í„°-ì„œë¹„ìŠ¤-êµ¬ì„±"><a href="#ì¸ìŠ¤í„´ìŠ¤-ë©”íƒ€ë°ì´í„°-ì„œë¹„ìŠ¤-êµ¬ì„±" class="headerlink" title="ì¸ìŠ¤í„´ìŠ¤ ë©”íƒ€ë°ì´í„° ì„œë¹„ìŠ¤ êµ¬ì„±"></a>ì¸ìŠ¤í„´ìŠ¤ ë©”íƒ€ë°ì´í„° ì„œë¹„ìŠ¤ êµ¬ì„±</h4><p>í˜„ì¬ ì‚¬ìš©í•˜ê³  ìˆëŠ” í”Œë«í¼ ë²„ì „ê³¼ ì„¤ì •ì— ë”°ë¼ì„œ <a href="https://docs.aws.amazon.com/ko_kr/elasticbeanstalk/latest/dg/environments-cfg-ec2-imds.html#environments-cfg-ec2-imds.plat">IMDSì— ëŒ€í•œ í”Œë«í¼ ì§€ì› ì—¬ë¶€</a>ë¥¼ í™•ì¸í•´ë³´ëŠ”ê²Œ ì¢‹ë‹¤. í”Œë«í¼ í™•ì¥ êµ¬ì„± ì‹œ ì¸ìŠ¤í„´ìŠ¤ ë©”íƒ€ë°ì´í„° ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•´ì•¼í•  í•„ìš”ì„±ì´ ìš”êµ¬ëœë‹¤ë©´ <code>IMDSv2</code>ë¥¼ ì´ìš©í•´ì•¼í•˜ëŠ” í™˜ê²½ì—ì„œëŠ” ì¸ìŠ¤í„´ìŠ¤ ë©”íƒ€ë°ì´í„° ì„œë¹„ìŠ¤ ì ‘ê·¼ì„ ìœ„í•œ í† í°ì„ ë¨¼ì € ë°œê¸‰í•œ ë’¤ì— ì¸ìŠ¤í„´ìŠ¤ ë©”íƒ€ë°ì´í„° ì„œë¹„ìŠ¤ì— ìš”ì²­í•´ì•¼í•œë‹¤.</p><pre class="language-yaml" data-language="yaml"><div class="caption"><span>.ebextensions/00_init.config</span></div><code class="language-yaml"><span class="token key atrule">option_settings</span><span class="token punctuation">:</span>  <span class="token key atrule">aws:autoscaling:launchconfiguration</span><span class="token punctuation">:</span>    <span class="token key atrule">DisableIMDSv1</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></code></pre><pre class="language-yaml" data-language="yaml"><div class="caption"><span>.ebextensions/02_newrelic-infra.config</span></div><code class="language-yaml"><span class="token key atrule">commands</span><span class="token punctuation">:</span>  <span class="token key atrule">02_configure-newrelic-infra</span><span class="token punctuation">:</span>    <span class="token key atrule">command</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">      NEW_RELIC_LICENSE_KEY=`/opt/elasticbeanstalk/bin/get-config environment -k NEW_RELIC_LICENSE_KEY`      METADATA_TOKEN=`curl -s -X PUT "http://169.254.169.254/latest/api/token" -H "X-aws-ec2-metadata-token-ttl-seconds: 21600"`      INSTANCE_ID=`curl -s -H "X-aws-ec2-metadata-token: $METADATA_TOKEN" http://169.254.169.254/latest/meta-data/instance-id`      ENVIRONMENT_NAME=`/opt/elasticbeanstalk/bin/get-config container -k environment_name`      NEW_RELIC_HOSTNAME="$&#123;ENVIRONMENT_NAME&#125;_$&#123;INSTANCE_ID&#125;"</span>      <span class="token key atrule">sudo sed -i "s/^license_key:.*/license_key</span><span class="token punctuation">:</span> $<span class="token punctuation">&#123;</span>NEW_RELIC_LICENSE_KEY<span class="token punctuation">&#125;</span>/g" /etc/newrelic<span class="token punctuation">-</span>infra.yml      <span class="token key atrule">sudo sed -i "s/^display_name:.*/display_name</span><span class="token punctuation">:</span> $<span class="token punctuation">&#123;</span>NEW_RELIC_HOSTNAME<span class="token punctuation">&#125;</span>/g" /etc/newrelic<span class="token punctuation">-</span>infra.yml      sudo systemctl restart newrelic<span class="token punctuation">-</span>infra      sudo rm <span class="token punctuation">-</span>r /etc/newrelic<span class="token punctuation">-</span>infra.<span class="token important">*.bak</span></code></pre><blockquote><p>ì¡°ì§ì—ì„œ êµ¬ì„±í•œ Beanstalk í™˜ê²½ë§ˆë‹¤ IMDSv1 ì˜µì…˜ ì„¤ì •ì´ ë‹¤ë¦„ì„ í™•ì¸í–ˆìœ¼ë‚˜ ë‹¤í–‰íˆë„ ì¸ìŠ¤í„´ìŠ¤ ë©”íƒ€ë°ì´í„° ì„œë¹„ìŠ¤ë¥¼ í™œìš©í•˜ëŠ” ë¶€ë¶„ì€ ì—†ì—ˆë‹¤. ì°¸ê³ ë¡œ, IMDSv1ì˜ ê²½ìš° ê¶Œí•œì„ ìš”êµ¬í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë³´ì•ˆ ì·¨ì•½ì ì— í•´ë‹¹í•˜ë¯€ë¡œ IMDSv1 ì˜µì…˜ì„ ë¹„í™œì„±í™”í•˜ëŠ” ê²ƒì„ ê¶Œê³ í•œë‹¤.</p></blockquote><h4 id="ì¸ìŠ¤í„´ìŠ¤-ë°°í¬-ì›Œí¬í”Œë¡œìš°"><a href="#ì¸ìŠ¤í„´ìŠ¤-ë°°í¬-ì›Œí¬í”Œë¡œìš°" class="headerlink" title="ì¸ìŠ¤í„´ìŠ¤ ë°°í¬ ì›Œí¬í”Œë¡œìš°"></a>ì¸ìŠ¤í„´ìŠ¤ ë°°í¬ ì›Œí¬í”Œë¡œìš°</h4><p><a href="https://docs.aws.amazon.com/ko_kr/elasticbeanstalk/latest/dg/platforms-linux-extend.html#platforms-linux-extend.workflow">ì¸ìŠ¤í„´ìŠ¤ ë°°í¬ ì›Œí¬í”Œë¡œìš°</a>ë¥¼ ì‚´í´ë³´ë©´ ë¹ˆìŠ¤í†¡ì—ì„œ ì–´ë– í•œ ê³¼ì •ìœ¼ë¡œ ë°°í¬ ë‹¨ê³„ë¥¼ ê±°ì¹˜ëŠ”ì§€ë¥¼ ì„¤ëª…í•œë‹¤. êµ¬ì„± íŒŒì¼(.ebextensions)ìœ¼ë¡œ ë‰´ë ë¦­ ì—ì´ì „íŠ¸ë¥¼ ì„¤ì¹˜í• ìˆ˜ë„ ìˆìœ¼ë‚˜ í”Œë«í¼ í™•ì¥(.platform)ì˜ í”Œë«í¼ í›„í¬ ìŠ¤í¬ë¦½íŠ¸ë¡œë„ ì„¤ì¹˜ ëª…ë ¹ì–´ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.</p><pre class="language-bash" data-language="bash"><div class="caption"><span>.platform/hooks/predeploy/01_newrelic.sh</span></div><code class="language-bash"><span class="token shebang important">#!/bin/bash</span><span class="token assign-left variable">NEW_RELIC_LICENSE_KEY</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span>/opt/elasticbeanstalk/bin/get-config environment <span class="token parameter variable">-k</span> NEW_RELIC_LICENSE_KEY<span class="token variable">`</span></span><span class="token assign-left variable">NEW_RELIC_APP_NAME</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span>/opt/elasticbeanstalk/bin/get-config environment <span class="token parameter variable">-k</span> NEW_RELIC_APP_NAME<span class="token variable">`</span></span><span class="token assign-left variable">METADATA_TOKEN</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">curl</span> <span class="token parameter variable">-s</span> <span class="token parameter variable">-X</span> PUT <span class="token string">"http://169.254.169.254/latest/api/token"</span> <span class="token parameter variable">-H</span> <span class="token string">"X-aws-ec2-metadata-token-ttl-seconds: 21600"</span><span class="token variable">`</span></span><span class="token assign-left variable">INSTANCE_ID</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">curl</span> <span class="token parameter variable">-s</span> <span class="token parameter variable">-H</span> <span class="token string">"X-aws-ec2-metadata-token: <span class="token variable">$METADATA_TOKEN</span>"</span> http://169.254.169.254/latest/meta-data/instance-id<span class="token variable">`</span></span><span class="token assign-left variable">ENVIRONMENT_NAME</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span>/opt/elasticbeanstalk/bin/get-config container <span class="token parameter variable">-k</span> environment_name<span class="token variable">`</span></span><span class="token assign-left variable">NEW_RELIC_HOSTNAME</span><span class="token operator">=</span><span class="token string">"<span class="token variable">$&#123;ENVIRONMENT_NAME&#125;</span>_<span class="token variable">$&#123;INSTANCE_ID&#125;</span>"</span><span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">"s/^license_key:.*/license_key: <span class="token variable">$&#123;NEW_RELIC_LICENSE_KEY&#125;</span>/g"</span> /var/app/newrelic/newrelic.yml<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">"s/^app_name:.*/app_name: <span class="token variable">$&#123;NEW_RELIC_APP_NAME&#125;</span>/g"</span> /var/app/newrelic/newrelic.yml<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">"s/^hostname:.*/hostname: <span class="token variable">$NEW_RELIC_HOSTNAME</span>/g"</span> /var/app/newrelic/newrelic.yml</code></pre><h4 id="ë‰´ë ë¦­-ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜-ë°-ìë°”-ì—ì´ì „íŠ¸-ì„¤ì¹˜í•´ë³´ê¸°"><a href="#ë‰´ë ë¦­-ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜-ë°-ìë°”-ì—ì´ì „íŠ¸-ì„¤ì¹˜í•´ë³´ê¸°" class="headerlink" title="ë‰´ë ë¦­ ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜ ë° ìë°” ì—ì´ì „íŠ¸ ì„¤ì¹˜í•´ë³´ê¸°"></a>ë‰´ë ë¦­ ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜ ë° ìë°” ì—ì´ì „íŠ¸ ì„¤ì¹˜í•´ë³´ê¸°</h4><pre class="language-yaml" data-language="yaml"><div class="caption"><span>.ebextensions/01_newrelic.config</span></div><code class="language-yaml"><span class="token key atrule">files</span><span class="token punctuation">:</span>  <span class="token key atrule">"/var/app/newrelic/newrelic.jar"</span><span class="token punctuation">:</span>    <span class="token key atrule">mode</span><span class="token punctuation">:</span> <span class="token string">"000755"</span>    <span class="token key atrule">owner</span><span class="token punctuation">:</span> webapp    <span class="token key atrule">group</span><span class="token punctuation">:</span> webapp    <span class="token key atrule">source</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//download.newrelic.com/newrelic/java<span class="token punctuation">-</span>agent/newrelic<span class="token punctuation">-</span>agent/current/newrelic.jar  <span class="token key atrule">"/var/app/newrelic/newrelic.yml"</span><span class="token punctuation">:</span>    <span class="token key atrule">mode</span><span class="token punctuation">:</span> <span class="token string">"000755"</span>    <span class="token key atrule">owner</span><span class="token punctuation">:</span> webapp    <span class="token key atrule">group</span><span class="token punctuation">:</span> webapp    <span class="token key atrule">source</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//download.newrelic.com/newrelic/java<span class="token punctuation">-</span>agent/newrelic<span class="token punctuation">-</span>agent/current/newrelic.yml<span class="token key atrule">commands</span><span class="token punctuation">:</span>  <span class="token key atrule">01_configure_newrelic</span><span class="token punctuation">:</span>    <span class="token key atrule">command</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">      NEW_RELIC_LICENSE_KEY=`/opt/elasticbeanstalk/bin/get-config environment -k NEW_RELIC_LICENSE_KEY`      NEW_RELIC_APP_NAME=`/opt/elasticbeanstalk/bin/get-config environment -k NEW_RELIC_APP_NAME`      sed -i "s/&lt;%= license_key %>/$&#123;NEW_RELIC_LICENSE_KEY&#125;/g" /var/app/newrelic/newrelic.yml      sed -i "s/My Application/$&#123;NEW_RELIC_APP_NAME&#125;/g" /var/app/newrelic/newrelic.yml</span>  <span class="token key atrule">02_configure_newrelic_instance</span><span class="token punctuation">:</span>    <span class="token key atrule">command</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">      METADATA_TOKEN=`curl -s -X PUT "http://169.254.169.254/latest/api/token" -H "X-aws-ec2-metadata-token-ttl-seconds: 21600"`      INSTANCE_ID=`curl -s -H "X-aws-ec2-metadata-token: $METADATA_TOKEN" http://169.254.169.254/latest/meta-data/instance-id`      ENVIRONMENT_NAME=`/opt/elasticbeanstalk/bin/get-config container -k environment_name`      NEW_RELIC_HOSTNAME="$&#123;ENVIRONMENT_NAME&#125;_$&#123;INSTANCE_ID&#125;"      sed -i "s/^hostname:.*/hostname: $NEW_RELIC_HOSTNAME/g" /var/app/newrelic/newrelic.yml</span>  <span class="token key atrule">03_clear_newrelic_bak_files</span><span class="token punctuation">:</span>    <span class="token key atrule">command</span><span class="token punctuation">:</span> sudo rm <span class="token punctuation">-</span>r /var/app/newrelic/newrelic.<span class="token important">*.bak</span></code></pre><p><img data-src="/images/posts/beanstalk-platforms-linux-extend/00.png" alt="NEW_RELIC_APP_NAME ê³¼ NEW_RELIC_LICENSE_KEY ì˜ˆì‹œ">  </p><pre class="language-yaml" data-language="yaml"><div class="caption"><span>.ebextensions/02_newrelic-infra.config</span></div><code class="language-yaml"><span class="token key atrule">files</span><span class="token punctuation">:</span>  <span class="token key atrule">"/etc/newrelic-infra.yml"</span> <span class="token punctuation">:</span>    <span class="token key atrule">mode</span><span class="token punctuation">:</span> <span class="token string">"000644"</span>    <span class="token key atrule">owner</span><span class="token punctuation">:</span> root    <span class="token key atrule">group</span><span class="token punctuation">:</span> root    <span class="token key atrule">content</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">      license_key:      display_name:</span><span class="token key atrule">commands</span><span class="token punctuation">:</span>  <span class="token key atrule">01_install-newrelic-infra</span><span class="token punctuation">:</span>    <span class="token key atrule">command</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">      source "/etc/os-release"      ARCH=`uname -m`      sudo curl -o /etc/yum.repos.d/newrelic-infra.repo "https://download.newrelic.com/infrastructure_agent/linux/yum/amazonlinux/$VERSION_ID/$ARCH/newrelic-infra.repo"      sudo yum -q makecache -y --disablerepo='*' --enablerepo='newrelic-infra'      sudo yum install newrelic-infra -y</span>  <span class="token key atrule">02_configure-newrelic-infra</span><span class="token punctuation">:</span>    <span class="token key atrule">command</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">      NEW_RELIC_LICENSE_KEY=`/opt/elasticbeanstalk/bin/get-config environment -k NEW_RELIC_LICENSE_KEY`      METADATA_TOKEN=`curl -s -X PUT "http://169.254.169.254/latest/api/token" -H "X-aws-ec2-metadata-token-ttl-seconds: 21600"`      INSTANCE_ID=`curl -s -H "X-aws-ec2-metadata-token: $METADATA_TOKEN" http://169.254.169.254/latest/meta-data/instance-id`      ENVIRONMENT_NAME=`/opt/elasticbeanstalk/bin/get-config container -k environment_name`      NEW_RELIC_HOSTNAME="$&#123;ENVIRONMENT_NAME&#125;_$&#123;INSTANCE_ID&#125;"</span>      <span class="token key atrule">sudo sed -i "s/^license_key:.*/license_key</span><span class="token punctuation">:</span> $<span class="token punctuation">&#123;</span>NEW_RELIC_LICENSE_KEY<span class="token punctuation">&#125;</span>/g" /etc/newrelic<span class="token punctuation">-</span>infra.yml      <span class="token key atrule">sudo sed -i "s/^display_name:.*/display_name</span><span class="token punctuation">:</span> $<span class="token punctuation">&#123;</span>NEW_RELIC_HOSTNAME<span class="token punctuation">&#125;</span>/g" /etc/newrelic<span class="token punctuation">-</span>infra.yml      sudo systemctl restart newrelic<span class="token punctuation">-</span>infra      sudo rm <span class="token punctuation">-</span>r /etc/newrelic<span class="token punctuation">-</span>infra.<span class="token important">*.bak</span></code></pre><blockquote><p>ë‰´ë ë¦­ ì¸í”„ë¼ ì—ì´ì „íŠ¸ ì„¤ì¹˜ ì‹œ Amazon Linux ë²„ì „ê³¼ ARM ì•„í‚¤í…ì²˜ë„ í™•ì¸í•˜ì—¬ ì„¤ì¹˜ë  ìˆ˜ ìˆë„ë¡ í•˜ì˜€ë‹¤. </p></blockquote><pre class="language-bash" data-language="bash"><div class="caption"><span>.platform/confighooks/prebuild/00_hostname.sh</span></div><code class="language-bash"><span class="token shebang important">#!/bin/bash</span><span class="token assign-left variable">ENVIRONMENT_NAME</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span>/opt/elasticbeanstalk/bin/get-config container <span class="token parameter variable">-k</span> environment_name<span class="token variable">`</span></span><span class="token assign-left variable">METADATA_TOKEN</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">curl</span> <span class="token parameter variable">-s</span> <span class="token parameter variable">-X</span> PUT <span class="token string">"http://169.254.169.254/latest/api/token"</span> <span class="token parameter variable">-H</span> <span class="token string">"X-aws-ec2-metadata-token-ttl-seconds: 21600"</span><span class="token variable">`</span></span><span class="token assign-left variable">INSTANCE_ID</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">curl</span> <span class="token parameter variable">-s</span> <span class="token parameter variable">-H</span> <span class="token string">"X-aws-ec2-metadata-token: <span class="token variable">$METADATA_TOKEN</span>"</span> http://169.254.169.254/latest/meta-data/instance-id<span class="token variable">`</span></span><span class="token function">sudo</span> hostnamectl set-hostname <span class="token string">"<span class="token variable">$&#123;ENVIRONMENT_NAME&#125;</span>_<span class="token variable">$&#123;INSTANCE_ID&#125;</span>"</span></code></pre><pre class="language-bash" data-language="bash"><div class="caption"><span>.platform/hooks/predeploy/01_newrelic.sh</span></div><code class="language-bash"><span class="token shebang important">#!/bin/bash</span><span class="token assign-left variable">NEW_RELIC_LICENSE_KEY</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span>/opt/elasticbeanstalk/bin/get-config environment <span class="token parameter variable">-k</span> NEW_RELIC_LICENSE_KEY<span class="token variable">`</span></span><span class="token assign-left variable">NEW_RELIC_APP_NAME</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span>/opt/elasticbeanstalk/bin/get-config environment <span class="token parameter variable">-k</span> NEW_RELIC_APP_NAME<span class="token variable">`</span></span><span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">"s/^license_key:.*/license_key: <span class="token variable">$&#123;NEW_RELIC_LICENSE_KEY&#125;</span>/g"</span> /var/app/newrelic/newrelic.yml<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">"s/^app_name:.*/app_name: <span class="token variable">$&#123;NEW_RELIC_APP_NAME&#125;</span>/g"</span> /var/app/newrelic/newrelic.yml</code></pre><blockquote><p><a href="https://docs.newrelic.com/docs/apm/agents/java-agent/configuration/hostname-logic-java/">í˜¸ìŠ¤íŠ¸ì´ë¦„ ë¡œì§</a>ì— ëŒ€í•´ì„œëŠ” ì¡°ê¸ˆ ë” ì‚´í´ë³´ì•„ì•¼í•  ë¶€ë¶„ ê°™ë‹¤. ë¬¸ì„œ ìƒìœ¼ë¡œëŠ” newrelic.yml ì— process_host.display_name ì†ì„±ì„ ì¶”ê°€ë¡œ ê¸°ì¬í•´ì•¼í•œë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ host:port ë¥¼ ì°¸ì¡°í•˜ë¯€ë¡œ EC2 ì¸ìŠ¤í„´ìŠ¤ì˜ í˜¸ìŠ¤íŠ¸ì´ë¦„ ìì²´ë¥¼ ë³€ê²½í•˜ì˜€ë‹¤.</p></blockquote><h4 id="Elastic-Beanstalk-ì£¼ì˜ì‚¬í•­-ì •ë¦¬"><a href="#Elastic-Beanstalk-ì£¼ì˜ì‚¬í•­-ì •ë¦¬" class="headerlink" title="Elastic Beanstalk ì£¼ì˜ì‚¬í•­ ì •ë¦¬"></a>Elastic Beanstalk ì£¼ì˜ì‚¬í•­ ì •ë¦¬</h4><ul><li>ì• í”Œë¦¬ì¼€ì´ì…˜ ì†ŒìŠ¤ ë²ˆë“¤ì— í•­ìƒ Procfileì„ í¬í•¨ì‹œí‚¤ê¸°</li><li>ì†ŒìŠ¤ ë²ˆë“¤ í¬ê¸°ê°€ 500MBë¥¼ ë„˜ì§€ ì•Šë„ë¡ ì²´í¬í•˜ê¸°</li><li>í™˜ê²½ êµ¬ì„± ì‹œ ìƒ˜í”Œ ì• í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œ ì‹œì‘í•˜ê¸°</li><li>í™˜ê²½ ì†ì„±ì„ ìµœëŒ€í•œ í™œìš©í•˜ë„ë¡ í”Œë«í¼ í™•ì¥ ìŠ¤í¬ë¦½íŠ¸ ì •ì˜í•˜ê¸°</li></ul><blockquote><p>Elastic Beanstalk ë°°í¬ ì‹œ ì „í™˜ì´ ì™„ë£Œë˜ê¸° ê¹Œì§€ ìƒë‹¹í•œ ì‹œê°„ì´ ì†Œìš”ë˜ëŠ” ê±´ ë„ˆë¬´ í° ë‹¨ì  ê°™ë‹¤.</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;ì˜¤ëœë§Œì— ì‹ ê·œ í”„ë¡œì íŠ¸ë¡œ ì¸í•˜ì—¬ ì•„ë§ˆì¡´ ì›¹ ì„œë¹„ìŠ¤ì˜ ë¹ˆìŠ¤í†¡ í™˜ê²½ êµ¬ì„±ì— ëŒ€í•´ì„œ ì‚´í´ë³¼ ê¸°íšŒê°€ ìˆì–´ ë¦¬ëˆ…ìŠ¤ í”Œë«í¼ì˜ í™•ì¥ì— ëŒ€í•´ ë” ìì„¸í•˜ê²Œ í•™ìŠµí•˜ê³  ì–´ë–»ê²Œ ì´ìš©í•  ìˆ˜ ìˆëŠ”ì§€ ì •ë¦¬í•´ë³´ê³ ì í•œë‹¤. ì˜ˆì „ê³¼ ë‹¤ë¥´ê²Œ ë³€ê²½ë˜ëŠ” ë¶€ë¶„ì´</summary>
      
    
    
    
    
    <category term="AWS Beanstalk" scheme="https://kdevkr.github.io/tags/AWS-Beanstalk/"/>
    
    <category term="Java SE Platform" scheme="https://kdevkr.github.io/tags/Java-SE-Platform/"/>
    
  </entry>
  
  <entry>
    <title>ì¸í…”ë¦¬ì œì´ SQL ì½”ë“œ ìŠ¤íƒ€ì¼</title>
    <link href="https://kdevkr.github.io/intellij-sql-code-style/"/>
    <id>https://kdevkr.github.io/intellij-sql-code-style/</id>
    <published>2023-12-02T05:00:00.000Z</published>
    <updated>2024-01-01T01:22:22.873Z</updated>
    
    <content type="html"><![CDATA[<p>ì¸í…”ë¦¬ì œì´ ì–¼í‹°ë©”ì´íŠ¸ ë²„ì „ì—ì„œëŠ” ë°ì´í„°ë² ì´ìŠ¤ ëŒ€í•œ ê¸°ëŠ¥ì„ ë‚´ì¥í•˜ê³  ìˆê³  <a href="https://www.jetbrains.com/help/idea/settings-code-style-sql.html">SQL ì½”ë“œ ì„œì‹</a>ì— ëŒ€í•œ í¬ë§·íŒ… ê¸°ëŠ¥ë„ ì œê³µí•´ì£¼ê³  ìˆë‹¤. í•˜ì§€ë§Œ, ê¸°ë³¸ì ì¸ SQL ì½”ë“œ ìŠ¤íƒ€ì¼ì—ì„œëŠ” í‚¤ì›Œë“œë‚˜ ì»¬ëŸ¼ ìœ í˜•ì— ëŒ€í•´ì„œëŠ” ëŒ€ë¬¸ìë¡œ ë³€ê²½í•´ì£¼ì§€ ì•ŠëŠ”ë° ê°œì¸ì ìœ¼ë¡œ í‚¤ì›Œë“œë“¤ì€ ëŒ€ë¬¸ìë¡œ í‘œí˜„í•˜ëŠ” ê²ƒì„ ì„ í˜¸í•˜ëŠ” í¸ì´ë¯€ë¡œ ì´ì— ëŒ€í•œ ì„¤ì • ë°©ë²•ì„ ê³µìœ í•˜ê³ ì í•œë‹¤.</p><h4 id="SQL-ì½”ë“œ-ìŠ¤íƒ€ì¼-ì„¤ì •í•˜ê¸°"><a href="#SQL-ì½”ë“œ-ìŠ¤íƒ€ì¼-ì„¤ì •í•˜ê¸°" class="headerlink" title="SQL ì½”ë“œ ìŠ¤íƒ€ì¼ ì„¤ì •í•˜ê¸°"></a>SQL ì½”ë“œ ìŠ¤íƒ€ì¼ ì„¤ì •í•˜ê¸°</h4><p><img data-src="/images/posts/intellij-sql-code-style/01.png" alt="Case â†’ Word Case">  </p><p>ì½”ë“œ ìŠ¤íƒ€ì¼ ì„¤ì • ë©”ë‰´ì—ì„œ <a href="https://www.jetbrains.com/help/idea/configure-the-sql-code-style.html">The Database Tools and SQL plugin</a> ì— ëŒ€í•œ ì½”ë“œ ì„œì‹ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤. <code>ì„¤ì • â†’ ì—ë””í„° â†’ ì½”ë“œ ìŠ¤íƒ€ì¼ â†’ SQL â†’ ì¼ë°˜</code> ì—ì„œ í‚¤ì›Œë“œë¥¼ ëŒ€ë¬¸ìë¡œ ì„¤ì •í•˜ëŠ” ì˜µì…˜ì„ ì°¾ì•„ë³¼ ìˆ˜ ìˆë‹¤. ìœ„ ì´ë¯¸ì§€ëŠ” í‚¤ì›Œë“œë¥¼ ëŒ€ë¬¸ìë¡œ ì„¤ì •í•˜ê³  ì»¬ëŸ¼ ìœ í˜•ì„ í‚¤ì›Œë“œë¡œ ì¸ì‹ë  ìˆ˜ ìˆë„ë¡ ë³€ê²½í•œ ê²ƒì„ ë³´ì—¬ì¤€ë‹¤.</p><h4 id="Optional-SELECT-ì¿¼ë¦¬-ì‹œ-ì½¤ë§ˆ-ìœ„ì¹˜-ì„ íƒí•˜ê¸°-ğŸ¤”"><a href="#Optional-SELECT-ì¿¼ë¦¬-ì‹œ-ì½¤ë§ˆ-ìœ„ì¹˜-ì„ íƒí•˜ê¸°-ğŸ¤”" class="headerlink" title="(Optional) SELECT ì¿¼ë¦¬ ì‹œ ì½¤ë§ˆ ìœ„ì¹˜ ì„ íƒí•˜ê¸° ğŸ¤”"></a>(Optional) SELECT ì¿¼ë¦¬ ì‹œ ì½¤ë§ˆ ìœ„ì¹˜ ì„ íƒí•˜ê¸° ğŸ¤”</h4><p><img data-src="/images/posts/intellij-sql-code-style/02.png" alt="Queries â†’ Place comma">  </p><p><code>Queries â†’ Common â†’ Place comma</code> ì˜µì…˜ìœ¼ë¡œ SELECT ì¿¼ë¦¬ ì‹œ ê²°ê³¼ë¬¼ì´ ë˜ëŠ” í•„ë“œì— ëŒ€í•´ì„œ ì½¤ë§ˆ ìœ„ì¹˜ë¥¼ ì•ì— ì˜¤ë„ë¡ ì„ íƒí•  ìˆ˜ ìˆë‹¤. ê°œë°œìë§ˆë‹¤ ì„ í˜¸í•˜ëŠ” ìŠ¤íƒ€ì¼ì´ ë‹¤ë¥¼ ìˆ˜ ìˆëŠ”ë° ê°œì¸ì ìœ¼ë¡œ ì½¤ë§ˆê°€ ì•ì— ì˜¤ëŠ” ê²½ìš° ë³µì‚¬ ë° ë¶™ì—¬ë„£ê¸° ì‹œ ë“¤ì—¬ì“°ê¸° ì´ìŠˆê°€ ë°œìƒí•  ìˆ˜ ìˆì–´ ì½¤ë§ˆê°€ ë’¤ì— ì˜¤ë„ë¡ ì‘ì„±í•˜ëŠ” í¸ì´ë‹¤.</p><p>SQL ì½”ë“œ í¬ë§·íŒ…ì„ ë§ì´ ìˆ˜í–‰í•´ì™”ì§€ë§Œ ìµœê·¼ê¹Œì§€ë„ ë‚˜ëŠ” ëŒ€&#x2F;ì†Œë¬¸ì ë³€í™˜ ë‹¨ì¶•í‚¤ë¥¼ ì‚¬ìš©í•´ì„œ ì´ì˜ê²Œ í‚¤ì›Œë“œ ë¶€ë¶„ë“¤ì„ ë³€í™˜í•´ì™”ë‹¤. ë‚˜ì™€ ê°™ì€ ê°œë°œìê°€ ìˆì—ˆë‹¤ë©´ ë¶ˆí¸í•¨ì—ì„œ ë²—ì–´ë‚˜ê¸¸ ë°”ë€ë‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ì¸í…”ë¦¬ì œì´ ì–¼í‹°ë©”ì´íŠ¸ ë²„ì „ì—ì„œëŠ” ë°ì´í„°ë² ì´ìŠ¤ ëŒ€í•œ ê¸°ëŠ¥ì„ ë‚´ì¥í•˜ê³  ìˆê³  &lt;a href=&quot;https://www.jetbrains.com/help/idea/settings-code-style-sql.html&quot;&gt;SQL ì½”ë“œ ì„œì‹&lt;/a&gt;ì— ëŒ€í•œ í¬ë§·íŒ… </summary>
      
    
    
    
    
    <category term="SQL" scheme="https://kdevkr.github.io/tags/SQL/"/>
    
    <category term="Code Style" scheme="https://kdevkr.github.io/tags/Code-Style/"/>
    
  </entry>
  
  <entry>
    <title>ì„œë²„ ì‹œê°„ ë™ê¸°í™”</title>
    <link href="https://kdevkr.github.io/server-time-sync/"/>
    <id>https://kdevkr.github.io/server-time-sync/</id>
    <published>2023-12-01T05:00:00.000Z</published>
    <updated>2024-01-01T01:22:22.873Z</updated>
    
    <content type="html"><![CDATA[<p>ì˜¤ëŠ˜ì€ ê°œë°œìì—ê²Œë„ ì¤‘ìš”í•œ ì„œë²„ ì‹œê°„ì— ëŒ€í•œ ë™ê¸°í™”ë¥¼ ì•Œì•„ë³´ë„ë¡ í•˜ì. AWS í´ë¼ìš°ë“œì— ì˜ì¡´í•˜ëŠ” ê°œë°œìë“¤ì€ <a href="https://aws.amazon.com/ko/blogs/korea/keeping-time-with-amazon-time-sync-service/">Amazon Time Sync Service</a>ë¥¼ ì°¸ì¡°í•˜ë„ë¡ ì„¤ì •ëœ EC2 ì¸ìŠ¤í„´ìŠ¤ë¥¼ í™œìš©í•˜ê³  ìˆê¸° ë•Œë¬¸ì— ì‹œê°„ ë™ê¸°í™”ì— ëŒ€í•´ ì‹ ê²½ì¨ì•¼í•  ë¶€ë¶„ì€ ì ë‹¤. í•˜ì§€ë§Œ, í´ë¼ìš°ë“œ ì‹œëŒ€ì— ì‚´ê³  ìˆì§€ë§Œ ë§ì€ ì´ìœ ë¡œ ì¸í•˜ì—¬ ì˜¨-í”„ë ˆë¯¸ìŠ¤ í™˜ê²½ì—ì„œ ë™ì‘í•´ì•¼í•˜ëŠ” ì‹œìŠ¤í…œì€ ìƒë‹¹íˆ ë§ë‹¤. ì˜¨-í”„ë ˆë¯¸ìŠ¤ ì¸í”„ë¼ êµ¬ì„±ì—ì„œëŠ” ì¸í„°ë„· í†µì‹ ì´ ì œí•œë˜ëŠ” ê²½ìš°ê°€ ë§ê¸° ë•Œë¬¸ì— ìì²´ì ì¸ íƒ€ì„ ì„œë²„ë¥¼ êµ¬ì„±í•˜ê³  ì˜ì¡´í•˜ë„ë¡ ë˜ì–´ìˆì„ ê²ƒì´ë‹¤.</p><p>ì‹ ê·œ í”„ë¡œì íŠ¸ë¥¼ ë§ˆë¬´ë¦¬í•˜ê¸° ìœ„í•´ ê²€ìˆ˜í•˜ëŠ” ê³¼ì •ì—ì„œ ì „ë‹¬ë°›ì€ í”¼ë“œë°± ì¤‘ í•˜ë‚˜ëŠ” ê¸°ì¡´ì— ì‚¬ìš©í•˜ê³  ìˆë˜ ì‹œìŠ¤í…œì˜ ë°ì´í„° ì‹œê°„ê³¼ ì¼ì¹˜í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì´ì—ˆëŠ”ë° ì´ê²ƒì€ ë³´ì•ˆ ìƒì˜ ì´ìœ ë¡œ ê°œë°œì¤‘ì¸ ì‹œìŠ¤í…œì´ ë³¸ë˜ ì‹œìŠ¤í…œì˜ ë„¤íŠ¸ì›Œí¬ì— ì—°ê²°ë˜ë„ë¡ ê³ ë ¤í•˜ê±°ë‚˜ ê³„ì•½ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì´ë‹¤. ë”°ë¼ì„œ, ì¸í„°ë„· í†µì‹ ì´ ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ê³µê°œì ì¸ NTP ì„œë²„ì™€ì˜ í†µì‹ ì´ ë¶ˆê°€ëŠ¥í•˜ë¯€ë¡œ ì»´í“¨í„° ë©”ì¸ë³´ë“œì— ì¡´ì¬í•˜ëŠ” RTC(Real Time Clock) ì— ì˜ì¡´í•˜ê³  ìˆì„ ê²ƒì´ê¸°ì— ì¡°ê¸ˆì”© ì‹œê°„ ì°¨ì´ê°€ ë§ì´ ë‚˜ê²Œ ë  ìˆ˜ ìˆë‹¤.</p><h4 id="Linux-ì¸ìŠ¤í„´ìŠ¤ì˜-ì‹œê°„-ì„¤ì •"><a href="#Linux-ì¸ìŠ¤í„´ìŠ¤ì˜-ì‹œê°„-ì„¤ì •" class="headerlink" title="Linux ì¸ìŠ¤í„´ìŠ¤ì˜ ì‹œê°„ ì„¤ì •"></a><a href="https://docs.aws.amazon.com/ko_kr/AWSEC2/latest/UserGuide/set-time.html#configure-amazon-time-service-ubuntu">Linux ì¸ìŠ¤í„´ìŠ¤ì˜ ì‹œê°„ ì„¤ì •</a></h4><ul><li><code>timedatectl</code>: ì‹œê°„ ì •ë³´</li><li><code>chronyc tracking</code>: ì‹œê°„ ë™ê¸°í™” ì§€í‘œ</li><li><code>chronyc -a makestep</code>: ì¦‰ì‹œ ë™ê¸°í™”</li></ul><p>ë¦¬ëˆ…ìŠ¤ì—ì„œ ì–´ë–»ê²Œ ì‹œê°„ì„ ë™ê¸°í™”í•˜ê³  ìˆëŠ”ì§€ í™•ì¸í•˜ê³ ì í•˜ëŠ” ê²½ìš° <code>timedatectl</code> ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì•„ë˜ì™€ ê°™ì´ ì‹œìŠ¤í…œ í´ëŸ­ì— ë™ê¸°í™”ë˜ë©° NTP ì„œë¹„ìŠ¤ë„ í™œì„±í™”ë˜ì–´ìˆìŒì„ ì•Œ ìˆ˜ ìˆë‹¤. ë§Œì•½, NTP ì„œë²„ ì£¼ì†Œë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ë³€ê²½í–ˆëŠ”ë° ë°˜ì˜ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì¦‰ì‹œ ë™ê¸°í™” ëª…ë ¹ì–´ë¥¼ ìˆ˜í–‰í•´ë³´ì.</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># ì‹œê°„ ì •ë³´</span>$ timedatectl               Local time: Fri <span class="token number">2023</span>-12-01 <span class="token number">11</span>:57:48 UTC           Universal time: Fri <span class="token number">2023</span>-12-01 <span class="token number">11</span>:57:48 UTC                 RTC time: Fri <span class="token number">2023</span>-12-01 <span class="token number">11</span>:57:49                    Time zone: Etc/UTC <span class="token punctuation">(</span>UTC, +0000<span class="token punctuation">)</span>       System clock synchronized: <span class="token function">yes</span>                                      NTP service: active                               RTC <span class="token keyword">in</span> <span class="token builtin class-name">local</span> TZ: no<span class="token comment"># ë™ê¸°í™” ì§€í‘œ</span>$ chronyc trackingReference ID    <span class="token builtin class-name">:</span> 0356046A <span class="token punctuation">(</span>ec2-3-86-4-106.compute-1.amazonaws.com<span class="token punctuation">)</span>Stratum         <span class="token builtin class-name">:</span> <span class="token number">5</span>Ref <span class="token function">time</span> <span class="token punctuation">(</span>UTC<span class="token punctuation">)</span>  <span class="token builtin class-name">:</span> Fri Dec 01 <span class="token number">12</span>:04:57 <span class="token number">2023</span>System <span class="token function">time</span>     <span class="token builtin class-name">:</span> <span class="token number">0.000258254</span> seconds fast of NTP <span class="token function">time</span>Last offset     <span class="token builtin class-name">:</span> <span class="token parameter variable">-0.000113504</span> secondsRMS offset      <span class="token builtin class-name">:</span> <span class="token number">0.002757813</span> secondsFrequency       <span class="token builtin class-name">:</span> <span class="token number">451.939</span> ppm slowResidual freq   <span class="token builtin class-name">:</span> +0.044 ppmSkew            <span class="token builtin class-name">:</span> <span class="token number">22.140</span> ppmRoot delay      <span class="token builtin class-name">:</span> <span class="token number">0.185094610</span> secondsRoot dispersion <span class="token builtin class-name">:</span> <span class="token number">0.001233191</span> secondsUpdate interval <span class="token builtin class-name">:</span> <span class="token number">16.5</span> secondsLeap status     <span class="token builtin class-name">:</span> Normal<span class="token comment"># ì¦‰ì‹œ ë™ê¸°í™” ìˆ˜í–‰</span>$ chronyc <span class="token parameter variable">-a</span> makestep<span class="token comment"># chrony ì„¤ì • íŒŒì¼</span>$ <span class="token function">cat</span> /etc/chrony/chrony.conf<span class="token punctuation">..</span>.server time.aws.com prefer iburst minpoll <span class="token number">4</span> maxpoll <span class="token number">4</span>pool <span class="token number">1</span>.kr.pool.ntp.org iburstpool <span class="token number">1</span>.asia.pool.ntp.org iburstpool <span class="token number">2</span>.asia.pool.ntp.org iburstserver time.bora.net iburstserver time.google.com iburst<span class="token punctuation">..</span>.</code></pre><h4 id="ìœˆë„ìš°-ì„œë²„-ë™ê¸°í™”í•˜ê¸°"><a href="#ìœˆë„ìš°-ì„œë²„-ë™ê¸°í™”í•˜ê¸°" class="headerlink" title="ìœˆë„ìš° ì„œë²„ ë™ê¸°í™”í•˜ê¸°"></a><a href="https://customer.gabia.com/manual/cloud/7700/7720">ìœˆë„ìš° ì„œë²„ ë™ê¸°í™”í•˜ê¸°</a></h4><p>ë§Œì•½, ìœˆë„ìš° ì„œë²„ë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤ë©´ <code>ì‹œê°„ ë° ë‚ ì§œ ì„¤ì •</code> ê¸°ëŠ¥ì—ì„œ <code>ì¸í„°ë„· ì‹œê°„ ì„œë²„</code>ë¥¼ ë³€ê²½í•˜ë„ë¡ í•˜ì. ê·¸ë¦¬ê³  ë” ìì„¸í•œ ì„¤ì •ì´ í•„ìš”í•˜ë‹¤ë©´ ê´€ë ¨ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì„¤ì •ì„ ê²€ìƒ‰í•´ì„œ ì ìš©í•´ì•¼í•œë‹¤.</p><h4 id="ì‹œê°„-ë™ê¸°í™”-ê´€ë ¨-ê¹¨ì•Œì§€ì‹"><a href="#ì‹œê°„-ë™ê¸°í™”-ê´€ë ¨-ê¹¨ì•Œì§€ì‹" class="headerlink" title="ì‹œê°„ ë™ê¸°í™” ê´€ë ¨ ê¹¨ì•Œì§€ì‹"></a>ì‹œê°„ ë™ê¸°í™” ê´€ë ¨ ê¹¨ì•Œì§€ì‹</h4><p>ì»´í“¨í„° ë©”ì¸ë³´ë“œì—ëŠ” í•˜ë“œì›¨ì–´ ì‹œê³„ë¥¼ ìœ„í•´ ì‹œê°„ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” RTC(Real Time Clock) ë°°í„°ë¦¬ê°€ ì¡´ì¬í•œë‹¤. ìë™ì°¨ ë¸”ë™ë°•ìŠ¤ì—ì„œë„ RTC ë°°í„°ë¦¬ë¥¼ ë‚´ì¥í•˜ê³  ìˆê³  (GPS ì—°ë™ì´ ì—†ëŠ” ê²½ìš°) ì‹œê°„ì´ ì¡°ê¸ˆì”© ë§ì§€ ì•ŠëŠ” ë¬¸ì œë¥¼ ê²½í—˜í•  ìˆ˜ ìˆë‹¤. ê·¸ë¦¬ê³  íƒ€ì„ ì„œë²„ êµ¬ì„±ì„ ìœ„í•œ ì‹œê°„ ë™ê¸°í™”ìš© GPS ì„œë²„ë„ ìˆë‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ì˜¤ëŠ˜ì€ ê°œë°œìì—ê²Œë„ ì¤‘ìš”í•œ ì„œë²„ ì‹œê°„ì— ëŒ€í•œ ë™ê¸°í™”ë¥¼ ì•Œì•„ë³´ë„ë¡ í•˜ì. AWS í´ë¼ìš°ë“œì— ì˜ì¡´í•˜ëŠ” ê°œë°œìë“¤ì€ &lt;a href=&quot;https://aws.amazon.com/ko/blogs/korea/keeping-time-with-amazon-time</summary>
      
    
    
    
    
    <category term="NTP" scheme="https://kdevkr.github.io/tags/NTP/"/>
    
    <category term="chrony" scheme="https://kdevkr.github.io/tags/chrony/"/>
    
  </entry>
  
  <entry>
    <title>AWS SDK for Java BOM</title>
    <link href="https://kdevkr.github.io/aws-sdk-for-java-bom/"/>
    <id>https://kdevkr.github.io/aws-sdk-for-java-bom/</id>
    <published>2023-10-22T06:00:00.000Z</published>
    <updated>2024-01-01T01:22:22.869Z</updated>
    
    <content type="html"><![CDATA[<p>AWS ê²½í—˜ì´ ë§ì§€ ì•Šì€ ê°œë°œì í˜¹ì€ ì‹ ê·œ í”„ë¡œì íŠ¸ë¥¼ ìœ„í•œ êµ¬ì„± ì‹œ ì¢…ì¢… ì‹ ê²½ì“°ì§€ ì•Šì•„ ë°œìƒí•˜ëŠ” ë¬¸ì œëŠ” AWS ì„œë¹„ìŠ¤ì™€ì˜ ì—°ë™ì„ ìœ„í•œ ìë°” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ AWS Java SDK ë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒìœ¼ë¡œ ì¸í•œ ê³¼ë„í•˜ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ ìš©ëŸ‰ì´ë‹¤. ì²˜ìŒë¶€í„° ê³µì‹ ë¬¸ì„œë¥¼ ì œëŒ€ë¡œ ì°¸ê³ í•œë‹¤ë©´ Java SDK ë¥¼ ìœ„í•œ Maven BOM ì„ ì¶”ê°€í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬ì„±í–ˆì„ ê²ƒì´ë‹¤. ê·¸ë ‡ì§€ ì•Šì€ ê²½ìš°ë¼ë©´ ì•„ë˜ì™€ ê°™ì´ AWS Java SDK ì „ì²´ë¥¼ ì¶”ê°€í–ˆì„ ê²ƒì´ë‹¤.</p><h4 id="ì• í”Œë¦¬ì¼€ì´ì…˜-ë¹Œë“œ-ìš©ëŸ‰-ë¬¸ì œ"><a href="#ì• í”Œë¦¬ì¼€ì´ì…˜-ë¹Œë“œ-ìš©ëŸ‰-ë¬¸ì œ" class="headerlink" title="ì• í”Œë¦¬ì¼€ì´ì…˜ ë¹Œë“œ ìš©ëŸ‰ ë¬¸ì œ"></a>ì• í”Œë¦¬ì¼€ì´ì…˜ ë¹Œë“œ ìš©ëŸ‰ ë¬¸ì œ</h4><pre class="language-groovy" data-language="groovy"><div class="caption"><span>build.gradle</span></div><code class="language-groovy">dependencies <span class="token punctuation">&#123;</span>    implementation <span class="token string">'software.amazon.awssdk:aws-sdk-java:2.21.4'</span>    implementation <span class="token string">'com.amazonaws:aws-java-sdk:1.12.570'</span><span class="token punctuation">&#125;</span></code></pre><p>ìœ„ì˜ ê²½ìš°ëŠ” ì—°ë™í•˜ë ¤ëŠ” ì„œë¹„ìŠ¤ë§ˆë‹¤ ì°¸ê³ í•œ ì½”ë“œê°€ ë‹¤ë¦„ìœ¼ë¡œ ì¸í•´ V1ê³¼ V2 ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í˜¼ì¬í•œ ê²½ìš°ë¥¼ ì˜ë¯¸í• ì§€ë„ ëª¨ë¥¸ë‹¤. ë§Œì•½, ì •ë§ë¡œ í”„ë¡œì íŠ¸ì—ì„œ ì¶”ê°€í•˜ëŠ” ë°©ì‹ì´ ìœ„ì™€ ê°™ë‹¤ë©´ ì—¬ëŸ¬ë¶„ì´ ì¸í…”ë¦¬ì œì´ì™€ ê°™ì€ IDE ë„êµ¬ë¡œ í”„ë¡œì íŠ¸ë¥¼ ì—´ì—ˆì„ë•Œ ìˆ˜ ë§ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì„ ë‹¤ìš´ë°›ê¸° ìœ„í•´ì„œ ì—´ì¼í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ë³¼ ìˆ˜ ìˆê²Œ ë  ê²ƒì´ë‹¤.</p><p>ì‚¬ì‹¤ ì˜¤ë«ë™ì•ˆ ê¸°ë‹¤ë ¤ì„œ í•œë²ˆ ë‹¤ìš´ë¡œë“œ ë°›ê²Œë˜ë©´ ìºì‹œí•˜ì—¬ ì‚¬ìš©í•˜ê²Œ ë˜ë¯€ë¡œ ë”±íˆ ë¬¸ì œì ì„ ì¸ì§€í•˜ì§€ ëª»í• ì§€ë„ ëª¨ë¥¸ë‹¤. ë©”ì´ë¸ì´ë‚˜ ê·¸ë˜ë“¤ë¡œ ë‹¤ìš´ë°›ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì€ í”„ë¡œì íŠ¸ í´ë”ì— ìœ„ì¹˜í•˜ëŠ”ê²Œ ì•„ë‹ˆê¸° ë•Œë¬¸ì´ë‹¤. ë‚´ì¬ëœ ë¬¸ì œì— ëŒ€í•´ì„œëŠ” ë¹Œë“œ ê³¼ì •ì—ì„œ ì¸ì§€í•˜ê²Œ ëœë‹¤. ë¹Œë“œëœ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ íŒŒì¼ì„ ì‚´í´ë³´ë©´ ë¬´ë ¤ 800 ë©”ê°€ë¥¼ ë„˜ëŠ” ìš©ëŸ‰ì„ ê°€ì§„ë‹¤.</p><p><img data-src="/images/posts/aws-sdk-for-java-bom/01.png">  </p><h4 id="ì• í”Œë¦¬ì¼€ì´ì…˜ì—-ìµœì í™”ëœ-ë¹Œë“œ-ìš©ëŸ‰"><a href="#ì• í”Œë¦¬ì¼€ì´ì…˜ì—-ìµœì í™”ëœ-ë¹Œë“œ-ìš©ëŸ‰" class="headerlink" title="ì• í”Œë¦¬ì¼€ì´ì…˜ì— ìµœì í™”ëœ ë¹Œë“œ ìš©ëŸ‰"></a>ì• í”Œë¦¬ì¼€ì´ì…˜ì— ìµœì í™”ëœ ë¹Œë“œ ìš©ëŸ‰</h4><p>ì• í”Œë¦¬ì¼€ì´ì…˜ ë¹Œë“œ ì‹œ ì •ìƒì ì¸ ê²°ê³¼ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë„ë¡ Java SDK for Java ë¥¼ ìœ„í•œ Maven BOM ìœ¼ë¡œ ë²„ì „ì„ ê´€ë¦¬í•˜ê³  ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë§Œì„ ì¶”ê°€í•˜ë„ë¡ í•˜ì. </p><pre class="language-groovy" data-language="groovy"><div class="caption"><span>build.gradle</span></div><code class="language-groovy">dependencies <span class="token punctuation">&#123;</span>    implementation <span class="token function">platform</span><span class="token punctuation">(</span><span class="token string">'software.amazon.awssdk:bom:2.21.4'</span><span class="token punctuation">)</span>    implementation <span class="token function">platform</span><span class="token punctuation">(</span><span class="token string">'com.amazonaws:aws-java-sdk-bom:1.12.570'</span><span class="token punctuation">)</span>    implementation <span class="token string">'software.amazon.awssdk:ec2'</span>    implementation <span class="token string">'com.amazonaws:aws-java-sdk-s3'</span><span class="token punctuation">&#125;</span></code></pre><p><img data-src="/images/posts/aws-sdk-for-java-bom/02.png">  </p><p>ì˜¤ë˜ì „ì— ë°œìƒí•˜ì—¬ ê³µìœ í–ˆë˜ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…ì¸ë° ì‹œê°„ì´ ì§€ë‚˜ë©´ì„œ ì‹ ê·œ í”„ë¡œì íŠ¸ì—ì„œë„ ë™ì¼í•œ ìƒí™©ì´ ë°œìƒí•´ì„œ ì •ë¦¬í•˜ì—¬ ê³µìœ í•´ë³¸ë‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;AWS ê²½í—˜ì´ ë§ì§€ ì•Šì€ ê°œë°œì í˜¹ì€ ì‹ ê·œ í”„ë¡œì íŠ¸ë¥¼ ìœ„í•œ êµ¬ì„± ì‹œ ì¢…ì¢… ì‹ ê²½ì“°ì§€ ì•Šì•„ ë°œìƒí•˜ëŠ” ë¬¸ì œëŠ” AWS ì„œë¹„ìŠ¤ì™€ì˜ ì—°ë™ì„ ìœ„í•œ ìë°” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ AWS Java SDK ë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒìœ¼ë¡œ ì¸í•œ ê³¼ë„í•˜ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ ìš©ëŸ‰ì´ë‹¤.</summary>
      
    
    
    
    
    <category term="Maven BOM" scheme="https://kdevkr.github.io/tags/Maven-BOM/"/>
    
    <category term="aws-java-sdk" scheme="https://kdevkr.github.io/tags/aws-java-sdk/"/>
    
    <category term="aws-sdk-java" scheme="https://kdevkr.github.io/tags/aws-sdk-java/"/>
    
  </entry>
  
  <entry>
    <title>Cross Site Request Forgery (CSRF)</title>
    <link href="https://kdevkr.github.io/spring-boot-security-csrf/"/>
    <id>https://kdevkr.github.io/spring-boot-security-csrf/</id>
    <published>2023-10-21T00:00:00.000Z</published>
    <updated>2024-01-01T01:22:22.877Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë¶„ë¦¬ë˜ì–´ìˆì–´ë„ <a href="https://docs.spring.io/spring-security/reference/servlet/exploits/csrf.html">Cross Site Request Forgery (CSRF)</a>ë¥¼ ë¹„í™œì„±í™”í•˜ì§€ ë§ì.</p></blockquote><p>CSRF ìì²´ì— ëŒ€í•´ì„œ ì˜ ëª¨ë¥´ëŠ” ê°œë°œìë¼ë©´ <a href="https://cheatsheetseries.owasp.org/cheatsheets/Cross-Site_Request_Forgery_Prevention_Cheat_Sheet.html">Cross-Site Request Forgery Prevention Cheat Sheet</a>ë¥¼ ì°¸ê³ í•´ë³´ë„ë¡ í•˜ì. ì• í”Œë¦¬ì¼€ì´ì…˜ ë³´ì•ˆ ê°€ì´ë“œì—ì„œ <a href="https://docs.spring.io/spring-security/reference/servlet/exploits/csrf.html#csrf-considerations">ë¡œê·¸ì¸ê³¼ ë¡œê·¸ì•„ì›ƒ í–‰ìœ„ì— ëŒ€í•´ì„œëŠ” CSRF í† í°ì„ ì‚¬ìš©í•œ ê²€ì¦ì„ ìš”êµ¬</a>í•˜ëŠ” í¸ì´ë‹¤. ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ì—ì„œëŠ” <a href="https://docs.spring.io/spring-security/reference/features/exploits/csrf.html#csrf-protection">CSRF ê³µê²©ì— ë°©ì–´í•˜ëŠ” ë§¤ì»¤ë‹ˆì¦˜</a>ì„ ì œê³µí•˜ì—¬ ì‰½ê²Œ CSRF í† í°ì„ ì ìš©í•  ìˆ˜ ìˆë‹¤.</p><ul><li>HttpSessionCsrfTokenRepository</li><li>CookieCsrfTokenRepository</li><li>XorCsrfTokenRequestAttributeHandler</li><li>XorCsrfChannelInterceptor</li><li>CsrfFilter</li><li>CsrfLogoutHandler</li></ul><p>ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ì˜ SecurityFilterChainì„ êµ¬ì„±í•˜ëŠ” ê³¼ì •ì˜ <code>CsrfConfigurer</code>ë¥¼ ì‚´í´ë³´ë©´ <code>CsrfFilter</code>ë¥¼ í•„í„°ì— ë“±ë¡í•˜ëŠ”ë° CsrfTokenRepositoryì™€ CsrfTokenRequestHandlerê°€ ì‚¬ìš©ë˜ë„ë¡ ì „ë‹¬ëœë‹¤. ê³µì‹ ë¬¸ì„œë¥¼ ì°¸ê³ í•´ë³´ë©´ ê¸°ë³¸ì ìœ¼ë¡œëŠ” ìŠ¤í”„ë§ ì‹œíë¦¬í‹° 6 ë¶€í„° <code>HttpSessionCsrfTokenRepository</code>ì™€ <code>XorCsrfTokenRequestAttributeHandler</code>ê°€ ì‚¬ìš©ë˜ë„ë¡ ë˜ì–´ìˆìœ¼ë©° HTTPê°€ ì•„ë‹Œ ì›¹ì†Œì¼“ì„ ìœ„í•œ ë³´ì•ˆ ì„¤ì • ì‹œ(@EnableWebSocketSecurity)ì—ëŠ” <code>XorCsrfChannelInterceptor</code>ì´ ì ìš©ë˜ì–´ ë™ì‘í•œë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token class-name">SecurityConfig</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">SecurityFilterChain</span> <span class="token function">filterChain</span><span class="token punctuation">(</span><span class="token class-name">HttpSecurity</span> http<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">&#123;</span>       http<span class="token punctuation">.</span><span class="token function">csrf</span><span class="token punctuation">(</span>csrf <span class="token operator">-></span> csrf<span class="token punctuation">.</span><span class="token function">csrfTokenRepository</span><span class="token punctuation">(</span><span class="token class-name">CookieCsrfTokenRepository</span><span class="token punctuation">.</span><span class="token function">withHttpOnlyFalse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><h4 id="CSRF-í† í°-API-ì—”ë“œí¬ì¸íŠ¸"><a href="#CSRF-í† í°-API-ì—”ë“œí¬ì¸íŠ¸" class="headerlink" title="CSRF í† í° API ì—”ë“œí¬ì¸íŠ¸"></a>CSRF í† í° API ì—”ë“œí¬ì¸íŠ¸</h4><p>ë°±ì—”ë“œì™€ í”„ë¡ íŠ¸ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë¶„ë¦¬ë˜ì–´ìˆë‹¤ê³  í•´ì„œ HttpOnly ì†ì„±ì´ ì§€ì •ë˜ì§€ ì•Šì€ CSRF ì¿ í‚¤ë¥¼ ì „ë‹¬í•˜ê¸° ìœ„í•´ <code>CookieCsrfTokenRepository</code>ë¥¼ ì‚¬ìš©í•  í•„ìš”ëŠ” ì—†ë‹¤. í”„ë¡ íŠ¸ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìœ„í•œ CSRF í† í°ì´ í•„ìš”í•˜ë‹¤ë©´ ì•„ë˜ì™€ ê°™ì€ CSRF í† í°ì„ ì‘ë‹µí•´ì£¼ëŠ” APIë¥¼ ë§Œë“¤ì–´ì„œ ì œê³µí•˜ì. ê¸°ë³¸ì ìœ¼ë¡œ GET ìš”ì²­ì€ ì•ˆì „í•œ ë©”ì†Œë“œë¡œ ê°„ì£¼í•˜ì—¬ ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ëŠ” CSRF í† í°ì— ëŒ€í•œ ê²€ì¦ì„ ì²˜ë¦¬í•˜ì§€ ì•ŠëŠ”ë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CsrfController</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/csrf"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">CsrfToken</span> <span class="token function">csrf</span><span class="token punctuation">(</span><span class="token class-name">CsrfToken</span> csrfToken<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> csrfToken<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p><a href="https://www.data.go.kr/data/15049185/fileData.do">ì• í”Œë¦¬ì¼€ì´ì…˜ ë³´ì•ˆ ê°€ì´ë“œ</a>ì—ì„œëŠ” ë¡œê·¸ì¸ê³¼ ë¡œê·¸ì•„ì›ƒ ìš”ì²­ì— ëŒ€í•´ CSRF ê³µê²©ì— ëŒ€í•œ ë°©ì–´ë¥¼ ìš”êµ¬í•œë‹¤. ê°„í˜¹ ë°±ì—”ë“œì™€ í”„ë¡ íŠ¸ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë¶„ë¦¬ë˜ì–´ JWTì™€ ê°™ì€ í† í° ê¸°ë°˜ ì¸ì¦ì„ ìˆ˜í–‰í•œë‹¤ë©´ ë¹„í™œì„±í™”í•˜ê±°ë‚˜ ì¡°ì¹˜í•  í•„ìš”ê°€ ì—†ë‹¤ëŠ” ê²ƒì„ ê¸°ë¡í•œ ë¸”ë¡œê·¸ê°€ ë³´ì´ëŠ”ë° ì´ê²ƒì€ ì˜ëª»ëœ ì •ë³´ì´ë‹¤. ë¸Œë¼ìš°ì €ì—ì„œ í† í°ì„ ì „ë‹¬í•  ë°©ë²•ì€ ì¿ í‚¤ë‚˜ ë³„ë„ì˜ í—¤ë” ë¿ì´ë©° ì¿ í‚¤ë„ ì‚¬ì‹¤ ìƒ í—¤ë” ì¤‘ í•˜ë‚˜ì¼ ë¿ì´ë‹¤. </p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">DefaultRequiresCsrfMatcher</span> <span class="token keyword">implements</span> <span class="token class-name">RequestMatcher</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> allowedMethods <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"GET"</span><span class="token punctuation">,</span> <span class="token string">"HEAD"</span><span class="token punctuation">,</span> <span class="token string">"TRACE"</span><span class="token punctuation">,</span> <span class="token string">"OPTIONS"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">matches</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>allowedMethods<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ì—ì„œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ <code>GET, HEAD, TRACE, OPTIONS</code>ì— ëŒ€í•´ì„œëŠ” ì•ˆì „í•œ ë©”ì†Œë“œë¡œ íŒë‹¨í•˜ì—¬ CSRF ê²€ì¦ì„ ë¬´ì‹œí•œë‹¤. ë§Œì•½, GETì„ ì•ˆì „í•˜ì§€ ì•ŠëŠ” í–‰ìœ„ë¡œ ì‚¬ìš©í•œë‹¤ë©´ CSRF ê²€ì¦ì„ ë³„ë„ë¡œ ìˆ˜í–‰í•´ì•¼í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì‰½ê²Œ ë¡œê·¸ì•„ì›ƒ í•˜ê¸° ìœ„í•´ì„œ POST ìš”ì²­ì´ ì•„ë‹Œ GET ìš”ì²­ìœ¼ë¡œ êµ¬í˜„í–ˆë‹¤ë©´ CSRF í•„í„°ì—ì„œ ë¬´ì‹œë˜ê³  ë„˜ì–´ê°€ë¯€ë¡œ <code>requireCsrfProtectionMatcher</code> ë¥¼ ìˆ˜ì •í•˜ì.</p><h4 id="CSRF-í† í°ì„-ì „ë‹¬í•˜ëŠ”-ë°©ë²•"><a href="#CSRF-í† í°ì„-ì „ë‹¬í•˜ëŠ”-ë°©ë²•" class="headerlink" title="CSRF í† í°ì„ ì „ë‹¬í•˜ëŠ” ë°©ë²•"></a>CSRF í† í°ì„ ì „ë‹¬í•˜ëŠ” ë°©ë²•</h4><p>CSRF í† í°ì€ ì¼ë°˜ì ìœ¼ë¡œ HTML í¼ ì „ì†¡ ì‹œ _csrf íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬í•˜ëŠ”ë° X-CSRF-TOKEN ë˜ëŠ” X-XSRF-TOKEN í—¤ë”ë¡œë„ ì „ë‹¬í•  ìˆ˜ ìˆë„ë¡ ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ì—ì„œ ì§€ì›í•œë‹¤. ê¸°ë³¸ì ìœ¼ë¡œëŠ” HttpSessionCsrfTokenRepository ê°€ ì‚¬ìš©ë˜ëŠ”ë° <code>X-CSRF-TOKEN</code> ì´ë¼ëŠ” í—¤ë”ë¥¼ CookieCsrfTokenRepositoryëŠ” <code>X-XSRF-TOKEN</code> í—¤ë”ë¥¼ ë§¤ì¹­í•œë‹¤. ê·¸ëŸ¬ë‹ˆê¹Œ, ê¸°ë³¸ì ìœ¼ë¡œëŠ” X-CSRF-TOKEN í—¤ë”ë¡œ ì „ë‹¬í•´ì•¼í•˜ì§€ë§Œ ì¿ í‚¤ ê¸°ë°˜ì˜ CookieCsrfTokenRepositoryë¥¼ ì ìš©í–ˆë‹¤ë©´ X-XSRF-TOKEN í—¤ë”ë¡œ ìš”ì²­ ì‹œ ì „ë‹¬í•´ì•¼ CSRF í† í°ì„ ì œëŒ€ë¡œ ê²€ì¦í•  ìˆ˜ ìˆë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@FunctionalInterface</span><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">CsrfTokenRequestHandler</span> <span class="token keyword">extends</span> <span class="token class-name">CsrfTokenRequestResolver</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">void</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CsrfToken</span><span class="token punctuation">></span></span> csrfToken<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">default</span> <span class="token class-name">String</span> <span class="token function">resolveCsrfTokenValue</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">CsrfToken</span> csrfToken<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Assert</span><span class="token punctuation">.</span><span class="token function">notNull</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token string">"request cannot be null"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Assert</span><span class="token punctuation">.</span><span class="token function">notNull</span><span class="token punctuation">(</span>csrfToken<span class="token punctuation">,</span> <span class="token string">"csrfToken cannot be null"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> actualToken <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getHeader</span><span class="token punctuation">(</span>csrfToken<span class="token punctuation">.</span><span class="token function">getHeaderName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>actualToken <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            actualToken <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span>csrfToken<span class="token punctuation">.</span><span class="token function">getParameterName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> actualToken<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>ì•ì„œ CSRF í† í°ì„ ì‘ë‹µí•˜ëŠ” API ì—ì„œëŠ” í† í° ë¿ë§Œ ì•„ë‹ˆë¼ ìš”ì²­ íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬í•  ì´ë¦„ê³¼ í—¤ë”ë¥¼ í•¨ê»˜ ì œê³µí•´ì¤€ë‹¤. ë”°ë¼ì„œ, Axiosì™€ ê°™ì€ HTTP ìš”ì²­ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í†µí•´ XHR ìš”ì²­ì„ ìˆ˜í–‰í•œë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤. </p><pre class="language-javascript" data-language="javascript"><code class="language-javascript">axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/csrf'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> csrf <span class="token operator">=</span> res<span class="token punctuation">.</span>data    axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>post<span class="token punctuation">[</span>csrf<span class="token punctuation">.</span>headerName<span class="token punctuation">]</span> <span class="token operator">=</span> csrf<span class="token punctuation">.</span>token    axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>put<span class="token punctuation">[</span>csrf<span class="token punctuation">.</span>headerName<span class="token punctuation">]</span> <span class="token operator">=</span> csrf<span class="token punctuation">.</span>token    axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>delete<span class="token punctuation">[</span>csrf<span class="token punctuation">.</span>headerName<span class="token punctuation">]</span> <span class="token operator">=</span> csrf<span class="token punctuation">.</span>token<span class="token punctuation">&#125;</span><span class="token punctuation">)</span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë¶„ë¦¬ë˜ì–´ìˆì–´ë„ &lt;a href=&quot;https://docs.spring.io/spring-security/reference/servlet/exploits/csrf.html&quot;&gt;Cross Site </summary>
      
    
    
    
    
    <category term="Spring Security" scheme="https://kdevkr.github.io/tags/Spring-Security/"/>
    
    <category term="Axios" scheme="https://kdevkr.github.io/tags/Axios/"/>
    
    <category term="CSRF" scheme="https://kdevkr.github.io/tags/CSRF/"/>
    
    <category term="XSRF" scheme="https://kdevkr.github.io/tags/XSRF/"/>
    
  </entry>
  
  <entry>
    <title>ìŠ¤í”„ë§ ë¶€íŠ¸ ë³´ì•ˆ ì„¤ì •</title>
    <link href="https://kdevkr.github.io/spring-boot-security/"/>
    <id>https://kdevkr.github.io/spring-boot-security/</id>
    <published>2023-10-17T13:00:00.000Z</published>
    <updated>2024-01-01T01:22:22.877Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ë³¸ ê¸€ì€ ìŠ¤í”„ë§ ë¶€íŠ¸ í”„ë¡œì íŠ¸ë¡œ ë§Œë“¤ì–´ì§„ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ìŠ¤í”„ë§ ì‹œíë¦¬í‹° ëª¨ë“ˆì„ ì ìš©í•˜ëŠ” ê²½ìš°ì— ë³´ì•ˆ ì„¤ì •ì— ëŒ€í•´ ì •ë¦¬í•œ ê²ƒ ì…ë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ì˜¤í•´í•˜ê³  ìˆê±°ë‚˜ ì‹ ê²½ì“°ì§€ ì•ŠëŠ” ë¶€ë¶„ì— ëŒ€í•´ì„œ ë‹¤ë£¨ê³ ì í•©ë‹ˆë‹¤.</p></blockquote><h4 id="ë”-ì•ˆì „í•œ-CSRF-í† í°-ì„¤ì •"><a href="#ë”-ì•ˆì „í•œ-CSRF-í† í°-ì„¤ì •" class="headerlink" title="ë” ì•ˆì „í•œ CSRF í† í° ì„¤ì •"></a>ë” ì•ˆì „í•œ CSRF í† í° ì„¤ì •</h4><p>ë¦¬ì•¡íŠ¸ë‚˜ ë·°ì™€ ê°™ì€ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ í™˜ê²½ì´ì–´ë„ ì„œë²„ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ CSRF í† í°ì„ í”„ë¡ íŠ¸ì—”ë“œë¡œ ì „ë‹¬í•˜ê¸° ìœ„í•´ ì¿ í‚¤ë¥¼ ì´ìš©í•  í•„ìš”ëŠ” ì—†ë‹¤. ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì¿ í‚¤ì— ì €ì¥ëœ XSRF-TOKEN ê°’ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë„ë¡ httpOnly ì„¤ì •ì„ ë¹„í™œì„±í™”í•˜ì§€ ë§ì. ì´ê²ƒì— ëŒ€ì•ˆìœ¼ë¡œ CSRF í† í°ì„ ì œê³µí•˜ëŠ” APIë¥¼ ë§Œë“¤ì–´ì„œ ì‘ë‹µí•˜ë©´ ëœë‹¤.</p><pre class="language-java" data-language="java"><div class="caption"><span>WebSecurityConfig.java</span></div><code class="language-java"><span class="token annotation punctuation">@AllArgsConstructor</span><span class="token annotation punctuation">@Configuration</span><span class="token annotation punctuation">@EnableWebSecurity</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebSecurityConfig</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">ServerProperties</span> serverProperties<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">CsrfTokenRepository</span> <span class="token function">csrfTokenRepository</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Session<span class="token punctuation">.</span>Cookie</span> cookie <span class="token operator">=</span> serverProperties<span class="token punctuation">.</span><span class="token function">getServlet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getCookie</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">CookieCsrfTokenRepository</span> tokenRepository <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CookieCsrfTokenRepository</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        tokenRepository<span class="token punctuation">.</span><span class="token function">setCookieCustomizer</span><span class="token punctuation">(</span>c <span class="token operator">-></span> c<span class="token punctuation">.</span><span class="token function">secure</span><span class="token punctuation">(</span>cookie<span class="token punctuation">.</span><span class="token function">getSecure</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">path</span><span class="token punctuation">(</span>cookie<span class="token punctuation">.</span><span class="token function">getPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">httpOnly</span><span class="token punctuation">(</span>cookie<span class="token punctuation">.</span><span class="token function">getHttpOnly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">sameSite</span><span class="token punctuation">(</span>cookie<span class="token punctuation">.</span><span class="token function">getSameSite</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attributeValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">maxAge</span><span class="token punctuation">(</span><span class="token class-name">Duration</span><span class="token punctuation">.</span><span class="token function">ofMinutes</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> tokenRepository<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">SecurityFilterChain</span> <span class="token function">filterChain</span><span class="token punctuation">(</span><span class="token class-name">HttpSecurity</span> http<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">&#123;</span>        http<span class="token punctuation">.</span><span class="token function">csrf</span><span class="token punctuation">(</span>csrf <span class="token operator">-></span> csrf<span class="token punctuation">.</span><span class="token function">csrfTokenRepository</span><span class="token punctuation">(</span><span class="token function">csrfTokenRepository</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> http<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-java" data-language="java"><div class="caption"><span>CsrfController.java</span></div><code class="language-java"><span class="token annotation punctuation">@AllArgsConstructor</span><span class="token annotation punctuation">@RestController</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CsrfController</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">CsrfTokenRepository</span> csrfTokenRepository<span class="token punctuation">;</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/csrf"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">CsrfToken</span> <span class="token function">csrf</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> csrfTokenRepository<span class="token punctuation">.</span><span class="token function">loadDeferredToken</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><blockquote><p>ìë°”ìŠ¤í¬ë¦½íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìœ„í•œ ë” ë‹¤ì–‘í•œ ë°©ë²•ì€ <a href="https://docs.spring.io/spring-security/reference/servlet/exploits/csrf.html#csrf-integration-javascript">ê³µì‹ ë¬¸ì„œë¥¼ ì°¸ê³ </a>í•˜ì„¸ìš”.</p></blockquote><p>ì• í”Œë¦¬ì¼€ì´ì…˜ ë³´ì•ˆì—ì„œ ë” ì¤‘ìš”í•œ ê²ƒì€ ë¡œê·¸ì¸ ë° ë¡œê·¸ì•„ì›ƒ ìš”ì²­ì— ëŒ€í•´ CSRFë¥¼ ì‚¬ìš©í•´ì„œ ë¡œê·¸ì¸ ì‹œë„ë¥¼ ìœ„ì¡°í•˜ì§€ ëª»í•˜ë„ë¡ í•˜ëŠ” ê²ƒì´ë‹¤. ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ì˜ ê¸°ë³¸ í¼ ë¡œê·¸ì¸ì´ë‚˜ HTTP ë² ì´ì§ ì¸ì¦ì´ ì•„ë‹ˆë¼ ë³„ë„ì˜ APIë¥¼ ì‘ì„±í•œë‹¤ë©´ ë°˜ë“œì‹œ <a href="https://docs.spring.io/spring-security/reference/servlet/exploits/csrf.html#csrf-testing">CSRF í† í°ì´ ì ìš©ë˜ëŠ”ì§€ ê²€ì¦</a>í•˜ë„ë¡ í•˜ì.</p><h4 id="ë¦¬ë²„ìŠ¤-í”„ë¡ì‹œ-ë³´ì•ˆ"><a href="#ë¦¬ë²„ìŠ¤-í”„ë¡ì‹œ-ë³´ì•ˆ" class="headerlink" title="ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ë³´ì•ˆ"></a>ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ë³´ì•ˆ</h4><p>ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ <a href="https://docs.spring.io/spring-security/reference/features/exploits/headers.html">ë³´ì•ˆì„ ìœ„í•œ ì‘ë‹µ í—¤ë”</a>ë¥¼ ì¶”ê°€í•´ì¤€ë‹¤. ë‹¤ë§Œ, <a href="https://docs.spring.io/spring-security/reference/features/exploits/headers.html#headers-hsts">HSTS</a>ì˜ ê²½ìš°ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ìì²´ê°€ HTTPS í”„ë¡œí† ì½œë¡œ ì‹¤í–‰ë˜ì—ˆì„ë•Œ í™œì„±í™”ëœë‹¤. ë”°ë¼ì„œ, ì—”ì§„ì—‘ìŠ¤ì™€ ê°™ì€ ì›¹ ì„œë²„ë‚˜ ë¡œë“œë°¸ëŸ°ì„œë¥¼ í†µí•´ ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œë¥¼ êµ¬ì„±í•˜ëŠ” ê²½ìš°ì—ëŠ” HTTP í¬íŠ¸ë¥¼ ì‚¬ìš©í•´ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ë¯€ë¡œ <code>ì—”ì§„ì—‘ìŠ¤ì™€ ê°™ì€ ì›¹ ì„œë²„ì—ì„œ HSTS í—¤ë”ë¥¼ ì‘ë‹µ</code>í•˜ë„ë¡ í•˜ì.</p><pre class="language-conf" data-language="conf"><div class="caption"><span>nginx.conf</span></div><code class="language-conf">server &#123;    listen 443 ssl http2;    add_header Strict-Transport-Security &quot;max-age&#x3D;31536000; includeSubDomains&quot;;    location &#x2F;api&#x2F; &#123;        limit_except GET POST PUT DELETE OPTIONS &#123;            deny all;        &#125;    &#125;&#125;</code></pre><blockquote><p>ë¦¬ì•¡íŠ¸ ë˜ëŠ” ë·°ì˜ ë¹Œë“œ ì—ì…‹ì„ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë°°í¬í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì›¹ ì„œë²„ì—ì„œ ë³´ì•ˆ ì‘ë‹µ í—¤ë”ë¥¼ ë™ì¼í•˜ê²Œ ì „ë‹¬ë˜ë„ë¡ êµ¬ì„±í•´ì•¼í•©ë‹ˆë‹¤.</p></blockquote><h4 id="ì›¹ì†Œì¼“-ë³´ì•ˆ"><a href="#ì›¹ì†Œì¼“-ë³´ì•ˆ" class="headerlink" title="ì›¹ì†Œì¼“ ë³´ì•ˆ"></a>ì›¹ì†Œì¼“ ë³´ì•ˆ</h4><p>ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ HTTP í†µì‹ ì— ëŒ€í•œ ë³´ì•ˆ ì„¤ì •ì„ ì œê³µí•œë‹¤. ë§Œì•½, ì• í”Œë¦¬ì¼€ì´ì…˜ ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ì„ ìœ„í•´ ì›¹ì†Œì¼“ í”„ë¡œí† ì½œì„ ì‚¬ìš©í•œë‹¤ë©´ <a href="https://docs.spring.io/spring-security/reference/servlet/integrations/websocket.html">ì›¹ì†Œì¼“ì— ëŒ€í•œ ë³´ì•ˆ</a>ì— ëŒ€í•´ ë³„ë„ë¡œ ì²´í¬í•´ì•¼í•œë‹¤. ìŠ¤í”„ë§ ì‹œíë¦¬í‹° ëª¨ë“ˆì„ ì‚¬ìš©í•œë‹¤ë©´ ì¼ë°˜ì ì¸ ì›¹ì†Œì¼“ êµ¬í˜„ë³´ë‹¤ëŠ” STOMP ë°©ì‹ì˜ ì›¹ì†Œì¼“ ì—°ê²°ì„ êµ¬ì„±í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. <a href="https://docs.spring.io/spring-security/reference/servlet/integrations/websocket.html#websocket-sameorigin-csrf">CSRF</a>ì„ ì ìš©í•˜ê±°ë‚˜ SockJSë¥¼ ìœ„í•œ <a href="https://docs.spring.io/spring-security/reference/servlet/integrations/websocket.html#websocket-sockjs-sameorigin">iFrame</a> ì˜µì…˜ì„ ì²´í¬í•˜ë„ë¡ í•˜ì.</p><pre class="language-java" data-language="java"><div class="caption"><span>WebSocketSecurity.java</span></div><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token annotation punctuation">@EnableWebSocketSecurity</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebSocketSecurity</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">AuthorizationManager</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Message</span><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">></span><span class="token punctuation">></span></span> <span class="token function">messageAuthorizationManager</span><span class="token punctuation">(</span><span class="token class-name">MessageMatcherDelegatingAuthorizationManager<span class="token punctuation">.</span>Builder</span> messages<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// NOTE: Failed to send message to ExecutorSubscribableChannel[clientInboundChannel]: Access Denied</span>        messages                <span class="token punctuation">.</span><span class="token function">nullDestMatcher</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">authenticated</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">simpDestMatchers</span><span class="token punctuation">(</span><span class="token string">"/app/**"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hasRole</span><span class="token punctuation">(</span><span class="token string">"USER"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">simpSubscribeDestMatchers</span><span class="token punctuation">(</span><span class="token string">"/user/queue/error"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">authenticated</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">simpSubscribeDestMatchers</span><span class="token punctuation">(</span><span class="token string">"/user/**"</span><span class="token punctuation">,</span> <span class="token string">"/topic/hello"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hasRole</span><span class="token punctuation">(</span><span class="token string">"USER"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">anyMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">denyAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> messages<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><blockquote><p>SockJSì˜ ì›¹ì†Œì¼“ ì—°ê²°ì„ ìœ„í•´ ì‚¬ì „ì— ìš”ì²­í•˜ëŠ” &#x2F;info ì—”ë“œí¬ì¸íŠ¸ëŠ” ì¼ë°˜ì ì¸ HTTP í†µì‹ ì„ì— ì£¼ì˜í•˜ë„ë¡ í•´ì•¼í•©ë‹ˆë‹¤.</p></blockquote><p>ì• í”Œë¦¬ì¼€ì´ì…˜ ë³´ì•ˆ ì ê²€ìœ¼ë¡œ ì¸í•´ ë‹¤ì‹œ í•œë²ˆ í•™ìŠµí•˜ëŠ” ê²ƒì€ ì•ˆ ë¹„ë°€ì´ë‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;ë³¸ ê¸€ì€ ìŠ¤í”„ë§ ë¶€íŠ¸ í”„ë¡œì íŠ¸ë¡œ ë§Œë“¤ì–´ì§„ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ìŠ¤í”„ë§ ì‹œíë¦¬í‹° ëª¨ë“ˆì„ ì ìš©í•˜ëŠ” ê²½ìš°ì— ë³´ì•ˆ ì„¤ì •ì— ëŒ€í•´ ì •ë¦¬í•œ ê²ƒ ì…ë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ì˜¤í•´í•˜ê³  ìˆê±°ë‚˜ ì‹ ê²½ì“°ì§€ ì•ŠëŠ” ë¶€ë¶„ì— ëŒ€í•´ì„œ ë‹¤ë£¨ê³ ì í•©ë‹ˆë‹¤.&lt;/p&gt;
&lt;/bl</summary>
      
    
    
    
    
    <category term="Spring Security" scheme="https://kdevkr.github.io/tags/Spring-Security/"/>
    
    <category term="Protection Aganinst Exploits" scheme="https://kdevkr.github.io/tags/Protection-Aganinst-Exploits/"/>
    
  </entry>
  
  <entry>
    <title>Invalid SockJS Path.</title>
    <link href="https://kdevkr.github.io/invalid-sockjs-path/"/>
    <id>https://kdevkr.github.io/invalid-sockjs-path/</id>
    <published>2023-10-16T13:00:00.000Z</published>
    <updated>2024-01-01T01:22:22.873Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Invalid SockJS path â€˜XXXâ€™ required to have 3 path segments.</p></blockquote><p>êµ¬ê¸€ì— <a href="https://www.google.com/search?q=Invalid+SockJS+path">Invalid SockJS path</a> ë¼ëŠ” í‚¤ì›Œë“œë¡œ ê²€ìƒ‰í•´ë³´ë©´ ì´ì™€ ê°™ì€ ì˜¤ë¥˜ ë¡œê·¸ì— ëŒ€í•œ ì¡°ì¹˜ë¡œ <a href="https://stackoverflow.com/a/64576478">Stomp í´ë¼ì´ì–¸íŠ¸ë¥¼ ì‚¬ìš©í•˜ë¼ëŠ” ë‹µë³€</a>ì´ë‚˜ <a href="https://github.com/spring-projects/spring-framework/issues/28103">ìŠ¤íƒ ì˜¤ë²„í”Œë¡œìš°ì— ì§ˆë¬¸í•˜ë¼ëŠ” ë‹µë³€</a>ì„ ì°¾ì•„ë³¼ ìˆ˜ ìˆë‹¤. ì•„ë¬´íŠ¼ ìœ„ ìƒí™©ì— ëŒ€í•œ ì›ì¸ì€ ëª…í™•íˆ ì•Œ ìˆ˜ ì—†ëŠ” ìƒí™©ì—ì„œ ì•„ë˜ì™€ ê°™ì€ êµ¬ì¡°ì—ì„œ í•´ë‹¹ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆë‹¤.</p><ol><li>Nginx Websocket Proxy</li><li>Spring WebSocket with Stomp + SockJS</li><li><code>sockjs-client@1.6.1</code></li><li><code>@stomp/stompjs@7.0.0</code></li></ol><h4 id="ì´ìŠˆ-íŒŒì•…"><a href="#ì´ìŠˆ-íŒŒì•…" class="headerlink" title="ì´ìŠˆ íŒŒì•…"></a>ì´ìŠˆ íŒŒì•…</h4><p><a href="https://github.com/kdevkr/nginx.conf">nginx.conf</a>ì™€ ê°™ì´ ì—”ì§„ì—‘ìŠ¤ì—ì„œ ì›¹ì†Œì¼“ ì£¼ì†Œ íŒ¨í„´ì— ëŒ€í•´ ë°±ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œì˜ ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ êµ¬ì„±ì„ ì•„ë˜ì™€ ê°™ì´ í•´ë‘” ìƒíƒœì˜€ë‹¤. ê·¸ë¦¬ê³  Stomp ë°©ì‹ì˜ ì›¹ ì†Œì¼“ ì—°ê²°ì„ ìˆ˜í–‰í•˜ëŠ” ì—”ë“œí¬ì¸íŠ¸ëŠ” <code>/ws/stomp</code> ë¡œ ì •ì˜ë˜ì–´ìˆì—ˆë‹¤. ë³¸ë˜ <code>/ws</code> ëŠ” ì¼ë°˜ì ì¸ ì›¹ ì†Œì¼“ ì—°ê²°ì„ ìˆ˜í–‰í•˜ê³  <code>/ws/stmop</code>ë¡œ ì‹œì‘ë˜ëŠ” ê²ƒì€ Stompë¡œ ë™ì‘í•˜ëŠ” ê²ƒì„ ì˜ë„í•œ ê²ƒì´ë‹¤.</p><pre class="language-conf" data-language="conf"><div class="caption"><span>nginx.conf</span></div><code class="language-conf">http &#123;    upstream backend &#123;        server app:8080;        keepalive 128;    &#125;    server &#123;        location &#x2F;ws&#x2F; &#123;            proxy_pass http:&#x2F;&#x2F;backend;            proxy_set_header Host $host;            proxy_set_header X-Real-IP $remote_addr;            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;            # hop-by-hop            proxy_http_version 1.1;            proxy_set_header Connection &quot;upgrade&quot;;            proxy_set_header Upgrade $http_upgrade;            proxy_read_timeout 65s;        &#125;    &#125;&#125;</code></pre><blockquote><p>Vite ê°œë°œ ì„œë²„ì—ì„œì˜ Proxy êµ¬ì„±ì˜ ê²½ìš° ì˜¬ë°”ë¥´ê²Œ Stomp ë°©ì‹ì˜ ì›¹ì†Œì¼“ ì—°ê²°ì„ ìˆ˜í–‰ëœë‹¤.</p></blockquote><p>í•˜ì§€ë§Œ, ì—”ì§„ì—‘ìŠ¤ì™€ í•¨ê»˜ ë™ì‘ì¤‘ì¸ ë°°í¬ í™˜ê²½ì—ì„œëŠ” Stomp í´ë¼ì´ì–¸íŠ¸ê°€ SockJSë¥¼ ì‚¬ìš©í•˜ì—¬ ì—°ê²°ì„ ìˆ˜í–‰í•˜ë ¤ê³  í• ë•Œ <code>/ws/stomp/info?t=0</code> ì—”ë“œí¬ì¸íŠ¸ì— ëŒ€í•´ 404 ì‘ë‹µì„ ë°›ê²Œë˜ê³  ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸ì—ëŠ” <code>Invalid SockJS path ...</code>ê°€ ì¶œë ¥ë˜ëŠ” ê²ƒì„ í™•ì¸í–ˆë‹¤.</p><h4 id="ì†”ë£¨ì…˜"><a href="#ì†”ë£¨ì…˜" class="headerlink" title="ì†”ë£¨ì…˜"></a>ì†”ë£¨ì…˜</h4><p>ì´ë¦¬ì €ë¦¬ ì‹œë„í•´ë³¸ ê²°ê³¼ í•´ê²°ì±…ì€ ì¼ë°˜ì ì¸ ì›¹ ì†Œì¼“ ì—°ê²°ê³¼ Stomp ë°©ì‹ì˜ ì—°ê²°ì„ ì•„ì˜ˆ ë¶„ë¦¬í•˜ëŠ” ê²ƒì´ë‹¤. <code>/ws/</code> ì´ì™¸ì— <code>/ws-stomp/</code>ë¡œ Stomp ë°©ì‹ì˜ ì›¹ ì†Œì¼“ ì—°ê²°ì„ ìœ„í•œ ë³„ë„ì˜ ì—”ë“œí¬ì¸íŠ¸ íŒ¨í„´ì„ ì‚¬ìš©í•˜ê³  ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ êµ¬ì„±ì„ í•˜ê³ ë‚˜ë‹ˆ í•´ë‹¹ ì¦ìƒì€ ë°œìƒí•˜ì§€ ì•Šì•˜ë‹¤.</p><pre class="language-conf" data-language="conf"><div class="caption"><span>nginx.conf</span></div><code class="language-conf">http &#123;    upstream backend &#123;        server app:8080;        keepalive 128;    &#125;    server &#123;        location ~ ^&#x2F;(ws|ws-stomp)&#x2F; &#123;            proxy_pass http:&#x2F;&#x2F;backend;            proxy_set_header Host $host;            proxy_set_header X-Real-IP $remote_addr;            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;            # hop-by-hop            proxy_http_version 1.1;            proxy_set_header Connection &quot;upgrade&quot;;            proxy_set_header Upgrade $http_upgrade;            proxy_read_timeout 65s;        &#125;    &#125;&#125;</code></pre><p>ì•„ë¬´íŠ¼ ì •í™•í•œ ì›ì¸ì— ëŒ€í•´ì„œëŠ” ë³„ë„ë¡œ ì°¾ì•„ë³´ì•„ì•¼ê² ì§€ë§Œ ê¸°ë¡ìœ¼ë¡œ ë‚¨ê¸°ê³ ì í•œë‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;Invalid SockJS path â€˜XXXâ€™ required to have 3 path segments.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;êµ¬ê¸€ì— &lt;a href=&quot;https://www.google.com/search?</summary>
      
    
    
    
    
    <category term="Nginx" scheme="https://kdevkr.github.io/tags/Nginx/"/>
    
    <category term="Spring" scheme="https://kdevkr.github.io/tags/Spring/"/>
    
    <category term="SockJS" scheme="https://kdevkr.github.io/tags/SockJS/"/>
    
    <category term="Stomp" scheme="https://kdevkr.github.io/tags/Stomp/"/>
    
  </entry>
  
  <entry>
    <title>ìŠ¤í”„ë§ ë¶€íŠ¸ ì›¹ì†Œì¼“</title>
    <link href="https://kdevkr.github.io/spring-boot-websocket/"/>
    <id>https://kdevkr.github.io/spring-boot-websocket/</id>
    <published>2023-10-14T13:00:00.000Z</published>
    <updated>2024-01-01T01:22:22.877Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ë³¸ ê¸€ì—ì„œ ì–¸ê¸‰í•˜ëŠ” ê´€ë ¨ ì½”ë“œëŠ” <a href="https://github.com/kdevkr/spring-boot-demo/tree/main/websocket-demo">github.com&#x2F;kdevkr&#x2F;spring-boot-demo&#x2F;websocket-demo</a>ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p></blockquote><p>ì¼ë°˜ì ì¸ ìŠ¤í”„ë§ ë¶€íŠ¸ ìŠ¤íƒ€í„°ì™€ëŠ” ë‹¤ë¥´ê²Œ ìŠ¤íƒ€í„° ì›¹ì†Œì¼“ ëª¨ë“ˆì—ëŠ” ì›¹ì†Œì¼“ ì—°ê²°ì— ëŒ€í•œ ìë™ êµ¬ì„±ì„ ìˆ˜í–‰í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. ì›¹ì†Œì¼“ ê´€ë ¨í•œ ìë™ êµ¬ì„±(WebSocketServletAutoConfiguration)ì€ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©ì¤‘ì¸ ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆì— ë”°ë¼ ì›¹ì†Œì¼“ì— ëŒ€í•´ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ í™•ì¥í•˜ë©° WebSocketMessagingAutoConfiguration ì—ì„œëŠ” Stomp ë°©ì‹ì˜ ì›¹ì†Œì¼“ì„ ìœ„í•œ ë©”ì‹œì§€ ë¸Œë¡œì»¤ë¥¼ êµ¬ì„±í•  ë•Œ ì‚¬ìš©ë˜ëŠ” ë©”ì‹œì§€ ì»¨ë²„í„°ë¥¼ ì„¤ì •í•œë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebSocketConfig</span> <span class="token keyword">implements</span> <span class="token class-name">WebSocketConfigurer</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">registerWebSocketHandlers</span><span class="token punctuation">(</span><span class="token class-name">WebSocketHandlerRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        registry<span class="token punctuation">.</span><span class="token function">addHandler</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TextWebSocketHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">"/ws"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">setAllowedOriginPatterns</span><span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">addInterceptors</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HttpSessionHandshakeInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">withSockJS</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p><a href="https://docs.spring.io/spring-framework/reference/web/websocket/server.html">WebSocket API</a>ì˜ WebSocketConfigurer ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ì—¬ ì›¹ì†Œì¼“ ì—°ê²°ì— ëŒ€í•´ì„œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” í•¸ë“¤ëŸ¬ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ë‚˜, ì¼ë°˜ì ì¸ ì›¹ì†Œì¼“ ì—°ê²° ë°©ì‹ì—ëŠ” ì—¬ëŸ¬ê°€ì§€ ë‹¨ì ì´ ìˆëŠ”ë° ì„¸ì…˜ê³¼ ì‹œíë¦¬í‹°ì™€ ê°™ì€ ë¶€ê°€ì ì¸ ê¸°ëŠ¥ê³¼ì˜ ì—°ê³„ë¥¼ ì§ì ‘ì ìœ¼ë¡œ êµ¬í˜„í•´ì•¼í•œë‹¤ëŠ” ê²ƒì´ë‹¤.</p><h4 id="SockJS-Fallback"><a href="#SockJS-Fallback" class="headerlink" title="SockJS Fallback"></a>SockJS Fallback</h4><p><a href="https://docs.spring.io/spring-framework/reference/web/websocket/fallback.html">SockJS</a>ëŠ” ì›¹ì†Œì¼“ ì—°ê²°ì— ëŒ€í•œ ë¬¸ì œë¥¼ ë³´ì™„í•˜ê¸° ìœ„í•´ì„œ ë„ì…í•˜ëŠ” ê¸°ìˆ ì´ë©° SockJS í´ë¼ì´ì–¸íŠ¸ëŠ” ì›¹ì†Œì¼“ ì—°ê²° ì£¼ì†Œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì„œë²„ì—ê²Œ &#x2F;info ì—”ë“œí¬ì¸íŠ¸ë¥¼ ìš”ì²­í•˜ì—¬ ì›¹ì†Œì¼“ ì—°ê²° ë°©ì‹ì— ëŒ€í•´ ì§ˆì˜ë¥¼ í•˜ê³  ì‘ë‹µë°›ì€ ê²°ê³¼ë¥¼ í† ëŒ€ë¡œ ì—°ê²°ì„ ì‹œë„í•œë‹¤. ìŠ¤í”„ë§ ì›¹ì†Œì¼“ ëª¨ë“ˆì˜ DefaultSockJsService ì—ì„œëŠ” ì•„ë˜ì™€ ê°™ì€ ì—°ê²°ì„ ì§€ì›í•œë‹¤.</p><pre class="language-java" data-language="java"><div class="caption"><span>DefaultSockJsService.java</span></div><code class="language-java"><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">TransportHandler</span><span class="token punctuation">></span></span> <span class="token function">getDefaultTransportHandlers</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">TransportHandler</span><span class="token punctuation">></span></span> overrides<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">TransportHandler</span><span class="token punctuation">></span></span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedHashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    result<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">XhrPollingTransportHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    result<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">XhrReceivingTransportHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    result<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">XhrStreamingTransportHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    result<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">EventSourceTransportHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    result<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HtmlFileTransportHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>        result<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">WebSocketTransportHandler</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DefaultHandshakeHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// ...</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>overrides <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        result<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>overrides<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> result<span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># http://localhost:8080/ws/info?t=1696757550304</span><span class="token punctuation">&#123;</span>  <span class="token string">"entropy"</span><span class="token builtin class-name">:</span> <span class="token number">1279751018</span>,  <span class="token string">"origins"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>    <span class="token string">"*:*"</span>  <span class="token punctuation">]</span>,  <span class="token string">"cookie_needed"</span><span class="token builtin class-name">:</span> true,  <span class="token string">"websocket"</span><span class="token builtin class-name">:</span> <span class="token boolean">true</span><span class="token punctuation">&#125;</span><span class="token comment"># &#123;websocket-protocol&#125;://&#123;host&#125;:&#123;port&#125;/&#123;websocket-endpoint&#125;/&#123;server-id&#125;/&#123;session-id&#125;/&#123;transport&#125;</span>ws://localhost:8080/ws/712/yyfmvviz/websocket</code></pre><blockquote><p>ê¸°ë³¸ì ìœ¼ë¡œ SockJsServiceRegistrationì˜ ì›¹ì†Œì¼“ ì—°ê²° ì„¤ì •ì´ í™œì„±í™”ë˜ì–´ìˆê³  ì¼ë¶€ ë¡œë“œë°¸ëŸ°ì„œì—ì„œ ì›¹ì†Œì¼“ì„ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ë¹„í™œì„±í™”í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•œë‹¤.</p></blockquote><h4 id="Stomp-over-WebSocket"><a href="#Stomp-over-WebSocket" class="headerlink" title="Stomp over WebSocket"></a>Stomp over WebSocket</h4><h4 id="Webjars"><a href="#Webjars" class="headerlink" title="Webjars"></a>Webjars</h4><p>ë¦¬ì•¡íŠ¸ë‚˜ ë·°ì™€ ê°™ì€ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ í™˜ê²½ì„ êµ¬ì„±í•œë‹¤ë©´ ìì²´ì ìœ¼ë¡œ ë¼ì´ë¸ŒëŸ¬ë¦¬ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ê³  ê´€ë¦¬í•˜ê² ì§€ë§Œ ë°±ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì œê³µí•˜ê³  ì‹¶ë‹¤ë©´ Webjarsë¥¼ ì´ìš©í•  ìˆ˜ë„ ìˆë‹¤.</p><pre class="language-groovy" data-language="groovy"><div class="caption"><span>build.gradle</span></div><code class="language-groovy">dependencies <span class="token punctuation">&#123;</span>    implementation <span class="token string">'org.webjars:webjars-locator-core:0.53'</span>    implementation <span class="token string">'org.webjars:sockjs-client:1.5.1'</span>    implementation <span class="token string">'org.webjars:stomp-websocket:2.3.4'</span><span class="token punctuation">&#125;</span></code></pre><h4 id="ìŠ¤í”„ë§-ì„¸ì…˜ê³¼ì˜-í†µí•©"><a href="#ìŠ¤í”„ë§-ì„¸ì…˜ê³¼ì˜-í†µí•©" class="headerlink" title="ìŠ¤í”„ë§ ì„¸ì…˜ê³¼ì˜ í†µí•©"></a>ìŠ¤í”„ë§ ì„¸ì…˜ê³¼ì˜ í†µí•©</h4><p>Stomp ë°©ì‹ì˜ ì›¹ ì†Œì¼“ ì—°ê²°ì„ êµ¬ì„±í•˜ëŠ” ê²½ìš°ì—ëŠ” WebSocketMessageBrokerConfigurerë¥¼ ì§ì ‘ êµ¬í˜„í•˜ê¸°ë³´ë‹¤ ìŠ¤í”„ë§ ì„¸ì…˜ ëª¨ë“ˆì— í¬í•¨ë˜ì–´ìˆëŠ” AbstractSessionWebSocketMessageBrokerConfigurerë¥¼ í™•ì¥í•˜ëŠ” ê²ƒì´ ë” í¸ë¦¬í•˜ë‹¤. ìŠ¤í”„ë§ ì„¸ì…˜ê³¼ ì—°ê³„ë˜ëŠ” ë¯¸ë¦¬ êµ¬í˜„ëœ í´ë˜ìŠ¤ë“¤ì„ ë¹ˆìœ¼ë¡œ ë“±ë¡í•˜ì—¬ ì›¹ì†Œì¼“ ì„¸ì…˜(WebSocketSession)ì—ì„œ ì‚¬ìš©ì ì •ë³´ë¥¼ ì£¼ì…í•˜ê³  ì‰½ê²Œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë„ë¡ ì§€ì›í•œë‹¤.</p><pre class="language-groovy" data-language="groovy"><div class="caption"><span>build.gradle</span></div><code class="language-groovy">dependencies <span class="token punctuation">&#123;</span>    implementation <span class="token string">'org.springframework.boot:spring-boot-starter-websocket'</span>    implementation <span class="token string">'org.springframework.session:spring-session-core'</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@EnableWebSocketMessageBroker</span><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StompConfig</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractSessionWebSocketMessageBrokerConfigurer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MapSession</span><span class="token punctuation">></span></span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">configureStompEndpoints</span><span class="token punctuation">(</span><span class="token class-name">StompEndpointRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        registry<span class="token punctuation">.</span><span class="token function">addEndpoint</span><span class="token punctuation">(</span><span class="token string">"/ws/stomp"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">setAllowedOriginPatterns</span><span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">withSockJS</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">configureMessageBroker</span><span class="token punctuation">(</span><span class="token class-name">MessageBrokerRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// NOTE: /topic: Broadcast, /queue: Unicast</span>        registry<span class="token punctuation">.</span><span class="token function">enableSimpleBroker</span><span class="token punctuation">(</span><span class="token string">"/topic"</span><span class="token punctuation">,</span> <span class="token string">"/queue"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        registry<span class="token punctuation">.</span><span class="token function">setApplicationDestinationPrefixes</span><span class="token punctuation">(</span><span class="token string">"/app"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        registry<span class="token punctuation">.</span><span class="token function">setPreservePublishOrder</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-java" data-language="java"><div class="caption"><span>StompController.java</span></div><code class="language-java"><span class="token annotation punctuation">@AllArgsConstructor</span><span class="token annotation punctuation">@Slf4j</span><span class="token annotation punctuation">@RestController</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StompController</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">SimpMessagingTemplate</span> template<span class="token punctuation">;</span>    <span class="token annotation punctuation">@SendTo</span><span class="token punctuation">(</span><span class="token string">"/topic/hello"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@MessageMapping</span><span class="token punctuation">(</span><span class="token string">"/hello"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token class-name">GenericMessage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> message<span class="token punctuation">,</span>                                     <span class="token annotation punctuation">@Header</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"simpSessionId"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> wsSessionId<span class="token punctuation">,</span>                                     <span class="token annotation punctuation">@Header</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"simpSessionAttributes"</span><span class="token punctuation">)</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> sessionAttributes<span class="token punctuation">,</span>                                     <span class="token class-name">Principal</span> principal<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">String</span> username <span class="token operator">=</span> <span class="token class-name">SessionRepositoryMessageInterceptor</span><span class="token punctuation">.</span><span class="token function">getSessionId</span><span class="token punctuation">(</span>sessionAttributes<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>principal <span class="token keyword">instanceof</span> <span class="token class-name">Authentication</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            username <span class="token operator">=</span> principal<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> payload <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        payload<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"message"</span><span class="token punctuation">,</span> <span class="token string">"Hello, %s"</span><span class="token punctuation">.</span><span class="token function">formatted</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        payload<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"from"</span><span class="token punctuation">,</span> <span class="token string">"StompController"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// NOTE: similar @SendToUser</span>        template<span class="token punctuation">.</span><span class="token function">convertAndSendToUser</span><span class="token punctuation">(</span>wsSessionId<span class="token punctuation">,</span> <span class="token string">"/queue/hello"</span><span class="token punctuation">,</span> payload<span class="token punctuation">,</span> message<span class="token punctuation">.</span><span class="token function">getHeaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> payload<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><h4 id="ìŠ¤í”„ë§-ì‹œíë¦¬í‹°ì™€ì˜-í†µí•©"><a href="#ìŠ¤í”„ë§-ì‹œíë¦¬í‹°ì™€ì˜-í†µí•©" class="headerlink" title="ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ì™€ì˜ í†µí•©"></a>ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ì™€ì˜ í†µí•©</h4><p>Stomp ë°©ì‹ì˜ ì›¹ ì†Œì¼“ ì—°ê²°ì˜ ê²½ìš° ìŠ¤í”„ë§ ì„¸ì…˜ê³¼ì˜ í†µí•©ì²˜ëŸ¼ ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ì™€ì˜ í†µí•©ë„ ì§€ì›í•œë‹¤. ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ê°€ ê¸°ë³¸ HTTP ë³´ì•ˆì„ ì„¤ì •í•œë‹¤ë©´ @EnableWebSocketSecurityê°€ ì„ ì–¸ëœ êµ¬ì„± í´ë˜ìŠ¤ë¥¼ í†µí•´ì„œ Stomp ë©”ì‹œì§€ì— ëŒ€í•´ ë³´ì•ˆ ê·œì¹™ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. ì¼ë°˜ì ì¸ ì›¹ ì†Œì¼“ ì—°ê²°ì„ êµ¬ì„±í•˜ëŠ” ê²½ìš°ì— ë³´ì•ˆì ì¸ ë¡œì§ì„ ì§ì ‘ êµ¬í˜„í•´ì•¼í•˜ì§€ë§Œ ë” ê°„ë‹¨í•˜ê²Œ ì ìš©í•  ìˆ˜ ìˆë‹¤.</p><pre class="language-groovy" data-language="groovy"><div class="caption"><span>build.gradle</span></div><code class="language-groovy">dependencies <span class="token punctuation">&#123;</span>    implementation <span class="token string">'org.springframework.boot:spring-boot-starter-security'</span>    implementation <span class="token string">'org.springframework.security:spring-security-messaging'</span>    testImplementation <span class="token string">'org.springframework.security:spring-security-test'</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-java" data-language="java"><div class="caption"><span>WebSocketSecurity.java</span></div><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token annotation punctuation">@EnableWebSocketSecurity</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebSocketSecurity</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">AuthorizationManager</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Message</span><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">></span><span class="token punctuation">></span></span> <span class="token function">messageAuthorizationManager</span><span class="token punctuation">(</span><span class="token class-name">MessageMatcherDelegatingAuthorizationManager<span class="token punctuation">.</span>Builder</span> messages<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// NOTE: Failed to send message to ExecutorSubscribableChannel[clientInboundChannel]: Access Denied</span>        messages                <span class="token punctuation">.</span><span class="token function">nullDestMatcher</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">authenticated</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">simpDestMatchers</span><span class="token punctuation">(</span><span class="token string">"/app/**"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hasRole</span><span class="token punctuation">(</span><span class="token string">"USER"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">simpSubscribeDestMatchers</span><span class="token punctuation">(</span><span class="token string">"/user/queue/error"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">authenticated</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">simpSubscribeDestMatchers</span><span class="token punctuation">(</span><span class="token string">"/user/**"</span><span class="token punctuation">,</span> <span class="token string">"/topic/hello"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hasRole</span><span class="token punctuation">(</span><span class="token string">"USER"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">anyMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">denyAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> messages<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><h4 id="WebSocketSession-Management"><a href="#WebSocketSession-Management" class="headerlink" title="WebSocketSession Management"></a>WebSocketSession Management</h4><p>ìŠ¤ì¼€ì¤„ë§ ê¸°ëŠ¥ì„ í†µí•´ íŠ¹ì • ìƒí™©ì—ì„œ ì›¹ì†Œì¼“ì— ì—°ê²°ëœ ì‚¬ìš©ìì—ê²Œ ë©”ì‹œì§€ë¥¼ ì „ë‹¬í•  í•„ìš”ì„±ì´ ìˆë‹¤. ì›¹ ì†Œì¼“ ì—°ê²°ì— ëŒ€í•œ ì„¸ì…˜ ê´€ë¦¬ë¥¼ í•´ì£¼ì§€ë§Œ ì„¸ì…˜ì´ ì—°ê²°ì¤‘ì¸ WebSocketSession ëª©ë¡ì€ ê´€ë¦¬í•´ì£¼ì§€ ì•ŠëŠ”ë‹¤. ì•ì„œ, WebSocketRegistryListenerë¥¼ í†µí•´ ì—°ê²°ê³¼ í•´ì§€ ê·¸ë¦¬ê³  ë©”ì‹œì§€ ìˆ˜ì‹  êµ¬ë…ì— ëŒ€í•œ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•  í•¸ë“¤ëŸ¬ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì›¹ ì†Œì¼“ ì„¸ì…˜ì„ ì €ì¥í•˜ëŠ” í´ë˜ìŠ¤ë¥¼ êµ¬í˜„í•´ë³´ë„ë¡ í•˜ì.</p><ul><li><a href="https://github.com/kdevkr/spring-boot-demo/blob/main/websocket-demo/src/main/java/kr/kdev/demo/WebSocketRepository.java">WebSocketRepository.java</a></li><li><a href="https://github.com/kdevkr/spring-boot-demo/blob/main/websocket-demo/src/main/java/kr/kdev/demo/WebSocketEventHandler.java">WebSocketEventHandler.java</a></li></ul><p>ì¼ë¶€ ì˜ˆì œì—ì„œëŠ” WebSocketHandlerDecorator í´ë˜ìŠ¤ë¥¼ í™•ì¥í•˜ì—¬ ì›¹ ì†Œì¼“ ì„¸ì…˜ ê´€ë¦¬ë¥¼ êµ¬í˜„í•˜ëŠ” ê²ƒì„ ì°¾ì•„ë³¼ ìˆ˜ ìˆìœ¼ë‚˜ ì´ë¯¸ êµ¬í˜„ë˜ì–´ìˆê³  êµ³ì´ í•¸ë“¤ëŸ¬ë¥¼ êµì²´í•  í•„ìš”ê°€ ì—†ì´ ìœ„ì™€ ê°™ì´ ì´ë²¤íŠ¸ë§Œì„ ë°›ì•„ì„œ ì²˜ë¦¬í•˜ëŠ”ê²Œ ë” ê°„ë‹¨í•˜ë‹¤. ë˜í•œ, êµ³ì´ í•¸ë“¤ëŸ¬ ìœ„ì¹˜ê°€ ì•„ë‹ˆë”ë¼ë„ SimpMessagingTemplateë¥¼ í†µí•´ <a href="https://docs.spring.io/spring-framework/reference/web/websocket/stomp/handle-send.html">ë©”ì‹œì§€ë¥¼ ì†¡ì‹ </a>í•  ìˆ˜ ìˆë‹¤. SessionSubscribeEvent ì™€ SessionUnsubscribeEventëŠ” ì„¸ì…˜ ìì²´ë¥¼ ì „ë‹¬í•´ì£¼ì§€ëŠ” ì•Šì§€ë§Œ ì›¹ì†Œì¼“ ì„¸ì…˜ ì•„ì´ë””ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìœ¼ë¯€ë¡œ íŠ¹ì • íŒ¨í„´ì˜ êµ¬ë… ì£¼ì†Œë¥¼ ê°ì§€í•˜ì—¬ ì„¸ì…˜ ì•„ì´ë”” ëª©ë¡ì„ ê´€ë¦¬í•˜ê³  ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì–´ë– í•œ ë°ì´í„°ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.</p><blockquote><p>ìŠ¤í”„ë§ ì„¸ì…˜ ëª¨ë“ˆê³¼ ì—°ê³„ëœ ì›¹ì†Œì¼“ ì—°ê²°ì„ êµ¬ì„±í•˜ëŠ” ê²½ìš°ì— SimpMessaingTemplateë¥¼ í†µí•´ ì›¹ì†Œì¼“ ì„¸ì…˜ ì•„ì´ë””ê°€ ì•„ë‹Œ ì‚¬ìš©ì ì´ë¦„ìœ¼ë¡œë„ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.</p></blockquote><h4 id="ì›¹-ì†Œì¼“-ê´€ë ¨-ë¬¸ì„œ"><a href="#ì›¹-ì†Œì¼“-ê´€ë ¨-ë¬¸ì„œ" class="headerlink" title="ì›¹ ì†Œì¼“ ê´€ë ¨ ë¬¸ì„œ"></a>ì›¹ ì†Œì¼“ ê´€ë ¨ ë¬¸ì„œ</h4><ul><li><a href="https://docs.spring.io/spring-framework/reference/web/websocket.html">Spring Framework - WebSockets</a></li><li><a href="https://docs.spring.io/spring-session/reference/web-socket.html">Spring Session - WebSocket Integration</a></li><li><a href="https://docs.spring.io/spring-security/reference/servlet/integrations/websocket.html">Spring Security - WebSocket Security</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;ë³¸ ê¸€ì—ì„œ ì–¸ê¸‰í•˜ëŠ” ê´€ë ¨ ì½”ë“œëŠ” &lt;a href=&quot;https://github.com/kdevkr/spring-boot-demo/tree/main/websocket-demo&quot;&gt;github.com&amp;#x2F;kdevkr&amp;#x2F;</summary>
      
    
    
    
    
    <category term="SockJS" scheme="https://kdevkr.github.io/tags/SockJS/"/>
    
    <category term="WebSocket" scheme="https://kdevkr.github.io/tags/WebSocket/"/>
    
    <category term="STOMP" scheme="https://kdevkr.github.io/tags/STOMP/"/>
    
  </entry>
  
  <entry>
    <title>Systemd ì„œë¹„ìŠ¤ë¡œ ìë°” ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰í•˜ê¸°</title>
    <link href="https://kdevkr.github.io/java-app-service-with-systemd/"/>
    <id>https://kdevkr.github.io/java-app-service-with-systemd/</id>
    <published>2023-10-12T14:00:00.000Z</published>
    <updated>2024-01-01T01:22:22.873Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.baeldung.com/linux/run-java-application-as-service">Run a Java Application as a Service on Linux</a> ë¥¼ ì°¸ê³ í•´ë³´ë‹ˆ <code>Systemd</code> ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•´ì„œ ìë°” ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ê³  ê´€ë¦¬í•˜ëŠ” ì„œë¹„ìŠ¤ë¥¼ ë“±ë¡í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œê²Œë˜ì—ˆë‹¤. ê·¸ë™ì•ˆ ìë°” ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬í•˜ê¸° ìœ„í•œ <code>ì‰˜ ìŠ¤í¬ë¦½íŠ¸</code>ë¥¼ ì‘ì„±í•˜ì—¬ ì‹¤í–‰í•˜ê³  ì¢…ë£Œí•˜ê³  ë°°í¬í•´ì˜¤ê³¤ í–ˆë‹¤. ë°˜ë©´ì— Nginxì˜ ê²½ìš° íŒ¨í‚¤ì§€ë¡œ ì„¤ì¹˜í•˜ì—¬ ìë™ìœ¼ë¡œ ì„œë¹„ìŠ¤ê°€ ë§Œë“¤ì–´ì ¸ì„œ ì‰½ê²Œ ì‹¤í–‰í•  ìˆ˜ ìˆì—ˆë‹¤. ì‹ ê·œ í”„ë¡œì íŠ¸ë¡œ ì¸í•´ ë°ëª¨ìš© ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìƒˆë¡­ê²Œ ë°°í¬í•´ì•¼í•˜ëŠ” ìš”êµ¬ì‚¬í•­ì´ ìƒê²¼ê¸°ì— ì´ë²ˆì—ëŠ” Systemd ì„œë¹„ìŠ¤ë¡œ ë“±ë¡í•˜ì—¬ ê´€ë¦¬í•´ë³´ì.</p><h4 id="Systemd-ì„œë¹„ìŠ¤-ë“±ë¡í•˜ê¸°"><a href="#Systemd-ì„œë¹„ìŠ¤-ë“±ë¡í•˜ê¸°" class="headerlink" title="Systemd ì„œë¹„ìŠ¤ ë“±ë¡í•˜ê¸°"></a>Systemd ì„œë¹„ìŠ¤ ë“±ë¡í•˜ê¸°</h4><p><code>/etc/systemd/system/</code> í´ë” í•˜ìœ„ì— <code>vi</code> ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ì„œ ì•„ë˜ì™€ ê°™ì´ ì„œë¹„ìŠ¤ íŒŒì¼ì„ ë§Œë“¤ì–´ì•¼ í•œë‹¤. <code>ì• í”Œë¦¬ì¼€ì´ì…˜ ë˜ëŠ” ì„œë¹„ìŠ¤ ì´ë¦„</code>ì„ íŒŒì¼ëª…ìœ¼ë¡œ ì‘ì„±í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•œë‹¤. </p><pre class="language-bash" data-language="bash"><div class="caption"><span>/etc/systemd/system/app.service</span></div><code class="language-bash"><span class="token punctuation">[</span>Unit<span class="token punctuation">]</span><span class="token assign-left variable">Description</span><span class="token operator">=</span>Java application <span class="token function">service</span><span class="token assign-left variable">After</span><span class="token operator">=</span>syslog.target network.target<span class="token punctuation">[</span>Service<span class="token punctuation">]</span><span class="token assign-left variable">Type</span><span class="token operator">=</span>simple<span class="token assign-left variable">SuccessExitStatus</span><span class="token operator">=</span><span class="token number">143</span><span class="token assign-left variable">Restart</span><span class="token operator">=</span>on-failure<span class="token assign-left variable">RestartSec</span><span class="token operator">=</span>10s<span class="token assign-left variable">User</span><span class="token operator">=</span>ubuntu<span class="token assign-left variable">Group</span><span class="token operator">=</span>ubuntu<span class="token assign-left variable">WorkingDirectory</span><span class="token operator">=</span>/home/ubuntu/<span class="token assign-left variable">Environment</span><span class="token operator">=</span>JAVA_HOME<span class="token operator">=</span>/home/ubuntu/.sdkman/candidates/java/current<span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/bin/java <span class="token parameter variable">-jar</span> /home/ubuntu/app.jar<span class="token assign-left variable">ExecStop</span><span class="token operator">=</span>/bin/kill <span class="token parameter variable">-15</span> <span class="token variable">$MAINPID</span><span class="token punctuation">[</span>Install<span class="token punctuation">]</span><span class="token assign-left variable">WantedBy</span><span class="token operator">=</span>multi-user.target</code></pre><blockquote><p>ë¦¬ëˆ…ìŠ¤ ì„œë²„ì— ì—¬ëŸ¬ê°œì˜ ìë°” ë²„ì „ì„ í˜¼ìš©í•˜ëŠ” ê²½ìš° ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ ì‹œ í•„ìš”í•œ JDK ë²„ì „ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì§€ì •í•˜ë„ë¡ í•˜ì. ì˜ˆê¸°ì¹˜ ì•Šì€ ìƒí™©ìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì¢…ë£Œë˜ëŠ” ê²½ìš° ë‹¤ì‹œ ì‹¤í–‰ë  ìˆ˜ ìˆë„ë¡ Restart ì˜µì…˜ì„ ì ìš©í•˜ëŠ” ê²ƒì„ ê³ ë ¤í•˜ì.</p></blockquote><h4 id="Systemd-ì„œë¹„ìŠ¤-ì‹¤í–‰í•˜ê¸°"><a href="#Systemd-ì„œë¹„ìŠ¤-ì‹¤í–‰í•˜ê¸°" class="headerlink" title="Systemd ì„œë¹„ìŠ¤ ì‹¤í–‰í•˜ê¸°"></a>Systemd ì„œë¹„ìŠ¤ ì‹¤í–‰í•˜ê¸°</h4><p><code>service</code> ëª…ë ¹ì–´ë¥¼ í†µí•´ ìë°” ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë¹„ìŠ¤ë¥¼ ì‹¤í–‰í•˜ê³  ì¢…ë£Œí•  ìˆ˜ ìˆìœ¼ë‚˜ <code>systemctl</code> ëª…ë ¹ì–´ë¥¼ í†µí•´ ì„œë¹„ìŠ¤ë¥¼ ë°˜ì˜í•˜ê³  ë¦¬ëˆ…ìŠ¤ ì„œë²„ê°€ ë‹¤ì‹œ ì‹¤í–‰ë˜ì–´ systemd ì„œë¹„ìŠ¤ê°€ ì‹¤í–‰ë˜ë©´ ìë™ìœ¼ë¡œ ì‹œì‘ë  ìˆ˜ ìˆë„ë¡ <code>enable</code> ëª…ë ¹ì–´ë¥¼ ìˆ˜í–‰í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.</p><pre class="language-bash" data-language="bash"><div class="caption"><span>Termianl</span></div><code class="language-bash"><span class="token function">sudo</span> systemctl daemon-reload<span class="token comment"># Systemd ì„œë¹„ìŠ¤ ì‹œì‘ ì‹œ ìë™ ì‹¤í–‰ ë“±ë¡</span>ubuntu@ubuntu:~$ <span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> app.serviceCreated symlink /etc/systemd/system/multi-user.target.wants/app.service â†’ /etc/systemd/system/app.service.<span class="token function">sudo</span> systemctl status app.service <span class="token comment"># sudo service app status</span>ubuntu@ubuntu:~$ <span class="token function">sudo</span> <span class="token function">service</span> app statusâ— app.service - Java application <span class="token function">service</span>     Loaded: loaded <span class="token punctuation">(</span>/etc/systemd/system/app.service<span class="token punctuation">;</span> enabled<span class="token punctuation">;</span> vendor preset: enabled<span class="token punctuation">)</span>     Active: active <span class="token punctuation">(</span>running<span class="token punctuation">)</span> since Thu <span class="token number">2023</span>-10-12 <span class="token number">14</span>:01:24 UTC<span class="token punctuation">;</span> 22min ago   Main PID: <span class="token number">25835</span> <span class="token punctuation">(</span>java<span class="token punctuation">)</span>      Tasks: <span class="token number">23</span> <span class="token punctuation">(</span>limit: <span class="token number">2256</span><span class="token punctuation">)</span>     Memory: <span class="token number">150</span>.6M     CGroup: /system.slice/app.service             â””â”€25835 /bin/java <span class="token parameter variable">-jar</span> /home/ubuntu/app.jar</code></pre><blockquote><p>ê°€ë”ì”© íŒ¨í‚¤ì§€ë¡œ ì„¤ì¹˜í•œ ì„œë¹„ìŠ¤ë“¤ì´ ì˜ˆê¸°ì¹˜ ì•Šì€ ìƒí™©ìœ¼ë¡œ ë¦¬ëˆ…ìŠ¤ ì„œë²„ê°€ ì¬ì‹¤í–‰ë˜ì—ˆì„ë•Œ ìë™ìœ¼ë¡œ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ” ìƒí™©ì´ ì¢…ì¢… ë°œìƒí•œë‹¤.<br>ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ëŠ” ê²ƒì— ê·¸ì¹˜ì§€ ì•Šê³  ë‹¤ì–‘í•œ ë¬¸ì œì— ëŒ€í•´ ê³ ë¯¼í•´ì•¼í•  í•„ìš”ì„±ì´ ìˆëŠ” ê²ƒ ê°™ë‹¤.</p></blockquote><h4 id="ì• í”Œë¦¬ì¼€ì´ì…˜-ë¡œê·¸-ì¡°íšŒí•˜ê¸°"><a href="#ì• í”Œë¦¬ì¼€ì´ì…˜-ë¡œê·¸-ì¡°íšŒí•˜ê¸°" class="headerlink" title="ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸ ì¡°íšŒí•˜ê¸°"></a>ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸ ì¡°íšŒí•˜ê¸°</h4><p>ì¼ë°˜ì ìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ìƒì„±í•œ ë¡œê·¸ íŒŒì¼ì„ <code>tail</code> ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚´í´ë³´ì•˜ìœ¼ë‚˜ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë¹„ìŠ¤ë¡œ ë“±ë¡í•˜ì˜€ê¸°ì— ë³„ë„ì˜ íŒŒì¼ë¡œ ì €ì¥í•˜ëŠ” ì˜µì…˜ì„ ë‘ì§€ ì•Šì•˜ë‹¤ë©´ <code>journalctl</code> ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ì„œ ë¡œê·¸ë¥¼ ì¡°íšŒí•´ì•¼í•œë‹¤.</p><pre class="language-bash" data-language="bash"><div class="caption"><span>Terminal</span></div><code class="language-bash"><span class="token function">sudo</span> journalctl <span class="token parameter variable">-u</span> app.service <span class="token parameter variable">-f</span></code></pre><blockquote><p>ìš´ì˜ì¤‘ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ë‚˜ ì„œë¹„ìŠ¤ì˜ ê²½ìš° ì˜ ë™ì‘í•˜ëŠ” ì‰˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ êµ³ì´ ì„œë¹„ìŠ¤ ë°©ì‹ìœ¼ë¡œ ë°”ê¾¸ì§€ëŠ” ë§ì.</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://www.baeldung.com/linux/run-java-application-as-service&quot;&gt;Run a Java Application as a Service on Linux&lt;/a&gt; ë¥¼ ì°¸ê³ í•´ë³´ë‹ˆ &lt;code&gt;S</summary>
      
    
    
    
    
    <category term="Systemd" scheme="https://kdevkr.github.io/tags/Systemd/"/>
    
    <category term="Java" scheme="https://kdevkr.github.io/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>Nginxë¡œ Vite í”„ë¡œì íŠ¸ ë°°í¬í•˜ê¸°</title>
    <link href="https://kdevkr.github.io/deploy-vite/"/>
    <id>https://kdevkr.github.io/deploy-vite/</id>
    <published>2023-10-10T11:00:00.000Z</published>
    <updated>2024-01-01T01:22:22.869Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Q. í”„ë¡ íŠ¸ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì–´ë–»ê²Œ ë°°í¬ë¥¼ í•´ì•¼í• ê¹Œ?</p></blockquote><p>ì˜¤ë˜ì „ë¶€í„° ê¸°ë³¸ì ìœ¼ë¡œëŠ” ë°±ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ í”„ë¡ íŠ¸ UI êµ¬ì„±ì„ ìœ„í•œ ì—ì…‹ë“¤ì„ ê´€ë¦¬í•˜ê³  í•¨ê»˜ ë¹Œë“œë˜ì–´ ë°°í¬ë˜ëŠ” ë°©ì‹ì„ ì·¨í•´ì™”ë‹¤. ê·¸ëŸ¬ë‚˜, ë°±ì—”ë“œ ê°œë°œìì™€ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìë¡œ ë‚˜ëˆ„ì–´ì§€ë”ë‹ˆ í•˜ë‚˜ì˜ ì„œë¹„ìŠ¤ë¥¼ êµ¬ì„±í•˜ëŠ” í”„ë¡ íŠ¸ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ë°±ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë‚˜ëˆ„ì–´ì§€ê³  ê° ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œí•  ìˆ˜ ìˆëŠ” í™˜ê²½ì´ ë§Œë“¤ì–´ì§€ê³  ìˆë‹¤. ë³´í†µ ë°±ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë¹Œë“œí•˜ë©´ì„œ UI ì—ì…‹ íŒŒì¼ë“¤ì„ í¬í•¨í•˜ë¯€ë¡œ ë°°í¬ ê³¼ì •ì€ ë°±ì—”ë“œ ê°œë°œìê°€ ë‹´ë‹¹í–ˆë˜ ì¡°ì§ì´ ë§ì•˜ì„ ê²ƒ ê°™ë‹¤.</p><p>ë§Œì•½, ì¡°ì§ êµ¬ì„±ìœ¼ë¡œ ì¸í•´ í”„ë¡ íŠ¸ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œì„ ìœ„í•œ í”„ë¡ íŠ¸ì—”ë“œ íŒ€ì´ ìˆëŠ” ê³³ì´ë¼ë©´ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìê°€ ë°°í¬ë¥¼ ì§ì ‘ ìˆ˜í–‰í•  ìˆ˜ë„ ìˆì–´ë³´ì¸ë‹¤. íšŒì‚¬ë§ˆë‹¤ ì¼í•˜ëŠ” ë°©ì‹ì€ ë‹¤ë¥¼ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë¦´ë¦¬ì¦ˆì— ëŒ€í•œ ë¶€ë¶„ì€ QA ì—”ì§€ë‹ˆì–´ê°€ ë‹´ë‹¹í•˜ê¸°ë„ í•œë‹¤. ì•„ë¬´íŠ¼ Vite ê¸°ë°˜ í”„ë¡œì íŠ¸ë¥¼ ë°°í¬í•˜ëŠ” ë°©ì•ˆì— ëŒ€í•´ì„œ ì •ë¦¬í•´ë³´ì.</p><blockquote><p><a href="https://vitejs.dev/guide/static-deploy.html#deploying-a-static-site">Deploying a Static Site</a><br>It is important to note that vite preview is intended for previewing the build locally and not meant as a production server.</p></blockquote><p>ë¡œì»¬ í™˜ê²½ì—ì„œ ì •ì  í˜ì´ì§€ë¥¼ ë°°í¬í•  ìˆ˜ ìˆëŠ” ì›¹ ì„œë²„ë¥¼ ì‹¤í–‰í•˜ëŠ” preview ëª…ë ¹ì–´ë¥¼ ì œê³µí•˜ì§€ë§Œ ìœ„ì™€ ê°™ì´ í”„ë¡œë•ì…˜ í™˜ê²½ì„ ìœ„í•œ ë°°í¬ ì„œë²„ëŠ” ì•„ë‹˜ì— ì£¼ì˜í•´ì•¼í•œë‹¤. ê¸°ë³¸ì ì¸ ê°œë…ì€ ì •ì  ë°°í¬ë¥¼ ìœ„í•œ ë¹Œë“œ íŒŒì¼ì„ ë§Œë“¤ê³ ë‚˜ì„œ ë°±ì—”ë“œ ì„œë²„ ë˜ëŠ” ì›¹ ì„œë²„ë¥¼ í†µí•´ ì •ì  íŒŒì¼ì— ëŒ€í•œ ì‘ë‹µì„ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ë‹¤.</p><ul><li><a href="https://ko.vitejs.dev/guide/build.html">Vite í”„ë¡œë•ì…˜ ë²„ì „ìœ¼ë¡œ ë¹Œë“œí•˜ê¸°</a></li><li><a href="https://ko.vitejs.dev/guide/backend-integration.html">Vite ë°±ì—”ë“œ í”„ë ˆì„ì›Œí¬ì™€ í•¨ê»˜ ì‚¬ìš©í•˜ê¸°</a></li></ul><p>ë‘ë²ˆì§¸ ë°©ì‹ì€ ì¼ë°˜ì ìœ¼ë¡œ ë§ì´ ì‚¬ìš©ë˜ëŠ” í¸ìœ¼ë¡œ ë°±ì—”ë“œ ì„œë²„ê°€ ìŠ¤í”„ë§ ë¶€íŠ¸ í”„ë¡œì íŠ¸ë¼ë©´ <a href="https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-config/static-resources.html">ì •ì  ë¦¬ì†ŒìŠ¤ ê²½ë¡œì— í¬í•¨</a>ë  ìˆ˜ ìˆë„ë¡ í•˜ë©´ ëœë‹¤. ë°±ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ ë¹Œë“œ ì‹œ í´ë˜ìŠ¤íŒ¨ìŠ¤ì— í¬í•¨ë˜ì–´ë„ ë˜ê³  ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡œí¼í‹°ë¥¼ í†µí•´ íŠ¹ì • íŒŒì¼ ê²½ë¡œë¥¼ ì§€ì •í•´ë„ ëœë‹¤. ë³¸ ê¸€ì—ì„œ ì •ë¦¬í•˜ê³ ì í•˜ëŠ” ê±´ ì²«ë²ˆì§¸ ë°©ì‹ìœ¼ë¡œ í”„ë¡œë•ì…˜ ë°°í¬ë¥¼ ìœ„í•œ ì •ì  íŒŒì¼ì„ ë¹Œë“œí•˜ê³ ë‚˜ì„œ Nginxì™€ ê°™ì€ ì›¹ì„œë²„ë¥¼ í†µí•´ ì •ì  íŒŒì¼ì„ ë°°í¬í•˜ëŠ” ê²ƒì´ë‹¤.</p><blockquote><p>Nginx ì›¹ì„œë²„ì—ì„œ ì •ì  íŒŒì¼ì„ ë°°í¬í•˜ê³  ë°±ì—”ë“œ API ìš”ì²­ì— ëŒ€í•´ì„œëŠ” ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ êµ¬ì„±ì„ í•˜ë©´ ëœë‹¤. ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ êµ¬ì„±ì˜ ì¥ì ì€ ë°±ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ í¬íŠ¸ë¥¼ ê°ì¶œ ìˆ˜ ìˆê²Œ ë˜ì–´ ì¡°ê¸ˆì€ ë³´ì•ˆì ì¸ ì¸í”„ë¼ êµ¬ì„±ì´ ë  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤. ì°¸ê³ ë¡œ Vite ê°œë°œ ì„œë²„ì—ì„œë„ <a href="https://ko.vitejs.dev/config/server-options.html#server-proxy">í”„ë¡ì‹œ êµ¬ì„±</a>ì„ í•  ìˆ˜ ìˆê²Œ ì œê³µí•œë‹¤.</p></blockquote><h4 id="Nginx-ì›¹ì„œë²„ë¡œ-Vite-ì •ì -íŒŒì¼-ë°°í¬"><a href="#Nginx-ì›¹ì„œë²„ë¡œ-Vite-ì •ì -íŒŒì¼-ë°°í¬" class="headerlink" title="Nginx ì›¹ì„œë²„ë¡œ Vite ì •ì  íŒŒì¼ ë°°í¬"></a>Nginx ì›¹ì„œë²„ë¡œ Vite ì •ì  íŒŒì¼ ë°°í¬</h4><pre class="language-javascript" data-language="javascript"><div class="caption"><span>vite.config.js</span></div><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> defineConfig <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"vite"</span><span class="token punctuation">;</span><span class="token keyword">import</span> vue <span class="token keyword">from</span> <span class="token string">"@vitejs/plugin-vue"</span><span class="token punctuation">;</span><span class="token comment">// https://vitejs.dev/config/</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  <span class="token literal-property property">build</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token literal-property property">manifest</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">"esnext"</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class="language-bash" data-language="bash"><div class="caption"><span>Windows Terminal</span></div><code class="language-bash">$ <span class="token function">yarn</span> <span class="token parameter variable">--cwd</span> <span class="token string">'frontend'</span> <span class="token function">install</span>$ <span class="token function">yarn</span> <span class="token parameter variable">--cwd</span> <span class="token string">'frontend'</span> run build <span class="token parameter variable">--mode</span> productionvite v4.4.11 building <span class="token keyword">for</span> production<span class="token punctuation">..</span>.</code></pre><p>ë¹Œë“œ ëª…ë ¹ì–´ë¥¼ ìˆ˜í–‰í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ dist í´ë” ì•„ë˜ì— ì •ì  íŒŒì¼ë“¤ì´ ìƒì„±ëœë‹¤.</p><ul><li>dist&#x2F;assets : ì •ì  ì—ì…‹ ëª¨ìŒ</li><li>dist&#x2F;index.html : ì§„ì…ì (EntryPoint) íŒŒì¼</li><li>manifest.json : ë§¤ë‹ˆí˜ìŠ¤íŠ¸ íŒŒì¼</li></ul><p>ìƒì„±ëœ ì •ì  ë¹Œë“œ íŒŒì¼ë“¤ì„ <a href="https://github.com/kdevkr/nginx.conf">nginx.conf</a> ì˜ static í´ë”ë¡œ ëŒ€ì²´í•˜ì—¬ í…ŒìŠ¤íŠ¸ë¥¼ í•´ë³´ì. ì œëŒ€ë¡œ ë™ì‘í•˜ì§€ ì•Šì„í…ë° Nginxì˜ ì„¤ì • íŒŒì¼ì˜ êµ¬ì„±ì´ ë°±ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œ ê¸°ë³¸ì ì¸ ìš”ì²­ì„ ì „ë‹¬í•˜ë„ë¡ ë˜ì–´ìˆê¸° ë•Œë¬¸ì´ë‹¤. <code>/</code> ê²½ë¡œì— ëŒ€í•´ì„œëŠ” index.htmlì„ ì‘ë‹µí•˜ë„ë¡ ë³€ê²½í•´ì•¼í•˜ê³  ë°±ì—”ë“œì— ëŒ€í•œ ìš”ì²­ì´ ë‚˜ì¤‘ì— ì „ë‹¬ë˜ë„ë¡ ìˆ˜ì •í•´ì•¼í•œë‹¤.</p><pre class="language-conf" data-language="conf"><div class="caption"><span>nginx-vite.conf</span></div><code class="language-conf">server &#123;  index index.html;  root &#x2F;etc&#x2F;nginx&#x2F;static;  try_files $uri &#x2F;index.html &#x3D;404;  # ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ  location ~ ^&#x2F;(api|version) &#123;      proxy_pass http:&#x2F;&#x2F;backend;      proxy_redirect off;      proxy_buffering off;      proxy_set_header Host $host;      proxy_set_header X-Real-IP $remote_addr;      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;      access_log &#x2F;var&#x2F;log&#x2F;nginx&#x2F;access.log;  &#125;&#125;</code></pre><p><img data-src="/images/posts/deploy-vite/01.png">  </p><p>ê¸°ë³¸ì ì¸ ìš”ì²­ì— ëŒ€í•´ì„œëŠ” static í´ë” ê¸°ì¤€ìœ¼ë¡œ ì •ì  íŒŒì¼ì„ ì‚¬ìš©í•´ ì‘ë‹µí•˜ë©° &#x2F;api ë° &#x2F;version ì— ëŒ€í•´ì„œë§Œ ë°±ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ ìš”ì²­ìœ¼ë¡œ ì²˜ë¦¬ë˜ë„ë¡ ìˆ˜ì •í–ˆë‹¤. ì´ì œ ì•„ë˜ì™€ ê°™ì´ ë°ëª¨ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì •ìƒì ìœ¼ë¡œ ë³´ì´ë©° &#x2F;versionì— ëŒ€í•œ ìš”ì²­ì„ ì „ë‹¬í•˜ë©´ ë°±ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ í•´ë‹¹ ê²½ë¡œê°€ ë§¤í•‘ë˜ì§€ ì•Šì•„ì„œ ìŠ¤í”„ë§ ë¶€íŠ¸ì˜ í™”ì´íŠ¸ë¼ë²¨ í˜ì´ì§€ë¡œ 404 ì‘ë‹µì„ ë³¼ ìˆ˜ ìˆë‹¤. í”„ë¡ íŠ¸ ìš”ì²­ê³¼ ë°±ì—”ë“œ ìš”ì²­ì„ íš¨ìœ¨ì ìœ¼ë¡œ êµ¬ë¶„í•  ìˆ˜ ìˆëŠ” ë°©ì•ˆì€ ë” ì—°êµ¬í•˜ê³  ì°¾ì•„ë³´ê³  í•™ìŠµí•´ì•¼í•  ë¶€ë¶„ì´ë‹¤.  </p><p>ì‚¬ì‹¤ ìƒ ë°±ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì— í”„ë¡ íŠ¸ì—”ë“œì— ëŒ€í•œ ì •ì  íŒŒì¼ì„ í¬í•¨ì‹œí‚¤ëŠ” ê²Œ ê°„ë‹¨í•˜ì§€ë§Œ ì •ì  íŒŒì¼ì„ ë°°í¬í•˜ëŠ” ê²½ëŸ‰ì˜ ì›¹ ì„œë²„ë¥¼ ë‘ëŠ” ê²Œ ë°±ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë¶€í•˜ë¥¼ ì¤„ì¼ ìˆ˜ ìˆëŠ” ë°©ì•ˆì´ë‹¤. ì •ì  íŒŒì¼ì— ëŒ€í•œ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ì„œ ìŠ¤ë ˆë“œ í’€ì—ì„œ ìŠ¤ë ˆë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ìƒê°ë³´ë‹¤ ì˜í–¥ì´ í´ ìˆ˜ë„ ìˆë‹¤. <code>ì„ íƒì€ ì—¬ëŸ¬ë¶„ì˜ ëª«ì´ë‹¤.</code></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;Q. í”„ë¡ íŠ¸ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì–´ë–»ê²Œ ë°°í¬ë¥¼ í•´ì•¼í• ê¹Œ?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ì˜¤ë˜ì „ë¶€í„° ê¸°ë³¸ì ìœ¼ë¡œëŠ” ë°±ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ í”„ë¡ íŠ¸ UI êµ¬ì„±ì„ ìœ„í•œ ì—ì…‹ë“¤ì„ ê´€ë¦¬í•˜ê³  í•¨ê»˜ ë¹Œë“œë˜ì–´ ë°°í¬ë˜ëŠ” ë°©ì‹ì„ ì·¨í•´ì™”ë‹¤.</summary>
      
    
    
    
    
    <category term="Deployment" scheme="https://kdevkr.github.io/tags/Deployment/"/>
    
    <category term="Nginx" scheme="https://kdevkr.github.io/tags/Nginx/"/>
    
    <category term="Vite" scheme="https://kdevkr.github.io/tags/Vite/"/>
    
  </entry>
  
  <entry>
    <title>ìœˆë„ìš° í™˜ê²½ì—ì„œ ì‚¬ì„¤ ë£¨íŠ¸ CA ì¸ì¦ì„œ ë“±ë¡í•˜ëŠ” ë°©ë²•</title>
    <link href="https://kdevkr.github.io/windows-certlm/"/>
    <id>https://kdevkr.github.io/windows-certlm/</id>
    <published>2023-10-09T13:00:00.000Z</published>
    <updated>2024-01-01T01:22:22.877Z</updated>
    
    <content type="html"><![CDATA[<p>ìœˆë„ìš° ìš´ì˜ì²´ì œ í™˜ê²½ì—ì„œ ì‚¬ì„¤ë¡œ ë§Œë“¤ì–´ì§„ ë£¨íŠ¸ CA ì¸ì¦ì„œë¥¼ ì»´í“¨í„° ì¸ì¦ì„œì˜ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ë£¨íŠ¸ ê¸°ê´€ìœ¼ë¡œ ë“±ë¡í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì€ ë‘ê°€ì§€ê°€ ìˆë‹¤. ì²«ë²ˆì§¸ë¡œëŠ” MMC(certlm.msc) í”„ë¡œê·¸ë¨ì˜ ì¸ì¦ì„œ ê°€ì ¸ì˜¤ê¸° ë§ˆë²•ì‚¬ë¥¼ ì´ìš©í•˜ëŠ” ë°©ë²•ê³¼ í¬ë¡¬ ë˜ëŠ” ì—£ì§€ ë¸Œë¼ìš°ì €ì˜ ì¸ì¦ì„œ ê´€ë¦¬ ë©”ë‰´ë¥¼ í†µí•´ ì¸ì¦ì„œ ê°€ì ¸ì˜¤ê¸° ë§ˆë²•ì‚¬ë¥¼ ìˆ˜í–‰í•˜ëŠ” ë°©ë²•ì´ë‹¤. ì´ ê¸€ì„ ë³´ëŠ” ê°œë°œì ë˜ëŠ” ì—”ì§€ë‹ˆì–´ë¼ë©´ ëª…ë ¹ í”„ë¡¬í”„íŠ¸ë¥¼ í†µí•´ certutil ë„êµ¬ë¡œ ëª…ë ¹ì–´ ê¸°ë°˜ìœ¼ë¡œ ë£¨íŠ¸ CA ì¸ì¦ì„œë¥¼ ë“±ë¡í•  ìˆ˜ë„ ìˆë‹¤.</p><pre class="language-bash" data-language="bash"><div class="caption"><span>Windows Terminal</span></div><code class="language-bash">certutil <span class="token parameter variable">-addstore</span> <span class="token string">"Root"</span> <span class="token string">"locaCA.crt"</span>Root <span class="token string">"ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ë£¨íŠ¸ ì¸ì¦ ê¸°ê´€"</span>ì„œëª…ì´ ê³µê°œ í‚¤ì™€ ì¼ì¹˜í•©ë‹ˆë‹¤.<span class="token string">"XXX"</span> ì¸ì¦ì„œê°€ ì €ì¥ì†Œì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.CertUtil: <span class="token parameter variable">-addstore</span> ëª…ë ¹ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.</code></pre><h4 id="Microsoft-Management-Consoleë¥¼-í†µí•´-ì¸ì¦ì„œ-ê´€ë¦¬"><a href="#Microsoft-Management-Consoleë¥¼-í†µí•´-ì¸ì¦ì„œ-ê´€ë¦¬" class="headerlink" title="Microsoft Management Consoleë¥¼ í†µí•´ ì¸ì¦ì„œ ê´€ë¦¬"></a>Microsoft Management Consoleë¥¼ í†µí•´ ì¸ì¦ì„œ ê´€ë¦¬</h4><ul><li>ìœˆë„ìš°: ì°¾ê¸° &gt; ì»´í“¨í„° ì¸ì¦ì„œ ê´€ë¦¬(certlm.msc) ë˜ëŠ” ì‹¤í–‰(Window í‚¤ + R)</li><li>í¬ë¡¬: ì„¤ì • - ê°œì¸ ì •ë³´ ë³´í˜¸ ë° ë³´ì•ˆ - ë³´ì•ˆ(ì„¸ì´í”„ ë¸Œë¼ìš°ì§• ë° ê¸°íƒ€ ë³´ì•ˆ ì„¤ì •) - ê³ ê¸‰ - ê¸°ê¸° ì¸ì¦ì„œ ê´€ë¦¬(ê¸°ê¸°ì—ì„œ HTTPS&#x2F;SSL ì¸ì¦ì„œ ê´€ë¦¬)</li></ul><p>ì¸ì¦ì„œ ê°€ì ¸ì˜¤ê¸° ë§ˆë²•ì‚¬ê°€ ì‹¤í–‰í•˜ê³  ë‚˜ì„œ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ë£¨íŠ¸ ì¸ì¦ì„œ ê¸°ê´€ ì €ì¥ì†Œì— ì‚¬ì„¤ ë£¨íŠ¸ CA ì¸ì¦ì„œë¥¼ ì„ íƒí•˜ì—¬ ë“±ë¡í•˜ë©´ ëœë‹¤.</p><p><img data-src="/images/posts/windows-certlm/01.png">  </p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ìœˆë„ìš° ìš´ì˜ì²´ì œ í™˜ê²½ì—ì„œ ì‚¬ì„¤ë¡œ ë§Œë“¤ì–´ì§„ ë£¨íŠ¸ CA ì¸ì¦ì„œë¥¼ ì»´í“¨í„° ì¸ì¦ì„œì˜ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ë£¨íŠ¸ ê¸°ê´€ìœ¼ë¡œ ë“±ë¡í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì€ ë‘ê°€ì§€ê°€ ìˆë‹¤. ì²«ë²ˆì§¸ë¡œëŠ” MMC(certlm.msc) í”„ë¡œê·¸ë¨ì˜ ì¸ì¦ì„œ ê°€ì ¸ì˜¤ê¸° ë§ˆë²•ì‚¬ë¥¼ ì´ìš©í•˜ëŠ” ë°©ë²•ê³¼ í¬ë¡¬ ë˜</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>ì  í‚¨ìŠ¤ ê·¸ë¦¬ê³  S3ì™€ í•¨ê»˜í•˜ëŠ” ë°°í¬ ìë™í™”</title>
    <link href="https://kdevkr.github.io/automated-deployment-using-s3/"/>
    <id>https://kdevkr.github.io/automated-deployment-using-s3/</id>
    <published>2023-10-09T11:00:00.000Z</published>
    <updated>2024-01-01T01:22:22.869Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>íšŒì‚¬ ë‚´ QA ì—”ì§€ë‹ˆì–´ í‡´ì‚¬ë¡œ ì¸í•´ ìˆ˜ë™ ë°°í¬ë¥¼ ìˆ˜í–‰í•´ì™”ë˜ í…ŒìŠ¤íŠ¸ í™˜ê²½ì— ëŒ€í•´ ìë™í™” ë°°í¬ë¡œ ë³€ê²½í•˜ê³ ì í•™ìŠµí•œ ë‚´ìš©ì´ë‹¤. ì†”ë£¨ì…˜ í˜•íƒœë¡œ ì „ë‹¬ë˜ì–´ ê³ ê°ì´ ì§ì ‘ ë°°í¬ë¥¼ ìˆ˜í–‰í•˜ëŠ” í”„ë¡œì íŠ¸ë¡œ ë°°í¬ì— ëŒ€í•œ ê³¼ì •ë„ ë³€ê²½ì‚¬í•­ì— í¬í•¨ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ QA ì—”ì§€ë‹ˆì–´ê°€ í…ŒìŠ¤íŠ¸ í•­ëª©ìœ¼ë¡œ ìˆ˜ë™ ë°°í¬ë¥¼ ìˆ˜í–‰í–ˆë‹¤.</p></blockquote><h4 id="S3ë¥¼-í†µí•œ-ë°°í¬-íŒŒì¼-ë‹¤ìš´ë¡œë“œ-ìŠ¤í¬ë¦½íŠ¸"><a href="#S3ë¥¼-í†µí•œ-ë°°í¬-íŒŒì¼-ë‹¤ìš´ë¡œë“œ-ìŠ¤í¬ë¦½íŠ¸" class="headerlink" title="S3ë¥¼ í†µí•œ ë°°í¬ íŒŒì¼ ë‹¤ìš´ë¡œë“œ ìŠ¤í¬ë¦½íŠ¸"></a>S3ë¥¼ í†µí•œ ë°°í¬ íŒŒì¼ ë‹¤ìš´ë¡œë“œ ìŠ¤í¬ë¦½íŠ¸</h4><p>ì• í”Œë¦¬ì¼€ì´ì…˜ì— ëŒ€í•œ ë¦´ë¦¬ì¦ˆ ë¹Œë“œëŠ” ì  í‚¨ìŠ¤ ë„êµ¬ë¡œ ìˆ˜í–‰í•˜ë©° ì  í‚¨ìŠ¤ ì„œë²„ì—ì„œ ì¡°ì§ ë‚´ AWS ë¦´ë¦¬ì¦ˆ ë²„í‚·ì— ì„œë¹„ìŠ¤ í™˜ê²½ í´ë”ì— ë°°í¬ íŒŒì¼ì´ ì €ì¥ë˜ë„ë¡ êµ¬ì„±ë˜ì–´ ìˆë‹¤. S3 ì—…ë¡œë“œí•˜ëŠ” ê²ƒì€ <a href="https://plugins.jenkins.io/s3/">S3 publisher</a> í”ŒëŸ¬ê·¸ì¸ì„ ì´ìš©í•  ìˆ˜ ìˆë‹¤. </p><pre class="language-bash" data-language="bash"><div class="caption"><span>auto_deployment.sh</span></div><code class="language-bash"><span class="token shebang important">#!/bin/sh</span><span class="token assign-left variable">FILE_KEY</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span>aws s3 <span class="token function">ls</span> <span class="token parameter variable">--recursive</span> s3://app-release/japan/module/ <span class="token operator">|</span> <span class="token function">grep</span> module-jp-bundle <span class="token operator">|</span> <span class="token function">sort</span> <span class="token operator">|</span> <span class="token function">tail</span> <span class="token parameter variable">-n</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'&#123;print $4&#125;'</span><span class="token variable">`</span></span><span class="token assign-left variable">FILE_NAME</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">echo</span> $FILE_KEY <span class="token operator">|</span> <span class="token function">sed</span> <span class="token parameter variable">-e</span> <span class="token string">"s/japan\/module\///"</span><span class="token variable">`</span></span>aws s3 <span class="token function">sync</span> s3://app-release/<span class="token variable">$FILE_KEY</span> /home/ec2-user/prepare/<span class="token function">sleep</span> <span class="token number">1</span><span class="token builtin class-name">echo</span> <span class="token string">"[<span class="token variable"><span class="token variable">`</span><span class="token function">date</span> --rfc-3339<span class="token operator">=</span>seconds<span class="token variable">`</span></span>] [INFO] current zip file : <span class="token variable">$FILE_NAME</span>"</span><span class="token function">cp</span> <span class="token parameter variable">-p</span> /home/ec2-user/prepare/<span class="token variable">$FILE_NAME</span> /home/ec2-user/prepare/backup/<span class="token variable">$FILE_NAME</span><span class="token function">unzip</span> <span class="token parameter variable">-o</span> /home/ec2-user/prepare/<span class="token variable">$FILE_NAME</span> <span class="token parameter variable">-d</span> /home/ec2-user/prepare/ <span class="token operator">></span> /dev/null</code></pre><blockquote><p>ì  í‚¨ìŠ¤ ì„œë²„ì— ì˜í•´ ë¹Œë“œ ì‹œ AWS Elastic Beanstalk ì„œë¹„ìŠ¤ì— ì˜í•´ ë°°í¬ë˜ëŠ” ë²ˆë“¤ê³¼ ê°™ì´ ì‹¤í–‰ê°€ëŠ¥í•œ war íŒŒì¼ì„ í¬í•¨í•˜ì—¬ ì••ì¶• íŒŒì¼ë¡œ S3 ë²„í‚·ì— ì—…ë¡œë“œ ë˜ì–´ìˆë‹¤. ë³¸ í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ ì‹œ ì°¸ì¡°ë  í”„ë¡œí¼í‹° íŒŒì¼ì€ ë³„ë„ë¡œ ê´€ë¦¬í•˜ê³  ìˆë‹¤.</p></blockquote><h4 id="ìë™-ì‹¤í–‰ì„-ìœ„í•œ-í¬ë¡ íƒ­-ë¹„â€¢í™œì„±í™”-ìŠ¤í¬ë¦½íŠ¸"><a href="#ìë™-ì‹¤í–‰ì„-ìœ„í•œ-í¬ë¡ íƒ­-ë¹„â€¢í™œì„±í™”-ìŠ¤í¬ë¦½íŠ¸" class="headerlink" title="ìë™ ì‹¤í–‰ì„ ìœ„í•œ í¬ë¡ íƒ­ ë¹„â€¢í™œì„±í™” ìŠ¤í¬ë¦½íŠ¸"></a>ìë™ ì‹¤í–‰ì„ ìœ„í•œ í¬ë¡ íƒ­ ë¹„â€¢í™œì„±í™” ìŠ¤í¬ë¦½íŠ¸</h4><p>ìˆ˜ë™ ë°°í¬ë¥¼ ìˆ˜í–‰í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ì—ëŠ” ì˜ˆê¸°ì¹˜ ì•Šì€ ìƒí™©ì— ì˜í•´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì¢…ë£Œ ì‹œ ìë™ìœ¼ë¡œ ì‹¤í–‰ë˜ë„ë¡ ìŠ¤í¬ë¦½íŠ¸í™” ë˜ì–´ í™œì„±í™”ë˜ì–´ìˆëŠ” í¬ë¡ íƒ­ì„ ë¹„í™œì„±í™”í•˜ê³  ë°°í¬ ì™„ë£Œ ì‹œ í¬ë¡ íƒ­ì— ì˜í•´ ë™ì‘í•˜ë„ë¡ í™œì„±í™”í•˜ëŠ” ë°©ì•ˆì´ í•„ìš”í•˜ë‹¤. ì•„ë˜ì˜ ìŠ¤í¬ë¦½íŠ¸ëŠ” <a href="https://stackoverflow.com/a/14011095">ìŠ¤íƒì˜¤ë²„í”Œë¡œìš° ë‹µë³€</a>ì„ ì°¸ê³ í–ˆë‹¤.</p><pre class="language-bash" data-language="bash"><div class="caption"><span>disable_cron.sh</span></div><code class="language-bash"><span class="token shebang important">#!/bin/sh</span><span class="token comment"># crontab -l | sed '/^[^#].*check.sh/s/^/#/'</span><span class="token function">crontab</span> <span class="token parameter variable">-l</span> <span class="token operator">|</span> <span class="token function">sed</span> <span class="token string">'/^[^#].*check.sh/s/^/#/'</span> <span class="token operator">|</span> <span class="token function">crontab</span> -<span class="token builtin class-name">echo</span> <span class="token string">"[<span class="token variable"><span class="token variable">`</span><span class="token function">date</span> --rfc-3339<span class="token operator">=</span>seconds<span class="token variable">`</span></span>] [INFO] Disable cron of check.sh"</span></code></pre><pre class="language-bash" data-language="bash"><div class="caption"><span>enable_cron.sh</span></div><code class="language-bash"><span class="token shebang important">#!/bin/sh</span><span class="token comment">#crontab -l | sed '/^#.*check.sh/s/^#//'</span><span class="token function">crontab</span> <span class="token parameter variable">-l</span> <span class="token operator">|</span> <span class="token function">sed</span> <span class="token string">'/^#.*check.sh/s/^#//'</span> <span class="token operator">|</span> <span class="token function">crontab</span> -<span class="token builtin class-name">echo</span> <span class="token string">"[<span class="token variable"><span class="token variable">`</span><span class="token function">date</span> --rfc-3339<span class="token operator">=</span>seconds<span class="token variable">`</span></span>] [INFO] Enable cron of check.sh"</span></code></pre><h4 id="ë°°í¬-ìë™í™”-ìŠ¤í¬ë¦½íŠ¸"><a href="#ë°°í¬-ìë™í™”-ìŠ¤í¬ë¦½íŠ¸" class="headerlink" title="ë°°í¬ ìë™í™” ìŠ¤í¬ë¦½íŠ¸"></a>ë°°í¬ ìë™í™” ìŠ¤í¬ë¦½íŠ¸</h4><pre class="language-bash" data-language="bash"><div class="caption"><span>auto_deployment.sh</span></div><code class="language-bash"><span class="token builtin class-name">cd</span> /home/ec2-user/<span class="token assign-left variable">OLD_FILENAME</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">ls</span> /home/ec2-user/ <span class="token operator">|</span> <span class="token function">grep</span> .war <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-v</span> .old<span class="token variable">)</span></span><span class="token assign-left variable">FILENAME</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">ls</span> /home/ec2-user/prepare/ <span class="token operator">|</span> <span class="token function">grep</span> .war<span class="token variable">)</span></span><span class="token assign-left variable">UPD_OLD</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">stat</span> <span class="token parameter variable">-c</span> %Y $OLD_FILENAME<span class="token variable">)</span></span><span class="token assign-left variable">UPD_NEW</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">stat</span> <span class="token parameter variable">-c</span> %Y /home/ec2-user/prepare/$FILENAME<span class="token variable">)</span></span><span class="token builtin class-name">echo</span> <span class="token string">"[<span class="token variable"><span class="token variable">`</span><span class="token function">date</span> --rfc-3339<span class="token operator">=</span>seconds<span class="token variable">`</span></span>] [INFO] old file : <span class="token variable">$OLD_FILENAME</span>(<span class="token variable">$UPD_OLD</span>)"</span><span class="token builtin class-name">echo</span> <span class="token string">"[<span class="token variable"><span class="token variable">`</span><span class="token function">date</span> --rfc-3339<span class="token operator">=</span>seconds<span class="token variable">`</span></span>] [INFO] new file : <span class="token variable">$FILENAME</span>(<span class="token variable">$UPD_NEW</span>)"</span><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$UPD_NEW</span> <span class="token parameter variable">-gt</span> <span class="token variable">$UPD_OLD</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>  <span class="token builtin class-name">echo</span> <span class="token string">"[<span class="token variable"><span class="token variable">`</span><span class="token function">date</span> --rfc-3339<span class="token operator">=</span>seconds<span class="token variable">`</span></span>] [INFO] Start deployment using the <span class="token variable">$FILENAME</span>"</span>  <span class="token comment"># ìë™ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ ë¹„í™œì„±í™”</span>  /bin/sh /home/ec2-user/disable_cron.sh    <span class="token comment"># ê¸°ì¡´ ë°°í¬ íŒŒì¼ ë°±ì—…</span>  <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-f</span> /home/ec2-user/<span class="token variable">$OLD_FILENAME</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>    <span class="token function">mv</span> /home/ec2-user/<span class="token variable">$OLD_FILENAME</span> /home/ec2-user/<span class="token variable">$OLD_FILENAME</span>.old  <span class="token keyword">fi</span>    <span class="token comment"># ì‹ ê·œ ë°°í¬ íŒŒì¼ ë³µì‚¬</span>  <span class="token function">cp</span> /home/ec2-user/prepare/<span class="token variable">$FILENAME</span> /home/ec2-user/    <span class="token comment"># ì• í”Œë¦¬ì¼€ì´ì…˜ ì¢…ë£Œ ë° ì‹¤í–‰</span>  <span class="token function">sh</span> /home/ec2-user/stop.sh  <span class="token function">sleep</span> <span class="token number">10</span>  <span class="token function">sh</span> /home/ec2-user/start.sh  <span class="token comment"># ìë™ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ í™œì„±í™”</span>  /bin/sh /home/ec2-user/disable_cron.sh    <span class="token builtin class-name">echo</span> <span class="token string">"[<span class="token variable"><span class="token variable">`</span><span class="token function">date</span> --rfc-3339<span class="token operator">=</span>seconds<span class="token variable">`</span></span>] [INFO] Deployment completed"</span>  <span class="token keyword">else</span>    <span class="token builtin class-name">echo</span> <span class="token string">"[<span class="token variable"><span class="token variable">`</span><span class="token function">date</span> --rfc-3339<span class="token operator">=</span>seconds<span class="token variable">`</span></span>] [WARN] There are no new deployment file"</span><span class="token keyword">fi</span></code></pre><h4 id="ì  í‚¨ìŠ¤-ì„œë²„ì—ì„œ-ë°°í¬-ìë™í™”-ìŠ¤í¬ë¦½íŠ¸-ìˆ˜í–‰"><a href="#ì  í‚¨ìŠ¤-ì„œë²„ì—ì„œ-ë°°í¬-ìë™í™”-ìŠ¤í¬ë¦½íŠ¸-ìˆ˜í–‰" class="headerlink" title="ì  í‚¨ìŠ¤ ì„œë²„ì—ì„œ ë°°í¬ ìë™í™” ìŠ¤í¬ë¦½íŠ¸ ìˆ˜í–‰"></a>ì  í‚¨ìŠ¤ ì„œë²„ì—ì„œ ë°°í¬ ìë™í™” ìŠ¤í¬ë¦½íŠ¸ ìˆ˜í–‰</h4><p>í•œë‹¨ê³„ ë” ë‚˜ì•„ê°€ì„œëŠ” EC2 ì„œë²„ì—ì„œ ì ‘ì†í•´ì„œ ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒë„ ì  í‚¨ìŠ¤ ì„œë²„ì—ì„œ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤. <a href="https://plugins.jenkins.io/publish-over-ssh/">Publish over SSH</a> í”ŒëŸ¬ê·¸ì¸ì„ í†µí•´ EC2 ì„œë²„ ì ‘ì†ì„ ìœ„í•œ ë°°ìŠ¤ì²œ í˜¸ìŠ¤íŠ¸ì— SSH ì—°ê²°ì„ ìˆ˜í–‰í•˜ê³  ë°°ìŠ¤ì²œ í˜¸ìŠ¤íŠ¸ì— ì¡´ì¬í•˜ëŠ” EC2 í‚¤ í˜ì–´ íŒŒì¼ì„ í†µí•´ SSH ëª…ë ¹ê³¼ í•¨ê»˜ ë°°í¬ ìë™í™” ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ëŠ” ëª…ë ¹ì–´ë¥¼ ì „ë‹¬í•˜ë©´ ëœë‹¤.</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">ssh</span> <span class="token parameter variable">-i</span> a.pem ec2-user@<span class="token punctuation">&#123;</span>ec2-ip<span class="token punctuation">&#125;</span> <span class="token string">'sh /home/ec2-user/auto_deployment.sh'</span></code></pre><blockquote><p>í…ŒìŠ¤íŠ¸ í™˜ê²½ì´ë¼ í• ì§€ë¼ë„ ë³´ì•ˆ ìƒ ê´€ì ìœ¼ë¡œ EC2 ì„œë²„ì— ì§ì ‘ ì ‘ê·¼í•˜ë„ë¡ í¬íŠ¸ë¥¼ ì˜¤í”ˆí•˜ëŠ” ê²ƒì€ ê¶Œì¥í•˜ì§€ ì•ŠëŠ”ë‹¤.</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;íšŒì‚¬ ë‚´ QA ì—”ì§€ë‹ˆì–´ í‡´ì‚¬ë¡œ ì¸í•´ ìˆ˜ë™ ë°°í¬ë¥¼ ìˆ˜í–‰í•´ì™”ë˜ í…ŒìŠ¤íŠ¸ í™˜ê²½ì— ëŒ€í•´ ìë™í™” ë°°í¬ë¡œ ë³€ê²½í•˜ê³ ì í•™ìŠµí•œ ë‚´ìš©ì´ë‹¤. ì†”ë£¨ì…˜ í˜•íƒœë¡œ ì „ë‹¬ë˜ì–´ ê³ ê°ì´ ì§ì ‘ ë°°í¬ë¥¼ ìˆ˜í–‰í•˜ëŠ” í”„ë¡œì íŠ¸ë¡œ ë°°í¬ì— ëŒ€í•œ ê³¼ì •ë„ ë³€ê²½ì‚¬í•­ì— í¬í•¨ë  </summary>
      
    
    
    
    
    <category term="Jenkins" scheme="https://kdevkr.github.io/tags/Jenkins/"/>
    
    <category term="S3" scheme="https://kdevkr.github.io/tags/S3/"/>
    
  </entry>
  
  <entry>
    <title>Amazon Linux 2ë¥¼ VirtualBoxì—ì„œ ì‹¤í–‰í•˜ê¸°</title>
    <link href="https://kdevkr.github.io/amazonlinux2-virtualbox/"/>
    <id>https://kdevkr.github.io/amazonlinux2-virtualbox/</id>
    <published>2023-10-04T13:00:00.000Z</published>
    <updated>2024-01-01T01:22:22.869Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://docs.aws.amazon.com/ko_kr/AWSEC2/latest/UserGuide/amazon-linux-2-virtual-machine.html">Amazon Linux 2ë¥¼ ì˜¨í”„ë ˆë¯¸ìŠ¤ ê°€ìƒ ë¨¸ì‹ ìœ¼ë¡œ ì‹¤í–‰</a> ë¬¸ì„œë¥¼ ì°¸ê³ í•˜ì—¬ Amazon Linux 2 ê°€ìƒ ë¨¸ì‹  ì´ë¯¸ì§€ë¥¼ í†µí•´ ì˜¨í”„ë ˆë¯¸ìŠ¤ ê°œë°œ ë° í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ í™˜ê²½ì„ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤. ì°¸ê³ ë¡œ AL2ì„ ëŒ€ì²´í•˜ëŠ” Amazon Linux 2023ì— ëŒ€í•´ì„œëŠ” <a href="https://github.com/amazonlinux/amazon-linux-2023/issues/102">ì•„ì§ ê°€ìƒ ë¨¸ì‹  ì´ë¯¸ì§€ë¥¼ ì œê³µí•˜ì§€ ì•ŠëŠ”</a> ê²ƒ ê°™ë‹¤. ê·¸ë˜ì„œ AL2ì´ 2025-06-30 ì¼ìë¡œ EOLì´ ë˜ë”ë¼ë„ VirtualBoxì—ì„œ Amazon Linux 2ë¥¼ ì‹¤í–‰í•´ë³´ê³ ì í•œë‹¤.</p><h4 id="Amazon-Linux-2-ê°€ìƒ-ë¨¸ì‹ -ì´ë¯¸ì§€-ë‹¤ìš´ë¡œë“œ"><a href="#Amazon-Linux-2-ê°€ìƒ-ë¨¸ì‹ -ì´ë¯¸ì§€-ë‹¤ìš´ë¡œë“œ" class="headerlink" title="Amazon Linux 2 ê°€ìƒ ë¨¸ì‹  ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ"></a>Amazon Linux 2 ê°€ìƒ ë¨¸ì‹  ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ</h4><p>ìš°ë¶„íˆ¬ì™€ ê°™ì´ Amazon Linux 2ì— ëŒ€í•œ ì„¤ì¹˜ íŒŒì¼ì„ ì œê³µí•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¯€ë¡œ ë¶€íŒ…ì„ ìœ„í•œ ì´ë¯¸ì§€ì™€ ë¯¸ë¦¬ ì •ì˜ëœ ê°€ìƒ ë¨¸ì‹  ì´ë¯¸ì§€ë¥¼ ë‹¤ìš´ë°›ì•„ì•¼ í•œë‹¤.</p><ul><li><a href="https://drive.google.com/file/d/17iBVLBLLJahQDb-3kgsWRCh72hzt1FIp/view?usp=sharing">seed.iso ë¶€íŒ… ì´ë¯¸ì§€</a>  </li><li><a href="https://cdn.amazonlinux.com/os-images/2.0.20230926.0/virtualbox/amzn2-virtualbox-2.0.20230926.0-x86_64.xfs.gpt.vdi">Amazon Linux 2 LTS 2.0.20230926.0 x86_64 VirtualBox image</a></li></ul><h4 id="ê°€ìƒ-ë¨¸ì‹ -ë§Œë“¤ê¸°-ë°-ì‹¤í–‰"><a href="#ê°€ìƒ-ë¨¸ì‹ -ë§Œë“¤ê¸°-ë°-ì‹¤í–‰" class="headerlink" title="ê°€ìƒ ë¨¸ì‹  ë§Œë“¤ê¸° ë° ì‹¤í–‰"></a>ê°€ìƒ ë¨¸ì‹  ë§Œë“¤ê¸° ë° ì‹¤í–‰</h4><p><img data-src="/images/posts/amazonlinux2-virtualbox/01.png" alt="1. ê°€ìƒ ë¨¸ì‹  ë§Œë“¤ê¸°">  </p><p>ìƒˆë¡œ ë§Œë“¤ê¸° ë²„íŠ¼ì„ ëˆŒëŸ¬ ê°€ìƒ ë¨¸ì‹ ì„ ë§Œë“­ë‹ˆë‹¤. ë¦¬ëˆ…ìŠ¤ ìœ í˜•ì— ëŒ€í•œ ìš´ì˜ ì²´ì œ ì¢…ë¥˜ëŠ” ê³µì‹ ë¬¸ì„œì— ë‚˜ì™€ìˆëŠ”ëŒ€ë¡œ Red Hat (64-bit)ë¥¼ ì„ íƒí•˜ì. ê·¸ë¦¬ê³  ê°€ìƒ ë””ìŠ¤í¬ëŠ” ë¯¸ë¦¬ ì •ì˜ëœ ê°€ìƒ ë¨¸ì‹  ì´ë¯¸ì§€ë¡œ ì¶”ê°€í•´ì•¼ í•œë‹¤. ìœ„ ìŠ¤í¬ë¦°ìƒ·ì— ë‚˜ì™€ìˆëŠ” ë“¯ì´ <a href="https://cdn.amazonlinux.com/os-images/latest/">Amazon Linux 2 ê°€ìƒ ë¨¸ì‹  ì´ë¯¸ì§€</a> í˜ì´ì§€ì—ì„œ ë‹¤ìš´ë¡œë“œ ë°›ì€ ì´ë¯¸ì§€ë¥¼ ì„ íƒí•˜ë©´ ëœë‹¤.</p><p><img data-src="/images/posts/amazonlinux2-virtualbox/02.png" alt="2. ë¶€íŒ… ì´ë¯¸ì§€ ë””ìŠ¤í¬ ì¶”ê°€">  </p><p>ê°€ìƒ ë¨¸ì‹ ì„ ì‹¤í–‰í•˜ê¸° ì „ì— í˜¸ìŠ¤íŠ¸ ì´ë¦„ê³¼ ì‚¬ìš©ì ê³„ì • ì •ì˜ë¥¼ ìœ„í•œ ë¶€íŒ… ì´ë¯¸ì§€ë¥¼ ê°€ìƒ ê´‘í•™ ë””ìŠ¤í¬ì— ì¶”ê°€í•´ì•¼í•œë‹¤. Amazon Linux 2 ê°€ìƒ ë¨¸ì‹  ì´ë¯¸ì§€ í˜ì´ì§€ì—ì„œ ë‹¤ìš´ë°›ì„ ìˆ˜ ìˆëŠ” seed.iso íŒŒì¼ì´ <code>VERR_NOT_SUPPORTED</code> ì‚¬ìœ ë¡œ ê°€ìƒ ê´‘í•™ ë””ìŠ¤í¬ì— ì¶”ê°€í•  ìˆ˜ ì—†ì„ ìˆ˜ ìˆëŠ”ë° ë³¸ ê¸€ì—ì„œ ì œê³µí•˜ëŠ” seed.iso ë¶€íŒ… ì´ë¯¸ì§€ ë§í¬ë¥¼ í†µí•´ <code>ê¸°ë³¸ ì‚¬ìš©ì(ec2-user:amazon)</code>ë§Œ ì •ì˜ëœ íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•  ìˆ˜ ìˆìœ¼ë‹ˆ ì°¸ê³ í•˜ë„ë¡ í•˜ì.</p><p>â€» ë³¸ ê¸€ì—ì„œ ì œê³µí•˜ëŠ” seed.iso íŒŒì¼ì€ ì•„ë˜ì™€ ê°™ì´ ì •ì˜ë˜ì–´ìˆë‹¤.</p><pre class="language-yaml" data-language="yaml"><div class="caption"><span>user-data</span></div><code class="language-yaml"><span class="token comment">#cloud-config</span><span class="token comment">#vim:syntax=yaml</span><span class="token key atrule">users</span><span class="token punctuation">:</span>  <span class="token punctuation">-</span> default<span class="token key atrule">chpasswd</span><span class="token punctuation">:</span>  <span class="token key atrule">list</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">    ec2-user:amazon</span></code></pre><pre class="language-yaml" data-language="yaml"><div class="caption"><span>meta-data</span></div><code class="language-yaml"><span class="token key atrule">local-hostname</span><span class="token punctuation">:</span> amazonlinux</code></pre><blockquote><p>ë¶€íŒ… ì´ë¯¸ì§€ íŒŒì¼ì€ MacOS í™˜ê²½ì—ì„œ hdiutil ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒì„±í•˜ì˜€ë‹¤.<br>$ hdiutil makehybrid -o seed.iso -hfs -joliet -iso -default-volume-name cidata seedconfig&#x2F;</p></blockquote><p><img data-src="/images/posts/amazonlinux2-virtualbox/03.png" alt="3. ì‚¬ìš©ì ê³„ì • êµ¬ì„±">  </p><p>ê°€ìƒ ë¨¸ì‹ ì„ ì‹¤í–‰í•˜ê³  ë§¨ì²˜ìŒ ê¸°ë³¸ ì‚¬ìš©ì ê³„ì •ì¸ ec2-userë¥¼ ì…ë ¥í•˜ë©´ ì‚¬ìš©ì ê³„ì •ì— ëŒ€í•œ êµ¬ì„±ì„ ìˆ˜í–‰í•œë‹¤.</p><p><img data-src="/images/posts/amazonlinux2-virtualbox/04.png" alt="4. ec2-user ë¡œê·¸ì¸">  </p><p>ë‹¤ì‹œí•œë²ˆ ë¡œê·¸ì¸ í™”ë©´ì´ ì¶œë ¥ë˜ë©´ ec2-userì™€ amazonì„ ì…ë ¥í•˜ë©´ ìœ„ì™€ ê°™ì´ Amazon Linux 2ì— ëŒ€í•œ ë¡œê³ ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ì²˜ìŒ ë¡œê·¸ì¸ì— ì„±ê³µí–ˆë‹¤ë©´ ê·¸ ì´í›„ì—ëŠ” ë¶€íŒ… ì´ë¯¸ì§€ê°€ í•„ìš”í•˜ì§€ ì•Šë‹¤. ê°€ìƒ ë¨¸ì‹ ì„ ì¢…ë£Œí•˜ê³  ë¶€íŒ… ì´ë¯¸ì§€ë¥¼ ê°€ìƒ ê´‘í•™ ë””ìŠ¤í¬ì—ì„œ ì œê±°í•˜ì.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://docs.aws.amazon.com/ko_kr/AWSEC2/latest/UserGuide/amazon-linux-2-virtual-machine.html&quot;&gt;Amazon Linux 2ë¥¼ ì˜¨í”„ë ˆë¯¸ìŠ¤ ê°€ìƒ ë¨¸ì‹ ìœ¼ë¡œ ì‹¤í–‰&lt;</summary>
      
    
    
    
    
    <category term="AL2" scheme="https://kdevkr.github.io/tags/AL2/"/>
    
    <category term="Oracle VirtualBox" scheme="https://kdevkr.github.io/tags/Oracle-VirtualBox/"/>
    
  </entry>
  
</feed>
