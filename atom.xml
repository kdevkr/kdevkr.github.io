<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Mambo</title>
  
  <subtitle>Today I Learned ğŸ”¥</subtitle>
  <link href="https://kdevkr.github.io/atom.xml" rel="self"/>
  
  <link href="https://kdevkr.github.io/"/>
  <updated>2023-07-31T11:10:23.368Z</updated>
  <id>https://kdevkr.github.io/</id>
  
  <author>
    <name>Mambo</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>EdDSA</title>
    <link href="https://kdevkr.github.io/eddsa/"/>
    <id>https://kdevkr.github.io/eddsa/</id>
    <published>2023-07-31T09:00:00.000Z</published>
    <updated>2023-07-31T11:10:23.368Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://datatracker.ietf.org/doc/html/rfc8032">EdDSA(Edwards-curve Digital Signature Algorithm)</a>ëŠ” <code>Edwards-Curve</code> ê³¡ì„ ì— ì˜í•œ ì „ì ì„œëª… ì•Œê³ ë¦¬ì¦˜ì„ ì˜ë¯¸í•œë‹¤. ê³¼ê±°ì— <a href="/ed25519">ED25519</a>ì— ëŒ€í•´ì„œ ì •ë¦¬í•œ ê²ƒê³¼ ê°™ì´ ECDSAì™€ í˜¼ë™ì´ ë  ìˆ˜ ìˆë‹¤. <a href="https://datatracker.ietf.org/doc/html/rfc8410">RFC8410</a>ì—ì„œëŠ” Internet X.509 Public Key Infrastructure ì—ì„œ Ed25519ê³¼ ê°™ì€ Algorithm Identifiersì— ëŒ€í•œ í‘œì¤€ì„ ì„¤ëª…í•˜ê³  ìˆë‹¤.</p><h4 id="Curve25519-and-Curve448-Algorithm-Identifiers"><a href="#Curve25519-and-Curve448-Algorithm-Identifiers" class="headerlink" title="Curve25519 and Curve448 Algorithm Identifiers"></a>Curve25519 and Curve448 Algorithm Identifiers</h4><p>BouncyCastleì˜ <code>ECNamedCurveTable.getNames()</code>ì—ëŠ” ê¸°ë³¸ì ì¸ EC ê³¡ì„ ì´ í¬í•¨ë˜ì–´ìˆê³  <code>curve25519</code>ëŠ” CustomNamedCurvesì— í¬í•¨ë˜ì–´ ìˆê³  CustomBamedCurvseë¡œ ì œê³µë°›ì€ X9ECParametersë¥¼ ì•„ë˜ì™€ ê°™ì´ ECParameterSpecìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">AlgorithmParameterSpec</span> <span class="token function">curve25519Spec</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// NOTE: Ed25519 not contains in ECNamedCurveTable.getNames()</span>    <span class="token class-name">X9ECParameters</span> ecP <span class="token operator">=</span> <span class="token class-name">CustomNamedCurves</span><span class="token punctuation">.</span><span class="token function">getByName</span><span class="token punctuation">(</span><span class="token string">"curve25519"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ECParameterSpec</span><span class="token punctuation">(</span>ecP<span class="token punctuation">.</span><span class="token function">getCurve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ecP<span class="token punctuation">.</span><span class="token function">getG</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ecP<span class="token punctuation">.</span><span class="token function">getN</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ecP<span class="token punctuation">.</span><span class="token function">getH</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ecP<span class="token punctuation">.</span><span class="token function">getSeed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><h4 id="Ed25519-í‚¤-í˜ì–´-ìƒì„±"><a href="#Ed25519-í‚¤-í˜ì–´-ìƒì„±" class="headerlink" title="Ed25519 í‚¤ í˜ì–´ ìƒì„±"></a>Ed25519 í‚¤ í˜ì–´ ìƒì„±</h4><p><code>Ed25519KeyPairGenerator</code>ì™€ í•¨ê»˜ <code>ECKeyGenerationParameters</code>ë¥¼ ì‚¬ìš©í•˜ë©´ Ed25519 í‚¤ í˜ì–´ë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤. ê·¸ëŸ°ë° ì´ë¯¸ Ed25519KeyGenerationParametersë¥¼ ì œê³µí•˜ê³  ìˆìœ¼ë¯€ë¡œ êµ³ì´ ECParameterSpecë¥¼ ì‚¬ìš©í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•  í•„ìš”ê°€ ì—†ì–´ì§„ë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Test</span><span class="token keyword">void</span> <span class="token class-name">TestKeyPairUsingECParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">ECParameterSpec</span> curve25519Spec <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ECParameterSpec</span><span class="token punctuation">)</span> <span class="token function">curve25519Spec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">ECDomainParameters</span> ecParams <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ECDomainParameters</span><span class="token punctuation">(</span>curve25519Spec<span class="token punctuation">.</span><span class="token function">getCurve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> curve25519Spec<span class="token punctuation">.</span><span class="token function">getG</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> curve25519Spec<span class="token punctuation">.</span><span class="token function">getN</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> curve25519Spec<span class="token punctuation">.</span><span class="token function">getH</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">ECKeyGenerationParameters</span> ecKeyGenerationParameters <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ECKeyGenerationParameters</span><span class="token punctuation">(</span>ecParams<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">SecureRandom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">Ed25519KeyPairGenerator</span> keyPairGenerator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Ed25519KeyPairGenerator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    keyPairGenerator<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>ecKeyGenerationParameters<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">AsymmetricCipherKeyPair</span> keyPair <span class="token operator">=</span> keyPairGenerator<span class="token punctuation">.</span><span class="token function">generateKeyPair</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">Assertions</span><span class="token punctuation">.</span><span class="token function">assertNotNull</span><span class="token punctuation">(</span>keyPair<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token annotation punctuation">@Test</span><span class="token keyword">void</span> <span class="token class-name">TestKeyPairUsingEd25519Generator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">Ed25519KeyPairGenerator</span> keyPairGenerator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Ed25519KeyPairGenerator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    keyPairGenerator<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Ed25519KeyGenerationParameters</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SecureRandom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">AsymmetricCipherKeyPair</span> keyPair <span class="token operator">=</span> keyPairGenerator<span class="token punctuation">.</span><span class="token function">generateKeyPair</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">Assertions</span><span class="token punctuation">.</span><span class="token function">assertNotNull</span><span class="token punctuation">(</span>keyPair<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><h4 id="Ed25519PrivateKeyParametersë¥¼-PrivateKeyë¡œ-ë³€í™˜"><a href="#Ed25519PrivateKeyParametersë¥¼-PrivateKeyë¡œ-ë³€í™˜" class="headerlink" title="Ed25519PrivateKeyParametersë¥¼ PrivateKeyë¡œ ë³€í™˜"></a>Ed25519PrivateKeyParametersë¥¼ PrivateKeyë¡œ ë³€í™˜</h4><p>í´ë¼ì´ì–¸íŠ¸ì˜ X.509 ì¸ì¦ì„œë¥¼ ë§Œë“œëŠ” ê²½ìš° ì„œëª…ì„ ìœ„í•œ PrivateKeyê°€ í•„ìš”í•œë° ì§ì ‘ì ìœ¼ë¡œ ë³€í™˜í•  ìˆ˜ê°€ ì—†ìœ¼ë¯€ë¡œ <code>KeyFactorySpi.Ed25519</code>ì™€ <code>PrivateKeyInfoFactory</code>ë¥¼ ì‚¬ìš©í•´ì„œ Ed25519PrivateKeyParametersë¡œ ë˜ì–´ìˆëŠ” ë¹„ë°€í‚¤ë¥¼ PrivateKey í´ë˜ìŠ¤ë¡œ ë³€ê²½í•´ì•¼ í•œë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token comment">// NOTE: AsymmetricCipherKeyPair keyPair</span><span class="token class-name">Ed25519PrivateKeyParameters</span> privateKeyP <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Ed25519PrivateKeyParameters</span><span class="token punctuation">)</span> keyPair<span class="token punctuation">.</span><span class="token function">getPrivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">KeyFactorySpi<span class="token punctuation">.</span>Ed25519</span> keyFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">KeyFactorySpi<span class="token punctuation">.</span>Ed25519</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">PrivateKey</span> privateKey <span class="token operator">=</span> keyFactory<span class="token punctuation">.</span><span class="token function">generatePrivate</span><span class="token punctuation">(</span><span class="token class-name">PrivateKeyInfoFactory</span><span class="token punctuation">.</span><span class="token function">createPrivateKeyInfo</span><span class="token punctuation">(</span>privateKeyP<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="ê³µê°œí‚¤ë¥¼-SubjectPublicKeyInfoFactoryë¡œ-ë³€í™˜"><a href="#ê³µê°œí‚¤ë¥¼-SubjectPublicKeyInfoFactoryë¡œ-ë³€í™˜" class="headerlink" title="ê³µê°œí‚¤ë¥¼ SubjectPublicKeyInfoFactoryë¡œ ë³€í™˜"></a>ê³µê°œí‚¤ë¥¼ SubjectPublicKeyInfoFactoryë¡œ ë³€í™˜</h4><p>Ed25519PublicKeyParametersë¡œ ë˜ì–´ìˆëŠ” ê³µê°œí‚¤ë¥¼ SubjectPublicKeyInfoë¡œ ë³€í™˜í•˜ëŠ” ê²ƒì€ <code>SubjectPublicKeyInfoFactory</code> í´ë˜ìŠ¤ì—ì„œ ì œê³µí•˜ê³  ìˆë‹¤. ì•ì„œ ë¹„ë°€í‚¤ì²˜ëŸ¼ KeyFactorySpi.Ed25519ë¥¼ ì‚¬ìš©í•´ì„œ PublicKeyë¡œ ë³€í™˜í•  í•„ìš”ëŠ” ì—†ì„ ê²ƒ ê°™ë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token comment">// NOTE: AsymmetricCipherKeyPair keyPair</span><span class="token class-name">Ed25519PublicKeyParameters</span> publicKeyP <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Ed25519PublicKeyParameters</span><span class="token punctuation">)</span> keyPair<span class="token punctuation">.</span><span class="token function">getPublic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">SubjectPublicKeyInfo</span> publicKeyInfo <span class="token operator">=</span> <span class="token class-name">SubjectPublicKeyInfoFactory</span><span class="token punctuation">.</span><span class="token function">createSubjectPublicKeyInfo</span><span class="token punctuation">(</span>publicKeyP<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="EdDSA-Signatures"><a href="#EdDSA-Signatures" class="headerlink" title="EdDSA Signatures"></a>EdDSA Signatures</h4><p>Curve25519ì™€ Curve448ë¥¼ ì‚¬ìš©í•œ EdDSAëŠ” ê°ê° <code>Ed25519</code>ì™€ <code>Ed448</code> ì´ë¼ëŠ” ì„œëª… ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ í‘œí˜„í•œë‹¤. ì•ì„œ, PrivateKeyì™€ SubjectPublickKeyInfoë¡œ ë³€í™˜í•œ ìƒíƒœì´ë¯€ë¡œ X.509 ì¸ì¦ì„œë¥¼ ë§Œë“œëŠ” ê²ƒì€ ì–´ë µì§€ ì•Šì„ ê²ƒì´ë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">X500Name</span> issuer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">X500Name</span><span class="token punctuation">(</span><span class="token string">"CN=Mambo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">BigInteger</span> serialNumber <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigInteger</span><span class="token punctuation">(</span><span class="token number">128</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">SecureRandom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">ZonedDateTime</span> now <span class="token operator">=</span> <span class="token class-name">ZonedDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Date</span> notBefore <span class="token operator">=</span> <span class="token class-name">Date</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">toInstant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Date</span> notAfter <span class="token operator">=</span> <span class="token class-name">Date</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token class-name">ChronoUnit</span><span class="token punctuation">.</span><span class="token constant">YEARS</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toInstant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">ContentSigner</span> contentSigner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JcaContentSignerBuilder</span><span class="token punctuation">(</span><span class="token string">"Ed25519"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setProvider</span><span class="token punctuation">(</span><span class="token class-name">BouncyCastleProvider</span><span class="token punctuation">.</span><span class="token constant">PROVIDER_NAME</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>privateKey<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">X509CertificateHolder</span> certificateHolder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JcaX509v3CertificateBuilder</span><span class="token punctuation">(</span>issuer<span class="token punctuation">,</span> serialNumber<span class="token punctuation">,</span> notBefore<span class="token punctuation">,</span> notAfter<span class="token punctuation">,</span> issuer<span class="token punctuation">,</span> publicKeyInfo<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>contentSigner<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">X509Certificate</span> certificate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JcaX509CertificateConverter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setProvider</span><span class="token punctuation">(</span><span class="token class-name">BouncyCastleProvider</span><span class="token punctuation">.</span><span class="token constant">PROVIDER_NAME</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getCertificate</span><span class="token punctuation">(</span>certificateHolder<span class="token punctuation">)</span><span class="token punctuation">;</span>certificate<span class="token punctuation">.</span><span class="token function">checkValidity</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>ë” ìì„¸í•œ ì½”ë“œëŠ” <a href="https://github.com/kdevkr/spring-boot-security/blob/main/src/test/java/com/example/demo/x509/EdDSATest.java">EdDSATest.java</a>ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://datatracker.ietf.org/doc/html/rfc8032&quot;&gt;EdDSA(Edwards-curve Digital Signature Algorithm)&lt;/a&gt;ëŠ” &lt;code&gt;Edwards-Curve&lt;/code&gt; </summary>
      
    
    
    
    
    <category term="Ed25519" scheme="https://kdevkr.github.io/tags/Ed25519/"/>
    
    <category term="RFC8410" scheme="https://kdevkr.github.io/tags/RFC8410/"/>
    
  </entry>
  
  <entry>
    <title>BouncyCastle Javaë¡œ X.509 ì¸ì¦ì„œ ë§Œë“¤ê¸°</title>
    <link href="https://kdevkr.github.io/bouncycastle-java/"/>
    <id>https://kdevkr.github.io/bouncycastle-java/</id>
    <published>2023-07-30T05:00:00.000Z</published>
    <updated>2023-07-31T11:10:23.368Z</updated>
    
    <content type="html"><![CDATA[<p>ìë°”ì—ì„œ ì•”í˜¸í™” ë˜ëŠ” ì „ìì„œëª…ì„ ìœ„í•œ ê¸°ëŠ¥ì„ JCAë¥¼ í†µí•´ ì œê³µí•˜ê¸°ëŠ” í•˜ì§€ë§Œ ì‹¤ì§ˆì ìœ¼ë¡œëŠ” <a href="https://github.com/bcgit/bc-java">Bouncy Castle</a>ì´ë¼ëŠ” ì•”í˜¸ ê´€ë ¨ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•œë‹¤. ë³¸ ê¸€ì—ì„œëŠ” BouncyCastleì—ì„œ ì œê³µí•˜ëŠ” ì—¬ëŸ¬ í´ë˜ìŠ¤ë“¤ì„ í™œìš©í•´ì„œ ì‚¬ì„¤ ë£¨íŠ¸ ì¸ì¦ì„œë¥¼ ë§Œë“¤ê³  ê·¸ê²ƒì„ ê¸°ë°˜ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ë¥¼ ìœ„í•œ X.509 ì¸ì¦ì„œë¥¼ ë°œê¸‰í•˜ê¸° ìœ„í•œ ë°©ë²•ì„ ì •ë¦¬í•˜ê³ ì í•œë‹¤. ì´ë ‡ê²Œ ë§Œë“¤ì–´ì§€ëŠ” X.509 ì¸ì¦ì„œëŠ” ë³´ì•ˆ ë ˆë²¨ì´ ë†’ì€ ì‹œìŠ¤í…œì—ì„œ Mutual TLS ì¸ì¦ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.</p><pre class="language-groovy" data-language="groovy"><div class="caption"><span>build.gradle</span></div><code class="language-groovy">dependencies <span class="token punctuation">&#123;</span>    implementation <span class="token string">'org.bouncycastle:bcprov-jdk18on:1.75'</span>    implementation <span class="token string">'org.bouncycastle:bcpkix-jdk18on:1.75'</span><span class="token punctuation">&#125;</span></code></pre><blockquote><p>X.509 ì¸ì¦ì„œì— ëŒ€í•œ í‘œì¤€ì€ <a href="https://datatracker.ietf.org/doc/html/rfc5280">RFC5280</a>ë¡œ ì •ì˜ë˜ì–´ ìˆê³  ASN.1 í‘œê¸°ë¥¼ ë”°ë¥´ë©° ì§€ê¸ˆì€ X.509 v3ì„ ì‚¬ìš©í•˜ê³  ìˆë‹¤.</p></blockquote><h4 id="BouncyCastleProvider"><a href="#BouncyCastleProvider" class="headerlink" title="BouncyCastleProvider"></a>BouncyCastleProvider</h4><p>BouncyCastle ìë°” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í´ë˜ìŠ¤ íŒ¨ìŠ¤ì— ì¶”ê°€í–ˆë”ë¼ë„ BouncyCastleProviderë¥¼ JCE Providerë¡œ ì¶”ê°€í•´ì•¼í•œë‹¤. <code>$JAVA_HOME/lib/security/java.security</code>ì— ëª…ì‹œí•´ë„ ë˜ì§€ë§Œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì„±í•˜ëŠ” í´ë˜ìŠ¤ì—ì„œ ëŸ°íƒ€ì„ ì‹œì ì— BouncyCastleProviderë¥¼ ë³´ì•ˆ í”„ë¡œë°”ì´ë”ì— ì¶”ê°€í•´ë„ ëœë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>security<span class="token punctuation">.</span></span><span class="token class-name">Security</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>bouncycastle<span class="token punctuation">.</span>jce<span class="token punctuation">.</span>provider<span class="token punctuation">.</span></span><span class="token class-name">BouncyCastleProvider</span></span><span class="token punctuation">;</span> <span class="token keyword">static</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">Security</span><span class="token punctuation">.</span><span class="token function">addProvider</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BouncyCastleProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><h4 id="Self-signed-CA-ì¸ì¦ì„œ-ë°œê¸‰í•˜ê¸°"><a href="#Self-signed-CA-ì¸ì¦ì„œ-ë°œê¸‰í•˜ê¸°" class="headerlink" title="Self signed CA ì¸ì¦ì„œ ë°œê¸‰í•˜ê¸°"></a>Self signed CA ì¸ì¦ì„œ ë°œê¸‰í•˜ê¸°</h4><p>ì¼ë°˜ì ìœ¼ë¡œ X.509 ì¸ì¦ì„œë¥¼ ë°œê¸‰í•˜ëŠ” ê²½ìš° openssl ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ì„œ í‚¤ í˜ì–´ë¥¼ ìƒì„±í•˜ê³  ê·¸ê²ƒì„ ê¸°ë°˜ìœ¼ë¡œ CSRê³¼ X.509 ì¸ì¦ì„œë¥¼ ìƒì„±í•  ê²ƒì´ë‹¤. Bouncy Castle ìë°” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥´ë¥¼ í†µí•´ ë§Œë“œë ¤ëŠ” ê²½ìš° Deprecated ì„ ì–¸ëœ X509V3CertificateGeneratorë¥¼ ì‚¬ìš©í•´ë„ ë¬´ë°©í•  ê²ƒ ê°™ì§€ë§Œ X509v3CertificateBuilderë¥¼ ì‚¬ìš©í•´ì„œ X509Certificateë¥¼ ë§Œë“¤ì–´ë³´ë ¤ê³  í•œë‹¤.</p><blockquote><p>X509V3CertificateGeneratorì— ëŒ€í•´ì„œ Deprecated ì²˜ë¦¬í•œ ì‚¬ìœ ëŠ” ë”±íˆ ì•Œ ìˆ˜ ì—†ëŠ” ê²ƒ ê°™ë‹¤. </p></blockquote><p>JcaX509v3CertificateBuilderì™€ JcaContentSignerBuilderë¥¼ ì‚¬ìš©í•´ì„œ X509CertificateHolderë¥¼ ìƒì„±í•˜ê³  JcaX509CertificateConverterë¥¼ ì´ìš©í•˜ì—¬ X509Certificateë¡œ ë³€í™˜í•  ìˆ˜ ìˆë‹¤. ëŒ€ëµì ì¸ ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ìœ¼ë‹ˆ ì°¸ê³ í•´ë³´ë„ë¡ í•˜ì.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">String</span> securityProvider <span class="token operator">=</span> <span class="token class-name">BouncyCastleProvider</span><span class="token punctuation">.</span><span class="token constant">PROVIDER_NAME</span><span class="token punctuation">;</span><span class="token class-name">JcaX509ExtensionUtils</span> x509ExtensionUtils <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JcaX509ExtensionUtils</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">JcaX509CertificateConverter</span> x509CertificateConverter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JcaX509CertificateConverter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setProvider</span><span class="token punctuation">(</span>securityProvider<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">String</span> signatureAlgorithm <span class="token operator">=</span> <span class="token string">"sha256WithRSA"</span><span class="token punctuation">;</span><span class="token class-name">KeyPairGenerator</span> keyPairGenerator <span class="token operator">=</span> <span class="token class-name">KeyPairGenerator</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token string">"RSA"</span><span class="token punctuation">,</span> securityProvider<span class="token punctuation">)</span><span class="token punctuation">;</span>keyPairGenerator<span class="token punctuation">.</span><span class="token function">initialize</span><span class="token punctuation">(</span><span class="token number">4096</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">SecureRandom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">KeyPair</span> rootKeyPair <span class="token operator">=</span> keyPairGenerator<span class="token punctuation">.</span><span class="token function">generateKeyPair</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">X500Name</span> issuer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">X500NameBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">addRDN</span><span class="token punctuation">(</span><span class="token class-name">BCStyle</span><span class="token punctuation">.</span><span class="token constant">CN</span><span class="token punctuation">,</span> <span class="token string">"Mambo Org"</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">BigInteger</span> serialNumber <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigInteger</span><span class="token punctuation">(</span><span class="token number">128</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">SecureRandom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">ZonedDateTime</span> now <span class="token operator">=</span> <span class="token class-name">ZonedDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Date</span> notBefore <span class="token operator">=</span> <span class="token class-name">Date</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">toInstant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Date</span> notAfter <span class="token operator">=</span> <span class="token class-name">Date</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token class-name">ChronoUnit</span><span class="token punctuation">.</span><span class="token constant">YEARS</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toInstant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">SubjectPublicKeyInfo</span> publicKeyInfo <span class="token operator">=</span> <span class="token class-name">SubjectPublicKeyInfo</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span>rootKeyPair<span class="token punctuation">.</span><span class="token function">getPublic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getEncoded</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">X509CertificateHolder</span> rootCertHolder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JcaX509v3CertificateBuilder</span><span class="token punctuation">(</span>issuer<span class="token punctuation">,</span> serialNumber<span class="token punctuation">,</span> notBefore<span class="token punctuation">,</span> notAfter<span class="token punctuation">,</span> issuer<span class="token punctuation">,</span> publicKeyInfo<span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">addExtension</span><span class="token punctuation">(</span><span class="token class-name">Extension</span><span class="token punctuation">.</span>basicConstraints<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">BasicConstraints</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">addExtension</span><span class="token punctuation">(</span><span class="token class-name">Extension</span><span class="token punctuation">.</span>subjectKeyIdentifier<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> x509ExtensionUtils<span class="token punctuation">.</span><span class="token function">createSubjectKeyIdentifier</span><span class="token punctuation">(</span>rootKeyPair<span class="token punctuation">.</span><span class="token function">getPublic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">JcaContentSignerBuilder</span><span class="token punctuation">(</span>signatureAlgorithm<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>rootKeyPair<span class="token punctuation">.</span><span class="token function">getPrivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">X509Certificate</span> rootCert <span class="token operator">=</span> x509CertificateConverter<span class="token punctuation">.</span><span class="token function">getCertificate</span><span class="token punctuation">(</span>rootCertHolder<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h5 id="X500Name"><a href="#X500Name" class="headerlink" title="X500Name"></a>X500Name</h5><p>ìë°”ì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µí•˜ëŠ” X500Principal ëŒ€ì‹ ì— BouncyCastleì˜ X500Name í´ë˜ìŠ¤ë¡œ FQDN, ë°œê¸‰ìì™€ ì†Œìœ ìì™€ ê°™ì€ ì£¼ì²´(Subject) ì •ë³´ë¥¼ ê¸°ì…í•  ìˆ˜ ìˆë‹¤. ë˜í•œ, RDN(Relative Distinguished Names) ë¼ê³ ë„ í•˜ëŠ”ë° X500NameBuilderì—ì„œëŠ” addRDN ì´ë¼ëŠ” í•¨ìˆ˜ë¥¼ ì œê³µí•œë‹¤. ë” ìì„¸í•œ ë‚´ìš©ì€ <a href="https://knowledge.digicert.com/generalinformation/INFO1745.html">What is a Distinguished Name (DN)?</a>ë¥¼ ì°¸ê³ í•´ë³´ì.</p><h5 id="SubjectPublickeyInfo"><a href="#SubjectPublickeyInfo" class="headerlink" title="SubjectPublickeyInfo"></a>SubjectPublickeyInfo</h5><p>X.509 ì¸ì¦ì„œì— í¬í•¨ë˜ëŠ” SubjectPublickeyInfoì— ëŒ€í•œ í´ë˜ìŠ¤ë¡œ DER ì¸ì½”ë”©ëœ ê³µê°œí‚¤ë¥¼ ì˜ë¯¸í•œë‹¤. </p><h5 id="BasicConstraints"><a href="#BasicConstraints" class="headerlink" title="BasicConstraints"></a>BasicConstraints</h5><p>ë‹¤ë¥¸ ì¸ì¦ì„œë¥¼ ë°œê¸‰í•  ê¶Œí•œì´ ìˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê²ƒìœ¼ë¡œ CA ì¸ì¦ì„œë¼ëŠ” ê²ƒì„ ì˜ë¯¸ë¡œ ë¶€ì—¬í•  ìˆ˜ ìˆë‹¤.</p><h4 id="X-509-í´ë¼ì´ì–¸íŠ¸-ì¸ì¦ì„œ-ë°œê¸‰í•˜ê¸°"><a href="#X-509-í´ë¼ì´ì–¸íŠ¸-ì¸ì¦ì„œ-ë°œê¸‰í•˜ê¸°" class="headerlink" title="X.509 í´ë¼ì´ì–¸íŠ¸ ì¸ì¦ì„œ ë°œê¸‰í•˜ê¸°"></a>X.509 í´ë¼ì´ì–¸íŠ¸ ì¸ì¦ì„œ ë°œê¸‰í•˜ê¸°</h4><p>ì•ì„œ ë£¨íŠ¸ CA ì¸ì¦ì„œ ë°œê¸‰ì„ ì´í•´í•˜ì˜€ë‹¤ë©´ CA ì¸ì¦ì„œë¥¼ ë§Œë“œëŠ”ë° ì‚¬ìš©ëœ ë¹„ë°€í‚¤ë¥¼ ì‚¬ìš©í•´ì„œ í´ë¼ì´ì–¸íŠ¸ë¥¼ ìœ„í•œ X.509 ì¸ì¦ì„œë¥¼ ë§Œë“œëŠ” ê²ƒì„ ì•Œì•„ë³´ë„ë¡ í•˜ì. </p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">KeyPair</span> clientKeyPair <span class="token operator">=</span> keyPairGenerator<span class="token punctuation">.</span><span class="token function">generateKeyPair</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">X500Name</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">X500NameBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">addRDN</span><span class="token punctuation">(</span><span class="token class-name">BCStyle</span><span class="token punctuation">.</span><span class="token constant">CN</span><span class="token punctuation">,</span> <span class="token string">"Mambo"</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">BigInteger</span> clientSN <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigInteger</span><span class="token punctuation">(</span><span class="token number">128</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">SecureRandom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">ZonedDateTime</span> clientNow <span class="token operator">=</span> <span class="token class-name">ZonedDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Date</span> clientNotBefore <span class="token operator">=</span> <span class="token class-name">Date</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>clientNow<span class="token punctuation">.</span><span class="token function">toInstant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Date</span> clientNotAfter <span class="token operator">=</span> <span class="token class-name">Date</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>clientNow<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token class-name">ChronoUnit</span><span class="token punctuation">.</span><span class="token constant">YEARS</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toInstant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">SubjectPublicKeyInfo</span> clientPublicKeyInfo <span class="token operator">=</span> <span class="token class-name">SubjectPublicKeyInfo</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span>clientKeyPair<span class="token punctuation">.</span><span class="token function">getPublic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getEncoded</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">X509CertificateHolder</span> clientCertHolder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JcaX509v3CertificateBuilder</span><span class="token punctuation">(</span>issuer<span class="token punctuation">,</span> clientSN<span class="token punctuation">,</span> clientNotBefore<span class="token punctuation">,</span> clientNotAfter<span class="token punctuation">,</span> client<span class="token punctuation">,</span> clientPublicKeyInfo<span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">addExtension</span><span class="token punctuation">(</span><span class="token class-name">Extension</span><span class="token punctuation">.</span>basicConstraints<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">BasicConstraints</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">addExtension</span><span class="token punctuation">(</span><span class="token class-name">Extension</span><span class="token punctuation">.</span>authorityKeyIdentifier<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> x509ExtensionUtils<span class="token punctuation">.</span><span class="token function">createAuthorityKeyIdentifier</span><span class="token punctuation">(</span>rootCert<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">addExtension</span><span class="token punctuation">(</span><span class="token class-name">Extension</span><span class="token punctuation">.</span>subjectKeyIdentifier<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> x509ExtensionUtils<span class="token punctuation">.</span><span class="token function">createSubjectKeyIdentifier</span><span class="token punctuation">(</span>clientKeyPair<span class="token punctuation">.</span><span class="token function">getPublic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">addExtension</span><span class="token punctuation">(</span><span class="token class-name">Extension</span><span class="token punctuation">.</span>keyUsage<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">KeyUsage</span><span class="token punctuation">(</span><span class="token class-name">KeyUsage</span><span class="token punctuation">.</span>digitalSignature<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">JcaContentSignerBuilder</span><span class="token punctuation">(</span>signatureAlgorithm<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>rootKeyPair<span class="token punctuation">.</span><span class="token function">getPrivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">X509Certificate</span> clientCert <span class="token operator">=</span> x509CertificateConverter<span class="token punctuation">.</span><span class="token function">getCertificate</span><span class="token punctuation">(</span>clientCertHolder<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>BasicConstraintsë¡œ CAê°€ ì•„ë‹ˆë©° AuthorityKeyIdentifierë¡œ ë°œê¸‰ìì˜ ê³µê°œí‚¤ë¥¼ ì‹ë³„í•  ìˆ˜ ìˆë„ë¡ í•˜ì˜€ë‹¤. ê·¸ë¦¬ê³  KeyUsageë¡œ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë°œê¸‰í•œ X.509 ì¸ì¦ì„œê°€ ì „ìì„œëª… ìš©ë„ì„ì„ í™•ì¥(Extension)ì— ëª…ì‹œí–ˆë‹¤.</p><h4 id="X509Certificate-ì¸ì¦ì„œ-ê²€ì¦í•˜ê¸°"><a href="#X509Certificate-ì¸ì¦ì„œ-ê²€ì¦í•˜ê¸°" class="headerlink" title="X509Certificate ì¸ì¦ì„œ ê²€ì¦í•˜ê¸°"></a>X509Certificate ì¸ì¦ì„œ ê²€ì¦í•˜ê¸°</h4><p>í´ë¼ì´ì–¸íŠ¸ê°€ ìš”ì²­ ì‹œ í¬í•¨í•´ì„œ ì „ë‹¬í•œ X.509 ì¸ì¦ì„œê°€ ì• í”Œë¦¬ì¼€ì´ì…˜ í˜¹ì€ ì‹œìŠ¤í…œì—ì„œ ë°œê¸‰í•œ ê²ƒì¸ì§€ë¥¼ ê²€ì¦í•˜ëŠ” ê³¼ì •ì´ í•„ìš”í•˜ë‹¤. <code>java.security.cert.X509Certificate</code> í´ë˜ìŠ¤ì—ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ êµ¬í˜„ëœ verify í•¨ìˆ˜ë¥¼ ì œê³µí•˜ê³  ìˆê¸° ë•Œë¬¸ì— ì•„ë˜ì™€ ê°™ì´ ê°„ë‹¨í•˜ê²Œ ë£¨íŠ¸ ì¸ì¦ì„œì˜ ê³µê°œí‚¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ ì¸ì¦ì„œë¥¼ ê²€ì¦í•  ìˆ˜ ìˆë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java">clientCert<span class="token punctuation">.</span><span class="token function">checkValidity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>clientCert<span class="token punctuation">.</span><span class="token function">verify</span><span class="token punctuation">(</span>rootCert<span class="token punctuation">.</span><span class="token function">getPublicKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> securityProvider<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="X-509-ì¸ì¦ì„œ-ë°-í‚¤-í˜ì–´-ì €ì¥í•˜ê¸°"><a href="#X-509-ì¸ì¦ì„œ-ë°-í‚¤-í˜ì–´-ì €ì¥í•˜ê¸°" class="headerlink" title="X.509 ì¸ì¦ì„œ ë° í‚¤ í˜ì–´ ì €ì¥í•˜ê¸°"></a>X.509 ì¸ì¦ì„œ ë° í‚¤ í˜ì–´ ì €ì¥í•˜ê¸°</h4><p>ì¼ë°˜ì ìœ¼ë¡œ X.509 ì¸ì¦ì„œì— í¬í•¨ë˜ëŠ” ê³µê°œí‚¤ëŠ” X509EncodedSpecì— ë”°ë¼ ë°”ì´ë„ˆë¦¬ í˜•íƒœì˜ DERë¡œ ì¸ì½”ë”©ë˜ì–´ í¬í•¨ëœë‹¤. ê·¸ëŸ¬ë‚˜ X.509 ì¸ì¦ì„œì™€ í‚¤ í˜ì–´ë¥¼ êµí™˜í•  ë•Œì—ëŠ” PEM íŒŒì¼ í˜•ì‹ì„ ë§ì´ ì‚¬ìš©í•˜ëŠ” í¸ìœ¼ë¡œ BouncyCastle ìë°” ë¼ì´ë¸ŒëŸ¬ë¦¬ì— í¬í•¨ëœ  PemWriterì™€ PemObjectë¥¼ í™œìš©í•´ì„œ X.509 ì¸ì¦ì„œì™€ ë¹„ë°€í‚¤ë¥¼ PEM íŒŒì¼ë¡œ ì €ì¥í•  ìˆ˜ ìˆë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PemUtil</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token class-name">PemUtil</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">toPem</span><span class="token punctuation">(</span><span class="token class-name">String</span> type<span class="token punctuation">,</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> encoded<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">StringWriter</span> writer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token class-name">PemWriter</span> pemWriter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JcaPEMWriter</span><span class="token punctuation">(</span>writer<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            pemWriter<span class="token punctuation">.</span><span class="token function">writeObject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PemObject</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> encoded<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            pemWriter<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> writer<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">toPem</span><span class="token punctuation">(</span><span class="token class-name">PrivateKey</span> privateKey<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Assert</span><span class="token punctuation">.</span><span class="token function">notNull</span><span class="token punctuation">(</span>privateKey<span class="token punctuation">,</span> <span class="token string">"private key is required"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token function">toPem</span><span class="token punctuation">(</span><span class="token string">"PRIVATE KEY"</span><span class="token punctuation">,</span> privateKey<span class="token punctuation">.</span><span class="token function">getEncoded</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">toPem</span><span class="token punctuation">(</span><span class="token class-name">X509Certificate</span> certificate<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">CertificateEncodingException</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Assert</span><span class="token punctuation">.</span><span class="token function">notNull</span><span class="token punctuation">(</span>certificate<span class="token punctuation">,</span> <span class="token string">"certificate is required"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token function">toPem</span><span class="token punctuation">(</span><span class="token string">"CERTIFICATE"</span><span class="token punctuation">,</span> certificate<span class="token punctuation">.</span><span class="token function">getEncoded</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token class-name">String</span> rootCertPem <span class="token operator">=</span> <span class="token class-name">PemUtil</span><span class="token punctuation">.</span><span class="token function">toPem</span><span class="token punctuation">(</span>rootCert<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ca.pem</span><span class="token class-name">String</span> clientCertPem <span class="token operator">=</span> <span class="token class-name">PemUtil</span><span class="token punctuation">.</span><span class="token function">toPem</span><span class="token punctuation">(</span>clientCert<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//client.pem</span><span class="token class-name">String</span> clientPrivateKeyPem <span class="token operator">=</span> <span class="token class-name">PemUtil</span><span class="token punctuation">.</span><span class="token function">toPem</span><span class="token punctuation">(</span>clientKeyPair<span class="token punctuation">.</span><span class="token function">getPrivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//client.key</span></code></pre><blockquote><p>PEM í˜•ì‹ìœ¼ë¡œ Base64ë¡œ êµ¬ì„±ëœ ë¬¸ìì—´ì„ íŒŒì¼ë¡œ ì €ì¥í•˜ëŠ” ë°©ë²•ì€ ë³¸ ê¸€ì—ì„œ ë‹¤ë£¨ì§€ ì•ŠëŠ”ë‹¤.</p></blockquote><h4 id="X-509-ì¸ì¦ì„œ-ë°-í‚¤-í˜ì–´-ë¶ˆëŸ¬ì˜¤ê¸°"><a href="#X-509-ì¸ì¦ì„œ-ë°-í‚¤-í˜ì–´-ë¶ˆëŸ¬ì˜¤ê¸°" class="headerlink" title="X.509 ì¸ì¦ì„œ ë° í‚¤ í˜ì–´ ë¶ˆëŸ¬ì˜¤ê¸°"></a>X.509 ì¸ì¦ì„œ ë° í‚¤ í˜ì–´ ë¶ˆëŸ¬ì˜¤ê¸°</h4><p>í´ë¼ì´ì–¸íŠ¸ì˜ X.509 ì¸ì¦ì„œëŠ” ìš”ì²­ì— í¬í•¨ë˜ì–´ HttpServletRequestë¡œ ë¶€í„° ê°€ì ¸ì˜¬ ìˆ˜ ìˆì§€ë§Œ í´ë¼ì´ì–¸íŠ¸ ì¸ì¦ì„œ ê²€ì¦ì„ ìœ„í•œ CA ì¸ì¦ì„œì™€ ë¹„ë°€í‚¤ëŠ” ë³„ë„ì˜ íŒŒì¼ì´ë‚˜ ë¬¸ìì—´ë¡œë¶€í„° ë¶ˆëŸ¬ì™€ì•¼í•œë‹¤. ê³µê°œí‚¤ì™€ ë¹„ë°€í‚¤ì— ëŒ€í•´ì„œëŠ” JcaPEMKeyConverterë¥¼ ì‚¬ìš©í•´ì„œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PemUtil</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token class-name">PemUtil</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">PemObject</span> <span class="token function">loadPem</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> encoded<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">StringReader</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>encoded<span class="token punctuation">,</span> <span class="token class-name">StandardCharsets</span><span class="token punctuation">.</span><span class="token constant">UTF_8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token class-name">PEMParser</span> pemParser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PEMParser</span><span class="token punctuation">(</span>reader<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> pemParser<span class="token punctuation">.</span><span class="token function">readPemObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Object</span> <span class="token function">loadObject</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> encoded<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">StringReader</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>encoded<span class="token punctuation">,</span> <span class="token class-name">StandardCharsets</span><span class="token punctuation">.</span><span class="token constant">UTF_8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token class-name">PEMParser</span> pemParser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PEMParser</span><span class="token punctuation">(</span>reader<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> pemParser<span class="token punctuation">.</span><span class="token function">readObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">X509Certificate</span> <span class="token function">loadCertificate</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> encoded<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">CertificateException</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">PemObject</span> obj <span class="token operator">=</span> <span class="token function">loadPem</span><span class="token punctuation">(</span>encoded<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">CertificateFactory</span> factory <span class="token operator">=</span> <span class="token class-name">CertificateFactory</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token string">"X.509"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token class-name">X509Certificate</span><span class="token punctuation">)</span> factory<span class="token punctuation">.</span><span class="token function">generateCertificate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ByteArrayInputStream</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">PublicKey</span> <span class="token function">loadPublicKey</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> encoded<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Object</span> obj <span class="token operator">=</span> <span class="token function">loadObject</span><span class="token punctuation">(</span>encoded<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">JcaPEMKeyConverter</span> converter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JcaPEMKeyConverter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setProvider</span><span class="token punctuation">(</span><span class="token class-name">BouncyCastleProvider</span><span class="token punctuation">.</span><span class="token constant">PROVIDER_NAME</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">SubjectPublicKeyInfo</span> publicKeyInfo <span class="token operator">=</span> <span class="token class-name">SubjectPublicKeyInfo</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> converter<span class="token punctuation">.</span><span class="token function">getPublicKey</span><span class="token punctuation">(</span>publicKeyInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">PrivateKey</span> <span class="token function">loadPrivateKey</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> encoded<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Object</span> obj <span class="token operator">=</span> <span class="token function">loadObject</span><span class="token punctuation">(</span>encoded<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">JcaPEMKeyConverter</span> converter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JcaPEMKeyConverter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setProvider</span><span class="token punctuation">(</span><span class="token class-name">BouncyCastleProvider</span><span class="token punctuation">.</span><span class="token constant">PROVIDER_NAME</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">PrivateKeyInfo</span> privateKeyInfo <span class="token operator">=</span> <span class="token class-name">PrivateKeyInfo</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> converter<span class="token punctuation">.</span><span class="token function">getPrivateKey</span><span class="token punctuation">(</span>privateKeyInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>ë³¸ ê¸€ì—ì„œ ë‹¤ë£¬ ì˜ˆì œ ì½”ë“œì— ëŒ€í•œ ë³´ë‹¤ ìì„¸í•œ ê²ƒì€ <a href="https://github.com/kdevkr/spring-boot-security/blob/main/src/test/java/com/example/demo/x509/X509Test.java">X509Test.java</a>ë¥¼ í†µí•´ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p><h4 id="ì°¸ê³ -ë§í¬"><a href="#ì°¸ê³ -ë§í¬" class="headerlink" title="ì°¸ê³  ë§í¬"></a>ì°¸ê³  ë§í¬</h4><ul><li><a href="https://www.baeldung.com/java-bouncy-castle">Introduction to BouncyCastle with Java</a>  </li><li><a href="https://www.baeldung.com/java-read-pem-file-keys">How to Read PEM File to Get Public and Private Keys</a>  </li><li><a href="https://www.baeldung.com/java-rsa">RSA in Java</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ìë°”ì—ì„œ ì•”í˜¸í™” ë˜ëŠ” ì „ìì„œëª…ì„ ìœ„í•œ ê¸°ëŠ¥ì„ JCAë¥¼ í†µí•´ ì œê³µí•˜ê¸°ëŠ” í•˜ì§€ë§Œ ì‹¤ì§ˆì ìœ¼ë¡œëŠ” &lt;a href=&quot;https://github.com/bcgit/bc-java&quot;&gt;Bouncy Castle&lt;/a&gt;ì´ë¼ëŠ” ì•”í˜¸ ê´€ë ¨ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•œë‹¤. ë³¸ ê¸€ì—</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>ìŠ¤í”„ë§ ë°±ì—”ë“œ ê°œë°œìê°€ CORSë¥¼ í…ŒìŠ¤íŠ¸ í•˜ëŠ” ë°©ë²•</title>
    <link href="https://kdevkr.github.io/spring-cors/"/>
    <id>https://kdevkr.github.io/spring-cors/</id>
    <published>2023-07-22T12:00:00.000Z</published>
    <updated>2023-07-31T11:10:23.372Z</updated>
    
    <content type="html"><![CDATA[<p><img data-src="/images/posts/spring-cors/01.png"></p><p>ìœ„ì™€ ê°™ì€ ì§¤ì˜ ë‚´ìš©ì²˜ëŸ¼ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìì—ê²Œ ê³ í†µì„ ì£¼ëŠ” ê²ƒì€ CORS ì´ë‹¤. ê·¸ëŸ°ë° CORSëŠ” ë¸Œë¼ìš°ì €ì—ì„œì˜ ì •ì±…ì„ì—ë„ ë¶ˆêµ¬í•˜ê³  í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìê°€ ëŒ€ì‘í•  ìˆ˜ ìˆëŠ” ë¶€ë¶„ì€ ì—†ìœ¼ë©° ë¸Œë¼ìš°ì €ì—ì„œì˜ CORS ë§¤ì»¤ë‹ˆì¦˜ì„ ì´í•´í•˜ê³  ì„œë²„ ë°±ì—”ë“œ ê°œë°œìê°€ ì²˜ë¦¬í•´ì•¼í•  ë¶€ë¶„ì´ë‹¤. MDNì˜ <a href="https://developer.mozilla.org/en-US/docs/Glossary/Preflight_request">Preflight Request</a> ë¬¸ì„œì—ì„œ ë‹¤ë£¨ëŠ” ë‚´ìš©ì²˜ëŸ¼ ëŒ€ë¶€ë¶„ì˜ CORS ë¬¸ì œëŠ” í”„ë¡ íŠ¸ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œì˜ XHR ìš”ì²­ì— ì˜í•´ í”„ë¦¬í”Œë¼ì´íŠ¸ ìš”ì²­(Preflight Request)ì— ì˜í•œ CORS ìœ„ë°° ì‘ë‹µì„ ë°›ê³  ë¸Œë¼ìš°ì €ì—ì„œ ì œí•œí•˜ê¸° ë•Œë¬¸ì— ë°œìƒí•œë‹¤.</p><h4 id="í”„ë¦¬í”Œë¼ì´íŠ¸-ìš”ì²­"><a href="#í”„ë¦¬í”Œë¼ì´íŠ¸-ìš”ì²­" class="headerlink" title="í”„ë¦¬í”Œë¼ì´íŠ¸ ìš”ì²­"></a>í”„ë¦¬í”Œë¼ì´íŠ¸ ìš”ì²­</h4><p>í”„ë¦¬í”Œë¼ì´íŠ¸ ìš”ì²­ì€ <code>Origin</code> í—¤ë”ì™€ <code>Access-Control-Request-Method</code> í—¤ë” ê·¸ë¦¬ê³  <code>OPTIONS</code> ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ìˆ˜í–‰ëœë‹¤. </p><pre class="language-text" data-language="text"><div class="caption"><span>HTTP</span></div><code class="language-text">OPTIONS /resource/fooAccess-Control-Request-Method: DELETE Access-Control-Request-Headers: origin, x-requested-with Origin: https://foo.bar.org </code></pre><p>ì°¸ê³ ë¡œ, ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ì—ì„œ <a href="https://github.com/spring-projects/spring-framework/blob/main/spring-web/src/main/java/org/springframework/web/cors/CorsUtils.java">CorsUtils</a>ì— ì˜í•´ í”„ë¦¬í”Œë¼ì´íŠ¸ ìš”ì²­ì„ êµ¬ë¶„í•˜ëŠ” ì¡°ê±´ì€ ì•„ë˜ì™€ ê°™ì´ êµ¬í˜„ë˜ì–´ìˆë‹¤.</p><pre class="language-java" data-language="java"><div class="caption"><span>Java</span></div><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">CorsUtils</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">isPreFlightRequest</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token class-name">HttpMethod</span><span class="token punctuation">.</span><span class="token constant">OPTIONS</span><span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>request<span class="token punctuation">.</span><span class="token function">getHeader</span><span class="token punctuation">(</span><span class="token class-name">HttpHeaders</span><span class="token punctuation">.</span><span class="token constant">ORIGIN</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span>request<span class="token punctuation">.</span><span class="token function">getHeader</span><span class="token punctuation">(</span><span class="token class-name">HttpHeaders</span><span class="token punctuation">.</span><span class="token constant">ACCESS_CONTROL_REQUEST_METHOD</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><h4 id="ìŠ¤í”„ë§-CORS-ë””ë²„ê·¸"><a href="#ìŠ¤í”„ë§-CORS-ë””ë²„ê·¸" class="headerlink" title="ìŠ¤í”„ë§ CORS ë””ë²„ê·¸"></a>ìŠ¤í”„ë§ CORS ë””ë²„ê·¸</h4><p>CORS ìš”ì²­ì— ëŒ€í•œ ê²€ì¦ì€ CorsFilterì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ì‚¬ìš©ë˜ë„ë¡ êµ¬í˜„ëœ <a href="https://github.com/spring-projects/spring-framework/blob/main/spring-web/src/main/java/org/springframework/web/cors/DefaultCorsProcessor.java">DefaultCorsProcessor</a>ì— ì˜í•´ ìˆ˜í–‰ëœë‹¤. CORS ìš”ì²­ì— ì˜í•´ ìœ„ë°°ë˜ëŠ” ìƒí™©ì— ëŒ€í•´ì„œ ì›ì¸ì„ ë¡œê·¸ë¡œ ì¶œë ¥í•´ë³´ë ¤ëŠ” ê²½ìš° DefaultCorsProcessorì— ëŒ€í•œ ë¡œê·¸ ë ˆë²¨ì„ TRACE ë˜ëŠ” DEBUGë¡œ ì§€ì •í•˜ë©´ ëœë‹¤. ê°œë°œ í™˜ê²½ì—ì„œëŠ” CorsFilter ë˜ëŠ” DefaultCorsProcessorì˜ ì½”ë“œ ë¼ì¸ì— ì¤‘ë‹¨ì ì„ ê±¸ì–´ì„œ í™•ì¸í•  ìˆ˜ ìˆê² ì§€ë§Œ ìš´ì˜ í™˜ê²½ì—ì„œëŠ” ë¡œê·¸ ë ˆë²¨ë¡œ ì²´í¬í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.</p><pre class="language-yaml" data-language="yaml"><div class="caption"><span>application.yml</span></div><code class="language-yaml"><span class="token key atrule">logging.level</span><span class="token punctuation">:</span>  <span class="token key atrule">org.springframework.web.cors.DefaultCorsProcessor</span><span class="token punctuation">:</span> TRACE</code></pre><p><img data-src="/images/posts/spring-cors/03.gif" alt="CORSì˜ í”„ë¦¬í”Œë¼ì´íŠ¸ ìš”ì²­ì„ ì´í•´í•œ ë°±ì—”ë“œ ê°œë°œì"></p><h4 id="ìŠ¤í”„ë§-MockMvcë¡œ-CORS-í…ŒìŠ¤íŠ¸"><a href="#ìŠ¤í”„ë§-MockMvcë¡œ-CORS-í…ŒìŠ¤íŠ¸" class="headerlink" title="ìŠ¤í”„ë§ MockMvcë¡œ CORS í…ŒìŠ¤íŠ¸"></a>ìŠ¤í”„ë§ MockMvcë¡œ CORS í…ŒìŠ¤íŠ¸</h4><p>ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©ì¤‘ì´ë©° <strong>CorsConfiguration</strong> ì„¤ì •ì„ í•´ë‘ì—ˆë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ <strong>MockMvc</strong>ë¥¼ í™œìš©í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤. </p><pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Test</span><span class="token annotation punctuation">@DisplayName</span><span class="token punctuation">(</span><span class="token string">"Preflight request"</span><span class="token punctuation">)</span><span class="token keyword">void</span> <span class="token class-name">TestPreflightRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">Assertions</span><span class="token punctuation">.</span><span class="token function">assertDoesNotThrow</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">&#123;</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> allowedOrigins <span class="token operator">=</span> corsConfiguration<span class="token punctuation">.</span><span class="token function">getAllowedOrigins</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>allowedOrigins <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            allowedOrigins <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> allowedMethods <span class="token operator">=</span> corsConfiguration<span class="token punctuation">.</span><span class="token function">getAllowedMethods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>allowedMethods <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            allowedMethods <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        mockMvc<span class="token punctuation">.</span><span class="token function">perform</span><span class="token punctuation">(</span><span class="token function">options</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">"Origin"</span><span class="token punctuation">,</span> allowedOrigins<span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">"Access-Control-Request-Method"</span><span class="token punctuation">,</span> <span class="token string">"GET"</span><span class="token punctuation">)</span>            <span class="token punctuation">)</span>            <span class="token punctuation">.</span><span class="token function">andExpect</span><span class="token punctuation">(</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isOk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">.</span><span class="token function">andExpect</span><span class="token punctuation">(</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stringValues</span><span class="token punctuation">(</span><span class="token string">"Access-Control-Allow-Origin"</span><span class="token punctuation">,</span> allowedOrigins<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">.</span><span class="token function">andExpect</span><span class="token punctuation">(</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token string">"Access-Control-Allow-Methods"</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">,</span> allowedMethods<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">.</span><span class="token function">andDo</span><span class="token punctuation">(</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><h4 id="cURLë¡œ-í…ŒìŠ¤íŠ¸í•˜ëŠ”-ë°©ë²•"><a href="#cURLë¡œ-í…ŒìŠ¤íŠ¸í•˜ëŠ”-ë°©ë²•" class="headerlink" title="cURLë¡œ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë°©ë²•"></a>cURLë¡œ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë°©ë²•</h4><p>í¬ìŠ¤íŠ¸ë§¨ ë„êµ¬ë¡œ HTTP ìš”ì²­ì„ ìˆ˜í–‰í•œ ê²ƒì²˜ëŸ¼ cURLë¡œë„ í”„ë¦¬í”Œë¼ì´íŠ¸ ìš”ì²­ì„ ìˆ˜í–‰í•´ë³¼ ìˆ˜ ìˆë‹¤. í¬ìŠ¤íŠ¸ë§¨ê³¼ëŠ” ë‹¤ë¥´ê²Œ OPTIONSë¥¼ ì§ì ‘ì ìœ¼ë¡œ ì‚¬ìš©í•´ì•¼í•œë‹¤. DefaultCorsProcessorì— ì˜í•´ CORSì— ìœ„ë°°ëœ ìƒí™©ì´ ìˆë‹¤ë©´ <code>Invalid CORS request</code>ì´ë¼ëŠ” ì‘ë‹µê³¼ í•¨ê»˜ 403 ìƒíƒœ ì½”ë“œê°€ í™•ì¸ ë  ê²ƒì´ë‹¤.</p><pre class="language-powershell" data-language="powershell"><div class="caption"><span>Windows Terminal</span></div><code class="language-powershell"><span class="token function">PS</span> C:\Users\Mambo> curl <span class="token operator">-</span>X OPTIONS <span class="token string">'http://localhost:5000'</span> <span class="token operator">-</span>H <span class="token string">'Origin: http://localhost'</span> <span class="token operator">-</span>H <span class="token string">'Access-Control-Request-Method: GET'</span> <span class="token operator">-</span>v<span class="token operator">*</span>   Trying 127<span class="token punctuation">.</span>0<span class="token punctuation">.</span>0<span class="token punctuation">.</span>1:5000<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">*</span> Connected to localhost <span class="token punctuation">(</span>127<span class="token punctuation">.</span>0<span class="token punctuation">.</span>0<span class="token punctuation">.</span>1<span class="token punctuation">)</span> port 5000 <span class="token punctuation">(</span><span class="token comment">#0)</span>> OPTIONS <span class="token operator">/</span> HTTP/1<span class="token punctuation">.</span>1> Host: localhost:5000> User-Agent: curl/8<span class="token punctuation">.</span>0<span class="token punctuation">.</span>1> Accept: <span class="token operator">*</span><span class="token operator">/</span><span class="token operator">*</span>> Origin: http:<span class="token operator">/</span><span class="token operator">/</span>localhost> Access-Control-<span class="token function">Request-Method</span>: GET>&lt; HTTP/1<span class="token punctuation">.</span>1 403 Forbidden&lt; Expires: 0&lt; Cache-Control: no-cache<span class="token punctuation">,</span> no-store<span class="token punctuation">,</span> max-age=0<span class="token punctuation">,</span> must-revalidate&lt; X-XSS-Protection: 0&lt; Pragma: no-cache&lt; X-Frame-Options: DENY&lt; Date: Sat<span class="token punctuation">,</span> 22 Jul 2023 12:56:00 GMT&lt; Connection: keep-alive&lt; Vary: Origin&lt; Vary: Access-Control-<span class="token function">Request-Method</span>&lt; Vary: Access-Control-<span class="token function">Request-Headers</span>&lt; X-Content-<span class="token function">Type</span><span class="token operator">-</span>Options: nosniff&lt; Transfer-Encoding: chunked&lt;Invalid CORS request* Connection <span class="token comment">#0 to host localhost left intact</span></code></pre><h4 id="Postmanìœ¼ë¡œ-í…ŒìŠ¤íŠ¸í•˜ëŠ”-ë°©ë²•"><a href="#Postmanìœ¼ë¡œ-í…ŒìŠ¤íŠ¸í•˜ëŠ”-ë°©ë²•" class="headerlink" title="Postmanìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë°©ë²•"></a>Postmanìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë°©ë²•</h4><p>HTTP ìš”ì²­ì„ ìˆ˜í–‰í•´ë³¼ ìˆ˜ ìˆëŠ” í¬ìŠ¤íŠ¸ë§¨ì—ì„œ í”„ë¦¬í”Œë¼ì´íŠ¸ ìš”ì²­ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ì„œëŠ” Origin í—¤ë”ë¥¼ í¬í•¨í•˜ë©´ ëœë‹¤. í¬ìŠ¤íŠ¸ë§¨ì—ì„œ ì•Œì•„ì„œ OPTIONSë¥¼ ìˆ˜í–‰í•˜ë¯€ë¡œ ê°„ë‹¨í•˜ê²Œ í…ŒìŠ¤íŠ¸í•´ë³¼ ìˆ˜ ìˆë‹¤.</p><p><img data-src="/images/posts/spring-cors/02.png"></p><p>ë§Œì•½, CORSëŠ” í”„ë¡ íŠ¸ì—”ë“œ ì˜ì—­ì—ì„œ í•´ê²°í•´ì•¼í•  ë¬¸ì œë¼ê³  ìƒê°í•˜ê³  ìˆëŠ” ê°œë°œìê°€ ìˆë‹¤ë©´ CORSì— ëŒ€í•´ì„œ ë‹¤ì‹œ í•™ìŠµí•˜ê¸¸ ë°”ë€ë‹¤.<br>í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìê°€ CORSì˜ ê³ í†µì—ì„œ ë²—ì–´ë‚  ìˆ˜ ìˆë„ë¡ ë°±ì—”ë“œ ê°œë°œìëŠ” ì±…ì„ì„ ë‹¤í•´ì•¼ í•  ê²ƒì´ë‹¤. </p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img data-src=&quot;/images/posts/spring-cors/01.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;ìœ„ì™€ ê°™ì€ ì§¤ì˜ ë‚´ìš©ì²˜ëŸ¼ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìì—ê²Œ ê³ í†µì„ ì£¼ëŠ” ê²ƒì€ CORS ì´ë‹¤. ê·¸ëŸ°ë° CORSëŠ” ë¸Œë¼ìš°ì €ì—ì„œì˜ ì •ì±…ì„ì—ë„ ë¶ˆêµ¬í•˜ê³  í”„ë¡ íŠ¸ì—”ë“œ </summary>
      
    
    
    
    
    <category term="CORS" scheme="https://kdevkr.github.io/tags/CORS/"/>
    
    <category term="Preflight Request" scheme="https://kdevkr.github.io/tags/Preflight-Request/"/>
    
  </entry>
  
  <entry>
    <title>ìŠ¤í”„ë§ ì‹œíë¦¬í‹° ë°ì´í„° JDBC</title>
    <link href="https://kdevkr.github.io/spring-security-data-jdbc-integration/"/>
    <id>https://kdevkr.github.io/spring-security-data-jdbc-integration/</id>
    <published>2023-07-13T11:00:00.000Z</published>
    <updated>2023-07-31T11:10:23.372Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ì „ì²´ ì˜ˆì œ ì½”ë“œëŠ” <a href="https://github.com/kdevkr/spring-boot-security/">kdevkr&#x2F;spring-boot-security</a>ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p></blockquote><p><a href="https://docs.spring.io/spring-security/reference/servlet/integrations/data.html">Spring Data Integration</a>ë¥¼ ì°¸ê³ í•˜ë©´ ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ì™€ ìŠ¤í”„ë§ ë°ì´í„° ëª¨ë“ˆì„ í†µí•©í•  ìˆ˜ ìˆë‹¤.<br>ìš°ì„  ì•„ë˜ì™€ ê°™ì´ í´ë˜ìŠ¤íŒ¨ìŠ¤ì— <code>org.springframework.security:spring-security-data</code> ì˜ì¡´ì„±ì„ ì¶”ê°€í•˜ë„ë¡ í•˜ì.</p><pre class="language-groovy" data-language="groovy"><div class="caption"><span>build.gradle</span></div><code class="language-groovy">dependencies <span class="token punctuation">&#123;</span>    implementation <span class="token string">'org.springframework.boot:spring-boot-starter-data-jdbc'</span>    implementation <span class="token string">'org.springframework.boot:spring-boot-starter-jdbc'</span>    implementation <span class="token string">'org.springframework.boot:spring-boot-starter-security'</span>    implementation <span class="token string">'org.springframework.security:spring-security-data'</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Bean</span><span class="token keyword">public</span> <span class="token class-name">SecurityEvaluationContextExtension</span> <span class="token function">securityEvaluationContextExtension</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">SecurityEvaluationContextExtension</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><p>êµ¬ì„± í´ë˜ìŠ¤ì—ì„œ <strong>SecurityEvaluationContextExtension</strong>ë¥¼ ë¹ˆìœ¼ë¡œ ë“±ë¡í•˜ë©´ @PreAuthorizeì™€ ê°™ì€ ë©”ì†Œë“œ ê¸°ë°˜ í‘œí˜„ì‹ê³¼ ë¹„ìŠ·í•˜ê²Œ <strong>@Query</strong> ë‚´ì—ì„œ ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ì— ëŒ€í•œ SpELì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ, ìŠ¤í”„ë§ ì‹œíë¦¬í‹° ê³µì‹ ë¬¸ì„œì™€ <a href="https://github.com/spring-projects/spring-security-samples/tree/main/servlet/java-configuration/data">Spring Dataì— ëŒ€í•œ ì˜ˆì œ ì½”ë“œ</a>ì™€ ê°™ì´ ì‹œë„í•´ë³´ë©´ ì•„ë˜ì™€ ê°™ì€ <code>ì˜¤ë¥˜</code>ê°€ ë°œìƒí•œë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>dao<span class="token punctuation">.</span></span>InvalidDataAccessApiUsageException</span><span class="token operator">:</span> <span class="token constant">SQL</span> <span class="token punctuation">[</span><span class="token constant">SELECT</span> u<span class="token punctuation">.</span>username <span class="token constant">FROM</span> users u where u<span class="token punctuation">.</span>username <span class="token operator">=</span> <span class="token operator">?</span>__$synthetic$__1<span class="token punctuation">]</span><span class="token operator">:</span> given <span class="token number">1</span> parameters but expected <span class="token number">0</span></code></pre><p>ìœ„ì™€ ê°™ì€ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ëŠ” ì´ìœ ëŠ” Spring Data JDBCëŠ” ë‚´ë¶€ì ìœ¼ë¡œ <strong>N</strong>amedParameterJdbcTemplate**ë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— <code>?</code>ì™€ ê°™ì€ JPQL ë˜ëŠ” Native ì¿¼ë¦¬ ë°©ì‹ê³¼ëŠ” ì°¨ì´ê°€ ìˆìœ¼ë¯€ë¡œ <code>?</code>ì´ ì•„ë‹Œ <code>:</code>ë¡œ í‘œí˜„í•´ì•¼í•œë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Repository</span><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserRepository</span> <span class="token keyword">extends</span> <span class="token class-name">CrudRepository</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Query</span><span class="token punctuation">(</span><span class="token string">"SELECT u.username FROM users u where u.username = :#&#123; principal?.username &#125;"</span><span class="token punctuation">)</span>    <span class="token class-name">String</span> <span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;ì „ì²´ ì˜ˆì œ ì½”ë“œëŠ” &lt;a href=&quot;https://github.com/kdevkr/spring-boot-security/&quot;&gt;kdevkr&amp;#x2F;spring-boot-security&lt;/a&gt;ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.&lt;/p&gt;
&lt;/b</summary>
      
    
    
    
    
    <category term="Spring Security" scheme="https://kdevkr.github.io/tags/Spring-Security/"/>
    
    <category term="Spring Data JDBC" scheme="https://kdevkr.github.io/tags/Spring-Data-JDBC/"/>
    
  </entry>
  
  <entry>
    <title>ìŠ¤ìŠ¤ë¡œ ë¦¬ë·°í•˜ëŠ” ìŠµê´€ì„ ê°€ì§€ì</title>
    <link href="https://kdevkr.github.io/review-yourself/"/>
    <id>https://kdevkr.github.io/review-yourself/</id>
    <published>2023-07-09T01:00:00.000Z</published>
    <updated>2023-07-31T11:10:23.372Z</updated>
    
    <content type="html"><![CDATA[<p>ì‹ ì… ì›¹ ê°œë°œìë“¤ì˜ ì´ë ¥ì„œë‚˜ ì¸í„°ë·° ê³¼ì •ì—ì„œ íšŒì‚¬ ë‚´ì— ì½”ë“œ ë¦¬ë·° ë¬¸í™”ê°€ ìˆëŠ”ì§€ ë¬¼ì–´ë³´ëŠ” ì‚¬ëŒì´ ë§ì€ ê²ƒ ê°™ë‹¤. ì–´ë–¤ ì‚¬ëŒì€ ìì‹ ì´ ì‘ì„±í•œ ì½”ë“œê°€ íš¨ìœ¨ì ì¸ì§€ í‰ê°€ë°›ê³  ì‹¶ì€ ë‹ˆì¦ˆì´ê³  ì–´ë–¤ ì‚¬ëŒì€ íŒ€ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ ì²˜ìŒì˜ ëª©í‘œì™€ëŠ” ë‹¤ë¥´ê²Œ ì§§ì€ ê¸°ê°„ì— ê²°ê³¼ë¬¼ì„ ë§Œë“¤ì–´ë‚´ê¸° ìœ„í•´ ë¦¬ë·° ê³¼ì •ì„ ìƒëµí•  ìˆ˜ ë°–ì— ì—†ì—ˆë˜ ê²½í—˜ì„ ì½”ë“œ ë¦¬ë·° ë¬¸í™”ê°€ ì •ì°©ëœ ì¡°ì§ì—ì„œ ê²½í—˜í•˜ê³ ì í•˜ëŠ” ê²ƒ ê°™ë‹¤. ì†”ì§í•˜ê²Œ ì´ì•¼ê¸°í•˜ìë©´ íšŒì‚¬ ë‚´ì— ì½”ë“œ ë¦¬ë·° ë¬¸í™”ëŠ” ì—†ìœ¼ë©° ë‚´ê°€ ì†í•œ íŒ€ì— í•œí•´ì„œë§Œ ì£¼ë‹ˆì–´ ê°œë°œìë“¤ì˜ ìš”ì²­ì— ì˜í•´ì„œ ì½”ë“œ ë¦¬ë·° ê³¼ì •ì„ ë„ì…í•˜ì—¬ í”„ë¡œì íŠ¸ ì—…ë¬´ë¥¼ ìˆ˜í–‰í•˜ê³  ìˆë‹¤. ì•„ë¬´ë˜ë„ íŒ€ì¥ì´ë¼ëŠ” ì§ë¬´ë¥¼ ìˆ˜í–‰í•˜ê³  ìˆê¸°ì— ë‚´ì‹¬ ì›í–ˆë˜ ê²ƒì„ íŒ€ì—ì„œ ìš”ì²­í–ˆì„ ì§€ ëª¨ë¥¼ ì¼ì´ë‹¤. ì•„ë¬´íŠ¼ ì½”ë“œ ë¦¬ë·° ê³¼ì •ì„ ìˆ˜í–‰í•œë‹¤ê³  í•´ì„œ í˜„ì‹¤ì ìœ¼ë¡œ ë¹ ë¥´ê²Œ ì—…ë¬´ë¥¼ ìˆ˜í–‰í•˜ê³  ìƒê°ë³´ë‹¤ ë§ì€ ê²ƒë“¤ì„ ì²˜ë¦¬í•´ì•¼í•˜ë¯€ë¡œ ëª¨ë‘ê°€ ë§Œì¡±í• ë§Œí•œ ìƒì„¸í•œ ì½”ë“œ ë¦¬ë·°ëŠ” ì—†ë‹¤ê³  ë§í•  ìˆ˜ ìˆë‹¤.</p><p>ì¸í„°ë„·ì—ì„œ ì½”ë“œ ë¦¬ë·°ì— ëŒ€í•œ ê¸€ë“¤ì„ ì‚´í´ë³´ë‹ˆ ìƒê°ë³´ë‹¤ ë§ì€ ì¡°ì§ì—ì„œ ê°œë°œìë“¤ì´ ì½”ë“œ ë¦¬ë·°ì— ëŒ€í•œ ì˜¤í•´ë¥¼ í–ˆì—ˆê³  í˜„ì¬ì˜ íŒ€ì—ì„œë„ ì½”ë“œ ë¦¬ë·°ì— ëŒ€í•œ ì‘ì€ ì˜¤í•´ë“¤ì„ ì¡°ê¸ˆì”© í•´ì†Œì— ë‚˜ê°€ê³  ìˆë‹¤ê³  ìƒê°í•œë‹¤. ì½”ë“œ ë¦¬ë·° ê³¼ì •ì—ì„œ ê°€ì¥ í° ì˜¤í•´ëŠ” ê²½í—˜ì´ ë§ì€ ê°œë°œìì˜ ì˜ê²¬ì´ ì •ë‹µì´ë¼ê³  ê°€ì •í•˜ëŠ” ê²ƒì´ë©° ì‘ì€ ì˜¤í•´ëŠ” ì½”ë“œ ë¦¬ë·°ë¥¼ í†µí•´ ëª¨ë“  ê²ƒì„ ì²´í¬í•´ì•¼í•œë‹¤ê³  ìƒê°í•œë‹¤ëŠ” ê²ƒì´ë‹¤. ì•ì„œ ì´ì•¼ê¸°í–ˆë“¯ì´ ë¹ ë¥´ê²Œ ë§ì€ ì—…ë¬´ë¥¼ ì²˜ë¦¬í•´ì•¼í•˜ë¯€ë¡œ ì½”ë“œ ë¦¬ë·°ì— ë§ì€ ì‹œê°„ì„ ì†Œë¹„í•˜ê¸°ì—” ì–´ë ¤ìš´ê²Œ í˜„ì‹¤ì´ë‹¤. ê·¸ë ‡ë‹¤ë©´ ìµœì†Œí•œ ëŒ€ë¶€ë¶„ì˜ ê°œë°œìë“¤ì´ ê¸°ë³¸ìœ¼ë¡œ ìƒê°í•˜ëŠ” ì‚¬ì†Œí•œ ê´€ì ì— ëŒ€í•´ì„œ ìŠ¤ìŠ¤ë¡œ ë¦¬ë·°í•˜ëŠ” ê³¼ì •ê³¼ ìŠµê´€ì´ í•„ìš”í•´ì§„ë‹¤ëŠ” ì˜ë¯¸ë¡œ ìƒê°í•  ìˆ˜ ìˆë‹¤.</p><p>ê·¸ë ‡ë‹¤ë©´, ê°œë°œìê°€ ìŠ¤ìŠ¤ë¡œ ë¦¬ë·°í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì€ ë¬´ì—‡ì´ ìˆì„ì§€ ê°™ì´ ìƒê°í•´ë³´ì.</p><h4 id="ê¹ƒ-ì»¤ë°‹-ê³¼ì •ì—ì„œ-ë¶ˆí•„ìš”í•œ-ë°˜ì˜ì‚¬í•­ì„-ë‹¤ì‹œ-í•œë²ˆ-ì²´í¬í•˜ê¸°"><a href="#ê¹ƒ-ì»¤ë°‹-ê³¼ì •ì—ì„œ-ë¶ˆí•„ìš”í•œ-ë°˜ì˜ì‚¬í•­ì„-ë‹¤ì‹œ-í•œë²ˆ-ì²´í¬í•˜ê¸°" class="headerlink" title="ê¹ƒ ì»¤ë°‹ ê³¼ì •ì—ì„œ ë¶ˆí•„ìš”í•œ ë°˜ì˜ì‚¬í•­ì„ ë‹¤ì‹œ í•œë²ˆ ì²´í¬í•˜ê¸°"></a>ê¹ƒ ì»¤ë°‹ ê³¼ì •ì—ì„œ ë¶ˆí•„ìš”í•œ ë°˜ì˜ì‚¬í•­ì„ ë‹¤ì‹œ í•œë²ˆ ì²´í¬í•˜ê¸°</h4><p>ì‚¬ì†Œí•œ ì‹¤ìˆ˜ë¡œ ì¸í•´ ê¹ƒ ì»¤ë°‹ ê³¼ì •ì—ì„œ í’€ ë¦¬í€˜ìŠ¤íŠ¸ì— ëŒ€í•œ ë‚´ìš©ê³¼ ìƒê´€ì—†ëŠ” ë³€ê²½ì‚¬í•­ì´ ë‚˜ë„ ëª¨ë¥´ê²Œ í¬í•¨ë  ìˆ˜ ìˆë‹¤. ì½”ë“œ ë¦¬ë·°ë¥¼ ìˆ˜í–‰í•˜ëŠ” ë¦¬ë·°ì–´ ì…ì¥ì—ì„œëŠ” ìš”êµ¬ì‚¬í•­ê³¼ ìƒê´€ì—†ëŠ” ë³€ê²½ì‚¬í•­ìœ¼ë¡œ ì¸í•´ ê·¸ë¡œ ì¸í•´ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì˜í–¥ë„ ì²´í¬ê¹Œì§€ í•´ì•¼í•˜ëŠ” ë¶ˆí•„ìš”í•œ ìƒí™©ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤. ì½”ë“œ ë¦¬ë·° ê³¼ì •ì˜ ëª©ì  ì¤‘ì— í•˜ë‚˜ëŠ” ì‘ì—…ìê°€ ê³ ë ¤í•˜ê±°ë‚˜ ì²´í¬í•˜ì§€ ëª»í•œ ë¶€ë¶„ì„ í¬ë¡œìŠ¤ ì²´í¬í•˜ê¸° ìœ„í•¨ì´ ìˆì§€ë§Œ ê·¸ëŸ¬í•œ ê³¼ì •ì„ ì¤„ì´ë ¤ëŠ” ë…¸ë ¥ì€ ë°˜ë“œì‹œ í•„ìš”í•˜ë‹¤.</p><h4 id="ì½”ë”©-ì»¨ë²¤ì…˜ì—-ë§ëŠ”-í¬ë§·íŒ…ì„-ìˆ˜í–‰í•˜ê¸°"><a href="#ì½”ë”©-ì»¨ë²¤ì…˜ì—-ë§ëŠ”-í¬ë§·íŒ…ì„-ìˆ˜í–‰í•˜ê¸°" class="headerlink" title="ì½”ë”© ì»¨ë²¤ì…˜ì— ë§ëŠ” í¬ë§·íŒ…ì„ ìˆ˜í–‰í•˜ê¸°"></a>ì½”ë”© ì»¨ë²¤ì…˜ì— ë§ëŠ” í¬ë§·íŒ…ì„ ìˆ˜í–‰í•˜ê¸°</h4><p>ì¸í…”ë¦¬ì œì´ì™€ ì´í´ë¦½ìŠ¤ë¥¼ í¬í•¨í•œ ë§ì€ ê°œë°œë„êµ¬ì—ì„œëŠ” ë¬¸ì„œì— ëŒ€í•œ í¬ë§·íŒ… ê¸°ëŠ¥ì„ í¬í•¨í•˜ê³  ìˆë‹¤. CheckStyle, Prettier, ESLintì™€ ê°™ì€ í”ŒëŸ¬ê·¸ì¸ê³¼ í†µí•©í•˜ì—¬ í”„ë¡œì íŠ¸ë§ˆë‹¤ ì •í•´ì§„ ë°©ì‹ìœ¼ë¡œ í¬ë§·íŒ…ì„ ìœ ì§€í•  ìˆ˜ ìˆê³  ì½”ë“œ ê°€ë…ì„±ì„ ìœ ì§€í•˜ì—¬ ë¦¬ë·°ì–´ê°€ ë” ì‰½ê²Œ ì½”ë“œ ë³€ê²½ì‚¬í•­ì„ ì²´í¬í•  ìˆ˜ ìˆë„ë¡ ì œê³µí•  ìˆ˜ ìˆë‹¤. ì–´ë–¤ ê°œë°œìë“¤ì€ í¬ë§·íŒ…ì— ëŒ€í•´ì„œ ê´€ì‹¬ì´ ì—†ì–´ ë¬´ì‹œí•˜ëŠ” ê²½í–¥ì´ ìˆëŠ”ë° êµ³ì´ í´ë¦° ì½”ë“œë¼ëŠ” ê´€ì ì´ ì•„ë‹ˆë¼ë„ ì‚¬ì†Œí•œ í¬ë§·íŒ… ìŠµê´€ìœ¼ë¡œë„ ì½”ë“œ ê°€ë…ì„±ì€ ì—„ì²­ë‚˜ê²Œ ë†’ì•„ì§„ë‹¤.</p><h4 id="SonarLintë¡œ-ì½”ë“œ-í’ˆì§ˆì„-ë¦¬ë·°í•˜ê¸°"><a href="#SonarLintë¡œ-ì½”ë“œ-í’ˆì§ˆì„-ë¦¬ë·°í•˜ê¸°" class="headerlink" title="SonarLintë¡œ ì½”ë“œ í’ˆì§ˆì„ ë¦¬ë·°í•˜ê¸°"></a>SonarLintë¡œ ì½”ë“œ í’ˆì§ˆì„ ë¦¬ë·°í•˜ê¸°</h4><p>SonarLintì™€ ê°™ì€ ì •ì  í’ˆì§ˆì„ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ë„êµ¬ë¥¼ í†µí•´ ìŠ¤ìŠ¤ë¡œ ì‘ì„±í•œ ì½”ë“œ í’ˆì§ˆì— ëŒ€í•´ì„œ ì‚´í´ë³´ê³  ë¦¬ë·°í•  ìˆ˜ ìˆë‹¤. í´ë¦° ì•„í‚¤í…ì²˜ì™€ í´ë¦° ì½”ë“œê°€ ê°œë°œì ê´€ì ì—ì„œ ë„ì›€ì´ ë˜ëŠ” ì§€ì‹ì€ ë§ìœ¼ë‚˜ ì‚¬ì†Œí•œ ê²ƒë“¤ë„ ì²´í¬í•˜ì§€ ëª»í•˜ëŠ” ìƒí™©ì—ì„œ ì¢‹ì€ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒì—ë§Œ ê´€ì‹¬ì´ ìˆë‹¤ë©´ ê·¸ê²ƒì´ ì •ë§ë¡œ ì˜³ì€ ë°©í–¥ì¸ì§€ ë‹¤ì‹œ ìƒê°í•´ë³´ì. ìŠ¤ìŠ¤ë¡œ <code>Standard outputs should not be used directly to log anything</code> ì´ë¼ëŠ” <a href="https://refactoring.guru/refactoring/smells">ì½”ë“œ ìŠ¤ë©œ</a>ì„ ì•„ëŠ”ê°€?</p><p>ì‹ ì… ë˜ëŠ” ì£¼ë‹ˆì–´ ê°œë°œìì—ê²Œ ê¸°ë³¸ì ìœ¼ë¡œ ìš”êµ¬ë˜ëŠ” í•„ìˆ˜ ì—­ëŸ‰ì—ì„œ ê¸°ë³¸ì´ë¼ëŠ” ì˜ë¯¸ëŠ” ì–´ì©Œë©´ ì–´ë–¤ ì§€ì‹ì˜ ê¹Šì€ ì´í•´ë¡œ ì¸í•´ ìŠì–´ë²„ë¦¬ëŠ” ì‚¬ì†Œí•œ ê²ƒë“¤ì„ ë§í•˜ëŠ”ê²Œ ì•„ë‹ê¹Œ ì‹¶ë‹¤. ìŠ¤ìŠ¤ë¡œ ë¦¬ë·°í•˜ëŠ” ìŠµê´€ì„ ê°€ì ¸ì„œ ìƒê°ë³´ë‹¤ ìŠì–´ë²„ë¦¬ê¸° ì‰¬ìš´ ì‚¬ì†Œí•œ ê²ƒë“¤ì„ ì²´í¬í•´ë³´ë„ë¡ í•˜ì. </p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ì‹ ì… ì›¹ ê°œë°œìë“¤ì˜ ì´ë ¥ì„œë‚˜ ì¸í„°ë·° ê³¼ì •ì—ì„œ íšŒì‚¬ ë‚´ì— ì½”ë“œ ë¦¬ë·° ë¬¸í™”ê°€ ìˆëŠ”ì§€ ë¬¼ì–´ë³´ëŠ” ì‚¬ëŒì´ ë§ì€ ê²ƒ ê°™ë‹¤. ì–´ë–¤ ì‚¬ëŒì€ ìì‹ ì´ ì‘ì„±í•œ ì½”ë“œê°€ íš¨ìœ¨ì ì¸ì§€ í‰ê°€ë°›ê³  ì‹¶ì€ ë‹ˆì¦ˆì´ê³  ì–´ë–¤ ì‚¬ëŒì€ íŒ€ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ ì²˜ìŒì˜ ëª©í‘œì™€ëŠ” ë‹¤ë¥´ê²Œ ì§§ì€</summary>
      
    
    
    
    
    <category term="Code Review" scheme="https://kdevkr.github.io/tags/Code-Review/"/>
    
    <category term="PR" scheme="https://kdevkr.github.io/tags/PR/"/>
    
  </entry>
  
  <entry>
    <title>í”„ë¡œë•ì…˜ ì½”ë“œì—ì„œì˜ ìë°” í‘œì¤€ ì¶œë ¥</title>
    <link href="https://kdevkr.github.io/system-out-in-prod/"/>
    <id>https://kdevkr.github.io/system-out-in-prod/</id>
    <published>2023-07-05T14:00:00.000Z</published>
    <updated>2023-07-31T11:10:23.372Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><a href="https://okky.kr/articles/1456477">https://okky.kr/articles/1456477</a> ì—ì„œ ê²½í—˜ ë§ìœ¼ì‹  ê°œë°œìê»˜ì„œ ì‚¬ì†Œí•˜ê³  ì“°ì˜ë°ê¸° ì—†ë‹¤ëŠ” ì˜ê²¬ì´ ìˆì–´ì„œ ì‘ì„±í•´ë³¸ë‹¤.</p></blockquote><p>ì£¼ê´€ì ì¸ ê´€ì ì—ì„œ í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ì•„ë‹Œ í”„ë¡œë•ì…˜ ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œì—ì„œ ë¡œê¹… ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•  ìˆ˜ ìˆìŒì—ë„ í‘œì¤€ ì¶œë ¥ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ íƒˆë½ì´ë¼ëŠ” ì˜ê²¬ì„ ì „ë‹¬í•˜ì˜€ë‹¤ê³  í–ˆë‹¤. (ì‹¤ì œë¡œëŠ” ì´ë ¥ì„œê°€ ë§ì§€ ì•Šì•„ì„œ ìƒì„¸í•˜ê²Œ ë³´ê³  ê²€í† í•˜ëŠ” ê¸°ì¤€ ì¤‘ì— í•˜ë‚˜ì¼ ë¿ì´ë‹¤.) ê·¸ëŸ¬ì, ê²½í—˜ ë§ì€ ê°œë°œìê»˜ì„œ ì£¼ê´€ì ì¸ ê´€ì ì€ ì´í•´í•˜ë‚˜ <code>ì“°ì˜ë°ê¸° ì—†ëŠ” ê²ƒ</code>ì„ ê¸°ì¤€ìœ¼ë¡œ ì¡ëŠëƒëŠ” ì˜ê²¬ì„ ë‹¬ìœ¼ì…¨ë‹¤. </p><ul><li><a href="https://stackoverflow.com/a/8601972">Do not use System.out.println in server side code</a></li><li><a href="https://softwareengineering.stackexchange.com/a/161215">Why is using System.out.println() so bad?</a></li><li><a href="https://hudi.blog/do-not-use-system-out-println-for-logging/">ë¡œê¹…ì„ System.out.println() ë¡œ í•˜ë©´ ì•ˆë˜ëŠ” ì´ìœ </a></li></ul><p>ìœ„ì˜ ë§í¬ë“¤ì€ ë‚´ê°€ ë°”ë¼ë³´ëŠ” ê¸°ì¤€ì´ ì •ë§ ì˜ëª»ë˜ì—ˆëŠ”ê°€ë¥¼ ë˜ëŒì•„ë³´ê¸° ìœ„í•´ ì°¾ì•„ë³¸ ê²ƒë“¤ì´ë‹¤. ì˜¤ë˜ì „ë¶€í„° í”„ë¡œë•ì…˜ ì½”ë“œì— í‘œì¤€ ì¶œë ¥ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ <code>ì½”ë“œ ìŠ¤ë©œ</code>ì— í•´ë‹¹ë˜ë©° ë‚˜ì™€ ë™ì¼í•˜ê²Œ ê°œë°œ ë˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ì½”ë“œì—ì„œ í‘œì¤€ ì¶œë ¥ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ë¬´ë°©í•˜ë‹¤ëŠ” ì…ì¥ì´ë‹¤. íŠ¹íˆë‚˜, ìš”ì¦˜ì— ì¸í…”ë¦¬ì œì´ ê°™ì€ IDEì—ì„œ ë§ì´ ì„¤ì¹˜í•˜ì—¬ ì‚¬ìš©í•˜ëŠ” SonarLint í”ŒëŸ¬ê·¸ì¸ì—ì„œë„ <a href="https://rules.sonarsource.com/java/RSPEC-106/">java:s106</a>ì´ë¼ëŠ” ê·œì¹™ìœ¼ë¡œ <code>Major ë ˆë²¨ì˜ ì½”ë“œ ìŠ¤ë©œ</code>ë¡œ ê²€ì¶œí•´ì¤€ë‹¤.</p><p><img data-src="/images/posts/system-out-in-prod/01.png"></p><p>ê²½í—˜ ë§ì€ ê°œë°œìë¶„ê»˜ì„œ ì´ì•¼ê¸°í•˜ëŠ” ì–´ë– í•œ ë°©ì‹ìœ¼ë¡œë“  ë¬´ì–¸ê°€ë¥¼ í™•ì¸í•˜ëŠ” ê²ƒì€ ìƒê´€ì—†ê³  ê·¸ ì½”ë“œê°€ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬ì— í¬í•¨ë˜ë„ ì‹ ê²½ì“°ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì˜ê²¬ì´ë‹¤. ê·¸ë ‡ë‹¤ë©´ ì´ ë¶„ê»˜ì„œ ì¼í•˜ëŠ” í™˜ê²½ì—ì„œ ë§Œë“¤ì–´ì§„ ì‹œìŠ¤í…œì—ëŠ” í‘œì¤€ ì¶œë ¥ìœ¼ë¡œ ì‚¬ìš©í•œ ë””ë²„ê·¸ ì½”ë“œê°€ ë‚¨ì•„ìˆì„ ìˆ˜ ìˆë‹¤ëŠ” ì´ì•¼ê¸°ì´ë©° ê·¸ê²ƒìœ¼ë¡œ ì¸í•´ ë°œìƒí•˜ëŠ” ì—¬ëŸ¬ê°€ì§€ ë¬¸ì œë“¤(í‘œì¤€ ì¶œë ¥ì— ì˜í•œ ì„±ëŠ¥ì´ë‚˜ ë³´ì•ˆì ì¸ ì •ë³´ ë…¸ì¶œ ë“±)ì— ëŒ€í•´ì„œëŠ” ì±…ì„ì§€ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì˜ë¯¸ë¡œ í•´ì„í•  ìˆ˜ ìˆë‹¤.</p><blockquote><p>ë§Œì•½, ì‹¤í–‰ì¤‘ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì— í‘œì¤€ ì¶œë ¥ì— ì˜í•œ ë¬¸ì œê°€ ë°œìƒí–ˆë‹¤ê³  ë‹¤ì‹œ ë¹Œë“œí•˜ì—¬ ë°°í¬ê°€ í•„ìš”í•˜ë‹¤ê³  ë¬´ì±…ì„í•˜ê²Œ ë§í•œë‹¤ë©´ ì–´ë–»ê²Œ ë°›ì•„ë“¤ì¼ê¹Œ?<br>ì„œë¹„ìŠ¤ ì¤‘ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì¤‘ë‹¨í•˜ê³  ë°°í¬í•˜ëŠ” ê²ƒì´ ê·¸ë ‡ê²Œ ì‰¬ìš´ì¼ì¸ê°€?</p></blockquote><p>ì•„ë¬´ë˜ë„ ì§€ê¸ˆì˜ ë‚´ ê¸°ì¤€ì´ ê²½í—˜ì´ ë§ì´ ìŒ“ì—¬ë„ <code>ë³€í•  ê°€ëŠ¥ì„±ì€ ê±°ì˜ ì—†ì„ ê²ƒ</code> ê°™ë‹¤. í˜„ì¬ ë§¡ê³  ìˆëŠ” ê°œë°œíŒ€ì˜ ê°œë°œì í•œë¶„ì€ êµ­ë¹„ì§€ì› êµìœ¡ì„ ë°›ê³  ì±„ìš©ì´ ë˜ì‹  ë¶„ì´ì—ˆìœ¼ë‚˜ ì´ì „ íšŒì‚¬ì—ì„œì˜ íŒ€ì¥ë“¤ê³¼ëŠ” ë‹¤ë¥´ë‹¤ê³  ì˜¤íˆë ¤ íŠ¹ì´í•˜ì‹  ë¶„ì´ë¼ ë” ì„±ì¥í•  ìˆ˜ ìˆëŠ”ë° ë„ì›€ì„ ì£¼ì‹œëŠ” ê²ƒ ê°™ë‹¤ë¼ê³  ì¢‹ì€ ì˜ê²¬ì„ ì£¼ì—ˆë‹¤. ì•„ë¬´ë¦¬ ì‹ ì… ê°œë°œìë¼ê³  í•˜ë”ë¼ë„ ë™ë£Œ ê°œë°œìë¼ëŠ” ì…ì¥ì„ ê³ ìˆ˜í•˜ëŠ”ê²Œ ë‚´ ìŠ¤íƒ€ì¼ë¡œ ìƒê°ë˜ë©° ì‹ ì… ê°œë°œìëŠ” ì•„ë¬´ê²ƒë„ ëª°ë¼ë„ ë˜ëŠ” ì‚¬ëŒë“¤ì´ ì•„ë‹ˆë¼ê³  ìƒê°ëœë‹¤. <code>ëˆ„êµ¬ë‚˜ ì‰½ê²Œ ê°œë°œìë¡œ ì¼í•  ìˆ˜ ìˆëŠ”</code> ì‹œëŒ€ê°€ ë˜ì—ˆê¸°ì— <code>ì‚¬ì†Œí•œ ê²ƒë“¤ë„ ì˜¤íˆë ¤ ì¤‘ìš”í•˜ê²Œ ìƒê°</code>í•´ì•¼í•œë‹¤.</p><p><img data-src="/images/posts/system-out-in-prod/02.png" alt="ê°œë°œ ë„êµ¬ê°€ ì¹œì ˆí•˜ê²Œ ì•Œë ¤ì£¼ëŠ” ìë°” ë„¤ì´ë° ì»¨ë²¤ì…˜ë„ ë¬´ì‹œí• ê±°ì•¼?"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://okky.kr/articles/1456477&quot;&gt;https://okky.kr/articles/1456477&lt;/a&gt; ì—ì„œ ê²½í—˜ ë§ìœ¼ì‹  ê°œë°œìê»˜ì„œ ì‚¬ì†Œí•˜ê³  ì“°ì˜ë°ê¸° ì—†ë‹¤ëŠ” ì˜ê²¬ì´ ìˆì–´ì„œ ì‘ì„±í•´ë³¸ë‹¤.</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Mapstruct (Feat. Gradle)</title>
    <link href="https://kdevkr.github.io/mapstruct/"/>
    <id>https://kdevkr.github.io/mapstruct/</id>
    <published>2023-07-02T06:00:00.000Z</published>
    <updated>2023-07-31T11:10:23.372Z</updated>
    
    <content type="html"><![CDATA[<p>ìë°” ì§„ì˜ì—ì„œ ì˜¤ë¸Œì íŠ¸ ê°„ ë³€í™˜ì„ ìœ„í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì˜¤ë¸Œì íŠ¸ ë§¤í•‘ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ëŠ” ModelMapperì™€ MapStructê°€ ìˆë‹¤. í˜„ì¬ ì‹œìŠ¤í…œì—ì„œëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ModelMapperë¡œë„ ì¶©ë¶„í–ˆê¸° ë•Œë¬¸ì— MapStructë¥¼ êµ³ì´ ë„ì…í•˜ì—¬ ì‚¬ìš©í•˜ì§€ëŠ” ì•Šì•˜ë‹¤. ì˜¤ë¸Œì íŠ¸ ë³€í™˜ì´ ë°˜ë³µì ìœ¼ë¡œ ë§ì´ ì´ë£¨ì–´ì§€ëŠ” ì¼€ì´ìŠ¤ê°€ ìˆì„ë•Œ ë¦¬í”Œë ‰ì…˜ìœ¼ë¡œ ì¸í•œ ë‹¨ì ì„ ë³´ì™„í•˜ê¸° ìœ„í•´ì„œ ì§ì ‘ì ìœ¼ë¡œ ì˜¤ë¸Œì íŠ¸ ë³€í™˜ì„ ìˆ˜í–‰í•˜ë„ë¡ í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•˜ê±°ë‚˜ ë¹Œë“œ ê³¼ì •ì—ì„œ ë§¤í¼ì— ëŒ€í•œ ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ì²´ë¥¼ ë§Œë“œëŠ” <a href="https://mapstruct.org/">Mapstruct</a>ê°€ ìš”êµ¬ë˜ê¸° ë•Œë¬¸ì— ë„ì…í•˜ê²Œ ëœë‹¤. í˜„ì¬ ì‹œìŠ¤í…œì—ì„œ íŠ¹ì • ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ëŠ” ê³¼ì •ì—ì„œ ê½¤ë‚˜ ë§ì€ ë³€í™˜ì´ ì´ë£¨ì–´ì§ˆ ìˆ˜ ìˆëŠ” ê°€ëŠ¥ì„±ì´ ë°œìƒí–ˆê¸° ë•Œë¬¸ì— (ì˜ˆë¥¼ ë“¤ì–´ ì•½ 2~300ëª…ì˜ ê°œë³„ í†µê³„ ë°ì´í„°ë¥¼ í•œë²ˆì— ì¡°íšŒ) ë„ì…ì„ ê³ ë ¤í•˜ê²Œ ë˜ì—ˆë‹¤.</p><h4 id="Mapstructì—-ëŒ€í•´-ì•Œì•„ë³´ê¸°"><a href="#Mapstructì—-ëŒ€í•´-ì•Œì•„ë³´ê¸°" class="headerlink" title="Mapstructì— ëŒ€í•´ ì•Œì•„ë³´ê¸°"></a>Mapstructì— ëŒ€í•´ ì•Œì•„ë³´ê¸°</h4><ul><li><a href="https://meetup.nhncloud.com/posts/213">Object Mapping ì–´ë””ê¹Œì§€ í•´ë´¤ë‹ˆ?</a></li><li><a href="https://medium.com/naver-cloud-platform/%EA%B8%B0%EC%88%A0-%EC%BB%A8%ED%85%90%EC%B8%A0-%EB%AC%B8%EC%9E%90-%EC%95%8C%EB%A6%BC-%EB%B0%9C%EC%86%A1-%EC%84%9C%EB%B9%84%EC%8A%A4-sens%EC%9D%98-mapstruct-%EC%A0%81%EC%9A%A9%EA%B8%B0-8fd2bc2bc33b">í¸ë¦¬í•œ ê°ì²´ ê°„ ë§¤í•‘ì„ ìœ„í•œ MapStruct ì ìš©ê¸° (feat. SENS)</a></li><li><a href="https://www.baeldung.com/java-performance-mapping-frameworks">Performance of Java Mapping Frameworks</a></li></ul><blockquote><p>â€» MapStructì— ëŒ€í•œ ì˜ˆì œëŠ” <a href="https://github.com/mapstruct/mapstruct-examples">github.com&#x2F;mapstruct&#x2F;mapsturct-examples</a>ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p></blockquote><h4 id="ê°œë³„-ë””íœë˜ì‹œ-ì¶”ê°€"><a href="#ê°œë³„-ë””íœë˜ì‹œ-ì¶”ê°€" class="headerlink" title="ê°œë³„ ë””íœë˜ì‹œ ì¶”ê°€"></a>ê°œë³„ ë””íœë˜ì‹œ ì¶”ê°€</h4><p>Mapstructë¥¼ ì ìš©í•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ ê¸€ì—ì„œ ì‚´í´ë³´ë©´ ë””íœë˜ì‹œ ìˆœì„œë¥¼ ì¤‘ìš”í•˜ê²Œ ì •ì˜í•´ì•¼í•œë‹¤ê³  ë˜ì–´ìˆì§€ë§Œ ìƒê´€ì—†ì–´ì§„ì§€ ì˜¤ë˜ë˜ì—ˆë‹¤. ì•„ë¬´íŠ¼ Lombok ê·¸ë˜ë“¤ í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•˜ê³  ìˆì„ ê²½ìš°ì—ë„ <code>lombok-mapstruct-binding</code>ë¥¼ ì•„ë˜ì™€ ê°™ì´ ë‚˜ì—´í•˜ë©´ ëœë‹¤.</p><pre class="language-groovy" data-language="groovy"><div class="caption"><span>build.gradle</span></div><code class="language-groovy">plugins <span class="token punctuation">&#123;</span>    id <span class="token string">'io.freefair.lombok'</span> version <span class="token string">'8.0.1'</span><span class="token punctuation">&#125;</span>ext <span class="token punctuation">&#123;</span>    mapstructVersion <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">"1.5.5.Final"</span></span>    lombokVersion <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">"1.18.26"</span></span>    lombokMapstructBindingVersion <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">"0.2.0"</span></span><span class="token punctuation">&#125;</span>dependencies <span class="token punctuation">&#123;</span>    implementation <span class="token interpolation-string"><span class="token string">"org.mapstruct:mapstruct:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token expression">mapstructVersion</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">"</span></span>    annotationProcessor <span class="token interpolation-string"><span class="token string">"org.mapstruct:mapstruct-processor:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token expression">mapstructVersion</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">"</span></span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"org.projectlombok:lombok-mapstruct-binding:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token expression">lombokMapstructBindingVersion</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">"</span></span><span class="token punctuation">&#125;</span></code></pre><h4 id="Gradle-í”ŒëŸ¬ê·¸ì¸ì„-ì´ìš©í•˜ëŠ”-ë°©ë²•-Recommanded"><a href="#Gradle-í”ŒëŸ¬ê·¸ì¸ì„-ì´ìš©í•˜ëŠ”-ë°©ë²•-Recommanded" class="headerlink" title="Gradle í”ŒëŸ¬ê·¸ì¸ì„ ì´ìš©í•˜ëŠ” ë°©ë²• (Recommanded)"></a>Gradle í”ŒëŸ¬ê·¸ì¸ì„ ì´ìš©í•˜ëŠ” ë°©ë²• (Recommanded)</h4><p><a href="https://plugins.gradle.org/plugin/io.freefair.lombok">io.freefair.lombok</a> ê·¸ë˜ë“¤ í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•˜ê³  ìˆëŠ” ê²½ìš°ë¼ë©´ ìœ„ì˜ ê°œë³„ì ìœ¼ë¡œ ë””íœë˜ì‹œë¥¼ ë‚˜ì—´í•˜ê¸°ë³´ë‹¤ëŠ” <a href="https://github.com/AkaZver/mapstruct-plugin">Gradle Mapstruct Plugin</a>ì„ ì‚¬ìš©í•˜ëŠ” ê²Œ ë” ê°„ë‹¨í•˜ê¸° ë•Œë¬¸ì— ë¡¬ë³µê³¼ ë™ì¼í•˜ê²Œ ê·¸ë˜ë“¤ í”ŒëŸ¬ê·¸ì¸ ë°©ì‹ì„ ì¶”ì²œí•œë‹¤.</p><pre class="language-groovy" data-language="groovy"><div class="caption"><span>build.gradle</span></div><code class="language-groovy">plugins <span class="token punctuation">&#123;</span>    id <span class="token string">'io.freefair.lombok'</span> version <span class="token string">'8.0.1'</span>    id <span class="token string">'com.github.akazver.mapstruct'</span> version <span class="token string">'1.0.5'</span><span class="token punctuation">&#125;</span></code></pre><blockquote><p>Plugin will add mapstruct with mapstruct-processor by default<br>If you are using lombok it will add lombok-mapstruct-binding, if spring - mapstruct-spring-extensions</p></blockquote><h4 id="ê¹ƒì—ì„œ-src-main-generated-ë””ë ‰í† ë¦¬-ë¬´ì‹œí•˜ê¸°-Intellij-IDEA"><a href="#ê¹ƒì—ì„œ-src-main-generated-ë””ë ‰í† ë¦¬-ë¬´ì‹œí•˜ê¸°-Intellij-IDEA" class="headerlink" title="ê¹ƒì—ì„œ src/main/generated ë””ë ‰í† ë¦¬ ë¬´ì‹œí•˜ê¸° (Intellij IDEA)"></a>ê¹ƒì—ì„œ <code>src/main/generated</code> ë””ë ‰í† ë¦¬ ë¬´ì‹œí•˜ê¸° (Intellij IDEA)</h4><p>ê¸°ë³¸ì ìœ¼ë¡œ ê·¸ë˜ë“¤ ë¹Œë“œ ê³¼ì •ì—ì„œ <code>build/generated/sources/annotationProcessor</code> ê²½ë¡œì— ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ì²´ê°€ ë§Œë“¤ì–´ì§€ê³  <code>build/classes</code> ê²½ë¡œë¡œ ë³µì‚¬ëœë‹¤. í•˜ì§€ë§Œ, ì¸í…”ë¦¬ì œì´ì—ì„œ Gradleì´ ì•„ë‹Œ <code>Intellij IDEA</code>ë¡œ ì„ íƒí•˜ì—¬ êµ¬ë™ë˜ë„ë¡ ë³€ê²½í•˜ëŠ” ê²½ìš°ì—ëŠ” <code>src/main/generated</code> ê²½ë¡œì— ë§Œë“¤ì–´ì§€ê²Œ ë˜ë¯€ë¡œ <code>.gitignore</code> íŒŒì¼ì— ë¹Œë“œ ê³¼ì •ì—ì„œ MapStructì— ì˜í•´ ë§Œë“¤ì–´ì§€ëŠ” ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ì²´ë¥¼ ì œì™¸í•˜ëŠ” ê²ƒì´ í•„ìš”í•˜ë‹¤.</p><pre class="language-ignore" data-language="ignore"><div class="caption"><span>.gitignore</span></div><code class="language-ignore"><span class="token entry string">src<span class="token punctuation">/</span>main<span class="token punctuation">/</span>generated<span class="token punctuation">/</span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ìë°” ì§„ì˜ì—ì„œ ì˜¤ë¸Œì íŠ¸ ê°„ ë³€í™˜ì„ ìœ„í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì˜¤ë¸Œì íŠ¸ ë§¤í•‘ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ëŠ” ModelMapperì™€ MapStructê°€ ìˆë‹¤. í˜„ì¬ ì‹œìŠ¤í…œì—ì„œëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ModelMapperë¡œë„ ì¶©ë¶„í–ˆê¸° ë•Œë¬¸ì— MapStructë¥¼ êµ³ì´ ë„ì…í•˜</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Real JWT (Feat. ì¿ í‚¤ ì„¸ì…˜)</title>
    <link href="https://kdevkr.github.io/real-jwt/"/>
    <id>https://kdevkr.github.io/real-jwt/</id>
    <published>2023-06-27T11:00:00.000Z</published>
    <updated>2023-07-31T11:10:23.372Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ì‹ ì… ê°œë°œìì˜ í¬íŠ¸í´ë¦¬ì˜¤ì˜ ê¸°ë³¸ ìŠ¤íƒìœ¼ë¡œ í¬í•¨ë˜ëŠ” ê²ƒ ì¤‘ì˜ í•˜ë‚˜ëŠ” JWTë¥¼ í™œìš©í•œ í† í° ê¸°ë°˜ ì¸ì¦ ì´ë¼ê³  í•  ìˆ˜ ìˆë‹¤. ì´ë¯¸ ìˆ˜ ë§ì€ ê¸°ì—…ì—ì„œëŠ” ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ì™€ ì¿ ë²„ë„¤í‹°ìŠ¤ ë„ì…ì„ ì‹œë„í•˜ë‹¤ê°€ í¬ê¸°í•œ ê²½ìš°ê°€ ë§ì„ ê²ƒì´ë‹¤. ì‹¬ì§€ì–´ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ë¥¼ ê³ ë ¤í•˜ë‹¤ê°€ ì˜¤íˆë ¤ ëª¨ë†€ë¦¬ì‹ ì•„í‚¤í…ì²˜ë¡œ ì „í™˜í•˜ëŠ” ì‚¬ë¡€ë„ ì°¾ì„ ìˆ˜ ìˆë‹¤.</p></blockquote><p>ì˜¤ëŠ˜ì€ JWT í† í°ì„ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ì ì¸ì¦ì„ ìœ ì§€í•˜ëŠ” ê²ƒì— ëŒ€í•´ì„œ ì´ì•¼ê¸° í•´ë³´ê³ ì í•œë‹¤. ë¯¸ë¦¬ ë§í•˜ìë©´, ì‹¤ë¬´ì—ì„œ JWT í† í°ì„ ì‚¬ìš©í•´ë³¸ ê²½í—˜ì´ ì—†ìœ¼ë©° í¬ì§€ ì•Šì€ ì‹œìŠ¤í…œì„ ê°œë°œí•˜ê³  ìˆëŠ” í…Œí¬ ë¦¬ë”ë¡œì¨ì˜ ìƒê°ì´ë‹¤. </p><h4 id="ê³¼ì—°-ì¿ í‚¤-ì„¸ì…˜ë³´ë‹¤-íš¨ìœ¨ì ì¸ê°€-ğŸ¤”"><a href="#ê³¼ì—°-ì¿ í‚¤-ì„¸ì…˜ë³´ë‹¤-íš¨ìœ¨ì ì¸ê°€-ğŸ¤”" class="headerlink" title="ê³¼ì—° ì¿ í‚¤ ì„¸ì…˜ë³´ë‹¤ íš¨ìœ¨ì ì¸ê°€ ğŸ¤”"></a>ê³¼ì—° ì¿ í‚¤ ì„¸ì…˜ë³´ë‹¤ íš¨ìœ¨ì ì¸ê°€ ğŸ¤”</h4><p>ì‚¬ìš©ì ì¸ì¦ì— JWTë¥¼ ë„ì…í•˜ëŠ” ê²½ìš°ë¥¼ ë³´ë©´ ëŒ€ë¶€ë¶„ ì„¸ì…˜ì— ëŒ€í•œ ë¹„íš¨ìœ¨ì„±ì„ ì´ì•¼ê¸°í•œë‹¤. ì‹œìŠ¤í…œì˜ ê·œëª¨ì™€ íŠ¸ë˜í”½ì´ ë§ì•„ì§€ëŠ” ê²½ìš° ì„¸ì…˜ì„ ì¡°íšŒí•˜ëŠ” ê³¼ì •ì—ì„œ ê³¼ë¶€í•˜ë¥¼ ì¼ìœ¼í‚¬ ê°€ëŠ¥ì„±ì´ ìˆì–´ë³´ì´ëŠ” ê±´ ì‚¬ì‹¤ì´ê³  ì„¸ì…˜ í´ëŸ¬ìŠ¤í„°ë§ì„ ìˆ˜í–‰í•œë‹¤í•˜ë”ë¼ë„ ì¤‘ì•™í™” ë˜ì–´ë²„ë¦¬ëŠ” êµ¬ì¡°ë¡œ ì¸í•´ ê´€ë¦¬ í¬ì¸íŠ¸ê°€ ëŠ˜ì–´ë‚  ìˆœ ìˆë‹¤. ì„œë²„ê°€ ì„¸ì…˜ ìœ ì§€ë¥¼ ìœ„í•´ ë‹´ë‹¹í•˜ëŠ” ë¶€í•˜ ë¿ë§Œ ì•„ë‹ˆë¼ ê³ ë ¤í•´ì•¼í•  ê²ƒì€ ì¸í”„ë¼ì— ëŒ€í•œ ë¹„ìš©ì¼ì§€ ëª¨ë¥¸ë‹¤. <a href="https://gameanalytics.com/blog/reduce-costs-https-api-aws/">AWS í™˜ê²½ì—ì„œ HTTPS API ë¹„ìš©ì„ ì¤„ì´ëŠ” ë°©ë²•</a>ë„ ê³µìœ ë˜ëŠ” ê²ƒì²˜ëŸ¼ ì‘ì€ íŒ¨í‚·ì˜ ì°¨ì´ë„ ìƒê°ë³´ë‹¤ ë§ì€ ë¹„ìš©ì´ ëŠ˜ì–´ë‚  ìˆ˜ ìˆë‹¤ëŠ” ì´ì•¼ê¸°ë‹¤.</p><p>JWTì˜ ê°€ì¥ í° ë‹¨ì ì€ JSONìœ¼ë¡œ êµ¬ì„±ëœ ë¬¸ìì—´ì„ Base64 ì¸ì½”ë”©í•˜ì—¬ êµ¬ì„±í•œë‹¤ëŠ” ê²ƒì´ë‹¤. ê·¸ë¦¬ê³  ë³´ì•ˆì ì¸ ê´€ì ì´ ë†’ì„ìˆ˜ë¡ í‚¤ ê¸¸ì´ê°€ ê¸´ RSA ë˜ëŠ” ECC í‚¤ë¡œ êµ¬ì„±ëœ ê³µê°œí‚¤ ê¸°ë°˜ì˜ ì„œëª…ì„ í•˜ê²Œ ë  ê²ƒì´ë‹¤. ê·¸ë¦¬ê³  ì˜¬ë°”ë¥¸ í‚¤ë¡œ ì„œëª…í•  ìˆ˜ ìˆë„ë¡ JWKë„ ì œê³µí•˜ê²Œ ë  ê²ƒì´ë‹¤. ì•„ë¬´íŠ¼ ë³´ì•ˆìœ¼ë¡œ ì¸í•´ í‚¤ ê¸¸ì´ê°€ ê¸¸ì–´ì§ˆìˆ˜ë¡ Base64 ì¸ì½”ë”© íŠ¹ì§•ìœ¼ë¡œ ì¸í•´ HTTP í†µì‹  íŒ¨í‚·ì˜ ì‚¬ì´ì¦ˆê°€ ê¸°í•˜ê¸‰ìˆ˜ì ìœ¼ë¡œ ì»¤ì§ˆ ìˆ˜ ìˆë‹¤ëŠ” ë§ì´ë‹¤. ê·¸ë¦¬ê³  ì´ê²ƒì€ ìš”ì²­ê³¼ ì‘ë‹µ í˜ì´ë¡œë“œ í¬ê¸°ë¡œ ì¸í•´ ë§‰ëŒ€í•œ íŠ¸ë˜í”½ ë¹„ìš©ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒê³¼ ë™ì¼í•˜ë‹¤.</p><h4 id="ë³´ì•ˆ-ì§€ì‹ì„-ì´í•´í• -ìˆ˜-ìˆëŠ”ê°€-ğŸ˜µ"><a href="#ë³´ì•ˆ-ì§€ì‹ì„-ì´í•´í• -ìˆ˜-ìˆëŠ”ê°€-ğŸ˜µ" class="headerlink" title="ë³´ì•ˆ ì§€ì‹ì„ ì´í•´í•  ìˆ˜ ìˆëŠ”ê°€ ğŸ˜µ"></a>ë³´ì•ˆ ì§€ì‹ì„ ì´í•´í•  ìˆ˜ ìˆëŠ”ê°€ ğŸ˜µ</h4><p>JWTì— ëŒ€í•œ ìƒì„¸ êµ¬í˜„ì€ ê°œë°œìì˜ ì—­ëŸ‰ì— ìˆê¸°ì— ì—¬ëŸ¬ê°€ì§€ ë³´ì•ˆ ì§€ì‹ì´ë‚˜ ê´€ì ì´ í•„ìš”í•˜ë‹¤. ë¸Œë¼ìš°ì €ì™€ ì„œë²„ ê°„ í†µì‹ ì„ ìœ„í•´ì„œëŠ” ë°˜ë“œì‹œ HTTPS ì—°ê²°ì„ í†µí•´ íŒ¨í‚·ì„ ì•ˆì „í•˜ê²Œ ë³´í˜¸í•´ì•¼í•œë‹¤. ê¸°ë³¸ì ì¸ ì•”í˜¸í™” í†µì‹ ì€ í† í°ì„ ì•ˆì „í•˜ê²Œ ë³´í˜¸í•  ìˆ˜ ìˆëŠ” ìµœì†Œí•œì˜ ë°©ì–´ì´ê¸° ë•Œë¬¸ì´ë‹¤. ì–¸ì–´ë§ˆë‹¤ ê°œë°œìë“¤ì„ ìœ„í•œ JWT ê´€ë ¨ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì´ ìˆì§€ë§Œ ê·¸ê²ƒì„ í™œìš©í•´ì„œ ì œëŒ€ë¡œ í™œìš©í•˜ë ¤ë©´ ë³´ì•ˆ ì§€ì‹ì„ ì´í•´í•˜ê³  ìˆì–´ì•¼ í•œë‹¤. HS256ê³¼ RS256ì˜ ì°¨ì´ë¥¼ ì•Œê¸° ìœ„í•´ì„œëŠ” ê³µê°œí‚¤ ê¸°ë°˜ ì•”í˜¸í™”ì— ëŒ€í•œ ê¸°ë³¸ ì§€ì‹ì´ í•„ìš”í•˜ë‹¤. ê°œì¸ì ì¸ ê²¬í•´ë¡œëŠ” ì‹ ì… ê°œë°œì ë¿ë§Œ ì•„ë‹ˆë¼ ì£¼ë‹ˆì–´ ê°œë°œìë“¤ì´ HTTPSë¥¼ ì´í•´í•˜ëŠ” ê²ƒì¡°ì°¨ë„ ì‰½ì§€ ì•Šë‹¤ê³  ìƒê°í•œë‹¤.</p><p>ê°œë°œì ì»¤ë®¤ë‹ˆí‹°ì¸ ì˜¤í‚¤ ì‚¬ì´íŠ¸ë¥¼ ë³´ë”ë¼ë„ HTTPSë¥¼ ì‚¬ìš©í•˜ê³  ìˆì§€ë§Œ JWTë¡œ êµ¬ì„±ëœ ì•¡ì„¸ìŠ¤ í† í°ê³¼ ë¦¬í”„ë˜ì‹œ í† í°ì„ ì¿ í‚¤ë¡œ ê´€ë¦¬í•¨ì—ë„ Secure ì™€ SameSite ì†ì„±ì„ ì œëŒ€ë¡œ ì ìš©í•˜ì§€ ì•ŠìŒì„ ë³¼ ìˆ˜ ìˆë‹¤. ì´ê²ƒì€ ì‹œìŠ¤í…œ ë³´ì•ˆ ê°€ì´ë“œë¼ì¸ì— ë”°ë¼ì„œ ìœ„ë°°ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ë¼ê³  ê²€ì¶œë˜ì–´ ì¡°ì¹˜ ëŒ€ìƒì´ ë  ìˆ˜ ìˆëŠ” ì¤‘ìš”í•œ ë¶€ë¶„ì´ë‹¤.</p><blockquote><p>ì‹¤ì œë¡œ ì‹ ì… ê°œë°œì ì¸í„°ë·°ë¥¼ ì§„í–‰í•˜ë‹¤ë³´ë©´ í† í° ê¸°ë°˜ ì¸ì¦ì„ êµ¬í˜„í•˜ë”ë¼ë„ ì„¸ì…˜ì— ëŒ€í•œ ì´í•´ì™€ ê²½í—˜ì´ ë¶€ì¡±í•˜ë‹¤ê³  ëŠê»´ì§ˆ ë§Œí¼ ì œëŒ€ë¡œ ëœ ë‹µë³€ì„ í•˜ì§€ ëª»í•˜ëŠ” ê²½ìš°ê°€ ìƒë‹¹í•˜ë‹¤. ì‹¬ì§€ì–´ OAuth ì†Œì…œ ë¡œê·¸ì¸ì„ ë³„ë„ë¡œ ì‚¬ìš©í–ˆìŒì—ë„ ë¶ˆêµ¬í•˜ê³  í† í°ì€ JWTë§Œ ìˆë‹¤ê³  ë§í•˜ëŠ” ì¼€ì´ìŠ¤ë„ ìˆì—ˆë‹¤.</p></blockquote><p>ì´ëŸ¬í•œ ë¶€ë¶„ë“¤ì„ í†µí•´ ì—„ì²­ ë†’ì€ ì‹¤ë ¥ì˜ ì—­ëŸ‰ì„ ë³´ìœ í•œ ì‹ ì…ì´ ì•„ë‹ˆê³ ì„œì•¼ ê±°ì˜ ëª¨ë“  ì‹ ì… ì›¹ ê°œë°œìë“¤ì€ ì „í†µì ì¸ ì„¸ì…˜ì— ëŒ€í•œ ê²½í—˜ì„ ìŒ“ê³  ì„¸ì…˜ì— ëŒ€í•œ ë¬¸ì œì ì„ ì´í•´í•˜ëŠ” ê²ƒì´ ë” ì¤‘ìš”í•˜ì§€ ì•Šì„ê¹Œ ìƒê°í•´ë³¸ë‹¤. ê°œì¸ì ìœ¼ë¡œëŠ” ì„¸ì…˜ì„ í™œìš©í•œ í”„ë¡œì íŠ¸ë¥¼ í¬íŠ¸í´ë¦¬ì˜¤ë¡œì¨ ë³´ê³ ì‹¶ë‹¤. JWTë¥¼ í™œìš©í•œ í† í° ê¸°ë°˜ ì¸ì¦ì´ ë„˜ì³ë‚˜ëŠ” í¬íŠ¸í´ë¦¬ì˜¤ë“¤ ì†ì—ì„œ ì˜¤íˆë ¤ ê²½ìŸë ¥ì´ ìˆì–´ë³´ì´ëŠ” ê²ƒì€ ê°€ì¥ ë‹¨ìˆœí•œ ì„¸ì…˜ì„ ì‚¬ìš©í•œ ê²ƒì´ ì•„ë‹ê¹Œ?â€¦</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;ì‹ ì… ê°œë°œìì˜ í¬íŠ¸í´ë¦¬ì˜¤ì˜ ê¸°ë³¸ ìŠ¤íƒìœ¼ë¡œ í¬í•¨ë˜ëŠ” ê²ƒ ì¤‘ì˜ í•˜ë‚˜ëŠ” JWTë¥¼ í™œìš©í•œ í† í° ê¸°ë°˜ ì¸ì¦ ì´ë¼ê³  í•  ìˆ˜ ìˆë‹¤. ì´ë¯¸ ìˆ˜ ë§ì€ ê¸°ì—…ì—ì„œëŠ” ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ì™€ ì¿ ë²„ë„¤í‹°ìŠ¤ ë„ì…ì„ ì‹œë„í•˜ë‹¤ê°€ í¬ê¸°í•œ ê²½ìš°ê°€ ë§ì„ ê²ƒì´</summary>
      
    
    
    
    
    <category term="JWT" scheme="https://kdevkr.github.io/tags/JWT/"/>
    
    <category term="Session" scheme="https://kdevkr.github.io/tags/Session/"/>
    
  </entry>
  
  <entry>
    <title>ThreadLocal</title>
    <link href="https://kdevkr.github.io/threadlocal/"/>
    <id>https://kdevkr.github.io/threadlocal/</id>
    <published>2023-06-25T07:00:00.000Z</published>
    <updated>2023-07-31T11:10:23.372Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ì˜ SecurityContextHolderë¥¼ ì‚¬ìš©í•˜ì…¨ë˜ë° ThreadLocalì— ëŒ€í•´ì„œ ì´ì•¼ê¸°í•´ë³´ì„¸ìš”.</p></blockquote><p>ìŠ¤í”„ë§ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë‚´ë¶€ì ìœ¼ë¡œ ë§ì´ ì‚¬ìš©ë˜ëŠ” í´ë˜ìŠ¤ ì¤‘ í•˜ë‚˜ëŠ” <strong>ThreadLocal</strong> ì´ë¼ëŠ” ìë°” ê¸°ë³¸ í´ë˜ìŠ¤ë¼ê³  í•  ìˆ˜ ìˆë‹¤. ì‹ ì… ì›¹ ê°œë°œìë“¤ì— ëŒ€í•œ ì¸í„°ë·°ë¥¼ ì§„í–‰í•˜ë‹¤ë³´ë©´ ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ì™€ ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ë¥¼ ì‚¬ìš©í–ˆìŒì—ë„ ë¶ˆêµ¬í•˜ê³  ë‚´ë¶€ì ìœ¼ë¡œ ì–´ë–¤ ë™ì‘ì„ í•˜ëŠ”ì§€ ëª¨ë¥´ê±°ë‚˜ ThreadLocal ì´ë¼ëŠ” ìë°” ì–¸ì–´ì—ì„œì˜ ê¸°ë³¸ ì§€ì‹ì— ëŒ€í•´ì„œ ë“¤ì–´ë³´ì§€ ëª»í•œ ê²½ìš°ê°€ ë§ë‹¤. ëŒ€ë¶€ë¶„ ìœ ëª…í•œ ê¹€ì˜í•œë‹˜ì˜ ê°•ì˜ë¥¼ ìˆ˜ê°•í–ˆë‹¤ê³  ì´ë ¥ì„œì— ê¸°ì¬í–ˆê¸° ë•Œë¬¸ì— ì´ ThreadLocalì— ëŒ€í•œ ë¶€ë¶„ì„ ë‹¤ë£¨ì§€ ì•Šì•˜ë‹¤ê³  ìƒê°í–ˆëŠ”ë° ì°¾ì•„ë³´ë‹ˆ <a href="https://www.youtube.com/watch?v=ljrgXkzagaU">ThreadLocal</a>ì´ë¼ëŠ” ë¶€ë¶„ì— ëŒ€í•´ì„œë„ ì–¸ê¸‰í•˜ê³  ìˆê¸°ì— ìˆ˜ê°•ìë“¤ì´ ì¼ë¶€ ë‚´ìš©ì„ ìŠ¤ìŠ¤ë¡œ ìƒëµí•˜ê³  ë„˜ì–´ê°”ì„ ê²ƒ ê°™ë‹¤.</p><h4 id="XXXContextHolder"><a href="#XXXContextHolder" class="headerlink" title="XXXContextHolder"></a>XXXContextHolder</h4><p>â• org.springframework.web.context.request.RequestContextHolder<br>â• org.springframework.context.i18n.LocaleContextHolder<br>â• org.springframework.security.core.context.SecurityContextHolder  </p><p>ìœ„ì™€ ê°™ì´ ContextHolderë¡œ ëë‚˜ë„ë¡ ì´ë¦„ì´ ì •ì˜ëœ í´ë˜ìŠ¤ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ ThreadLocalì„ ì‚¬ìš©í•˜ë„ë¡ êµ¬í˜„ë˜ì–´ìˆëŠ” ëŒ€í‘œì ì¸ ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ì˜ í´ë˜ìŠ¤ì´ë‹¤. ì¸í…”ë¦¬ì œì´ IDEAë¥¼ í†µí•´ì„œ ìœ„ í´ë˜ìŠ¤ë“¤ì„ ì‚¬ìš©í•˜ëŠ” ë‹¤ë¥¸ í´ë˜ìŠ¤ë¥¼ ë”°ë¼ê°€ë³´ë©´ ì–´ë–»ê²Œ í™œìš©í•˜ê³  ìˆëŠ”ì§€ë¥¼ ì´í•´í•  ìˆ˜ ìˆëŠ”ë° <strong>RequestContextHolderì™€ LocaleContextHolder</strong>ì˜ ìƒì„±ê³¼ ì‚­ì œëŠ” RequestContextFilterì—ì„œ ìˆ˜í–‰í•˜ê³  ìˆìœ¼ë©° <strong>SecurityContextHolder</strong>ëŠ” SecurityContextHolderFilterì—ì„œ ê´€ë¦¬í•˜ê³  ìˆìŒì„ ì°¾ì„ ìˆ˜ ìˆë‹¤.</p><blockquote><p>ì´ì™€ ê°™ì´ ì¼ë°˜ì ì¸ ìë°” ê°œë°œìë“¤ë„ ThreadLocalê³¼ Filterë¥¼ êµ¬í˜„í•˜ì—¬ ë™ì¼í•œ ìŠ¤ë ˆë“œ ë‚´ì—ì„œëŠ” ì–¸ì œë“ ì§€ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆëŠ” íŒ¨í„´ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤ëŠ” ì´ì•¼ê¸°ì´ë‹¤. ThreadLocal ìì²´ê°€ ìŠ¤ë ˆë“œ ë‚´ì— ì •ë³´ ê³µìœ ë¥¼ ìœ„í•œ ì§€ì—­ ë³€ìˆ˜ì´ê¸° ë•Œë¬¸ì´ë‹¤.</p></blockquote><h4 id="RequestContextFilter"><a href="#RequestContextFilter" class="headerlink" title="RequestContextFilter"></a>RequestContextFilter</h4><p>RequestContextFilterì—ì„œëŠ” HttpServletRequestì˜ ë¡œì¼€ì¼ ì •ë³´ì™€ ServletRequestAttributesë¥¼ ThreadLocalì— ì €ì¥í•˜ë„ë¡ êµ¬í˜„ë˜ì–´ìˆë‹¤. ë‹¤ë¥¸ í•„í„°ë¥¼ ê±°ì¹˜ê³  ë‚œ í›„ ë°˜ë“œì‹œ ThreadLocalì— ìˆëŠ” ì •ë³´ë“¤ì„ ì œê±°í•˜ë„ë¡ ë˜ì–´ìˆëŠ” ë¶€ë¶„ì´ ì¤‘ìš”í•˜ë‹¤. RequestContextHolderì— ì €ì¥ë˜ëŠ” í´ë˜ìŠ¤ëŠ” ServletRequestAttributes ì´ë©° ì´ì „ì— ê³µìœ í•œ <a href="/redis-memory-usage-issue/">ë ˆë””ìŠ¤ ì¥ì•  íšŒê³ </a>ì—ì„œë„ ë‚´ë¶€ êµ¬í˜„ì„ ì‚´í´ë³¸ í´ë˜ìŠ¤ì— í•´ë‹¹í•œë‹¤.</p><h4 id="SecurityContextHolderFilter"><a href="#SecurityContextHolderFilter" class="headerlink" title="SecurityContextHolderFilter"></a>SecurityContextHolderFilter</h4><p>ìŠ¤í”„ë§ ì‹œíë¦¬í‹° 5.7+ ë¶€í„°ëŠ” SecurityContextPersistenceFilterê°€ ì•„ë‹Œ SecurityContextHolderFilterë¡œ ëŒ€ì²´ë˜ì–´ ì‚¬ìš©ëœë‹¤. SecurityContextPersistenceFilterë¡œ ì²˜ë¦¬ë˜ë˜ ê²ƒì´ SecurityContextHolderFilter ì—ì„œëŠ” ì–´ë– í•œ ë°©ì‹ìœ¼ë¡œ êµ¬í˜„ë˜ì—ˆëŠ”ì§€ ë¹„êµí•´ë³´ì•„ë„ ì¢‹ì€ í•™ìŠµì´ ë  ê²ƒ ê°™ë‹¤. Supplier ì¸í„°í˜ì´ìŠ¤ë¥¼ í™œìš©í•˜ì—¬ SecurityContextë¥¼ ì§€ì—°ë˜ì–´ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë³€ê²½í•˜ì˜€ë‹¤.</p><p>ë§ì€ íšŒì‚¬ì—ì„œ ì‹ ì… ê°œë°œìì—ê²Œ ë°”ë¼ëŠ” ì—­ëŸ‰ ì¤‘ ê¸°ë³¸ ì§€ì‹ì— ëŒ€í•œ ì´ì•¼ê¸°ëŠ” ì‚¬ìš©í•˜ëŠ” ê¸°ìˆ ì— ëŒ€í•´ì„œ ë‚´ë¶€ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ê¸°ë³¸ ê°œë…ì´ ìˆëŠ”ì§€ ì°¾ì•„ë³´ëŠ” í¸ì¸ê°€ë¥¼ ë§í•˜ëŠ”ê²Œ ì•„ë‹ê¹Œ? ë¹„ë¡ ì‹ ì… ì›¹ ê°œë°œìë¡œ ì¼í•˜ê¸° ìœ„í•´ì„œ ì‹¤ë¬´ ê¸°ìˆ ì— ëŒ€í•œ ì—­ëŸ‰ì„ ë°°ìš°ê³  ì–´í•„í•˜ëŠ” ê±´ ì–´ì©” ìˆ˜ ì—†ëŠ” ìƒí–¥ í‰ì¤€í™”ëœ ë¶€ë¶„ì´ ìˆì§€ë§Œ ê¸°ë³¸ì ì¸ ì§€ì‹ê³¼ ê´€ë ¨ëœ ì§€ì‹ì€ ì—†ëŠ”ì§€ ì°¾ì•„ë³´ê³  ì§€ì†ì ì¸ í•™ìŠµì— ëŒ€í•œ ì–´í•„ë„ í•„ìš”í•  ê²ƒì´ë‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ì˜ SecurityContextHolderë¥¼ ì‚¬ìš©í•˜ì…¨ë˜ë° ThreadLocalì— ëŒ€í•´ì„œ ì´ì•¼ê¸°í•´ë³´ì„¸ìš”.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ìŠ¤í”„ë§ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë‚´ë¶€ì ìœ¼ë¡œ ë§ì´ ì‚¬ìš©ë˜ëŠ” í´ë˜ìŠ¤ ì¤‘ í•˜ë‚˜ëŠ” </summary>
      
    
    
    
    
    <category term="Java" scheme="https://kdevkr.github.io/tags/Java/"/>
    
    <category term="ThreadLocal" scheme="https://kdevkr.github.io/tags/ThreadLocal/"/>
    
  </entry>
  
  <entry>
    <title>ìŠ¤í”„ë§ ë¶€íŠ¸ ë¡œê¹… ë ˆë²¨ ì„ ì–¸ (Feat. Yaml)</title>
    <link href="https://kdevkr.github.io/spring-boot-logging-level/"/>
    <id>https://kdevkr.github.io/spring-boot-logging-level/</id>
    <published>2023-06-25T05:00:00.000Z</published>
    <updated>2023-07-31T11:10:23.372Z</updated>
    
    <content type="html"><![CDATA[<pre class="language-properties" data-language="properties"><div class="caption"><span>application.properties</span></div><code class="language-properties"><span class="token key attr-name">logging.level.org.springframework.security.web.FilterChainProxy</span><span class="token punctuation">=</span><span class="token value attr-value">TRACE</span></code></pre><p>ìŠ¤í”„ë§ ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ logging.level í•˜ìœ„ì— íŒ¨í‚¤ì§€ì™€ í´ë˜ìŠ¤ ëª…ì„ ì„ ì–¸í•˜ë©´ ë¡œê¹… ë ˆë²¨ì„ ì‰½ê²Œ ì¡°ì •í•  ìˆ˜ ìˆê³  ìŠ¤í”„ë§ ë¶€íŠ¸ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ë©´ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” í”„ë¡œí¼í‹°(.properties) íŒŒì¼ì—ëŠ” ìœ„ì™€ ê°™ì´ ì‘ì„±í•´ì•¼ í•œë‹¤. ê·¸ëŸ¬ë‚˜, ì•„ë¬´ë˜ë„ í”„ë¡œí¼í‹° íŒŒì¼ì˜ ì—¬ëŸ¬ê°€ì§€ ë¬¸ì œì ìœ¼ë¡œ ì¸í•´ application.yml íŒŒì¼ë¡œ ë³€ê²½í•˜ì—¬ ì‚¬ìš©í•  ê²ƒì´ë‹¤. Yamlì€ ê³„ì¸µìœ¼ë¡œ í‚¤ë¥¼ ê´€ë¦¬í•˜ê¸° ë•Œë¬¸ì— ì¸í…”ë¦¬ì œì´ IDEAì—ì„œ <code>org.springframework.security.web.FilterChainProxy</code>ë¥¼ ê·¸ëŒ€ë¡œ ë³µì‚¬í•˜ì—¬ ë¶™ì—¬ë„£ê¸°ë¥¼ ì‹œë„í•˜ëŠ” ê²½ìš° ì•„ë˜ì™€ ê°™ì´ ìë™ìœ¼ë¡œ í‚¤ë¥¼ ë§Œë“¤ì–´ì£¼ê²Œ ëœë‹¤.</p><blockquote><p>íŒ¨í‚¤ì§€ ëª…ì„ ì…ë ¥í•˜ë©´ ë‹¤ìŒ ë””ë ‰í† ë¦¬ë¥¼ ìë™ìœ¼ë¡œ ì•Œë ¤ì£¼ê¸°ëŠ” í•˜ë‚˜ í•´ë‹¹ ë””ë ‰í† ë¦¬ì—ì„œ ì¡´ì¬í•˜ëŠ” í´ë˜ìŠ¤ê¹Œì§€ëŠ” ì•Œë ¤ì£¼ì§€ ì•Šìœ¼ë¯€ë¡œ FilterChainProxyì˜ í´ë˜ìŠ¤ ìœ„ì¹˜ë¥¼ ì°¾ì•„ì„œ ìƒë‹¨ì— ê¸°ì¬ëœ íŒ¨í‚¤ì§€ ëª…ì„ ë³µì‚¬í•˜ëŠ”ê²Œ ë” ë¹ ë¥´ê³  í¸ë¦¬í•˜ë‹¤.</p></blockquote><pre class="language-yaml" data-language="yaml"><div class="caption"><span>application.yml</span></div><code class="language-yaml"><span class="token key atrule">logging</span><span class="token punctuation">:</span>  <span class="token key atrule">level</span><span class="token punctuation">:</span>    <span class="token key atrule">org</span><span class="token punctuation">:</span>      <span class="token key atrule">springframework</span><span class="token punctuation">:</span>        <span class="token key atrule">security</span><span class="token punctuation">:</span>          <span class="token key atrule">web</span><span class="token punctuation">:</span>            <span class="token key atrule">FilterChainProxy</span><span class="token punctuation">:</span></code></pre><p>ìœ„ì™€ ê°™ì´ ë§Œë“¤ì–´ì§€ëŠ”ê²Œ ì˜ëª»ëœ ê²ƒì€ ì•„ë‹ˆì§€ë§Œ ê°€ë…ì„±ì´ë‚˜ ìœ ì§€ ê´€ë¦¬ ë©´ì—ì„œëŠ” ë„ˆë¬´ ê¸¸ì–´ì§€ë¯€ë¡œ ë¹„íš¨ìœ¨ì ì´ë¼ ìƒê°í•œë‹¤. ì—¬ê¸°ì„œ logging.level í•˜ìœ„ ê³„ì¸µì„ í‘œí˜„í•˜ëŠ” ê²½ìš°ì— ì‘ì€ ë”°ì˜´í‘œ(<code>&#39;</code>)ë¥¼ í™œìš©í•˜ë©´ í•œì¤„ë¡œ í‘œí˜„í•  ìˆ˜ ìˆë‹¤. </p><pre class="language-yaml" data-language="yaml"><div class="caption"><span>application.yml</span></div><code class="language-yaml"><span class="token key atrule">logging</span><span class="token punctuation">:</span>  <span class="token key atrule">level</span><span class="token punctuation">:</span>    <span class="token key atrule">'org.springframework.security.web.FilterChainProxy'</span><span class="token punctuation">:</span> TRACE</code></pre><blockquote><p>ì‘ì€ ë”°ì˜´í‘œë¡œ í•˜ë‚˜ì˜ í‚¤ë¡œ í‘œí˜„í•  ìˆ˜ ìˆê²Œ ë˜ì§€ë§Œ ë§¨ ë’¤ì— ì½œë¡ ì€ ìë™ìœ¼ë¡œ ë¶™ì—¬ì£¼ì§€ ì•Šìœ¼ë¯€ë¡œ ì˜†ìœ¼ë¡œ ì´ë™í•˜ì—¬ ì½œë¡ ì„ í¬í•¨í•œ ë¡œê·¸ ë ˆë²¨ì„ ì…ë ¥í•´ì•¼í•œë‹¤. ê°œì¸ì ìœ¼ë¡œëŠ” ì½œë¡ ê¹Œì§€ ì…ë ¥í•˜ëŠ” ë¶€ë¶„ì€ ê·¸ë ‡ê²Œ ë¶ˆí¸í•œ ë¶€ë¶„ì€ ì•„ë‹ˆë¼ê³  ìƒê°ëœë‹¤.</p></blockquote><h4 id="ë¡œê·¸-ê·¸ë£¹-Optional"><a href="#ë¡œê·¸-ê·¸ë£¹-Optional" class="headerlink" title="ë¡œê·¸ ê·¸ë£¹ (Optional)"></a>ë¡œê·¸ ê·¸ë£¹ (Optional)</h4><p>ìŠ¤í”„ë§ ë¶€íŠ¸ 2.1+ ë¶€í„°ëŠ” ë¡œê·¸ ë ˆë²¨ ë¿ë§Œ ì•„ë‹ˆë¼ íŠ¹ì • í´ë˜ìŠ¤ë“¤ì— ëŒ€í•œ ë¡œê·¸ ë ˆë²¨ì„ í•œë²ˆì— ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” <a href="https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.1-Release-Notes#logging-groups">ë¡œê·¸ ê·¸ë£¹</a>ì„ ì§€ì›í•˜ê³  Yaml ë¬¸ë²•ì„ í™œìš©í•˜ì—¬ ì‘ì€ ë”°ì˜´í‘œê°€ ì—†ì–´ë„ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.</p><pre class="language-yaml" data-language="yaml"><div class="caption"><span>application.yml</span></div><code class="language-yaml"><span class="token key atrule">logging</span><span class="token punctuation">:</span>  <span class="token key atrule">level</span><span class="token punctuation">:</span>    <span class="token key atrule">study</span><span class="token punctuation">:</span> TRACE  <span class="token key atrule">group</span><span class="token punctuation">:</span>    <span class="token key atrule">study</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> org.springframework.web      <span class="token punctuation">-</span> org.springframework.jdbc.core      <span class="token punctuation">-</span> org.springframework.security.web.FilterChainProxy</code></pre><p>ë¡œê·¸ ê·¸ë£¹ì„ ì‚¬ìš©í•œë‹¤ë©´ êµ³ì´ ì‘ì€ ë”°ì˜´í‘œê°€ í•„ìš”í•˜ì§€ ì•Šì§€ë§Œ ì¼ë°˜ì ìœ¼ë¡œ ë¡œê·¸ ë ˆë²¨ ì¡°ì •ì€ ì„¸ë¶€ì ì¸ í´ë˜ìŠ¤ ë‹¨ìœ„ë¡œ ë³€ê²½í•˜ëŠ” ê²½ìš°ê°€ ë§ê¸° ë•Œë¬¸ì— ë§ì´ í™œìš©ë˜ì§„ ì•ŠëŠ”ë‹¤. ì´ì™€ ê°™ì´ <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.logging">ìŠ¤í”„ë§ ë¶€íŠ¸ ê³µì‹ ë¬¸ì„œì˜ Logging í•­ëª©</a>ì—ì„œë„ ë‹¤ë£¨ì§€ ì•ŠëŠ” ë‚´ìš©ì´ê¸° ë•Œë¬¸ì— ìƒëµëœ ì •ë³´ê°€ ì—†ëŠ”ì§€ëŠ” ë³„ë„ë¡œ ì°¾ì•„ë³´ëŠ” í–‰ìœ„ë„ ê°„í˜¹ í•„ìš”í•˜ë‹¤. ë³¸ ê¸€ì—ì„œ ê³µìœ í•œ ë‚´ìš©ì€ ê·¸ì € Yaml íŒŒì¼ì— ëŒ€í•œ ê¸°ë³¸ ë¬¸ë²•ì„ í™œìš©í•œ ê²ƒì´ë‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;pre class=&quot;language-properties&quot; data-language=&quot;properties&quot;&gt;&lt;div class=&quot;caption&quot;&gt;&lt;span&gt;application.properties&lt;/span&gt;&lt;/div&gt;&lt;code class=&quot;langu</summary>
      
    
    
    
    
    <category term="Logging" scheme="https://kdevkr.github.io/tags/Logging/"/>
    
    <category term="Yaml" scheme="https://kdevkr.github.io/tags/Yaml/"/>
    
  </entry>
  
  <entry>
    <title>ì  í‚¨ìŠ¤ ì—ì´ì „íŠ¸ (Feat. ë¹Œë“œ í™˜ê²½)</title>
    <link href="https://kdevkr.github.io/jenkins-agent/"/>
    <id>https://kdevkr.github.io/jenkins-agent/</id>
    <published>2023-06-23T14:00:00.000Z</published>
    <updated>2023-07-31T11:10:23.368Z</updated>
    
    <content type="html"><![CDATA[<p>í˜„ì¬ íšŒì‚¬ì˜ ê°œë°œ ì¡°ì§ì—ì„œëŠ” í•˜ë‚˜ì˜ ëª¨ë†€ë¦¬ì‹ í”„ë¡œì íŠ¸ë¥¼ ë‹¤ì–‘í•œ í™˜ê²½ì„ ìœ„í•´ì„œ ë¹Œë“œ ë° ë°°í¬í•˜ê³  ìˆë‹¤. ê·¸ë¦¬ê³  ë¹Œë“œì™€ ë°°í¬ë¥¼ ìœ„í•´ì„œ í•˜ë‚˜ì˜ ë§ˆìŠ¤í„°ë¡œ ë™ì‘í•˜ëŠ” ì  í‚¨ìŠ¤ ì„œë²„ë¥¼ êµ¬ì„±í•˜ì—¬ ì‚¬ìš©í•˜ê³  ìˆê³  í•˜ë‚˜ì˜ ì„œë²„ì—ì„œ ë¹Œë“œë¥¼ ìˆ˜í–‰í•´ë„ ë¬´ë°©í•  ë§Œí¼ ì„œë¹„ìŠ¤ ê·œëª¨ê°€ í¬ê±°ë‚˜ ì‹œìŠ¤í…œì— ëŒ€í•œ ë°°í¬ê°€ ìì£¼ ìˆ˜í–‰ë˜ì§„ ì•Šê¸°ì— ë‹¨ì¼ ë¹Œë“œ ì„œë²„ë¡œ ìš´ìš©í•´ë„ ì¶©ë¶„í•˜ë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤. ê°œì¸ì ìœ¼ë¡œëŠ” ì¸í„°ë„·ì— ê³µìœ ëœ ê¸€ë“¤ì„ í†µí•´ ëŒ€ë¶€ë¶„ì˜ íšŒì‚¬ì—ì„œëŠ” í”„ë¡œë•ì…˜ì„ ìœ„í•œ ë¹Œë“œ í™˜ê²½ì„ ìœ„í•´ ë‹¤ì–‘í•œ CI&#x2F;CD ë„êµ¬ë“¤ì„ í™œìš©í•˜ê¸°ë„ í•˜ê³  ì  í‚¨ìŠ¤ ì„œë²„ì— ëŒ€í•´ ì»¨íŠ¸ë¡¤ëŸ¬(ë§ˆìŠ¤í„°)ì™€ ì—ì´ì „íŠ¸(ìŠ¬ë ˆì´ë¸Œ)ë¡œ êµ¬ì„±ë˜ëŠ” í´ëŸ¬ìŠ¤í„°(ë¶„ì‚° ë¹Œë“œ í™˜ê²½)ìœ¼ë¡œ êµ¬ì„±í•œë‹¤ëŠ” ê²ƒì„ ì•Œê³  ìˆì—ˆë‹¤. </p><p>ì»¨íŠ¸ë¡¤ëŸ¬ì™€ ì—ì´ì „íŠ¸ë¡œ ë™ì‘í•˜ëŠ” ë¹Œë“œ í™˜ê²½ì„ ë§Œë“¤ì–´ì•¼í•˜ëŠ” ìš”êµ¬ì‚¬í•­ì´ í•„ìš”í•˜ê²Œ ëœ ê±´ ë¶„ì‚° ë¹Œë“œì˜ ëª©ì ë³´ë‹¤ëŠ” ì  í‚¨ìŠ¤ ì„œë²„ê°€ Amazon Linux 2 AMI ì´ë¯¸ì§€ë¡œ ì‹¤í–‰ëœ EC2 ì„œë²„ì— ì„¤ì¹˜ë˜ì—ˆê¸° ë•Œë¬¸ì— <a href="https://okky.kr/articles/1451364">Node.js 18 LTS ë²„ì „ì„ ì§€ì›í•˜ì§€ ì•ŠëŠ” ì œì•½ì‚¬í•­</a>ì´ ë°œìƒí–ˆê¸° ë•Œë¬¸ì´ë‹¤. ì¼ë¶€ í™˜ê²½ì— ëŒ€í•´ì„œ ì¸ìˆ˜ í…ŒìŠ¤íŠ¸ë¥¼ í†µí•œ í’ˆì§ˆ ê°•í™”ë¥¼ ìœ„í•´ì„œ Jestë¥¼ ë„ì…í•˜ê²Œ ë˜ë©´ì„œ Node.js 12 ë˜ëŠ” 14 LTSì— ì˜ì¡´í–ˆë˜ ê²ƒì„ Node.js 18 LTSë¡œ í˜¸í™˜ì„± ë²„ì „ì„ ì˜¬ë¦¬ê³ ì í–ˆê¸° ë•Œë¬¸ì´ë‹¤. (Node.js 16 ë˜ëŠ” 18 LTS ë²„ì „ì„ í˜¸í™˜ì„± ë²”ìœ„ë¡œ ì²´í¬í–ˆë‹¤.)</p><blockquote><p>Node.js 14ë„ í˜¸í™˜ì„± ë²„ì „ í›„ë³´ì— ìˆìœ¼ë‚˜ ARM ì•„í‚¤í…ì²˜ë¡œ ë™ì‘í•˜ëŠ” M1 ë˜ëŠ” M2 ë§¥ í™˜ê²½ì—ì„œ Node.js 14 LTSëŠ” ê³µì‹ ë¹Œë“œê°€ í¬í•¨ë˜ì–´ìˆì§€ ì•Šê¸° ë•Œë¬¸ì— <a href="https://devzilla.io/using-nodejs-14-with-mac-silicon-m1">Using NodeJs 14 with Mac Silicon (M1)</a>ì™€ ê°™ì€ ì •ë³´ë“¤ì„ ì°¸ê³ í•´ì„œ í„°ë¯¸ë„ì´ AMD 64 ì•„í‚¤í…ì²˜ë¡œ ë™ì‘í•˜ë„ë¡ ë³€ê²½í•´ì„œ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ë¶ˆí¸í•¨ì— ì˜í•´ ì œì™¸ì‹œì¼°ë‹¤.</p></blockquote><p>ì  í‚¨ìŠ¤ ì„œë²„ë¥¼ Amzon Linux 2023 ë˜ëŠ” Ubuntu 20.24 ì´ìƒì˜ EC2 ì„œë²„ë¡œ ì´ê´€í•˜ëŠ” ë°©ë²•ë„ ìˆì§€ë§Œ ì  í‚¨ìŠ¤ ì„œë²„ë¥¼ <a href="https://endoflife.date/amazon-linux">ì§€ì› ì¢…ë£Œë˜ëŠ” AL1</a>ì—ì„œ Amazon Linux 2ë¡œ ì´ê´€í•œ ì§€ ì–¼ë§ˆë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ì¸í”„ë¼ ì—”ì§€ë‹ˆì–´ì—ê²Œ ìš”ì²­í•˜ëŠ” ê²ƒì€ ë¹„íš¨ìœ¨ì ì´ë‹¤ë¼ëŠ” ìƒê°ì´ ë“¤ì—ˆê¸° ë•Œë¬¸ì´ë‹¤. êµ³ì´ ì  í‚¨ìŠ¤ ì„œë²„ë¥¼ ìƒˆë¡œìš´ EC2 ì„œë²„ë¡œ ì¬êµ¬ì„±í•˜ê±°ë‚˜ ì»¨í…Œì´ë„ˆ ê¸°ë°˜ìœ¼ë¡œ ì‹¤í–‰í•˜ì§€ ì•Šì•„ë„ ë¶„ì‚° ë¹Œë“œ í™˜ê²½ìœ¼ë¡œ ì œê³µí•˜ëŠ” ì—ì´ì „íŠ¸(ë…¸ë“œë‚˜ í´ë¼ìš°ë“œ) ê¸°ëŠ¥ìœ¼ë¡œ ë³„ë„ì˜ ì„œë²„ë‚˜ ì»¨í…Œì´ë„ˆì—ì„œ ë¹Œë“œë¥¼ ìˆ˜í–‰í•˜ëŠ” ê²ƒì„ ì§€ì›í•˜ê¸° ë•Œë¬¸ì— í´ëŸ¬ìŠ¤í„° êµ¬ì„±ì„ ì‹œë„í•˜ê³ ì í•œë‹¤.</p><blockquote><p>ì  í‚¨ìŠ¤ ë¶„ì‚° ë¹Œë“œ í™˜ê²½ì„ êµ¬ì„±í•´ë³´ëŠ” ê²ƒì€ ì¢‹ì€ ê²½í—˜ì´ì—ˆë‹¤ê³  ìƒê°ë˜ë‚˜ ë³„ë„ì˜ ì„œë²„ì—ì„œ í”„ë¡œì íŠ¸ ë¹Œë“œë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•˜ê¸° ê¹Œì§€ ìƒê°ë³´ë‹¤ ì–´ë ¤ì› ë‹¤. ì´ëŸ¬í•œ ì´ìœ ë¡œ ë¹Œë“œì— ì„±ê³µí•˜ê¸°ê¹Œì§€ì˜ ê³¼ì •ì—ì„œ ë°œìƒí•œ ë¬¸ì œë“¤ì„ ê¸°ë¡í•´ë³´ê³ ì í•œë‹¤.</p></blockquote><h4 id="ì  í‚¨ìŠ¤-ê´€ë¦¬-gt-Nodes-and-Clouds"><a href="#ì  í‚¨ìŠ¤-ê´€ë¦¬-gt-Nodes-and-Clouds" class="headerlink" title="ì  í‚¨ìŠ¤ ê´€ë¦¬ &gt; Nodes and Clouds"></a>ì  í‚¨ìŠ¤ ê´€ë¦¬ &gt; Nodes and Clouds</h4><p><img data-src="/../images/posts/jenkins-agent/01.png"></p><p>ë¶„ì‚° ë¹Œë“œ í™˜ê²½ì˜ ì  í‚¨ìŠ¤ í´ëŸ¬ìŠ¤í„°ë¥¼ êµ¬ì„±í•˜ëŠ” ê²ƒì€ ì  í‚¨ìŠ¤ ê´€ë¦¬ì—ì„œ Nodes and Clouds ë©”ë‰´ë¥¼ í†µí•´ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤. ì—ì´ì „íŠ¸ë¥¼ ë“±ë¡í•˜ëŠ” ë°©ì‹ì— ë”°ë¼ ë…¸ë“œëŠ” ë¦¬ëˆ…ìŠ¤ ì„œë²„ ë˜ëŠ” VM ë¨¸ì‹ ì—ì„œ ë¹Œë“œë¥¼ ìˆ˜í–‰í•˜ê³  í´ë¼ìš°ë“œëŠ” ë„ì»¤ ì»¨í…Œì´ë„ˆ ë˜ëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ì™€ ê°™ì€ í™˜ê²½ìœ¼ë¡œ ë¹Œë“œë¥¼ ìˆ˜í–‰í•˜ëŠ” ê²ƒì´ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤. ì  í‚¨ìŠ¤ ì„œë²„ê°€ EC2ì— ì„¤ì¹˜ë˜ì–´ìˆë‹¤ê³  í•˜ë”ë¼ë„ EC2ì— ë„ì»¤ ì—”ì§„ê³¼ ì»¨í…Œì´ë„ˆê°€ ì„¤ì¹˜ë˜ì–´ìˆë‹¤ë©´ ë„ì»¤ ì—”ì§„ì˜ ìœ ë‹‰ìŠ¤ ë„ë©”ì¸ ì†Œì¼“ì„ í†µí•´ í´ë¼ìš°ë“œ ì—ì´ì „íŠ¸ë¥¼ ë“±ë¡í•  ìˆ˜ ìˆë‹¤.</p><p>ë…¸ë“œ ì—ì´ì „íŠ¸ë¥¼ ë“±ë¡í•˜ëŠ” ë°©ë²•ì—ëŠ” ì  í‚¨ìŠ¤ ì„œë²„ì—ì„œ SSHì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì—°ê²°ì„ ê´€ë¦¬í•˜ëŠ” ê²ƒê³¼ ë³„ë„ì˜ ìœˆë„ìš°ë‚˜ ë¦¬ëˆ…ìŠ¤ ì„œë²„ì™€ ê°™ì€ ê³³ì—ì„œ ì‹¤í–‰ëœ ë…¸ë“œ ì—ì´ì „íŠ¸ê°€ ì  í‚¨ìŠ¤ ì„œë²„ì— íŠ¹ì • í¬íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì—°ê²°ì„ ìš”êµ¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë‚˜ëˆ„ì–´ì§„ë‹¤. ì  í‚¨ìŠ¤ ì„œë²„ì— Elastic IPê°€ í• ë‹¹ë˜ì–´ìˆìœ¼ë¯€ë¡œ êµ³ì´ VPC ê°„ ì—°ê²°ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ ì‘ì—…ì„ í•˜ì§€ ì•Šë”ë¼ë„ ë…¸ë“œ ì—ì´ì „íŠ¸ì—ì„œ ì  í‚¨ìŠ¤ ì„œë²„ì— TCP ì—°ê²°ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ ì¸ë°”ìš´ë“œ ê·œì¹™ë§Œ ì„¤ì •í•˜ë©´ ë˜ëŠ” ê°„ë‹¨í•œ ë°©ì‹ì´ë¼ í›„ìë¥¼ ì„ íƒí–ˆë‹¤. ë…¸ë“œ ì—ì´ì „íŠ¸ê°€ ì‹¤í–‰ë  ì„œë²„ëŠ” ì˜¤ë¥˜ íŠ¸ë˜í‚¹ ì‹œìŠ¤í…œì´ êµ¬ë™ë˜ëŠ” ì„œë²„ë¡œ ë¯¸ë‹¬ í”„ë¡œë¹„ì €ë‹ ìƒíƒœë¡œ ë³´ê³ ëœ EC2(Amazon Linux 2023ìœ¼ë¡œ ì‹¤í–‰ëœ ìœ ì¼í•œ EC2)ë¥¼ ë…¸ë“œë¡œ ì¶”ê°€í•˜ê¸°ë¡œ í–ˆë‹¤.</p><h5 id="Launch-method-â†’-Launch-agent-by-connecting-it-to-the-controller"><a href="#Launch-method-â†’-Launch-agent-by-connecting-it-to-the-controller" class="headerlink" title="Launch method â†’ Launch agent by connecting it to the controller"></a>Launch method â†’ Launch agent by connecting it to the controller</h5><p><img data-src="/../images/posts/jenkins-agent/02.png"></p><p>ìë°”ë¡œ ì‹¤í–‰ë˜ëŠ” ë…¸ë“œ ì—ì´ì „íŠ¸ì—ì„œ ì»¨íŠ¸ë¡¤ëŸ¬(ë§ˆìŠ¤í„°)ì— ì—°ê²°í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë…¸ë“œ ì—ì´ì „íŠ¸ì—ì„œ ì  í‚¨ìŠ¤ ì„œë²„ì— ì—°ê²°í•  ìˆ˜ ìˆëŠ” TCP í¬íŠ¸ë¥¼ ìš”êµ¬í•˜ë¯€ë¡œ ì  í‚¨ìŠ¤ ê´€ë¦¬ &gt; Security ë©”ë‰´ì˜ Agents í•­ëª©ì—ì„œ TCP port for inbound agentsì— ëŒ€í•œ ì„¤ì •ì„ Fixedë¡œ ì„ íƒí•˜ì—¬ 50000ë²ˆ í¬íŠ¸ë¡œ ì…ë ¥í–ˆë‹¤. ì  í‚¨ìŠ¤ ì„œë²„ì—ì„œ ë…¸ë“œë¥¼ ì¶”ê°€í•˜ë©´ ì  í‚¨ìŠ¤ ì„œë²„ë¡œ ë¶€í„° ìë°” ì—ì´ì „íŠ¸ íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•  ìˆ˜ ìˆëŠ” ì—¬ëŸ¬ê°€ì§€ ëª…ë ¹ì–´ë¥¼ ì œê³µí•´ì¤€ë‹¤. ë…¸ë“œ ì—ì´ì „íŠ¸ë¥¼ ì„¤ì¹˜í•˜ë ¤ëŠ” í™˜ê²½ì— ë§ê²Œ ë³µì‚¬í•´ì„œ í˜¸ì¶œí•˜ë©´ ëœë‹¤.</p><p><img data-src="/../images/posts/jenkins-agent/03.png"></p><blockquote><p>ì  í‚¨ìŠ¤ ì„œë²„ì— ìë°” ì—ì´ì „íŠ¸ê°€ ì—°ê²°í•  ìˆ˜ ìˆë„ë¡ ë³´ì•ˆ ê·¸ë£¹ì— TCP 50000ë²ˆ í¬íŠ¸ë¥¼ ì¸ë°”ìš´ë“œ ê·œì¹™ìœ¼ë¡œ ì¶”ê°€í•´ì•¼ í•œë‹¤. ë˜í•œ, ì¼ë°˜ì ìœ¼ë¡œ ë…¸ë“œ ì—ì´ì „íŠ¸ë¥¼ ì—°ê²°í•˜ëŠ” í¬íŠ¸ê°€ 50000ë²ˆì„ ì‚¬ìš©í•˜ëŠ” ê²ƒìœ¼ë¡œ ì•Œë ¤ì ¸ ìˆê¸°ì— ë³´ì•ˆì ì¸ ê´€ì ì„ ë‘ì–´ì•¼í•œë‹¤ë©´ ë³„ë„ì˜ í¬íŠ¸ë¥¼ ì§€ì •í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•œë‹¤.</p></blockquote><h5 id="Usage-â†’-Only-build-jobs-with-label-expressions-matching-this-node"><a href="#Usage-â†’-Only-build-jobs-with-label-expressions-matching-this-node" class="headerlink" title="Usage â†’ Only build jobs with label expressions matching this node"></a>Usage â†’ Only build jobs with label expressions matching this node</h5><p><img data-src="/../images/posts/jenkins-agent/04.png"></p><p>ë…¸ë“œ ì—ì´ì „íŠ¸ë¥¼ ì¶”ê°€í•˜ëŠ” ì´ìœ ëŠ” ë¶„ì‚° ë¹Œë“œì˜ ëª©ì ì´ ì•„ë‹Œ Node.js 18 LTSë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡ íŠ¸ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œë¥¼ ë¹Œë“œí•˜ì—¬ ë°°í¬í•  ìˆ˜ ìˆëŠ” í™˜ê²½ì„ ë§Œë“¤ê³ ì í•¨ì— ìˆìœ¼ë¯€ë¡œ ê¸°ì¡´ì— ë™ì‘í•˜ë˜ í”„ë¡œì íŠ¸ë“¤ì€ ê·¸ëŒ€ë¡œ ì  í‚¨ìŠ¤ ì„œë²„ì—ì„œ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ íŠ¹ì • í”„ë¡œì íŠ¸ì—ì„œ ë³„ë„ë¡œ ë¼ë²¨ì„ ì§€ì •í•˜ì—¬ì•¼ë§Œ í•´ë‹¹ ë…¸ë“œë¥¼ í†µí•´ ë¹Œë“œë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ í•˜ì˜€ë‹¤. ì  í‚¨ìŠ¤ ì„œë²„ì— ë…¸ë“œ ì—ì´ì „íŠ¸ë¥¼ ì¶”ê°€í•˜ëŠ” ê³¼ì •ì—ì„œë„ ì¼ë¶€ í”„ë¡œì íŠ¸ê°€ ë¹Œë“œë  ê°€ëŠ¥ì„±ì´ ìˆìœ¼ë¯€ë¡œ ì˜ëª»ëœ í™˜ê²½ì—ì„œ ë¹Œë“œë˜ì–´ ë°°í¬ë˜ëŠ” ê²ƒì„ ë§‰ê³ ìí•˜ëŠ” ìµœì†Œí•œì˜ ì¡°ì¹˜ì´ë‹¤.</p><h4 id="Clouds-gt-Docker-Cloud-details"><a href="#Clouds-gt-Docker-Cloud-details" class="headerlink" title="Clouds &gt; Docker Cloud details"></a>Clouds &gt; Docker Cloud details</h4><p>ë…¸ë“œê°€ ì•„ë‹Œ ë„ì»¤ ì»¨í…Œì´ë„ˆ í™˜ê²½ì—ì„œ ë¹Œë“œë¥¼ ìˆ˜í–‰í•˜ê³ ì í•˜ëŠ” ê²½ìš° í´ë¼ìš°ë“œë¥¼ í†µí•´ ë„ì»¤ ì—ì´ì „íŠ¸ë¥¼ ë“±ë¡í•˜ë©´ ëœë‹¤. ì•ì„œ ì–¸ê¸‰í–ˆë“¯ì´ ì  í‚¨ìŠ¤ ì„œë²„ ë‚´ì— ì„¤ì¹˜í•œ ë„ì»¤ ì—”ì§„ì— ì—°ê²°í•˜ê³ ì í•˜ëŠ” ê²½ìš° ìœ ë‹‰ìŠ¤ ë„ë©”ì¸ ì†Œì¼“ ë°©ì‹ì˜ unix:&#x2F;&#x2F;&#x2F;var&#x2F;run&#x2F;docker.sockì„ ì§€ì •í•˜ë©´ ë˜ë©° ë³„ë„ì˜ ì„œë²„ì˜ ë„ì»¤ ì—”ì§„ì— ì—°ê²°í•˜ê³ ì í•˜ëŠ” ê²½ìš°ì—ëŠ” í•´ë‹¹ ì„œë²„ì—ì„œ ë„ì»¤ ì—”ì§„ì„ ì‹¤í–‰í•  ë•Œ TCP ì—°ê²°ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ ì•„ë˜ì™€ ê°™ì´ ì„œë¹„ìŠ¤ë¥¼ ìˆ˜ì •í•˜ê³  ë‹¤ì‹œ ì‹¤í–‰í•´ì•¼í•œë‹¤.</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">vi</span> /lib/systemd/system/docker.service<span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/usr/bin/dockerd <span class="token parameter variable">-H</span> tcp://0.0.0.0:2375 <span class="token parameter variable">-H</span> unix:///var/run/docker.sock<span class="token function">sudo</span> systemctl daemon-reload<span class="token function">sudo</span> <span class="token function">service</span> <span class="token function">docker</span> restart<span class="token function">curl</span> http://localhost:2375/version</code></pre><blockquote><p>ë§Œì•½, ë¦¬ëˆ…ìŠ¤ ì„œë²„ê°€ ì•„ë‹Œ ìœˆë„ìš° ë˜ëŠ” ë§¥ í™˜ê²½ì˜ ë„ì»¤ ë°ìŠ¤í¬íƒ‘ì—ì„œëŠ” TCP ì—°ê²°ì„ í™œì„±í™”í•  ë°©ë²•ì´ ì—†ì„ ìˆ˜ ìˆìœ¼ë‹ˆ ë³„ë„ì˜ ë°©ë²•ì„ ì°¾ì•„ë³´ì•„ì•¼ í•œë‹¤. ë§¥ì˜ ê²½ìš° <a href="https://github.com/docker/for-mac/issues/1156#issuecomment-273764881">socatì„ í†µí•´ TCPì™€ ìœ ë‹‰ìŠ¤ ë„ë©”ì¸ ì†Œì¼“ì„ ì—°ê²°í•˜ëŠ” ìš°íšŒ ë°©ë²•</a>ì´ ìˆëŠ” ê²ƒ ê°™ë‹¤.</p></blockquote><h5 id="ë„ì»¤-ì—ì´ì „íŠ¸-ì´ë¯¸ì§€-Optional"><a href="#ë„ì»¤-ì—ì´ì „íŠ¸-ì´ë¯¸ì§€-Optional" class="headerlink" title="ë„ì»¤ ì—ì´ì „íŠ¸ ì´ë¯¸ì§€ (Optional)"></a>ë„ì»¤ ì—ì´ì „íŠ¸ ì´ë¯¸ì§€ (Optional)</h5><p>ì²˜ìŒì—ëŠ” ë„ì»¤ ì—ì´ì „íŠ¸ë¥¼ ì¶”ê°€í•˜ê³ ë‚˜ì„œ ì—ì´ì „íŠ¸ í…œí”Œë¦¿ì„ ë“±ë¡í•˜ëŠ” ê³¼ì •ì—ì„œ ì—ì´ì „íŠ¸ ì´ë¯¸ì§€ë¥¼ <a href="https://github.com/jenkinsci/docker-agent">jenkins&#x2F;agent</a>ë¥¼ ì‚¬ìš©í•˜ë„ë¡ í–ˆìœ¼ë‚˜ ì‹¤ì œë¡œ í”„ë¡œì íŠ¸ë¥¼ ë¹Œë“œí•˜ë ¤ëŠ” ê³¼ì •ì—ì„œ ì¼ë¶€ íŒ¨í‚¤ì§€ê°€ ì—†ì–´ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•¨ì— ë”°ë¼ jenkins&#x2F;agent:jdk17ë¥¼ ë² ì´ìŠ¤ë¡œ í•˜ì—¬ ë³„ë„ì˜ ì—ì´ì „íŠ¸ ì´ë¯¸ì§€ë¥¼ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•´ì•¼í–ˆë‹¤.</p><pre class="language-docker" data-language="docker"><div class="caption"><span>Dockerfile</span></div><code class="language-docker"><span class="token instruction"><span class="token keyword">FROM</span> jenkins/agent:jdk17</span><span class="token instruction"><span class="token keyword">USER</span> root</span><span class="token instruction"><span class="token keyword">RUN</span> apt-get update <span class="token operator">\</span> &amp;&amp; apt-get install build-essential python3 -y</span><span class="token instruction"><span class="token keyword">USER</span> jenkins</span></code></pre><blockquote><p>ìœ„ ì´ë¯¸ì§€ëŠ” ì‚¬ìš©ì¤‘ì¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ë”°ë¼ g++ ë˜ëŠ” python3 ë¥¼ ì°¾ì„ ìˆ˜ ì—†ë‹¤ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì—¬ ì¶”ê°€í•œ ê²ƒìœ¼ë¡œ ì¡°ì§ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë„ì»¤ í—ˆë¸Œ ê³„ì •ì˜ í¼ë¸”ë¦­ ë¦¬íŒŒì§€í† ë¦¬ì— ì˜¬ë ¸ìœ¼ë©° í”„ë¼ì´ë¹— í™˜ê²½ì´ë¼ë©´ Registry Authentication ì„¤ì •ì´ ìš”êµ¬ëœë‹¤.</p></blockquote><h4 id="ì  í‚¨ìŠ¤-ê´€ë¦¬-gt-Security-gt-Git-Host-Key-Verification-configuration"><a href="#ì  í‚¨ìŠ¤-ê´€ë¦¬-gt-Security-gt-Git-Host-Key-Verification-configuration" class="headerlink" title="ì  í‚¨ìŠ¤ ê´€ë¦¬ &gt; Security &gt; Git Host Key Verification configuration"></a>ì  í‚¨ìŠ¤ ê´€ë¦¬ &gt; Security &gt; Git Host Key Verification configuration</h4><p><img data-src="/../images/posts/jenkins-agent/05.png"></p><p>í”„ë¡œì íŠ¸ì—ì„œ ë¹Œë“œí•  ì†ŒìŠ¤ì½”ë“œë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ ê¹ƒì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš° <a href="https://plugins.jenkins.io/git-client/#plugin-content-ssh-host-key-verification">SSH Host Key verification</a>ì˜ Host Key Verification Strategyê°€ Known hosts fileì´ ê¸°ë³¸ê°’ì¸ ê´€ê³„ë¡œ ìŠ¬ë ˆì´ë¸Œ ë…¸ë“œ ì—ì´ì „íŠ¸ë‚˜ í´ë¼ìš°ë“œë¡œ ì¶”ê°€í•œ ë„ì»¤ ì—ì´ì „íŠ¸ì—ì„œ ë¹Œë“œë¥¼ ìˆ˜í–‰í•˜ëŠ” ê²½ìš° <code>No ECDSA host key is known for github.com and you have requested strict checking. Host key verification failed.</code> ì™€ ê°™ì€ ì˜¤ë¥˜ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> ls-remote <span class="token parameter variable">-h</span> git@github.com:<span class="token punctuation">[</span>user<span class="token punctuation">]</span>/<span class="token punctuation">[</span>project<span class="token punctuation">]</span>.git HEAD</code></pre><p>ë…¸ë“œ ë¨¸ì‹ ì´ë‚˜ ë„ì»¤ ì—ì´ì „íŠ¸ë¡œ ì‹¤í–‰ë˜ëŠ” ì»¨í…Œì´ë„ˆì— ~&#x2F;.ssh&#x2F;known_hosts íŒŒì¼ì´ ì—†ê¸° ë•Œë¬¸ì´ë©° ìœ„ì™€ ê°™ì´ ê¹ƒí—ˆë¸Œ í˜¸ìŠ¤íŠ¸ì— ëŒ€í•œ ì§€ë¬¸ì„ ìµœì†Œí•œ í•œë²ˆì´ë¼ë„ ì¶”ê°€í•˜ì—¬ known_hosts íŒŒì¼ì„ ë§Œë“œëŠ” ê²ƒì´ ìš”êµ¬ë  ìˆ˜ ìˆë‹¤. ë§Œì•½, ë„ì»¤ ì—ì´ì „íŠ¸ì—ì„œ ë„ì»¤ ì»¨í…Œì´ë„ˆë¥¼ ë§Œë“œëŠ” ê²½ìš° ìœ„ ëª…ë ¹ì–´ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ì—†ê¸°ì— ë„ì»¤ ì—ì´ì „íŠ¸ë¡œ ì—°ê²°ë˜ëŠ” ì„œë²„ì—ì„œ ìœ„ ëª…ë ¹ì–´ë¥¼ ìˆ˜í–‰í•œ í›„ ë§ˆìš´íŠ¸ ì˜µì…˜ì„ í†µí•´ known_hosts íŒŒì¼ì„ ì „ë‹¬í•˜ë„ë¡ ì„¤ì •í•˜ëŠ” ê²ƒë„ ë°©ë²•ì´ë‹¤.</p><h5 id="Container-settings-gt-Mounts"><a href="#Container-settings-gt-Mounts" class="headerlink" title="Container settings &gt; Mounts"></a>Container settings &gt; Mounts</h5><p><img data-src="/../images/posts/jenkins-agent/06.png"></p><p>ìœ„ì™€ ê°™ì´ Docker Agent Templatesë¥¼ ë“±ë¡í•˜ëŠ” ì„¤ì •ì—ì„œ Container settings &gt; Mounts ì˜µì…˜ì„ í†µí•´ ìœ„ ëª…ë ¹ì–´ë¡œ ë§Œë“¤ì–´ì§„ known_hosts íŒŒì¼ì„ ê³µìœ í•  ìˆ˜ ìˆë„ë¡ <code>type=bind,src=/home/ec2-user/.ssh,dst=/home/jenkins/.ssh</code>ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì…ë ¥í•˜ë©´ ëœë‹¤.</p><p>ì  í‚¨ìŠ¤ ì„œë²„ì˜ ë¶„ì‚° ë¹Œë“œ í™˜ê²½ êµ¬ì„±ì— ëŒ€í•œ íŠœí† ë¦¬ì–¼ì€ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ìƒëµí•œ ì •ë³´ê°€ ë§ì„ ìˆ˜ ìˆì§€ë§Œ ì¼ë¶€ì˜ ë‚´ìš©ë§Œìœ¼ë¡œë„ ë„ì›€ì´ ë˜ê¸°ë¥¼ ë°”ë˜ë³¸ë‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;í˜„ì¬ íšŒì‚¬ì˜ ê°œë°œ ì¡°ì§ì—ì„œëŠ” í•˜ë‚˜ì˜ ëª¨ë†€ë¦¬ì‹ í”„ë¡œì íŠ¸ë¥¼ ë‹¤ì–‘í•œ í™˜ê²½ì„ ìœ„í•´ì„œ ë¹Œë“œ ë° ë°°í¬í•˜ê³  ìˆë‹¤. ê·¸ë¦¬ê³  ë¹Œë“œì™€ ë°°í¬ë¥¼ ìœ„í•´ì„œ í•˜ë‚˜ì˜ ë§ˆìŠ¤í„°ë¡œ ë™ì‘í•˜ëŠ” ì  í‚¨ìŠ¤ ì„œë²„ë¥¼ êµ¬ì„±í•˜ì—¬ ì‚¬ìš©í•˜ê³  ìˆê³  í•˜ë‚˜ì˜ ì„œë²„ì—ì„œ ë¹Œë“œë¥¼ ìˆ˜í–‰í•´ë„ ë¬´ë°©í•  ë§Œí¼ ì„œë¹„ìŠ¤ </summary>
      
    
    
    
    
    <category term="Node" scheme="https://kdevkr.github.io/tags/Node/"/>
    
    <category term="Cloud" scheme="https://kdevkr.github.io/tags/Cloud/"/>
    
  </entry>
  
  <entry>
    <title>ê³µê³µë°ì´í„°í¬í„¸ ì˜¤í”ˆ APIëŠ” ì›¹ ê°œë°œìë¥¼ ê´´ë¡­í˜€ (Feat. XML)</title>
    <link href="https://kdevkr.github.io/data-go-openapi/"/>
    <id>https://kdevkr.github.io/data-go-openapi/</id>
    <published>2023-05-28T15:00:00.000Z</published>
    <updated>2023-07-31T11:10:23.368Z</updated>
    
    <content type="html"><![CDATA[<p>ê³µê³µë°ì´í„°í¬í„¸ì˜ ì˜¤í”ˆ APIëŠ” ë§ì€ ì›¹ ì„œë¹„ìŠ¤ë‚˜ ì‹œìŠ¤í…œì—ì„œ í™œìš©í•  ìˆ˜ ìˆëŠ” ë°ì´í„°ë¥¼ ì œê³µí•˜ê³  ìˆì–´ì„œ ì›¹ ê°œë°œìë“¤ì—ê²Œ í•„ìˆ˜ì ìœ¼ë¡œ ì—°ë™ì„ ìš”êµ¬í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ì´ë‹¤. ë§ì€ ê¸°ì—…ì—ì„œ ì˜¤í”ˆ APIë¥¼ í™œìš©í•´ì•¼í•˜ê¸° ë•Œë¬¸ì— ìˆ˜ ë§ì€ ì›¹ ê°œë°œìê°€ ì˜¤í”ˆ APIì— ëŒ€í•œ ì—°ë™ ì˜¤ë¥˜ ë•Œë¬¸ì— í˜ë“¤ì–´í–ˆë‹¤. ì§€ê¸ˆì€ ì¸ì¦í‚¤ ë¬¸ì œë¥¼ í•´ê²°í•˜ê³ ì URL ì¸ì½”ë”©ëœ í‚¤ì™€ ì›ë³¸ì„ êµ¬ë³„í•´ì„œ ì œê³µí•˜ê¸° ë•Œë¬¸ì— OpenAPI í™œìš© ìì²´ëŠ” ì–´ë ¤ì›€ì´ ì—†ë‹¤ê³  ìƒê°ì´ ëœë‹¤. ë§Œì•½, ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ê³  ìˆëŠ” ê°œë°œìë¼ë©´ ì¸ì½”ë”©ë˜ì§€ ì•Šì€ ì¸ì¦í‚¤(Decoding)ì„ ë³µì‚¬í•˜ì—¬ ì‚¬ìš©í•˜ë©´ ëœë‹¤. </p><p><img data-src="/images/posts/data-go-openapi/01.png"></p><p>í•˜ì§€ë§Œ, ê³µê³µë°ì´í„°í¬í„¸ì˜ ì˜¤í”ˆ APIê°€ ì›¹ ê°œë°œìë“¤ì„ ê´´ë¡­íˆëŠ” ë¬¸ì œëŠ” ìƒê°ë³´ë‹¤ ë§ì€ë° í•¨ê»˜ ì•Œì•„ë³´ë„ë¡ í•˜ì.</p><h4 id="ê°„í—ì -SERVICE-KEY-IS-NOT-REGISTERED-ERROR-ì˜¤ë¥˜"><a href="#ê°„í—ì -SERVICE-KEY-IS-NOT-REGISTERED-ERROR-ì˜¤ë¥˜" class="headerlink" title="ê°„í—ì  SERVICE_KEY_IS_NOT_REGISTERED_ERROR ì˜¤ë¥˜"></a>ê°„í—ì  SERVICE_KEY_IS_NOT_REGISTERED_ERROR ì˜¤ë¥˜</h4><p><img data-src="/images/posts/data-go-openapi/02.png"></p><p>ê³µê³µë°ì´í„° í¬í„¸ì˜ ìì£¼í•˜ëŠ” ì§ˆë¬¸ ì¤‘ ì„œë¹„ìŠ¤ ì˜¤ë¥˜ì— ëŒ€í•œ ë‚´ìš©ìœ¼ë¡œ <code>SERVICE_KEY_IS_NOT_REGISTERED_ERROR</code> ì˜¤ë¥˜ì— ëŒ€í•œ ì›ì¸ì„ ê°„ë‹¨í•˜ê²Œ ì†Œê°œí•˜ê³  ìˆë‹¤. ì˜ëª»ëœ ì¸ì¦í‚¤ë¥¼ ë„£ì–´ì„œ í˜¸ì¶œí•˜ì˜€ê±°ë‚˜ ì¸ì¦ ê¸°ê´€ ì„œë²„ë¡œ ë™ê¸°í™”ë˜ì§€ ì•Šì•„ì„œ ë°œìƒí•œë‹¤ê³  ë˜ì–´ìˆë‹¤. í•´ë‹¹ ì¸ì¦í‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì •ìƒì ìœ¼ë¡œ OpenAPIë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆì—ˆìŒì—ë„ ë¶ˆêµ¬í•˜ê³  ëª‡ ì´ˆ ë§Œì— ì¸ì¦í‚¤ê°€ ì˜¬ë°”ë¥´ì§€ ì•Šë‹¤ëŠ” ì˜¤ë¥˜ê°€ ê°„í—ì ìœ¼ë¡œ ë°œìƒí•˜ê¸°ë„ í•œë‹¤.</p><h4 id="í†µì¼ë˜ì§€-ì•Šì€-ì˜¤í”ˆ-API-ì°¸ê³ -ë¬¸ì„œ"><a href="#í†µì¼ë˜ì§€-ì•Šì€-ì˜¤í”ˆ-API-ì°¸ê³ -ë¬¸ì„œ" class="headerlink" title="í†µì¼ë˜ì§€ ì•Šì€ ì˜¤í”ˆ API ì°¸ê³  ë¬¸ì„œ"></a>í†µì¼ë˜ì§€ ì•Šì€ ì˜¤í”ˆ API ì°¸ê³  ë¬¸ì„œ</h4><p>ì˜¤í”ˆ APIì— ëŒ€í•œ ì°¸ê³  ë¬¸ì„œì˜ í˜•ì‹ì„ ê°•ì œí•˜ì§€ ì•ŠëŠ” ê²°ê³¼ë¡œ ë§ì€ <code>ê¸°ì—…ì—ì„œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” í™•ì¥ìì¸ .hwpë¡œ ì‘ì„±ë˜ì–´ ê³µìœ </code>ë˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤. ê·¸ë¡œ ì¸í•´ ì›¹ ê°œë°œìë“¤ì€ í•œê¸€ ë¬¸ì„œë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠìŒì—ë„ ë¶ˆêµ¬í•˜ê³  í•œê¸€ ë¬¸ì„œë¥¼ ì—´ ìˆ˜ ìˆëŠ” ë·°ì–´ë¥¼ ì„¤ì¹˜í•´ì•¼ë§Œ í•œë‹¤. ê³µê³µë°ì´í„°í¬í„¸ì˜ ì˜¤í”ˆ API ì¤‘ì—ëŠ” <code>Swagger UI ê¸°ë°˜ì˜ OpenAPI ëª…ì„¸ì„œë¥¼ ì œê³µ</code>í•˜ê¸°ë„ í•œë‹¤.</p><p><img data-src="/images/posts/data-go-openapi/03.png"></p><h4 id="í•´ì™¸-ì•„ì´í”¼-ìš”ì²­-ì œí•œ"><a href="#í•´ì™¸-ì•„ì´í”¼-ìš”ì²­-ì œí•œ" class="headerlink" title="í•´ì™¸ ì•„ì´í”¼ ìš”ì²­ ì œí•œ"></a>í•´ì™¸ ì•„ì´í”¼ ìš”ì²­ ì œí•œ</h4><p>ê³µê³µë°ì´í„°í¬í„¸ì—ì„œ ì œê³µí•˜ëŠ” ëª¨ë“  ì˜¤í”ˆ APIì— í•´ë‹¹í•˜ëŠ” ë¬¸ì œëŠ” ì•„ë‹ˆì§€ë§Œ ì˜¤í”ˆ API ì¤‘ ë³´ì•ˆ ìƒ êµ­ë‚´ ì•„ì´í”¼ ëŒ€ì—­ì´ ì•„ë‹Œ í•´ì™¸ ì•„ì´í”¼ì—ì„œ í˜¸ì¶œí•˜ëŠ” ê²ƒì´ ì›¹ ë°©í™”ë²½ìœ¼ë¡œ ë§‰í˜€ì ¸ìˆëŠ” ê²½ìš°ë„ ìˆë‹¤. ëŒ€í‘œì ìœ¼ë¡œ <a href="https://www.data.go.kr/data/15056640/openapi.do">í•œêµ­ì „ë ¥ê±°ë˜ì†Œì—ì„œ ì œê³µí•˜ëŠ” ì˜¤í”ˆ API</a>ë¡œ ì°¸ê³  ë¬¸ì„œì— ë‚˜ì™€ìˆì§€ ì•Šì€ ë‚´ìš©ì´ì§€ë§Œ ê³µê³µë°ì´í„°í¬í„¸ì˜ ê²Œì´íŠ¸ì›¨ì´ ë°©ì‹ì´ ì•„ë‹Œ KPXì—ì„œ ê´€ë¦¬í•˜ëŠ” ì„œë²„ë¡œ ìš”ì²­ë˜ê¸° ë•Œë¬¸ì— AWSì™€ ê°™ì€ í´ë¼ìš°ë“œ í™˜ê²½ì—ì„œ í˜¸ì¶œí•  ìˆ˜ ì—†ê³  <code>êµ­ë‚´ ì„œë¹„ìŠ¤ë¡œ ìš°íšŒ</code>í•˜ê±°ë‚˜ ì‚¬ìš©ì¤‘ì¸ ì•„ì´í”¼ ëŒ€ì—­ì„ ì „ë‹¬í•˜ì—¬ <code>ë°©í™”ë²½ í•´ì œ ì‹ ì²­</code>ì„ í•´ì•¼í•œë‹¤. </p><h4 id="ê²Œì´íŠ¸ì›¨ì´-ë°©ì‹-ì˜¤í”ˆ-API"><a href="#ê²Œì´íŠ¸ì›¨ì´-ë°©ì‹-ì˜¤í”ˆ-API" class="headerlink" title="ê²Œì´íŠ¸ì›¨ì´ ë°©ì‹ ì˜¤í”ˆ API"></a>ê²Œì´íŠ¸ì›¨ì´ ë°©ì‹ ì˜¤í”ˆ API</h4><p><img data-src="/images/posts/data-go-openapi/04.png"></p><p>ê³µê³µë°ì´í„°í¬í„¸ì˜ ê²Œì´íŠ¸ë°©ì‹ ì˜¤í”ˆ APIëŠ” ì—”ë“œí¬ì¸íŠ¸ê°€ <code>apis.data.go.kr</code>ì™€ ê°™ì´ êµ¬ì„±ë˜ë©° ìœ„ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë“¯ì´ ê²Œì´íŠ¸ì›¨ì´ì—ì„œ ë¬¸ì œê°€ ë°œìƒí•˜ë©´ ì˜¤í”ˆ APIê°€ JSON íƒ€ì…ì˜ ì‘ë‹µ ê²°ê³¼ë¥¼ ì§€ì›í•˜ë”ë¼ë„ <code>XMLë¡œë§Œ ì¶œë ¥ëœë‹¤ëŠ” ì œì•½ì‚¬í•­</code>ì´ ìˆë‹¤. ì´ëŸ¬í•œ ì œì•½ì‚¬í•­ì„ ê³ ë ¤í•˜ì§€ ì•Šê³  ì‘ë‹µê²°ê³¼ë¥¼ JSONìœ¼ë¡œ ì˜¤í•´í•˜ê³  ì½”ë“œë¥¼ ì‘ì„±í•œë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ ì˜¤ë¥˜ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤. ì‹¬ì§€ì–´ HTTP ìƒíƒœ ì½”ë“œê°€ 200ìœ¼ë¡œ ì‘ë‹µë˜ì§€ë§Œ <code>ì‘ë‹µ ê²°ê³¼ì— ì˜¤ë¥˜ì— ëŒ€í•œ ë‚´ìš©ìœ¼ë¡œ ì œê³µí•œë‹¤ëŠ” ì </code>ìœ¼ë¡œ ì¸í•´ HTTP ìƒíƒœ ì½”ë“œë¥¼ í†µí•´ì„œ 1ì°¨ì ìœ¼ë¡œ êµ¬ë¶„í•  ìˆ˜ ì—†ê³  ì‘ë‹µ ë°”ë””ë¥¼ ë¬´ì¡°ê±´ í™•ì¸í•´ì„œ ì •ìƒì ì¸ í˜¸ì¶œì¸ì§€ ì•„ë‹Œì§€ë¥¼ êµ¬ë³„í•´ì•¼í•œë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Unexpected</span> exception thrown<span class="token operator">:</span> <span class="token class-name"><span class="token namespace">net<span class="token punctuation">.</span>minidev<span class="token punctuation">.</span>json<span class="token punctuation">.</span>parser<span class="token punctuation">.</span></span>ParseException</span><span class="token operator">:</span> <span class="token class-name">Unexpected</span> token <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">OpenAPI_ServiceResponse</span><span class="token punctuation">></span></span><span class="token generics"><span class="token punctuation">&lt;</span>cmmMsgHeader<span class="token punctuation">></span></span><span class="token generics"><span class="token punctuation">&lt;</span>errMsg<span class="token punctuation">></span></span><span class="token constant">SERVICE</span> <span class="token constant">ERROR</span><span class="token operator">&lt;</span><span class="token operator">/</span>errMsg<span class="token operator">></span><span class="token generics"><span class="token punctuation">&lt;</span>returnAuthMsg<span class="token punctuation">></span></span><span class="token constant">SERVICE_KEY_IS_NOT_REGISTERED_ERROR</span><span class="token operator">&lt;</span><span class="token operator">/</span>returnAuthMsg<span class="token operator">></span><span class="token generics"><span class="token punctuation">&lt;</span>returnReasonCode<span class="token punctuation">></span></span><span class="token number">30</span><span class="token operator">&lt;</span><span class="token operator">/</span>returnReasonCode<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>cmmMsgHeader<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">OpenAPI_ServiceResponse</span><span class="token operator">></span> at position <span class="token number">229.</span></code></pre><p>ë”°ë¼ì„œ, ê³µê³µë°ì´í„°í¬í„¸ì— ëŒ€í•œ ì—°ë™ì„ í•˜ëŠ” ê²½ìš° ì›¹ ê°œë°œìëŠ” ì•„ë˜ì— ëŒ€í•´ ê³ ë ¤ ë˜ëŠ” ëŒ€ì‘ì„ í•´ì•¼í•œë‹¤.</p><ol><li>ê²Œì´íŠ¸ì›¨ì´ ë°©ì‹ API í™•ì¸</li><li>API í˜¸ì¶œ ì œí•œ ì œì•½ í™•ì¸</li><li>JSON ê³¼ XML ì²˜ë¦¬ ëª¨ë‘ ê³ ë ¤</li><li>ê°„í—ì  ì¸ì¦í‚¤ ì˜¤ë¥˜ ì¼€ì´ìŠ¤ ëŒ€ì‘ (API ì ê²€ í¬í•¨)</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ê³µê³µë°ì´í„°í¬í„¸ì˜ ì˜¤í”ˆ APIëŠ” ë§ì€ ì›¹ ì„œë¹„ìŠ¤ë‚˜ ì‹œìŠ¤í…œì—ì„œ í™œìš©í•  ìˆ˜ ìˆëŠ” ë°ì´í„°ë¥¼ ì œê³µí•˜ê³  ìˆì–´ì„œ ì›¹ ê°œë°œìë“¤ì—ê²Œ í•„ìˆ˜ì ìœ¼ë¡œ ì—°ë™ì„ ìš”êµ¬í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ì´ë‹¤. ë§ì€ ê¸°ì—…ì—ì„œ ì˜¤í”ˆ APIë¥¼ í™œìš©í•´ì•¼í•˜ê¸° ë•Œë¬¸ì— ìˆ˜ ë§ì€ ì›¹ ê°œë°œìê°€ ì˜¤í”ˆ APIì— ëŒ€</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>ì„œë²„ íƒ€ì„ì¡´ì„ ë°”ê¾¸ì§€ ë§ì (Feat. ê¸€ë¡œë²Œ)</title>
    <link href="https://kdevkr.github.io/don&#39;t-change-server-timezone/"/>
    <id>https://kdevkr.github.io/don&#39;t-change-server-timezone/</id>
    <published>2023-05-26T15:00:00.000Z</published>
    <updated>2023-07-31T11:10:23.368Z</updated>
    
    <content type="html"><![CDATA[<pre class="language-bash" data-language="bash"><div class="caption"><span>Terminal</span></div><code class="language-bash">ubuntu@ubuntu:~$ timedatectl               Local time: Wed <span class="token number">2023</span>-05-24 <span class="token number">17</span>:21:45 UTC           Universal time: Wed <span class="token number">2023</span>-05-24 <span class="token number">17</span>:21:45 UTC                 RTC time: Wed <span class="token number">2023</span>-05-24 02:16:41                    Time zone: Etc/UTC <span class="token punctuation">(</span>UTC, +0000<span class="token punctuation">)</span>       System clock synchronized: no                                       NTP service: active                               RTC <span class="token keyword">in</span> <span class="token builtin class-name">local</span> TZ: no</code></pre><p>ê¸°ë³¸ì ìœ¼ë¡œ ì„œë²„ì™€ ë°ì´í„°ë² ì´ìŠ¤ì˜ íƒ€ì„ì¡´ì€ UTCë¥¼ ì‚¬ìš©í•œë‹¤. ê·¸ëŸ¬ë‹¤ë³´ë‹ˆ êµ­ë‚´ ì‚¬ìš©ìë“¤ì„ ëŒ€ìƒìœ¼ë¡œ í•˜ëŠ” ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” íšŒì‚¬ë“¤ì˜ ê²½ìš° <a href="https://jojoldu.tistory.com/513">ì„œë²„ íƒ€ì„ì¡´ì„ í•œêµ­ ì‹œê°„(Asia&#x2F;Seoul, +09:00)ë¡œ ë³€ê²½í•´ì„œ ì‚¬ìš©</a>í•˜ê¸°ë„ í•œë‹¤. ì„œë¹„ìŠ¤ ë„ë©”ì¸ ê·¸ë¦¬ê³  í™˜ê²½ì„ ì´í•´í•˜ê³  ìˆì–´ì•¼ë§Œ ì˜¬ë°”ë¥¸ í–‰ìœ„ë¡œ ìƒê°í•´ì•¼í•˜ëŠ”ë° ê°„í˜¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ íƒ€ì„ì¡´ì´ í•œêµ­ì‹œê°„ì´ë¼ ë°ì´í„°ë² ì´ìŠ¤ì˜ íƒ€ì„ì¡´ê³¼ì˜ ì°¨ì´ë¡œ ì¸í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ê³  ë°ì´í„°ë² ì´ìŠ¤ì— ëŒ€í•œ íƒ€ì„ì¡´ì„ í•œêµ­ì‹œê°„ìœ¼ë¡œ ë³€ê²½í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ë°°ê²½ ì„¤ëª…ì—†ì´ ë¸”ë¡œê·¸ì— ê³µìœ í•˜ëŠ” ë¶„ë“¤ì´ ê½¤ë‚˜ ë§ë‹¤.</p><p>ê²°ë¡ ì ìœ¼ë¡œ ì´ì•¼ê¸°í•˜ìë©´ ë°±ì—”ë“œ ê°œë°œìëŠ” ì‹œê°„ ì •ë³´ì— íƒ€ì„ì¡´ì„ ì ìš©í•˜ëŠ” ê²ƒì„ í”„ë ˆì  í…Œì´ì…˜ ê³„ì¸µì¸ í´ë¼ì´ì–¸íŠ¸ ì˜ì—­ì— ìœ„ì„í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ê·¸ëŸ¬ë‹ˆê¹Œ ì‚¬ìš©ìëŠ” ì„œë²„ì— ì €ì¥ëœ ë°ì´í„°ì— ìƒê´€ì—†ì´ ë³¸ì¸ì˜ ì‹œê°„ëŒ€ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì •í™•í•œ ì‹œê°„ì´ í‘œì‹œë˜ì–´ì•¼ í•˜ëŠ”ê²Œ ìš”êµ¬í•˜ëŠ” ë°”ì´ê¸° ë•Œë¬¸ì´ë‹¤. ê°„í˜¹ ì‹ ì… ê°œë°œì ë¿ë§Œ ì•„ë‹ˆë¼ ì–´ëŠì •ë„ ê²½í—˜ì´ ìˆëŠ” ê²½ë ¥ ê°œë°œìë“¤ë„ êµ­ë‚´ì—ì„œë§Œ ì¼í•˜ë‹¤ë³´ë‹ˆ ê³ ì •ëœ ê´€ì ì„ ê°€ì§€ê²Œ ë˜ëŠ”ê²Œ ì•„ë‹Œê°€ ì‹¶ë‹¤. ì•„ë¬´íŠ¼ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìëŠ” ë‹¨ìˆœíˆ ì„œë²„ì—ì„œ ì œê³µí•˜ëŠ” ë°ì´í„°ë¥¼ ê·¸ëŒ€ë¡œ í‘œì‹œí•˜ê³ ì í•˜ëŠ” ì§ë¬´ê°€ ì•„ë‹ˆë©° ì„œë²„ì—ì„œ ì •ì œë˜ì–´ ì œê³µëœ ë°ì´í„°ë¥¼ ì‚¬ìš©ìì—ê²Œ ì í•©í•œ ë°ì´í„°ë¡œ ë³€í™˜í•˜ì—¬ í‘œì‹œí•˜ëŠ” ì‘ì—…ë„ ìš”êµ¬ëœë‹¤. ê·¸ë¦¬ê³  ê·¸ ë³€í™˜ ì‘ì—… ì¤‘ í•˜ë‚˜ê°€ ë°”ë¡œ ì‹œê°„ ì •ë³´ì— ì‚¬ìš©ìì˜ íƒ€ì„ì¡´ì„ ë”í•´ì„œ í‘œì‹œí•´ì£¼ëŠ” ê²ƒì´ë‹¤.</p><p>ë‹¤ìŒì€ ì˜¤í‚¤ ì»¤ë®¤ë‹ˆí‹° ì‚¬ì´íŠ¸ì—ì„œ ê°œë°œì ë„êµ¬ì˜ ë„¤íŠ¸ì›Œí¬ ê¸°ëŠ¥ìœ¼ë¡œ í™•ì¸í•œ ë°°ë„ˆ ì •ë³´ì´ë‹¤. </p><p><img data-src="/images/posts/don't-change-server-timezone/01.png"></p><p>ë°°ë„ˆì˜ ì‹œì‘ë‚ ì§œ(startDate)ì™€ ë§ˆê°ë‚ ì§œ(endDate)ê°€ ë³´ì´ëŠ”ë° 2023-06-02T00:00:00ëŠ” ì•„ë§ˆë„ í•œêµ­ ì‹œê°„ì„ ì˜ë¯¸í•  ê²ƒì´ë‹¤. ê·¸ë ‡ë‹¤ë©´ í•œêµ­ ì‚¬ëŒì´ ì•„ë‹Œ í•´ì™¸ì—ì„œ ì ‘ì†í•œ ì‚¬ëŒì´ ì˜¤í‚¤ ì»¤ë®¤ë‹ˆí‹° ì‚¬ì´íŠ¸ì— ì ‘ì†í–ˆë‹¤ë©´ ë°°ë„ˆê°€ ì •ìƒì ìœ¼ë¡œ í‘œì‹œë  ìˆ˜ ìˆì„ê¹Œ? ì¼ë°˜ì ìœ¼ë¡œ ì‹œê°„ì— ëŒ€í•œ ë°ì´í„¸ë¥´ ì£¼ê³ ë°›ì„ ë•ŒëŠ” íƒ€ì„ì¡´ì´ í‘œí˜„ëœ ë¬¸ìì—´ì´ë‚˜ UTC Timestamp(ë°€ë¦¬ì´ˆ)ì™€ ê°™ì€ ìˆ«ìë¡œ ë³€í™˜ëœ í˜•íƒœë¡œ êµ¬ì„±í•˜ëŠ” í¸ì´ë‹¤. ì´ì™€ ë¹„êµí•´ì„œ ì•„ë˜ëŠ” ì•„ë§ˆì¡´ ì›¹ ì„œë¹„ìŠ¤ì—ì„œ ë‚´ë ¤ì£¼ê³  ìˆëŠ” ì‹œê°„ê°’ì´ê³  <strong>UTC íƒ€ì„ì¡´ì´ë¼ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë„ë¡ +0000ì„ í¬í•¨</strong>í•´ì£¼ê³  ìˆë‹¤.</p><p><img data-src="/images/posts/don't-change-server-timezone/02.png"></p><p>ì˜¤í‚¤ í”„ë¡œë•íŠ¸íŒ€ì˜ ê°œë°œìë“¤ì´ ì˜ëª»ë˜ì—ˆë‹¤ê³ ëŠ” ë³¼ ìˆ˜ ì—†ì§€ë§Œ (ì•„ë§ˆë„ ë¡œì»¬ íƒ€ì„ì¡´ì´ ì „ë‹¬ë˜ì–´ ë³€í™˜í•´ì£¼ì—ˆì„ ê²ƒ) ê¸€ë¡œë²Œ ì„œë¹„ìŠ¤ë¥¼ ì¤€ë¹„í•˜ëŠ” íšŒì‚¬ì—ì„œ ì¼í•˜ê³ ì í•˜ëŠ” ê°œë°œìë‚˜ ê¸€ë¡œë²Œ ì„œë¹„ìŠ¤ë¡œ ì „í™˜í•˜ë ¤ëŠ” íšŒì‚¬ì— ìˆë‹¤ë©´ ì‹œê°„ê³¼ íƒ€ì„ì¡´ì— ëŒ€í•´ì„œëŠ” ìƒê°ë³´ë‹¤ ì¤‘ìš”í•˜ê²Œ ìƒê°í•´ì•¼í•œë‹¤. ì›¹ ê°œë°œìë¡œì¨ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©ë˜ëŠ” íƒ€ì„ì¡´ì€ UTCë¼ëŠ” ê´€ì ì„ ê°€ì§€ë„ë¡ í•˜ì.</p><p>ë¹„ë¡ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ëœ ì‹œê°„ì„ ë³´ë”ë¼ë„ í•œêµ­ ì‹œê°„ìœ¼ë¡œ ì‰½ê²Œ ë³€í™˜í•˜ì—¬ ì¸ì§€í•˜ì§€ ëª»í• ì§€ë¼ë„â€¦</p>]]></content>
    
    
      
      
    <summary type="html">&lt;pre class=&quot;language-bash&quot; data-language=&quot;bash&quot;&gt;&lt;div class=&quot;caption&quot;&gt;&lt;span&gt;Terminal&lt;/span&gt;&lt;/div&gt;&lt;code class=&quot;language-bash&quot;&gt;ubuntu@ubuntu:~$</summary>
      
    
    
    
    
    <category term="Timezone" scheme="https://kdevkr.github.io/tags/Timezone/"/>
    
    <category term="UTC" scheme="https://kdevkr.github.io/tags/UTC/"/>
    
  </entry>
  
  <entry>
    <title>cURL</title>
    <link href="https://kdevkr.github.io/curl/"/>
    <id>https://kdevkr.github.io/curl/</id>
    <published>2023-05-20T15:00:00.000Z</published>
    <updated>2023-07-31T11:10:23.368Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://curl.se/">cURL</a>ì€ ë¦¬ëˆ…ìŠ¤ì™€ ë§¥ í„°ë¯¸ë„ì—ì„œ HTTP ìš”ì²­ì„ ìˆ˜í–‰í•´ë³´ê¸° ìœ„í•´ì„œ ë§ì´ ì‚¬ìš©ëœë‹¤. ìœˆë„ìš°ì—ì„œë„ <a href="https://curl.se/windows/microsoft.html">ë§ˆì´í¬ë¡œì†Œí”„íŠ¸ì—ì„œ ì œê³µí•˜ëŠ” ì»¬ í”„ë¡œê·¸ë¨</a>ì´ ë‚´ì¥ë˜ì–´ìˆë‹¤. ê·¸ë˜ì„œ ëª…ë ¹ í”„ë¡¬í”„íŠ¸(cmd)ë¡œ curl ëª…ë ¹ì–´ë¥¼ ìˆ˜í–‰í•´ë³´ë©´ ì•„ë˜ì™€ ê°™ì´ ì •ìƒì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŒì„ ì•Œ ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ, ìœˆë„ìš° í„°ë¯¸ë„ì—ì„œëŠ” ëª…ë ¹ í”„ë¡¬í”„íŠ¸ê°€ ì•„ë‹ˆë¼ íŒŒì›Œì‰˜(Powershll)ì„ ì‚¬ìš©í•˜ê³  ìˆìœ¼ë¯€ë¡œ <strong>Invoke-WebRequest</strong> ìœ¼ë¡œ í˜¸ì¶œë˜ì–´ ê¸°ë³¸ì ìœ¼ë¡œ ì•Œë˜ ëª…ë ¹ì–´ê°€ ìˆ˜í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤.</p><pre class="language-bash" data-language="bash"><div class="caption"><span>ëª…ë ¹ í”„ë¡¬í”„íŠ¸</span></div><code class="language-bash">C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Mambo<span class="token operator">></span>curl <span class="token parameter variable">-V</span><span class="token function">curl</span> <span class="token number">8.0</span>.1 <span class="token punctuation">(</span>Windows<span class="token punctuation">)</span> libcurl/8.0.1 Schannel WinIDNRelease-Date: <span class="token number">2023</span>-03-20Protocols: dict <span class="token function">file</span> <span class="token function">ftp</span> ftps http https imap imaps pop3 pop3s smtp smtps telnet tftpFeatures: AsynchDNS HSTS HTTPS-proxy IDN IPv6 Kerberos Largefile NTLM SPNEGO SSL SSPI threadsafe Unicode UnixSockets</code></pre><pre class="language-powershell" data-language="powershell"><div class="caption"><span>Windows Terminal</span></div><code class="language-powershell"><span class="token function">PS</span> C:\Users\Mambo> curlcmdlet <span class="token function">Invoke-WebRequest</span><span class="token punctuation">(</span>ëª…ë ¹ íŒŒì´í”„ë¼ì¸ ìœ„ì¹˜ 1<span class="token punctuation">)</span>ë‹¤ìŒ ë§¤ê°œ ë³€ìˆ˜ì— ëŒ€í•œ ê°’ì„ ì œê³µí•˜ì‹­ì‹œì˜¤<span class="token punctuation">.</span> Uri: okky<span class="token punctuation">.</span>krStatusCode        : 200StatusDescription : OKContent           : &lt;<span class="token operator">!</span>DOCTYPE html>&lt;html lang=<span class="token string">"ko"</span> <span class="token keyword">class</span>=<span class="token string">"js-focus-visible h-full"</span>>&lt;head>&lt;meta charSet=<span class="token string">"utf-8"</span><span class="token operator">/</span>>&lt;title>                    OKKY <span class="token operator">-</span> All That Developer&lt;<span class="token operator">/</span>title>&lt;meta name=<span class="token string">"robots"</span> content=<span class="token string">"index,follow"</span><span class="token operator">/</span>>&lt;meta name=<span class="token string">"descriptio                    n"</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>RawContent        : HTTP/1<span class="token punctuation">.</span>1 200 OK                    Transfer-Encoding: chunked                    Connection: keep-alive                    Vary: Accept-Encoding                    Cache-Control: private<span class="token punctuation">,</span> no-cache<span class="token punctuation">,</span> no-store<span class="token punctuation">,</span> max-age=0<span class="token punctuation">,</span> must-revalidate                    Content-<span class="token function">Type</span>: text/html<span class="token punctuation">;</span> charset=utf<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>Forms             : <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>Headers           : <span class="token punctuation">&#123;</span><span class="token namespace">[Transfer-Encoding, chunked]</span><span class="token punctuation">,</span> <span class="token namespace">[Connection, keep-alive]</span><span class="token punctuation">,</span> <span class="token namespace">[Vary, Accept-Encoding]</span><span class="token punctuation">,</span> <span class="token namespace">[Cache-Control, p                    rivate, no-cache, no-store, max-age=0, must-revalidate]</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">&#125;</span>Images            : <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>InputFields       : <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>Links             : <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>ParsedHtml        : mshtml<span class="token punctuation">.</span>HTMLDocumentClassRawContentLength  : 22832</code></pre><p>cURLì˜ <a href="https://curl.se/windows/microsoft.html">curl shipped by Microsoft</a> ë¬¸ì„œë¥¼ ì°¸ê³ í•´ë³´ë©´ Powershell Aliasì— ëŒ€í•œ ë¬¸ì œë¡œ ì¸í•´ curl.exe ë¡œ í”„ë¡œê·¸ë¨ì„ ì§€ì •í•˜ì—¬ ëª…ë ¹ì–´ë¥¼ ìˆ˜í–‰í•˜ë„ë¡ ì•ˆë‚´í•œë‹¤.</p><pre class="language-bash" data-language="bash"><code class="language-bash">PS C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Mambo<span class="token operator">></span> curl.exe <span class="token parameter variable">-V</span><span class="token function">curl</span> <span class="token number">8.0</span>.1 <span class="token punctuation">(</span>Windows<span class="token punctuation">)</span> libcurl/8.0.1 Schannel WinIDNRelease-Date: <span class="token number">2023</span>-03-20Protocols: dict <span class="token function">file</span> <span class="token function">ftp</span> ftps http https imap imaps pop3 pop3s smtp smtps telnet tftpFeatures: AsynchDNS HSTS HTTPS-proxy IDN IPv6 Kerberos Largefile NTLM SPNEGO SSL SSPI threadsafe Unicode UnixSockets</code></pre><h4 id="íŒŒì›Œì‰˜-Alias-ì œê±°í•˜ê¸°"><a href="#íŒŒì›Œì‰˜-Alias-ì œê±°í•˜ê¸°" class="headerlink" title="íŒŒì›Œì‰˜ Alias ì œê±°í•˜ê¸°"></a>íŒŒì›Œì‰˜ Alias ì œê±°í•˜ê¸°</h4><p>Remove-Item ëª…ë ¹ì–´ë¡œ Aliasë¥¼ ì œê±°í•  ìˆ˜ ìˆìœ¼ë©° ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ê³ ë‚˜ì„œ ìƒíƒœë¥¼ ìœ ì§€í•  ìˆ˜ ìˆë„ë¡ í˜„ì¬ í”„ë¡œíŒŒì¼ì„ ë©”ëª¨ì¥ìœ¼ë¡œ ì—´ì–´ curlì— ëŒ€í•œ Aliasë¥¼ ì‚­ì œí•  ìˆ˜ ìˆë„ë¡ ì½”ë“œë¥¼ ì‘ì„±í•˜ì—¬ ì €ì¥í•˜ë„ë¡ í•˜ì. ì´ì œëŠ” êµ³ì´ curl.exe ë¼ëŠ” í”„ë¡œê·¸ë¨ì„ ì§€ì •í•´ì„œ í˜¸ì¶œí•  í•„ìš”ê°€ ì—†ì–´ì§„ë‹¤.</p><pre class="language-powershell" data-language="powershell"><div class="caption"><span>Windows Terminal</span></div><code class="language-powershell"><span class="token function">PS</span> C:\Users\Mambo> <span class="token function">remove-item</span> alias:\curl<span class="token function">PS</span> C:\Users\Mambo> curl <span class="token operator">-</span>Vcurl 8<span class="token punctuation">.</span>0<span class="token punctuation">.</span>1 <span class="token punctuation">(</span>Windows<span class="token punctuation">)</span> libcurl/8<span class="token punctuation">.</span>0<span class="token punctuation">.</span>1 Schannel WinIDNRelease-Date: 2023-03-20Protocols: dict file ftp ftps http https imap imaps pop3 pop3s smtp smtps telnet tftpFeatures: AsynchDNS HSTS HTTPS-proxy IDN IPv6 Kerberos Largefile NTLM SPNEGO SSL SSPI threadsafe Unicode UnixSocketsnotepad <span class="token variable">$profile</span><span class="token comment"># ë©”ëª¨ì¥ ìƒë‹¨ì— ì…ë ¥</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">Test-Path</span> <span class="token operator">-</span>Path alias:curl<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token function">Remove-Item</span> alias:curl <span class="token punctuation">&#125;</span></code></pre><h4 id="íŒ-ë¦¬ëˆ…ìŠ¤ì—ì„œ-cURL-ëª…ë ¹ì–´-ì¶œë ¥ì´-ê°œí–‰ë˜ì§€-ì•Šì„-ê²½ìš°"><a href="#íŒ-ë¦¬ëˆ…ìŠ¤ì—ì„œ-cURL-ëª…ë ¹ì–´-ì¶œë ¥ì´-ê°œí–‰ë˜ì§€-ì•Šì„-ê²½ìš°" class="headerlink" title="[íŒ] ë¦¬ëˆ…ìŠ¤ì—ì„œ cURL ëª…ë ¹ì–´ ì¶œë ¥ì´ ê°œí–‰ë˜ì§€ ì•Šì„ ê²½ìš°"></a>[íŒ] ë¦¬ëˆ…ìŠ¤ì—ì„œ cURL ëª…ë ¹ì–´ ì¶œë ¥ì´ ê°œí–‰ë˜ì§€ ì•Šì„ ê²½ìš°</h4><p>ê°„í˜¹ ë¦¬ëˆ…ìŠ¤ì—ì„œ cURL ëª…ë ¹ì–´ë¥¼ ìˆ˜í–‰í•˜ë©´ ì¶œë ¥ ê²°ê³¼ê°€ ê°œí–‰ë˜ì§€ ì•Šì•„ì„œ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ í˜¸ì¶œí•  ë•Œ ë¶ˆí¸í•¨ì„ ëŠë‚„ ìˆ˜ ìˆë‹¤. <a href="https://stackoverflow.com/questions/12849584/automatically-add-newline-at-end-of-curl-response-body/14614203#14614203">https://stackoverflow.com/a/14614203</a>ì— ë‚˜ì™€ìˆëŠ” ê²ƒì²˜ëŸ¼ ì‚¬ìš©ì ë””ë ‰í† ë¦¬ì— .curlrc íŒŒì¼ì„ ë§Œë“¤ì–´ì„œ ê°œí–‰ì´ ë™ì‘í•˜ë„ë¡ ì‘ì„±í•´ë‘ë©´ ëœë‹¤.</p><pre class="language-bash" data-language="bash"><div class="caption"><span>Terminal</span></div><code class="language-bash"><span class="token function">vi</span> ~/.curlrc<span class="token parameter variable">-w</span> <span class="token string">"<span class="token entity" title="\n">\n</span>"</span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://curl.se/&quot;&gt;cURL&lt;/a&gt;ì€ ë¦¬ëˆ…ìŠ¤ì™€ ë§¥ í„°ë¯¸ë„ì—ì„œ HTTP ìš”ì²­ì„ ìˆ˜í–‰í•´ë³´ê¸° ìœ„í•´ì„œ ë§ì´ ì‚¬ìš©ëœë‹¤. ìœˆë„ìš°ì—ì„œë„ &lt;a href=&quot;https://curl.se/windows/microsoft.html&quot;&gt;ë§ˆì´í¬</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Sentry</title>
    <link href="https://kdevkr.github.io/sentry/"/>
    <id>https://kdevkr.github.io/sentry/</id>
    <published>2023-05-18T15:00:00.000Z</published>
    <updated>2023-07-31T11:10:23.372Z</updated>
    
    <content type="html"><![CDATA[<p>SentryëŠ” ì˜¤ë¥˜ ë˜ëŠ” ì˜ˆì™¸ë¥¼ ì¶”ì í•˜ê¸° ìœ„í•œ ë„êµ¬ë¡œ íšŒì‚¬ì—ì„œ ì‹œìŠ¤í…œì„ êµ¬ì„±í•˜ëŠ” ì–¸ì–´ì¸ ìë°”, íŒŒì´ì¬, Vue ë“± ë‹¤ì–‘í•œ ì–¸ì–´ í”Œë«í¼ê³¼ì˜ ì—°ë™ì„ ì§€ì›í•œë‹¤. Sentryë¥¼ ë„ì…í•˜ê²Œ ë˜ëŠ” ì´ìœ ëŠ” ê°œë°œìê°€ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê³¼ì •ì—ì„œ ë°œê²¬ë˜ì§€ ì•Šê³  QA ì—”ì§€ë‹ˆì–´ê°€ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê³¼ì • í˜¹ì€ ê³ ê° í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œ ë§ˆì§€ë§‰ìœ¼ë¡œ ê²€ìˆ˜í•˜ëŠ” ê³¼ì •ì—ì„œ ë°œê²¬ë˜ì§€ ì•Šì€ ì·¨ì•½ì ì„ ì•Œì•„ì±„ê¸° ìœ„í•¨ì´ë‹¤. ê·¸ë™ì•ˆ ê²½í—˜í–ˆë˜ ëŒ€ë¶€ë¶„ì˜ í’ˆì§ˆ ì´ìŠˆëŠ” ëª…í™•í•˜ì§€ ì•Šì€ ìš”êµ¬ì‚¬í•­ê³¼ ë¶€ì¡±í•œ ë¦¬ë·° ê³¼ì •ìœ¼ë¡œ ì¸í•´ì„œ ì¸í”„ë¼ êµ¬ì„±ê³¼ ì‚¬ìš©ìì˜ ë™ì‘ì— ë”°ë¼ ë°œìƒí•˜ëŠ” ìƒí™©ì´ ëŒ€ë¶€ë¶„ì´ì—ˆë‹¤ê³  ìƒê°í•œë‹¤.</p><ul><li><a href="https://docs.sentry.io/platforms/java/guides/spring-boot/">Platforms &gt; Java &gt; Spring Boot</a></li><li><a href="https://docs.sentry.io/platforms/javascript/guides/vue/">Platforms &gt; Browser JavaScript &gt; Vue</a></li><li><a href="https://docs.sentry.io/platforms/python/guides/flask/">Platforms &gt; Python &gt; Flask</a></li></ul><blockquote><p>ì‹œìŠ¤í…œì˜ ë°ì´í„°ë¥¼ ë¶„ì„í•˜ê³  ì˜ˆì¸¡í•˜ëŠ” ê¸°ëŠ¥ì˜ ê²½ìš° ë³„ë„ì˜ íŒŒì´ì¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë‹´ë‹¹í•˜ëŠ” íŒ€ì—ì„œ ê´€ë¦¬í•˜ê³  ìˆìœ¼ë¯€ë¡œ Sentryë¥¼ ë„ì…í•˜ì§„ ì•Šê³  ìˆë‹¤.</p></blockquote><h2 id="Self-Hosted-Sentry"><a href="#Self-Hosted-Sentry" class="headerlink" title="Self-Hosted Sentry"></a>Self-Hosted Sentry</h2><p><a href="https://develop.sentry.dev/self-hosted/">Self-Hosted Sentry</a>ì—ì„œ ì œê³µí•˜ëŠ” ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ On-Premise í™˜ê²½ì—ì„œ Sentryë¥¼ êµ¬ì„±í•˜ê³  ì‹¤í–‰í•˜ì˜€ë‹¤. ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸ì™€ ë„ì»¤ ì»´í¬ì¦ˆ ë¬¸ì„œë¥¼ ì œê³µí•˜ê¸° ë•Œë¬¸ì— ì‹¤í–‰ ìì²´ëŠ” ê°„ë‹¨í•œë° ìƒê°ë³´ë‹¤ ë§ì€ ì»¨í…Œì´ë„ˆê°€ êµ¬ë™ë˜ëŠ” ë¶€ë¶„ì´ ìˆë‹¤. ì¸í”„ë¼ ë¹„ìš©ì„ ì•„ë¼ê³ ì ë¦¬ì†ŒìŠ¤ ìì› ì‚¬ìš©ë¥ ì´ ì €ì¡°í•œ ì¸ìŠ¤í„´ìŠ¤ì— ì‹¤í–‰í•œ ìƒíƒœì¸ë° ë³„ë„ì˜ ì¸ìŠ¤í„´ìŠ¤ë¡œ ë¶„ë¦¬í•˜ëŠ” ê²ƒì„ ê³ ë ¤í•˜ê³  ìˆë‹¤.</p><blockquote><p>Keep in mind that all this setup uses single-nodes for all services, including Kafka. For larger loads, youâ€™d need a beefy machine with lots of RAM and disk storage. To scale up even further, you are very likely to use clusters with a more complex tool, such as Kubernetes. Due to self-hosted installationsâ€™ very custom nature, we do not offer any recommendations or guidance around scaling up.</p></blockquote><h2 id="Spring-Boot"><a href="#Spring-Boot" class="headerlink" title="Spring Boot"></a>Spring Boot</h2><p>ì‹œìŠ¤í…œì„ êµ¬ì„±í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ <a href="https://docs.sentry.io/platforms/java/guides/spring-boot/">Spring Boot</a>ë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤ë©´ sentry-spring-boot-starterë¥¼ ì¶”ê°€í•˜ì—¬ ìë™ êµ¬ì„±ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. </p><pre class="language-groovy" data-language="groovy"><code class="language-groovy">implementation <span class="token function">platform</span><span class="token punctuation">(</span><span class="token string">'io.sentry:sentry-bom:6.19.0'</span><span class="token punctuation">)</span>implementation <span class="token string">'io.sentry:sentry-spring-boot-starter'</span></code></pre><blockquote><p>When you are using multiple Sentry dependencies, you can avoid specifying the version of each dependency with a <a href="https://docs.sentry.io/platforms/java/configuration/bill-of-materials/">BOM or Bill Of Materials</a>.</p></blockquote><p>ê°œë°œìê°€ ì²´í¬í•˜ì§€ ì•Šì€ ì˜ˆì™¸ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ìˆ˜ì§‘ë˜ë©° @ExceptionHandlerë¥¼ ì„ ì–¸í•œ ì˜ˆì™¸ ì²˜ë¦¬ í•¨ìˆ˜ì—ì„œ Sentry ì„œë²„ë¡œ ì˜ˆì™¸ ì •ë³´ë¥¼ ì „ë‹¬í•˜ë„ë¡ ì½”ë“œë¥¼ êµ¬í˜„í•˜ë©´ ëœë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>sentry<span class="token punctuation">.</span></span><span class="token class-name">Sentry</span></span><span class="token punctuation">;</span><span class="token keyword">try</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Exception</span><span class="token punctuation">(</span><span class="token string">"This is a test."</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">Sentry</span><span class="token punctuation">.</span><span class="token function">captureException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><h3 id="ì˜ˆì™¸-ìˆ˜ì§‘-ì •ë³´-ì»¤ìŠ¤í„°ë§ˆì´ì§•"><a href="#ì˜ˆì™¸-ìˆ˜ì§‘-ì •ë³´-ì»¤ìŠ¤í„°ë§ˆì´ì§•" class="headerlink" title="ì˜ˆì™¸ ìˆ˜ì§‘ ì •ë³´ ì»¤ìŠ¤í„°ë§ˆì´ì§•"></a>ì˜ˆì™¸ ìˆ˜ì§‘ ì •ë³´ ì»¤ìŠ¤í„°ë§ˆì´ì§•</h3><p><a href="https://docs.sentry.io/platforms/java/guides/spring-boot/advanced-usage/">Advanced Usage</a> ë¬¸ì„œì— ë”°ë¥´ë©´ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ê±°ë‚˜ Sentryì— ìˆ˜ì§‘ëœ ì˜¤ë¥˜ë¥¼ ë³´ë‚´ê¸° ì§ì „ì— ì¡°ì‘í•  ìˆ˜ ìˆëŠ” ì½œë°±ì„ ì œê³µí•˜ê³  ìˆë‹¤. ë…¸ì¶œë˜ë©´ ì•ˆë˜ëŠ” ì •ë³´ëŠ” ëª…ì‹œì ìœ¼ë¡œ ì œê±°í•  ìˆ˜ ìˆìœ¼ë©° ìˆ˜ì§‘í•˜ì§€ ì•Šì„ ì˜ˆì™¸ í´ë˜ìŠ¤ì— ëŒ€í•´ì„œëŠ” <a href="https://docs.sentry.io/platforms/java/guides/spring-boot/configuration/#ignored-exceptions-for-type">Ignored Exceptions For Type</a>ì„ ì§€ì •í•˜ì—¬ ì œì™¸ì‹œí‚¬ ìˆ˜ ìˆë‹¤.</p><pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">sentry.ignored-exceptions-for-type</span><span class="token punctuation">:</span>  <span class="token punctuation">-</span> org.springframework.security.access.AccessDeniedException  <span class="token punctuation">-</span> org.springframework.security.authentication.BadCredentialsException</code></pre><p>íŠ¹ì • ì˜ˆì™¸ í´ë˜ìŠ¤ ì´ì™¸ì— ì¼ë¶€ ì—ëŸ¬ ì´ë²¤íŠ¸ë¥¼ í•„í„°ë§í•˜ê³ ì í•œë‹¤ë©´ SentryOptions.BeforeSendCallback ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ í´ë˜ìŠ¤ë¥¼ ë¹ˆìœ¼ë¡œ ë“±ë¡í•˜ì—¬ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Component</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomBeforeSendCallback</span> <span class="token keyword">implements</span> <span class="token class-name">SentryOptions<span class="token punctuation">.</span>BeforeSendCallback</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">SentryEvent</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token class-name">SentryEvent</span> event<span class="token punctuation">,</span> <span class="token class-name">Hint</span> hint<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// Example: Never send server name in events</span>        event<span class="token punctuation">.</span><span class="token function">setServerName</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> event<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><h3 id="ì‚¬ìš©ì-ì •ë³´-ìˆ˜ì§‘í•˜ê¸°"><a href="#ì‚¬ìš©ì-ì •ë³´-ìˆ˜ì§‘í•˜ê¸°" class="headerlink" title="ì‚¬ìš©ì ì •ë³´ ìˆ˜ì§‘í•˜ê¸°"></a>ì‚¬ìš©ì ì •ë³´ ìˆ˜ì§‘í•˜ê¸°</h3><p>Spring MVC ëª¨ë“ˆì„ ì‚¬ìš©í•˜ê³  ìˆë‹¤ë©´ <a href="https://docs.sentry.io/platforms/java/guides/spring-boot/record-user/">Record User Information</a> ë¬¸ì„œë¥¼ ì°¸ê³ í•˜ì—¬ ì‚¬ìš©ì ì´ë¦„(Principal#name)ê³¼ IP ì£¼ì†Œë¥¼ ìˆ˜ì§‘í•˜ë„ë¡ í™œì„±í™” í•  ìˆ˜ ìˆë‹¤. ë§Œì•½, ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¸ì¦ ì²´ê³„ë¥¼ êµ¬í˜„í•˜ì˜€ë‹¤ë©´ UserDetailsì˜ Usernameì´ ì˜¤ë¥˜ì™€ í•¨ê»˜ ê¸°ë¡ëœë‹¤.</p><pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">sentry.send-default-pii</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></code></pre><h3 id="ë¹„ë™ê¸°-í•¨ìˆ˜-ì²˜ë¦¬"><a href="#ë¹„ë™ê¸°-í•¨ìˆ˜-ì²˜ë¦¬" class="headerlink" title="ë¹„ë™ê¸° í•¨ìˆ˜ ì²˜ë¦¬"></a>ë¹„ë™ê¸° í•¨ìˆ˜ ì²˜ë¦¬</h3><p>Sentryâ€™s SDK for JavaëŠ” ìŠ¤ì½”í”„ì™€ ì»¨í…ìŠ¤íŠ¸ë¥¼ ThreadLocalì— ì €ì¥í•˜ë„ë¡ êµ¬í˜„ë˜ì–´ìˆë‹¤. <a href="https://docs.sentry.io/platforms/java/guides/spring-boot/async/">Async Methods</a> ë¬¸ì„œì— ë”°ë¥´ë©´ Sentry Contextì—ì„œ ë¹„ë™ê¸° í•¨ìˆ˜ì— ì˜¬ë°”ë¥´ê²Œ ì ‘ê·¼í•˜ê¸° ìœ„í•´ì„œëŠ” ThreadPoolTaskExecutor ë‚´ì— SentryTaskDecoratorë¥¼ ì ìš©í•´ì•¼ í•œë‹¤ê³  ì„¤ëª…í•œë‹¤.</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token punctuation">(</span>proxyBeanMethods <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SentryConfiguration</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">SentryTaskDecorator</span> <span class="token function">sentryTaskDecorator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">SentryTaskDecorator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AsyncMethodConfiguration</span> <span class="token keyword">implements</span> <span class="token class-name">AsyncConfigurer</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">SentryTaskDecorator</span> sentryTaskDecorator<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">AsyncMethodConfiguration</span><span class="token punctuation">(</span><span class="token class-name">SentryTaskDecorator</span> sentryTaskDecorator<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>sentryTaskDecorator <span class="token operator">=</span> sentryTaskDecorator<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">Executor</span> <span class="token function">getAsyncExecutor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">ThreadPoolTaskExecutor</span> executor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ThreadPoolTaskExecutor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        executor<span class="token punctuation">.</span><span class="token function">setTaskDecorator</span><span class="token punctuation">(</span>sentryTaskDecorator<span class="token punctuation">)</span><span class="token punctuation">;</span>        executor<span class="token punctuation">.</span><span class="token function">initialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> executor<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><h3 id="ë©”ëª¨ë¦¬-ëˆ„ìˆ˜"><a href="#ë©”ëª¨ë¦¬-ëˆ„ìˆ˜" class="headerlink" title="ë©”ëª¨ë¦¬ ëˆ„ìˆ˜"></a>ë©”ëª¨ë¦¬ ëˆ„ìˆ˜</h3><p><img data-src="/images/posts/sentry/01.png"></p><p>TransactionPerfomanceCollectorì— ì˜í•œ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë¬¸ì œê°€ ìˆì—ˆìœ¼ë©° 6.13.0 ê·¸ë¦¬ê³  6.13.1 ì—ì„œ OOM ë¬¸ì œê°€ í•´ê²°ë˜ì—ˆë‹¤.</p><ul><li>6.13.0 - Prevent OOM by disabling TransactionPerformanceCollector for now (<a href="https://github.com/getsentry/sentry-java/pull/2498">#2498</a>)</li><li>6.13.1 - Fix transaction performance collector oom (<a href="https://github.com/getsentry/sentry-java/pull/2505">#2505</a>)</li></ul><p>ì´ì™¸ì—ë„ ì§€ì†ì ìœ¼ë¡œ ì„±ëŠ¥ ê°œì„ ê³¼ ì—¬ëŸ¬ê°€ì§€ ë¬¸ì œê°€ í•´ê²°ë˜ê³  ìˆìœ¼ë‹ˆ ì£¼ê¸°ì ìœ¼ë¡œ Sentry ì„œë²„ë¥¼ ì—…ê·¸ë ˆì´ë“œí•´ì•¼í•  í•„ìš”ì„±ì´ ìˆì–´ë³´ì¸ë‹¤.</p><h2 id="Vue"><a href="#Vue" class="headerlink" title="Vue"></a>Vue</h2><p><a href="https://docs.sentry.io/platforms/javascript/guides/vue/">Sentry for Vue</a>ë¥¼ ì°¸ê³ í•˜ì—¬ Vue ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜ë“¤ë„ ìˆ˜ì§‘í•  ìˆ˜ ìˆë‹¤. </p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">--save</span> @sentry/vue</code></pre><pre class="language-javascript" data-language="javascript"><div class="caption"><span>sentry.js</span></div><code class="language-javascript"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> Sentry <span class="token keyword">from</span> <span class="token string">'@sentry/vue'</span><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token parameter">router</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    Sentry<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>        Vue<span class="token punctuation">,</span>        <span class="token literal-property property">dsn</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">SENTRY_DSN</span><span class="token punctuation">,</span>        <span class="token literal-property property">envinroment</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span><span class="token punctuation">,</span>        <span class="token literal-property property">release</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">SENTRY_RELEASE</span>        <span class="token literal-property property">integrations</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token keyword">new</span> <span class="token class-name">Sentry<span class="token punctuation">.</span>BrowserTracing</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>                <span class="token literal-property property">routingInstrumentation</span><span class="token operator">:</span> Sentry<span class="token punctuation">.</span><span class="token function">vueRouterInstrumentation</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token literal-property property">tracingOptions</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>            <span class="token literal-property property">trackComponents</span><span class="token operator">:</span> <span class="token boolean">true</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token literal-property property">attachProps</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        <span class="token literal-property property">logErrors</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        <span class="token literal-property property">tracesSampleRate</span><span class="token operator">:</span> <span class="token number">1.0</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><blockquote><p>process.env.SENTRY_DSNì™€ process.env.SENTRY_RELEASEëŠ” ë¹Œë“œí•˜ëŠ” ê³¼ì •ì—ì„œ ì£¼ì…ë˜ë„ë¡ êµ¬í˜„í•´ì•¼í•˜ë©° process.env.SENTRY_RELEASEëŠ” SourceMapì„ ì—…ë¡œë“œí•˜ëŠ” ê³¼ì •ì—ì„œ ë“±ë¡í•˜ëŠ” ë¦´ë¦¬ì¦ˆ ë²„ì „ê³¼ ë™ì¼í•´ì•¼í•œë‹¤.</p></blockquote><h3 id="API-ì˜¤ë¥˜-ì‹œ-ìš”ì²­ê³¼-ì‘ë‹µ-ì •ë³´-ìˆ˜ì§‘í•˜ê¸°"><a href="#API-ì˜¤ë¥˜-ì‹œ-ìš”ì²­ê³¼-ì‘ë‹µ-ì •ë³´-ìˆ˜ì§‘í•˜ê¸°" class="headerlink" title="API ì˜¤ë¥˜ ì‹œ ìš”ì²­ê³¼ ì‘ë‹µ ì •ë³´ ìˆ˜ì§‘í•˜ê¸°"></a>API ì˜¤ë¥˜ ì‹œ ìš”ì²­ê³¼ ì‘ë‹µ ì •ë³´ ìˆ˜ì§‘í•˜ê¸°</h3><p>Browser JavaScript SDKì—ì„œë„ ê¸°ë³¸ì ì¸ ìŠ¤í¬ë¦½íŠ¸ ì˜¤ë¥˜ëŠ” ìë™ìœ¼ë¡œ ìˆ˜ì§‘ë˜ë©° Axiosì™€ ê°™ì€ HTTP í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ API ìš”ì²­ ê³¼ì •ì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤ë©´ Sentryë¡œ ìˆ˜ì§‘ë˜ë„ë¡ ì‘ì„±í•´ì•¼í•œë‹¤. </p><pre class="language-javascript" data-language="javascript"><code class="language-javascript">axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>    <span class="token parameter">response</span> <span class="token operator">=></span> response<span class="token punctuation">,</span>    <span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>        <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> url<span class="token punctuation">,</span> params<span class="token punctuation">,</span> data <span class="token punctuation">&#125;</span> <span class="token operator">=</span> error<span class="token punctuation">.</span>config        Sentry<span class="token punctuation">.</span><span class="token function">setContext</span><span class="token punctuation">(</span><span class="token string">'Request'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>            url<span class="token punctuation">,</span>            params<span class="token punctuation">,</span>            data        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>        <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> status<span class="token punctuation">,</span> data <span class="token punctuation">&#125;</span> <span class="token operator">=</span> error<span class="token punctuation">.</span>config        Sentry<span class="token punctuation">.</span><span class="token function">setContext</span><span class="token punctuation">(</span><span class="token string">'Response'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>            status<span class="token punctuation">,</span>            data        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>        Sentry<span class="token punctuation">.</span><span class="token function">captureException</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>        <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span></code></pre><h3 id="ì¸ì¦-ì‚¬ìš©ì-ì •ë³´-ìˆ˜ì§‘í•˜ê¸°"><a href="#ì¸ì¦-ì‚¬ìš©ì-ì •ë³´-ìˆ˜ì§‘í•˜ê¸°" class="headerlink" title="ì¸ì¦ ì‚¬ìš©ì ì •ë³´ ìˆ˜ì§‘í•˜ê¸°"></a>ì¸ì¦ ì‚¬ìš©ì ì •ë³´ ìˆ˜ì§‘í•˜ê¸°</h3><p><a href="https://docs.sentry.io/platforms/javascript/enriching-events/identify-user/">Identify Users</a> ë¬¸ì„œë¥¼ ì°¸ê³ í•˜ë©´ ì‚¬ìš©ì ì´ë¦„ê³¼ ì•„ì´í”¼ ì£¼ì†Œë¥¼ ìˆ˜ì§‘í•  ìˆ˜ ìˆë„ë¡ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œëŠ” ì•„ì´í”¼ ì£¼ì†Œê°€ ìˆ˜ì§‘ë˜ëŠ”ë° ì¸ì¦ëœ ì‚¬ìš©ìë¼ë©´ ì‚¬ìš©ì ì‹ë³„ ì•„ì´ë””ë‚˜ ì´ë¦„ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì•„ë˜ì™€ ê°™ì´ ë³´ë‹¤ ì •í™•í•œ ì •ë³´ë¥¼ ìˆ˜ì§‘í•  ìˆ˜ ìˆë‹¤.</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript">Sentry<span class="token punctuation">.</span><span class="token function">setUser</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>   <span class="token literal-property property">id</span><span class="token operator">:</span> window<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>userId<span class="token punctuation">,</span>  <span class="token literal-property property">username</span><span class="token operator">:</span> window<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>userName<span class="token punctuation">,</span>  <span class="token literal-property property">ip_address</span><span class="token operator">:</span> <span class="token string">'&#123;&#123;auto&#125;&#125;'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></code></pre><blockquote><p>If the userâ€™s ip_address is set to â€œâ€œ, Sentry will infer the IP address from the connection between your app and Sentryâ€™s server.</p></blockquote><h3 id="ìŠ¤íƒ-íŠ¸ë ˆì´ìŠ¤-ì¶”ì í•˜ê¸°"><a href="#ìŠ¤íƒ-íŠ¸ë ˆì´ìŠ¤-ì¶”ì í•˜ê¸°" class="headerlink" title="ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ ì¶”ì í•˜ê¸°"></a>ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ ì¶”ì í•˜ê¸°</h3><p>ì¼ë°˜ì ìœ¼ë¡œ Vueì™€ ê°™ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ë¹Œë“œë˜ì–´ ë°°í¬ë˜ëŠ” ê²½ìš°ì— ë²ˆë“¤ì„ ìµœì†Œí™”í•˜ëŠ” ê³¼ì •ì„ ê±°ì¹˜ê²Œ ë˜ë¯€ë¡œ ì˜¤ë¥˜ê°€ Sentryì— ìˆ˜ì§‘ë˜ë”ë¼ë„ ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ë¥¼ í†µí•´ ì›ì¸ì´ ë˜ëŠ” ì½”ë“œ ë¼ì¸ì„ ì œëŒ€ë¡œ ì°¾ì•„ê°€ê¸° í˜ë“¤ ê°€ëŠ¥ì„±ì´ ìˆë‹¤. ë¸Œë¼ìš°ì €ê°€ ì•„ë‹Œ Sentry ì—ì„œ ë§Œí¼ì€ ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ë¥¼ ê¹”ë”í•˜ê²Œ ë³¼ ìˆ˜ ìˆë„ë¡ SourceMapì„ ì§€ì›í•˜ê³  ìˆë‹¤. ë‹¤ìŒì€ Webpackì„ ë²ˆë“¤ëŸ¬ë¡œì¨ ì‚¬ìš©í•˜ê³  ìˆì„ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í”ŒëŸ¬ê·¸ì¸ì„ ì„¤ì¹˜í•˜ëŠ” ì˜ˆì‹œë¥¼ ë³´ì—¬ì¤€ë‹¤.</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save-dev @sentry/webpack-plugin</code></pre><pre class="language-javascript" data-language="javascript"><div class="caption"><span>webpack.config.prd.js</span></div><code class="language-javascript"><span class="token keyword">const</span> SentryWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"@sentry/webpack-plugin"</span><span class="token punctuation">)</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  <span class="token literal-property property">devtool</span><span class="token operator">:</span> <span class="token string">"source-map"</span><span class="token punctuation">,</span>  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token keyword">new</span> <span class="token class-name">SentryWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>      <span class="token literal-property property">org</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">SENTRY_ORG</span><span class="token punctuation">,</span>      <span class="token literal-property property">project</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">SENTRY_PROJECT</span><span class="token punctuation">,</span>      <span class="token literal-property property">include</span><span class="token operator">:</span> <span class="token string">"./dist"</span><span class="token punctuation">,</span>      <span class="token literal-property property">ignore</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"node_modules"</span><span class="token punctuation">,</span> <span class="token string">"webpack.config.js"</span><span class="token punctuation">,</span> <span class="token string">"webpack.config.prod.js"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>      <span class="token literal-property property">authToken</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">SENTRY_AUTH_TOKEN</span><span class="token punctuation">,</span>      <span class="token literal-property property">release</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">SENTRY_RELEASE</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token punctuation">]</span><span class="token punctuation">&#125;</span></code></pre><p>SENTRY_RELEASEëŠ” ë¹Œë“œì™€ ëŸ°íƒ€ì„ ì‹œì ì˜ ê°’ì„ ë™ì¼í•˜ê²Œ ì‚¬ìš©í•´ì•¼ Sentryì—ì„œ ì œëŒ€ë¡œ ì¶”ì í•  ìˆ˜ ìˆìŒì— ì£¼ì˜í•´ì•¼í•œë‹¤. ëŸ°íƒ€ì„ êµ¬ì„± ì‹œ ì‚¬ìš©í•˜ëŠ” DSNê°€ ì•„ë‹ˆë¼ <a href="https://docs.sentry.io/api/auth/#auth-tokens">Sentry ì‚¬ìš©ìì— ëŒ€í•œ í† í°</a>ì„ ë°œê¸‰í•´ì•¼í•˜ë©° í”„ë¡œì íŠ¸ ì •ë³´ë„ í¬í•¨í•´ì•¼í•œë‹¤.</p><h2 id="ëë§ˆì¹˜ë©°"><a href="#ëë§ˆì¹˜ë©°" class="headerlink" title="ëë§ˆì¹˜ë©°"></a>ëë§ˆì¹˜ë©°</h2><p>ì¹´ì¹´ì˜¤í˜ì´ì—ì„œ ê³µìœ í•œ <a href="https://tech.kakaopay.com/post/frontend-sentry-monitoring/">Sentryë¡œ ìš°ì•„í•˜ê²Œ í”„ë¡ íŠ¸ì—”ë“œ ì—ëŸ¬ ì¶”ì í•˜ê¸°</a>ì™€ ë¼ì¸ì—ì„œ ê³µìœ í•œ <a href="https://engineering.linecorp.com/ko/blog/log-collection-system-sentry-on-premise">Sentryë¡œ ì‚¬ë‚´ ì—ëŸ¬ ë¡œê·¸ ìˆ˜ì§‘ ì‹œìŠ¤í…œ êµ¬ì¶•í•˜ê¸°</a>ë¥¼ ì°¸ê³ í•˜ì—¬ Sentry í™œìš©ì— ëŒ€í•´ ë” ìì„¸íˆ ì•Œì•„ê°ˆ ìˆ˜ ìˆë‹¤. ê°œì¸ì ìœ¼ë¡œ ë„ì…ì€ ì‰¬ì›Œë³´ì´ì§€ë§Œ ì›í•˜ëŠ” ë°©ì‹ëŒ€ë¡œ ì»¤ìŠ¤í„°ë§ˆì´ì§• í•˜ê¸°ì—ëŠ” ìƒê°ë³´ë‹¤ ì–´ë ¤ìš´ ê²ƒ ê°™ë‹¤. ì„œë²„ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ë‹¤ë¥´ê²Œ í”„ë¡ íŠ¸ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” Data Source Name (DSN)ê°€ ë¸Œë¼ìš°ì €ì— ë…¸ì¶œë˜ë¯€ë¡œ ë³´ì•ˆ ê´€ì ì—ì„œëŠ” í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ë§Œ ë„ì…í•´ì•¼í•  ê²ƒìœ¼ë¡œ ìƒê°ëœë‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;SentryëŠ” ì˜¤ë¥˜ ë˜ëŠ” ì˜ˆì™¸ë¥¼ ì¶”ì í•˜ê¸° ìœ„í•œ ë„êµ¬ë¡œ íšŒì‚¬ì—ì„œ ì‹œìŠ¤í…œì„ êµ¬ì„±í•˜ëŠ” ì–¸ì–´ì¸ ìë°”, íŒŒì´ì¬, Vue ë“± ë‹¤ì–‘í•œ ì–¸ì–´ í”Œë«í¼ê³¼ì˜ ì—°ë™ì„ ì§€ì›í•œë‹¤. Sentryë¥¼ ë„ì…í•˜ê²Œ ë˜ëŠ” ì´ìœ ëŠ” ê°œë°œìê°€ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê³¼ì •ì—ì„œ ë°œê²¬ë˜ì§€ ì•Šê³  QA ì—”ì§€ë‹ˆ</summary>
      
    
    
    
    
    <category term="sentry-java" scheme="https://kdevkr.github.io/tags/sentry-java/"/>
    
    <category term="sentry-javascript" scheme="https://kdevkr.github.io/tags/sentry-javascript/"/>
    
  </entry>
  
  <entry>
    <title>SSH í„°ë„ë§</title>
    <link href="https://kdevkr.github.io/ssh-tunneling/"/>
    <id>https://kdevkr.github.io/ssh-tunneling/</id>
    <published>2023-05-10T15:00:00.000Z</published>
    <updated>2023-07-31T11:10:23.372Z</updated>
    
    <content type="html"><![CDATA[<p>ê¸°ë³¸ì ìœ¼ë¡œëŠ” ìš´ì˜ í™˜ê²½ì˜ Amazon Aurora PostgreSQLì—ëŠ” ë¡œì»¬ í˜¸ìŠ¤íŠ¸ì—ì„œ ì ‘ê·¼í•˜ì§€ ì•ŠëŠ”ë‹¤. ê·¸ëŸ¬ë‚˜, ìŠ¤í…Œì´ì§•ì´ë‚˜ í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œ ë™ì‘í•˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì—ëŠ” ì›ì¸ ê²€í† ë¥¼ ìœ„í•´ ë¡œì»¬ í˜¸ìŠ¤íŠ¸ì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ê³  ë””ë²„ê·¸í•´ì•¼í•  í•„ìš”ì„±ì´ ìš”êµ¬ë˜ê¸°ë„ í•œë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì™¸ë¶€ì—ì„œ ì ‘ê·¼í•  ìˆ˜ ì—†ëŠ” í”„ë¼ì´ë¹— ì„œë¸Œë„·ì— ìœ„ì¹˜í•˜ë„ë¡ ì¸í”„ë¼ë¥¼ êµ¬ì„±í•œë‹¤. ë”°ë¼ì„œ, ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ì„œëŠ” í¼ë¸”ë¦­ ì„œë¸Œë„·ì— ìœ„ì¹˜í•˜ëŠ” ë°°ìŠ¤ì²œ í˜¸ìŠ¤íŠ¸ë¥¼ í†µí•´ Amazon Aurora PostgreSQLì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” í˜¸ìŠ¤íŠ¸ë¡œ ì´ë™í•œ í›„ ì ‘ê·¼í•˜ê²Œ ëœë‹¤.</p><p><img data-src="/images/posts/ssh-tunneling/01.png"></p><p>ì°½ì²œí–¥ë¡œë‹˜ì´ ì‘ì„±í•´ë‘ì‹  <a href="https://jojoldu.tistory.com/623">DataGrip ì—ì„œ SSH í„°ë„ë§ìœ¼ë¡œ DB ì ‘ê·¼í•˜ê¸°</a>ë¥¼ ì°¸ê³ í•˜ë©´ SSH Configurationì„ ì„¤ì •í•´ë‘ê³  ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹œ SSH Tunnel ì„ êµ¬ì„±í•˜ì—¬ RDS ì—”ë“œí¬ì¸íŠ¸ë¡œ ì—°ê²°í•  ìˆ˜ ìˆë‹¤. ì´ì™€ ê°™ì´ ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ë¥¼ ìœ„í•´ì„œ SSH í„°ë„ë§ìœ¼ë¡œ ì ‘ì†í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ ìƒíƒœë‚˜ ë°ì´í„° ê·¸ë¦¬ê³  SQLì„ ìˆ˜í–‰í•´ë³¼ ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ, ë°ì´í„°ë² ì´ìŠ¤ ë„êµ¬ë¡œì¨ ì—°ê²°í•˜ëŠ” ê²ƒì´ë¯€ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ SSH í„°ë„ë§ì„ ìˆ˜í–‰í•´ì•¼í•œë‹¤.</p><p>íšŒì‚¬ì—ì„œëŠ” ìƒìš© SSH í´ë¼ì´ì–¸íŠ¸ì¸ SecureCRTë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤. ë°°ìŠ¤ì²œ í˜¸ìŠ¤íŠ¸ì— ëŒ€í•œ ì—°ê²° ì„¸ì…˜ì„ ìƒì„±í•´ë†“ê³  Amazon Aurora PostgreSQLì— ì ‘ì†í•  ìˆ˜ ìˆëŠ” í˜¸ìŠ¤íŠ¸ë¡œ ì—°ê²°í•˜ê¸° ìœ„í•´ <a href="https://documentation.help/SecureCRT/GO_Firewall.htm">Firewall</a>ì„ ë°°ìŠ¤ì²œ í˜¸ìŠ¤íŠ¸ ì„¸ì…˜ìœ¼ë¡œ ì„ íƒí•  ìˆ˜ ìˆë‹¤. </p><p><img data-src="/images/posts/ssh-tunneling/02.png"></p><p>ì¸ìŠ¤í„´ìŠ¤ ì—°ê²° ì„¸ì…˜ì€ ë°°ìŠ¤ì²œ í˜¸ìŠ¤íŠ¸ë¥¼ Firewallë¡œì¨ ì„ íƒí•´ë‘ì—ˆê¸°ì— í”„ë¡ì‹œ ì—°ê²°ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤. ìœ„ì™€ ê°™ì´ ì¸ìŠ¤í„´ìŠ¤ ì—°ê²°ì— ì„±ê³µí•˜ì˜€ë‹¤ë©´ RDS ì—”ë“œí¬ì¸íŠ¸ì— ëŒ€í•´ í¬íŠ¸í¬ì›Œë”©ì„ ì„¤ì •í•˜ë©´ ëœë‹¤. í¬íŠ¸í¬ì›Œë”© ì‹œì—ëŠ” Dynamic forwarding using SOCKS 4 or 5ì„ ì„ íƒí•˜ë©´ RDS ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì§€ì •í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ Destnation host is different from the SSH Serverë¥¼ ì²´í¬í•˜ê³  RDS ì—”ë“œí¬ì¸íŠ¸ ì£¼ì†Œë¥¼ ì…ë ¥í•˜ì.</p><p><img data-src="/images/posts/ssh-tunneling/03.png"></p><p>ì´ì œ ì¸í…”ë¦¬ì œì´ë‚˜ DataGripìœ¼ë¡œ ë¡œì»¬ í˜¸ìŠ¤íŠ¸ ì£¼ì†Œë¥¼ ì‚¬ìš©í•˜ì—¬ Amazon Aurora PostgreSQLì— ì—°ê²°í•  ìˆ˜ ìˆë‹¤. </p><p><img data-src="/images/posts/ssh-tunneling/04.png"></p><p>ì¼ë°˜ì ìœ¼ë¡œ ê°œë°œ í™˜ê²½ì— ëŒ€í•œ ë°ì´í„°ë² ì´ìŠ¤ëŠ” í¼ë¸”ë¦­ ì„œë¸Œë„·ì— êµ¬ì„±í•˜ê³  ì¼ë¶€ IP ëŒ€ì—­ì— ëŒ€í•´ì„œëŠ” ë‹¤ì´ë ‰íŠ¸ ì ‘ì†ì´ ê°€ëŠ¥í•˜ë„ë¡ í•˜ê¸°ë„ í•˜ë¯€ë¡œ ì´ì™€ ê°™ì€ SSH í„°ë„ë§ì€ í•„ìš”í•˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤. í¼ë¸”ë¦­ ì„œë¸Œë„·ì— ìœ„ì¹˜í•˜ì§€ ì•Šê³  ë‹¤ì´ë ‰íŠ¸ ì—°ê²°ì´ ë¶ˆê°€ëŠ¥í•œ ì¸í”„ë¼ êµ¬ì„±ì´ë¼ë©´ SSH í„°ë„ë§ì„ í†µí•´ ë¡œì»¬ í˜¸ìŠ¤íŠ¸ì—ì„œ RDS ì—”ë“œí¬ì¸íŠ¸ì— ì—°ê²°í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë¡œì»¬ ê°œë°œ í™˜ê²½ì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ëŠ” ê²½ìš°ì—ë„ ìŠ¤í…Œì´ì§•ì´ë‚˜ í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œ ìš´ì˜ì¤‘ì¸ ë°ì´í„°ë² ì´ìŠ¤ì— ì—°ê²°í•˜ì—¬ ë””ë²„ê·¸í•  ìˆ˜ ìˆê²Œ ëœë‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ê¸°ë³¸ì ìœ¼ë¡œëŠ” ìš´ì˜ í™˜ê²½ì˜ Amazon Aurora PostgreSQLì—ëŠ” ë¡œì»¬ í˜¸ìŠ¤íŠ¸ì—ì„œ ì ‘ê·¼í•˜ì§€ ì•ŠëŠ”ë‹¤. ê·¸ëŸ¬ë‚˜, ìŠ¤í…Œì´ì§•ì´ë‚˜ í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œ ë™ì‘í•˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì—ëŠ” ì›ì¸ ê²€í† ë¥¼ ìœ„í•´ ë¡œì»¬ í˜¸ìŠ¤íŠ¸ì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ê³  ë””ë²„ê·¸í•´ì•¼í•  í•„ìš”ì„±</summary>
      
    
    
    
    
    <category term="SSH" scheme="https://kdevkr.github.io/tags/SSH/"/>
    
    <category term="SecurtCRT Firewall" scheme="https://kdevkr.github.io/tags/SecurtCRT-Firewall/"/>
    
  </entry>
  
  <entry>
    <title>OPENSSH-RSA ê°œì¸í‚¤ë¥¼ RSA ê°œì¸í‚¤ë¡œ ë³€ê²½í•˜ê¸°</title>
    <link href="https://kdevkr.github.io/convert-openssh-private-to-rsa/"/>
    <id>https://kdevkr.github.io/convert-openssh-private-to-rsa/</id>
    <published>2023-04-22T15:00:00.000Z</published>
    <updated>2023-07-31T11:10:23.368Z</updated>
    
    <content type="html"><![CDATA[<p>OpenSSL ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í†µí•´ SSH ì ‘ì†ì„ ìœ„í•œ í‚¤ í˜ì–´ë¥¼ ë°œê¸‰í•˜ëŠ” ê²½ìš°ì— ê¸°ë³¸ì ìœ¼ë¡œ RSA í˜•ì‹ì˜ í‚¤ í˜ì–´ê°€ ìƒì„±ë˜ì–´ë„ ì‹¤ì œë¡œëŠ” OPENSSH PRIVATE KEYë¡œ ì €ì¥ë˜ê²Œ ëœë‹¤. RSA PRIVATE KEYë¡œ ì €ì¥ë˜ê¸° ìœ„í•´ì„œëŠ” -m ì˜µì…˜ìœ¼ë¡œ PEMì„ ì§€ì •í•´ì•¼ í•œë‹¤.</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># ----- OPENSSH PRIVATE KEY -----</span>ssh-keygen <span class="token parameter variable">-t</span> rsa <span class="token parameter variable">-b</span> <span class="token number">2048</span> <span class="token parameter variable">-C</span> <span class="token string">"mambo"</span> <span class="token parameter variable">-N</span> <span class="token string">""</span><span class="token comment"># ----- RSA PRIVATE KEY -----</span>ssh-keygen <span class="token parameter variable">-t</span> rsa <span class="token parameter variable">-b</span> <span class="token number">2048</span> <span class="token parameter variable">-m</span> PEM <span class="token parameter variable">-C</span> <span class="token string">"mambo"</span> <span class="token parameter variable">-N</span> <span class="token string">""</span></code></pre><p>ì¼ë³¸ ê³ ê°ìœ¼ë¡œë¶€í„° ìì²´ì ìœ¼ë¡œ êµ¬ì¶•í•œ ì„œë²„ì— ì ‘ì†í•˜ê¸° ìœ„í•œ ê³„ì •ê³¼ ê°œì¸í‚¤ PEM íŒŒì¼ì„ ë°›ì•„ë³´ë‹ˆ OPENSSH í˜•ì‹ìœ¼ë¡œ ì €ì¥ë˜ì–´ìˆìŒì„ í™•ì¸í•˜ì˜€ë‹¤. ê·¸ëŸ¬ë‚˜, SecureCRTë¥¼ ì‚¬ìš©í•´ì„œ ì„œë²„ì— ì²˜ìŒìœ¼ë¡œ ì—°ê²°í•˜ë ¤ê³  í–ˆì„ë•Œ í‚¤ í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•Šë‹¤ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©° ì ‘ì†ì— ì‹¤íŒ¨í•˜ì˜€ë‹¤.</p><pre class="language-pem" data-language="pem"><code class="language-pem">-----BEGIN RSA PRIVATE KEY-----[KEY CONTENT]-----END RSA PRIVATE KEY-----</code></pre><p>OPENSSH PRIVATE KEYë¡œ ì €ì¥ë˜ì–´ìˆëŠ” ê²ƒì„ RSA PRIVATE KEYë¡œ ë³€ê²½í•˜ê³  ì‹œë„í•´ë³´ë‹ˆ ì •ìƒì ìœ¼ë¡œ ì—°ê²°ì´ ë˜ì—ˆìœ¼ë©° ìì„¸í•œ ì›ì¸ì€ ëª¨ë¥´ê² ìœ¼ë‚˜ 2FA ì¸ì¦ì„ ì„¤ì •í•˜ê³  ë‚˜ì„œëŠ” OPENSSH PRIVATE KEYë¡œ ì €ì¥ë˜ì–´ìˆëŠ” PEM íŒŒì¼ë¡œë„ ì—°ê²°ì´ ì •ìƒì ìœ¼ë¡œ ì—°ê²°ì„ í•  ìˆ˜ ìˆëŠ” ìƒí™©ì´ ë˜ì—ˆë‹¤.</p><h4 id="OpenSSH-ê°œì¸í‚¤ë¥¼-RSA-ê°œì¸í‚¤ë¡œ-ë³€í™˜"><a href="#OpenSSH-ê°œì¸í‚¤ë¥¼-RSA-ê°œì¸í‚¤ë¡œ-ë³€í™˜" class="headerlink" title="OpenSSH ê°œì¸í‚¤ë¥¼ RSA ê°œì¸í‚¤ë¡œ ë³€í™˜"></a>OpenSSH ê°œì¸í‚¤ë¥¼ RSA ê°œì¸í‚¤ë¡œ ë³€í™˜</h4><p>ì•„ë¬´íŠ¼, RSA PEM í˜•ì‹ìœ¼ë¡œ ë‹¤ì‹œ ë§Œë“¤ì–´ë‹¬ë¼ê³  ìš”ì²­í•˜ê¸°ì—ëŠ” ì‹œê°„ì´ ë§ì´ ì†Œìš”ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ OPENSSH í˜•ì‹ìœ¼ë¡œ ë˜ì–´ìˆëŠ” RSA ê°œì¸í‚¤ë¥¼ RSA PEM í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•´ë³´ë„ë¡ í•˜ì.</p><pre class="language-bash" data-language="bash"><code class="language-bash">ssh-keygen <span class="token parameter variable">-t</span> rsa <span class="token parameter variable">-b</span> <span class="token number">2048</span> <span class="token parameter variable">-C</span> <span class="token string">"mambo"</span> <span class="token parameter variable">-N</span> <span class="token string">""</span> <span class="token parameter variable">-f</span> openssh.pem<span class="token comment"># cat ~/.ssh/id_rsa</span>-----BEGIN OPENSSH PRIVATE KEY-----b3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAABFwAAAAdzc2gtcnNhAAAAAwEAAQAAAQEAw4o9aOfBCkCzsuz3hMJT/v058pMki16Ft56tim4r5mJRbBd0EQPJ3gm1FiJmp0fqrnJo+H3o4hBH0LlCbeXiXHloPnTi1JZTSzWat1ItcBG+xezx8BdmtKqdTyPWfYL9ujLse5AAXkvVHhYHJ7koV72X9whH94Tci4zAEHRypKbuz+9lj5P94u1n/nYAt2PTJmdP/Y+62qFiSGhKEh/Jed5TVvIrabOi+qcHQ0VmcXkTGiOTXLTmHMbce26dqsGRRb4YPf1alXECX28b8QpbarlXHPeGJyQ5d8dxEhsOz60LDoUEy/ytn0gIrP0+Ro2aS9N73JVdTXKuFFQRyHMP0QAAA8DEFEvUxBRL1AAAAAdzc2gtcnNhAAABAQDDij1o58EKQLOy7PeEwlP+/TnykySLXoW3nq2KbivmYlFsF3QRA8neCbUWImanR+qucmj4fejiEEfQuUJt5eJceWg+dOLUllNLNZq3Ui1wEb7F7PHwF2a0qp1PI9Z9gv26Mux7kABeS9UeFgcnuShXvZf3CEf3hNyLjMAQdHKkpu7P72WPk/3i7Wf+dgC3Y9MmZ0/9j7raoWJIaEoSH8l53lNW8itps6L6pwdDRWZxeRMaI5NctOYcxtx7bp2qwZFFvhg9/VqVcQJfbxvxCltquVcc94YnJDl3x3ESGw7PrQsOhQTL/K2fSAis/T5GjZpL03vclV1Ncq4UVBHIcw/RAAAAAwEAAQAAAQA50f/UrGrtkDJS3zVVwWy7AsAG1bHBsGKT6EzimS9MAZiYANtmSJuBl5c/g06demuPx+74Q6sAZdYGhzF4c7iapZ/IkCGewRDCNYiZWqhq8iRaPHVSDGlnVOgNRcif9oL2cyZwZyVkvMG5EsRs35hpUXvFJWK6c0QP07/bXcOkod+XlvWXwJ9hkwoakC3kKYSLsdil3rKqTapaNg3edcJb0/0Nx4gW24hO1m0hevoN0rJuzoMf/uK0hwazyZbE4H1q39StWrFrGz+zp6yHkC3Els6W+ExOHUeTEaE+ya8FR9MOcmrECgePxDFBnlPVumk0SIJ+NRQjH3ArpNvp1ZrdAAAAgQCc4jOZ9zBOpeP4ZyT2OFY7E9J8jA/nlsoI164TuJYK1fiv5WH2x3SN95vt1s8R9cUzznA2IWbCRs4Nei34STlTReBkpfWyg3Skp3FcYIyR2lpQX/7utfPd3X8KpUYR01E1RPgequyyixDtJjguVsrimoz81vF9y7Q0/ueO3iBmSgAAAIEA6nFTFA9oOzQyM3zgQgt8J9lW8/XjFIF3LZRhu0e0xlsmv54OsGag17zAOR5cfj7hUzQcGTWJRSHv95gDLJmSgourNRUlPZcZ8AdZCGD8GEwXr1dh2d7Qk3UT2jwDKS0IFNM6UX67CKSdYK/YFLAv3gtPEgrZ43ec1W6zlHUWmusAAACBANWFKfE3Ky1ubomZIovLa0XUs2h9rSUMDX3Su+Es/0x+qHP0bq2JKWTzVWoa0NgfnPAVJo/Fd8NVhIMs1od6iBO3Kgz7A2Esg5sOtkK06nwSYMcfXMyuf+7fj0v0nBtjVH6EdOrU0muH4vvtxiYcw2N4cI+5Fnns05+DCtL4o9kzAAAABW1hbWJvAQIDBAU<span class="token operator">=</span>-----END OPENSSH PRIVATE KEY-----</code></pre><p>OPENSSH PRIVATE KEYë¡œ ì €ì¥ë˜ì–´ìˆìŒì„ í™•ì¸í•˜ì˜€ìœ¼ë‹ˆ ì•„ë˜ì˜ ëª…ë ¹ì–´ë“¤ì„ ì‹¤í–‰í•˜ì—¬ ë³€í™˜ë˜ëŠ”ì§€ í™•ì¸í•´ë³´ë©´ ëœë‹¤.</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># [1] OpenSSH</span><span class="token function">sudo</span> ssh-keygen <span class="token parameter variable">-p</span> <span class="token parameter variable">-m</span> PEM <span class="token parameter variable">-f</span> openssh.pem<span class="token comment"># [2] OpenSSL</span>openssl rsa <span class="token parameter variable">-in</span> openssh.pem <span class="token parameter variable">-outform</span> pem <span class="token operator">></span> openssh-rsa.pem<span class="token comment"># [3] Putty</span>puttygen openssh.pem <span class="token parameter variable">-O</span> private-openssh <span class="token parameter variable">-o</span> openssh-rsa.pem</code></pre><h4 id="1-OpenSSH"><a href="#1-OpenSSH" class="headerlink" title="[1] OpenSSH"></a>[1] OpenSSH</h4><pre class="language-powershell" data-language="powershell"><div class="caption"><span>Windows Terminal</span></div><code class="language-powershell">ssh-keygen <span class="token operator">-</span>p <span class="token operator">-</span>m PEM <span class="token operator">-</span>f openssh<span class="token punctuation">.</span>pemFailed to load key openssh<span class="token punctuation">.</span>pem: invalid format</code></pre><p>ì²«ë²ˆì§¸ OpenSSH ëª…ë ¹ì–´ë¥¼ ì´ìš©í•˜ëŠ” ë°©ë²•ì€ ê°€ìƒ í™˜ê²½ì— ì‹¤í–‰í•œ ìš°ë¶„íˆ¬ ë¦¬ëˆ…ìŠ¤ì—ì„œëŠ” ì •ìƒì ìœ¼ë¡œ ë³€í™˜ëœ ë°˜ë©´ì— ìœˆë„ìš° í„°ë¯¸ë„ì—ì„œëŠ” ì•Œ ìˆ˜ ì—†ëŠ” í˜•ì‹ì´ë¼ëŠ” ì˜¤ë¥˜ ë©”ì‹œì§€ì™€ í•¨ê»˜ ì‹¤íŒ¨í•˜ì˜€ë‹¤.</p><h4 id="2-OpenSSL-ğŸ’¥"><a href="#2-OpenSSL-ğŸ’¥" class="headerlink" title="[2] OpenSSL ğŸ’¥"></a>[2] OpenSSL ğŸ’¥</h4><pre class="language-bash" data-language="bash"><code class="language-bash">openssl rsa <span class="token parameter variable">-in</span> openssh.pem <span class="token parameter variable">-outform</span> pem <span class="token operator">></span> openssh-rsa.pemunable to load Private Key<span class="token number">140038194394432</span>:error:0909006C:PEM routines:get_name:no start line:<span class="token punctuation">..</span>/crypto/pem/pem_lib.c:745:Expecting: ANY PRIVATE KEY</code></pre><p>ë‘ë²ˆì§¸ OpenSSL ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ìš©í•˜ëŠ” ë°©ë²•ì€ ChatGTPì—ì„œ ì•Œë ¤ì¤€ ê²ƒì¸ë° OpenSSHëŠ” OpenSSL ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•˜ê¸°ëŠ” í•˜ë‚˜ OpenSSH í”„ë¡œê·¸ë¨ì—ì„œ ì¸ì‹í•˜ëŠ” í˜•ì‹ì´ë¯€ë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì •ì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ë‹¤.</p><h4 id="3-Putty-ğŸ€"><a href="#3-Putty-ğŸ€" class="headerlink" title="[3] Putty ğŸ€"></a>[3] Putty ğŸ€</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># [Mac] brew install putty</span><span class="token comment"># [Ubuntu] apt install putty-tools</span>puttygen openssh.pem <span class="token parameter variable">-O</span> private-openssh <span class="token parameter variable">-o</span> openssh-rsa.pem</code></pre><p>ì„¸ë²ˆì§¸ ë°©ë²•ì€ PuTTYgenì„ ì´ìš©í•˜ëŠ” ê²ƒìœ¼ë¡œ ìœˆë„ìš° í™˜ê²½ì—ì„œëŠ” ì»¤ë§¨ë“œë¼ì¸ ì˜µì…˜ì„ ì¸ì‹í•˜ì§€ ëª»í•œ ê´€ê³„ë¡œ PuTTYgen(PuTTY Key Generator)ì„ ì‹¤í–‰í•œ í›„ Conversions ë©”ë‰´ì˜ Import Keyë¡œ ë¶ˆëŸ¬ì˜¨ í›„ Export OpenSSH Keyë¡œ ì €ì¥í•˜ë©´ RSA PRIVATE KEYë¡œ ë³€í™˜í•  ìˆ˜ ìˆì—ˆìœ¼ë©° ìš°ë¶„íˆ¬ ë¦¬ëˆ…ìŠ¤ì—ì„œëŠ” ì»¤ë§¨ë“œë¼ì¸ìœ¼ë¡œ ë³„ë‹¤ë¥¸ ë¬¸ì œì—†ì´ ë³€í™˜í•  ìˆ˜ ìˆë‹¤.</p><p><img data-src="/images/posts/convert-openssh-private-to-rsa/01.png" alt="Conversions &gt; Import Key"></p><p><img data-src="/images/posts/convert-openssh-private-to-rsa/02.png" alt="Conversions &gt; Export OpenSSH Key"></p><p>ê°œì¸ì ìœ¼ë¡œëŠ” ì˜¤ë˜ëœ ë‚´ìš©ì´ì§€ë§Œ í•œë²ˆ í•˜ê³ ë‚˜ì„œëŠ” ë”ì´ìƒ ë‹¤ë£¨ì§€ ì•ŠëŠ” ì •ë³´ì´ê¸°ì— ìŠì–´ë²„ë¦´ ê²ƒ ê°™ì•„ ê¸°ë¡ìœ¼ë¡œ ë‚¨ê¸°ê³ ì ê³µìœ í•œë‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;OpenSSL ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í†µí•´ SSH ì ‘ì†ì„ ìœ„í•œ í‚¤ í˜ì–´ë¥¼ ë°œê¸‰í•˜ëŠ” ê²½ìš°ì— ê¸°ë³¸ì ìœ¼ë¡œ RSA í˜•ì‹ì˜ í‚¤ í˜ì–´ê°€ ìƒì„±ë˜ì–´ë„ ì‹¤ì œë¡œëŠ” OPENSSH PRIVATE KEYë¡œ ì €ì¥ë˜ê²Œ ëœë‹¤. RSA PRIVATE KEYë¡œ ì €ì¥ë˜ê¸° ìœ„í•´ì„œëŠ” -m ì˜µì…˜</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>ìŠ¤í”„ë§ ë¶€íŠ¸ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ê³ ë‚˜ì„œ</title>
    <link href="https://kdevkr.github.io/spring-boot-project/"/>
    <id>https://kdevkr.github.io/spring-boot-project/</id>
    <published>2023-03-25T15:00:00.000Z</published>
    <updated>2023-07-31T11:10:23.372Z</updated>
    
    <content type="html"><![CDATA[<p>ìŠ¤í”„ë§ ì´ë‹ˆì…œë¼ì´ì €ë¥¼ í†µí•´ì„œ ìŠ¤í”„ë§ ë¶€íŠ¸ ê¸°ë°˜ì˜ í”„ë¡œì íŠ¸ í´ë”ë¥¼ êµ¬ì„±í•˜ë”ë¼ë„ íšŒì‚¬ë§ˆë‹¤ í˜¹ì€ ê°œë°œìë§ˆë‹¤ ë„ˆë¬´ë‚˜ë„ ë‹¹ì—°í•˜ê²Œ í•˜ëŠ” ê²ƒë“¤ì´ ì¡°ê¸ˆì”© ìˆê¸° ë§ˆë ¨ì´ë‹¤. ìŠ¤í”„ë§ ë¶€íŠ¸ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ê³ ë‚˜ì„œ ë„ˆë¬´ë‚˜ë„ ë‹¹ì—°í•˜ê²Œ ìŠµê³¼ì ìœ¼ë¡œ ë§¤ë²ˆ í•˜ëŠ” ê²ƒë“¤ì— ëŒ€í•´ì„œ ì •ë¦¬í•´ë³´ê³ ì í•œë‹¤. </p><h4 id="1-Propertiesê°€-ì•„ë‹Œ-YAML-ë°©ì‹ìœ¼ë¡œ-ë³€ê²½í•˜ê¸°"><a href="#1-Propertiesê°€-ì•„ë‹Œ-YAML-ë°©ì‹ìœ¼ë¡œ-ë³€ê²½í•˜ê¸°" class="headerlink" title="1. Propertiesê°€ ì•„ë‹Œ YAML ë°©ì‹ìœ¼ë¡œ ë³€ê²½í•˜ê¸°"></a>1. Propertiesê°€ ì•„ë‹Œ YAML ë°©ì‹ìœ¼ë¡œ ë³€ê²½í•˜ê¸°</h4><p>ìŠ¤í”„ë§ ì´ë‹ˆì…œë¼ì´ì €ë¥¼ í†µí•´ì„œ ë§Œë“¤ì–´ì§„ ê¸°ë³¸ì ì¸ í”„ë¡œì íŠ¸ í´ë”ì—ëŠ” application.properties íŒŒì¼ì´ ì¡´ì¬í•œë‹¤. ìŠ¤í”„ë§ ë¶€íŠ¸ì—ì„œëŠ” Java Properties, YAML ê·¸ë¦¬ê³  í™˜ê²½ ë³€ìˆ˜ë¥¼ í†µí•´ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡œí¼í‹° ì†ì„± ê°’ì„ ì ìš©í•˜ì—¬ í™œìš©í•  ìˆ˜ ìˆê²Œ ì§€ì›í•œë‹¤. í•˜ì§€ë§Œ, ISO-8859-1 ì¸ì½”ë”©ìœ¼ë¡œ ê°•ì œë˜ëŠ” ìë°” í”„ë¡œí¼í‹° íŒŒì¼ì—ëŠ” í•œê³„ê°€ ìˆê³  ëŒ€ë¶€ë¶„ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ UTF-8ì„ ì‚¬ìš©í•˜ëŠ” í¸ì´ë¯€ë¡œ YAML ë°©ì‹ìœ¼ë¡œ ë³€ê²½í•˜ëŠ” ê²ƒì´ í¸ë¦¬í•˜ë‹¤.</p><blockquote><p>It is recommended to stick with one format for your entire application. If you have configuration files with both .properties and .yml format in the same location, .properties takes precedence.</p></blockquote><p>ìœ„ì™€ ê°™ì´ ê³µì‹ ë¬¸ì„œì— ë‚˜ì™€ìˆëŠ” ê²ƒì²˜ëŸ¼ í”„ë¡œí¼í‹°ì™€ ì•¼ë¯ˆ íŒŒì¼ì„ ë™ì‹œì— ì‚¬ìš©í•˜ëŠ” ê²½ìš° ìë°” í”„ë¡œí¼í‹° íŒŒì¼ì„ ìš°ì„ í•˜ì—¬ ì ìš©í•˜ë¯€ë¡œ ì£¼ì˜í•˜ì.</p><h4 id="2-ìŠ¤í”„ë§-ë¶€íŠ¸-ê¸°ë³¸-ë°°ë„ˆ-ì˜µì…˜-ë„ê¸°"><a href="#2-ìŠ¤í”„ë§-ë¶€íŠ¸-ê¸°ë³¸-ë°°ë„ˆ-ì˜µì…˜-ë„ê¸°" class="headerlink" title="2. ìŠ¤í”„ë§ ë¶€íŠ¸ ê¸°ë³¸ ë°°ë„ˆ ì˜µì…˜ ë„ê¸°"></a>2. ìŠ¤í”„ë§ ë¶€íŠ¸ ê¸°ë³¸ ë°°ë„ˆ ì˜µì…˜ ë„ê¸°</h4><p>ë‘ë²ˆì§¸ë¡œ í•˜ëŠ” ì¼ì€ ìŠ¤í”„ë§ ë¶€íŠ¸ì—ì„œ ì œê³µí•˜ì—¬ ì½˜ì†”ì— í‘œì‹œë˜ëŠ” ê¸°ë³¸ ë°°ë„ˆ ë¡œê·¸ë¥¼ ë¹„í™œì„±í™”í•˜ëŠ” ê²ƒì´ë‹¤. ëŒ€ë¶€ë¶„ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ìŠ¤í”„ë§ ë°°ë„ˆë¥¼ í†µí•´ì„œ ë²„ì „ì„ í™•ì¸í•  í•„ìš”ì„±ì€ êµ‰ì¥íˆ ì ìœ¼ë©° ì¤‘ìš”ì‹œ í•´ì•¼í•˜ëŠ” ê²ƒì€ ë¹Œë“œ ì •ë³´ì¼ ë¿ì´ê¸°ì— ë¶ˆí•„ìš”í•˜ë‹¤.</p><pre class="language-yaml" data-language="yaml"><div class="caption"><span>application.yml</span></div><code class="language-yaml"><span class="token key atrule">spring.main.banner-mode</span><span class="token punctuation">:</span> off</code></pre><h4 id="3-ê·¸ë˜ë“¤-ë¡¬ë³µ-íŒ¨í‚¤ì§€-êµ¬ì„±ì„-ë¡¬ë³µ-í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œ-ë³€ê²½í•˜ê¸°"><a href="#3-ê·¸ë˜ë“¤-ë¡¬ë³µ-íŒ¨í‚¤ì§€-êµ¬ì„±ì„-ë¡¬ë³µ-í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œ-ë³€ê²½í•˜ê¸°" class="headerlink" title="3. ê·¸ë˜ë“¤ ë¡¬ë³µ íŒ¨í‚¤ì§€ êµ¬ì„±ì„ ë¡¬ë³µ í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œ ë³€ê²½í•˜ê¸°"></a>3. ê·¸ë˜ë“¤ ë¡¬ë³µ íŒ¨í‚¤ì§€ êµ¬ì„±ì„ ë¡¬ë³µ í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œ ë³€ê²½í•˜ê¸°</h4><p>ê·¸ë˜ë“¤ ê¸°ë°˜ìœ¼ë¡œ ìŠ¤í”„ë§ ë¶€íŠ¸ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“œëŠ” ê²½ìš° ê·¸ë˜ë“¤ ë¡¬ë³µ í”ŒëŸ¬ê·¸ì¸ì´ ì•„ë‹Œ ì§ì ‘ íŒ¨í‚¤ì§€ë¥¼ ë””íœë˜ì‹œì— ì§€ì •í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë˜ì–´ìˆë‹¤. <a href="https://plugins.gradle.org/plugin/io.freefair.lombok">io.freefair.lombok</a>ì„ í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œ ë“±ë¡í•˜ì—¬ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” íš¨ìœ¨ì ì´ë‹¤.</p><pre class="language-gradle" data-language="gradle"><div class="caption"><span>build.gradle</span></div><code class="language-gradle"><span class="token keyword">plugins</span> <span class="token punctuation">&#123;</span>    id <span class="token string">'io.freefair.lombok'</span> version <span class="token string">'8.0.1'</span><span class="token punctuation">&#125;</span></code></pre><h4 id="4-ê¸°ë³¸-í†°ìº£-ì»¨í…Œì´ë„ˆë¥¼-ì–¸ë”í† ìš°ë¡œ-ëŒ€ì²´í•˜ê¸°"><a href="#4-ê¸°ë³¸-í†°ìº£-ì»¨í…Œì´ë„ˆë¥¼-ì–¸ë”í† ìš°ë¡œ-ëŒ€ì²´í•˜ê¸°" class="headerlink" title="4. ê¸°ë³¸ í†°ìº£ ì»¨í…Œì´ë„ˆë¥¼ ì–¸ë”í† ìš°ë¡œ ëŒ€ì²´í•˜ê¸°"></a>4. ê¸°ë³¸ í†°ìº£ ì»¨í…Œì´ë„ˆë¥¼ ì–¸ë”í† ìš°ë¡œ ëŒ€ì²´í•˜ê¸°</h4><p>ìŠ¤í”„ë§ ë¶€íŠ¸ í”„ë¡œì íŠ¸ì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ì˜ì¡´í•˜ëŠ” ì„ë² ë””ë“œ í†°ìº£ë„ ì¤€ìˆ˜í•œ ì„±ëŠ¥ì„ ë³´ì—¬ì£¼ì§€ë§Œ ìë°”ë¥¼ ì‚¬ìš©í•˜ì—¬ NIO ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±ëœ ê²½ëŸ‰ì˜ ì›¹ ì„œë²„ ì• í”Œë¦¬ì¼€ì´ì…˜ì¸ ì–¸ë”í† ìš°ë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤. ì›¹ ìŠ¤íƒ€í„° ëª¨ë“ˆì—ëŠ” í†°ìº£ì— ëŒ€í•œ ì˜ì¡´ì„±ì´ í¬í•¨ë˜ì–´ìˆìœ¼ë¯€ë¡œ ì•„ë˜ì™€ ê°™ì´ í†°ìº£ì— ëŒ€í•œ ëª¨ë“ˆì€ ì œì™¸ë˜ë„ë¡ í•˜ì.</p><pre class="language-gradle" data-language="gradle"><div class="caption"><span>build.gradle</span></div><code class="language-gradle">configurations<span class="token punctuation">.</span>configureEach <span class="token punctuation">&#123;</span>    exclude group<span class="token punctuation">:</span> <span class="token string">'org.springframework.boot'</span><span class="token punctuation">,</span> module<span class="token punctuation">:</span> <span class="token string">'spring-boot-starter-tomcat'</span><span class="token punctuation">&#125;</span><span class="token keyword">dependencies</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">implementation</span> <span class="token string">'org.springframework.boot:spring-boot-starter-web'</span>    <span class="token keyword">implementation</span> <span class="token string">'org.springframework.boot:spring-boot-starter-undertow'</span><span class="token punctuation">&#125;</span></code></pre><blockquote><p>ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ 6.1 ì—ì„œëŠ” JDK 21ê³¼ Virtual Threadsë¥¼ ìš°ì„ ì ìœ¼ë¡œ í†°ìº£ì—ì„œ ì§€ì›í•  ì˜ˆì •ì¸ ê²ƒ ê°™ì•„ ì–¸ë”í† ìš°ê°€ ì•„ë‹Œ í†°ìº£ì„ ì„ íƒí•´ì•¼í•  ê²½ìš°ê°€ ë  ê°€ëŠ¥ì„±ë„ ë³´ì¸ë‹¤. ê´€ë ¨ í”„ë¡œì íŠ¸: <a href="https://github.com/mp911de/spring-boot-virtual-threads-experiment">mp911de&#x2F;spring-boot-virtual-threads-experiment</a></p></blockquote><h4 id="5-ì¸í…”ë¦¬ì œì´-IDEAì˜-ë¹Œë“œ-ë°-ì‹¤í–‰-ì˜µì…˜-ë³€ê²½í•˜ê¸°"><a href="#5-ì¸í…”ë¦¬ì œì´-IDEAì˜-ë¹Œë“œ-ë°-ì‹¤í–‰-ì˜µì…˜-ë³€ê²½í•˜ê¸°" class="headerlink" title="5. ì¸í…”ë¦¬ì œì´ IDEAì˜ ë¹Œë“œ ë° ì‹¤í–‰ ì˜µì…˜ ë³€ê²½í•˜ê¸°"></a>5. ì¸í…”ë¦¬ì œì´ IDEAì˜ ë¹Œë“œ ë° ì‹¤í–‰ ì˜µì…˜ ë³€ê²½í•˜ê¸°</h4><p>ë§ˆì§€ë§‰ìœ¼ë¡œ ì¸í…”ë¦¬ì œì´ IDEAë¥¼ í†µí•´ì„œ ìŠ¤í”„ë§ ë¶€íŠ¸ í”„ë¡œì íŠ¸ë¥¼ ë¹Œë“œí•˜ê³  ì‹¤í–‰í•˜ëŠ” ê²½ìš° ì»´íŒŒì¼ëŸ¬ì™€ ê·¸ë˜ë“¤ì— ëŒ€í•œ ì˜µì…˜ì„ ë³€ê²½í•˜ëŠ” ê²ƒì´ ë” íš¨ìœ¨ì ìœ¼ë¡œ í”„ë¡œì íŠ¸ë¥¼ ê°œë°œí•˜ê³  ì‹¤í–‰í•˜ëŠ” í™˜ê²½ì´ ë˜ë¯€ë¡œ ì ìš©í•˜ëŠ” í¸ì´ë‹¤.</p><ul><li>Build, Execution, Deployment &gt; Build Tools &gt; Gradle &gt; Build and run using Intellij IDEA</li><li>Build, Execution, Deployment &gt; Build Tools &gt; Compiler &gt; Build project automatically</li></ul><p>ê¸°ë³¸ Gradleì´ ì•„ë‹Œ Intellij IDEAë¡œ ë¹Œë“œ ë° ì‹¤í–‰ì„ í•˜ë„ë¡ ì„¤ì •í•œë‹¤ë©´ í”„ë¡œì íŠ¸ ë£¨íŠ¸ í´ë”ì— out ì´ë¼ëŠ” ì´ë¦„ì˜ í´ë”ì— í˜„ì¬ ì‹¤í–‰ì¤‘ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ëŒ€í•œ í´ë˜ìŠ¤ íŒŒì¼ê³¼ ì •ì  ë¦¬ì†ŒìŠ¤ íŒŒì¼ë“¤ì´ ì´ë™ë˜ì–´ ì–´ë– í•œ ë¬¸ì œê°€ ë°œìƒí–ˆì„ ë•Œ ê³§ë°”ë¡œ ì‚´í´ë³¼ ìˆ˜ ìˆë‹¤.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ìŠ¤í”„ë§ ì´ë‹ˆì…œë¼ì´ì €ë¥¼ í†µí•´ì„œ ìŠ¤í”„ë§ ë¶€íŠ¸ ê¸°ë°˜ì˜ í”„ë¡œì íŠ¸ í´ë”ë¥¼ êµ¬ì„±í•˜ë”ë¼ë„ íšŒì‚¬ë§ˆë‹¤ í˜¹ì€ ê°œë°œìë§ˆë‹¤ ë„ˆë¬´ë‚˜ë„ ë‹¹ì—°í•˜ê²Œ í•˜ëŠ” ê²ƒë“¤ì´ ì¡°ê¸ˆì”© ìˆê¸° ë§ˆë ¨ì´ë‹¤. ìŠ¤í”„ë§ ë¶€íŠ¸ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ê³ ë‚˜ì„œ ë„ˆë¬´ë‚˜ë„ ë‹¹ì—°í•˜ê²Œ ìŠµê³¼ì ìœ¼ë¡œ ë§¤ë²ˆ í•˜ëŠ” ê²ƒë“¤ì— ëŒ€í•´ì„œ ì •</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>ìŠ¤í”„ë§ ë¶€íŠ¸ ë¹Œë“œ ì •ë³´</title>
    <link href="https://kdevkr.github.io/spring-boot-build-info/"/>
    <id>https://kdevkr.github.io/spring-boot-build-info/</id>
    <published>2023-03-20T15:00:00.000Z</published>
    <updated>2023-07-31T11:10:23.372Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ë³¸ ê¸€ì— ëŒ€í•œ ê´€ë ¨ ì½”ë“œëŠ” <a href="https://github.com/kdevkr/spring-demo">https://github.com/kdevkr/spring-demo</a> ì—ì„œ ì°¸ê³ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p></blockquote><p>ìŠ¤í”„ë§ ë¶€íŠ¸ í”„ë¡œì íŠ¸ì—ì„œ ë¹Œë“œ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ì„œëŠ” ê·¸ë˜ë“¤ì´ë‚˜ ë©”ì´ë¸ í”ŒëŸ¬ê·¸ì¸ì— ë”°ë¼ ì•„ë˜ì™€ ê°™ì´ buildInfo()ê°€ ë™ì‘í•˜ë„ë¡ êµ¬ì„±í•´ì•¼í•œë‹¤. ì´ë ‡ê²Œ êµ¬ì„±í•˜ë©´ ë¹Œë“œ ë‹¨ê³„ì—ì„œ í´ë˜ìŠ¤íŒ¨ìŠ¤ì— META-INF&#x2F;build.propertiesë¼ëŠ” íŒŒì¼ì— ë¹Œë“œ ì •ë³´ê°€ í¬í•¨ëœë‹¤.</p><pre class="language-gradle" data-language="gradle"><div class="caption"><span>build.gradle</span></div><code class="language-gradle">springBoot <span class="token punctuation">&#123;</span>    <span class="token function">buildInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><p>í´ë˜ìŠ¤íŒ¨ìŠ¤ì— ì¶”ê°€ëœ build-info.propertiesì˜ ë‚´ìš©ì€ ProjectInfoAutoConfiguration í´ë˜ìŠ¤ì— ì˜í•´ì„œ BuildProperties í´ë˜ìŠ¤ê°€ ë¹ˆìœ¼ë¡œ ë“±ë¡ë˜ê²Œ ëœë‹¤. ê·¸ë˜ì„œ ìš°ë¦¬ëŠ” ì•„ë˜ì™€ ê°™ì´ BuildPropertiesë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë¹Œë“œ ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” APIë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.</p><pre class="language-java" data-language="java"><div class="caption"><span>BuildController.java</span></div><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BuildController</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">BuildProperties</span> buildProperties<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">BuildController</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">BuildProperties</span> buildProperties<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>buildProperties <span class="token operator">=</span> buildProperties<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"build-info"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">BuildProperties</span> <span class="token function">buildInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> buildProperties<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>í•˜ì§€ë§Œ, ê·¸ë˜ë“¤ ëª…ë ¹ì–´ì— ì˜í•´ ë¹Œë“œëœ ì• í”Œë¦¬ì¼€ì´ì…˜ íŒŒì¼ìœ¼ë¡œ ì‹¤í–‰ëœ ê²ƒì´ ì•„ë‹ˆë¼ ì¸í…”ë¦¬ì œì´ì™€ ê°™ì€ IDEë¡œ êµ¬ë™í•˜ëŠ” ê²½ìš°ë¼ë©´ BuildPropertiesê°€ ë“±ë¡ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤. í´ë˜ìŠ¤íŒ¨ìŠ¤ì— ìˆëŠ” ë¹Œë“œ ì •ë³´ë¥¼ ë¨¼ì € ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ @AutoConfigurationì„ í†µí•´ ìë™ êµ¬ì„± í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ê³  ProjectInfoAutoConfigurationê°€ ë™ì‘í•œ ì´í›„ì— ìˆ˜í–‰í•˜ë„ë¡ í•˜ë©´ ëœë‹¤.</p><pre class="language-java" data-language="java"><div class="caption"><span>BuildConfiguration.java</span></div><code class="language-java"><span class="token comment">//@Import(ProjectInfoAutoConfiguration.class)</span><span class="token annotation punctuation">@AutoConfiguration</span><span class="token punctuation">(</span>after <span class="token operator">=</span> <span class="token class-name">ProjectInfoAutoConfiguration</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BuildConfiguration</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@ConditionalOnMissingBean</span><span class="token punctuation">(</span><span class="token class-name">BuildProperties</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">BuildProperties</span> <span class="token function">buildProperties</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Properties</span> properties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"time"</span><span class="token punctuation">,</span> <span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token constant">ISO_INSTANT</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token class-name">Instant</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"artifact"</span><span class="token punctuation">,</span> <span class="token string">"demo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"group"</span><span class="token punctuation">,</span> <span class="token string">"kr.kdev"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token string">"demo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"version"</span><span class="token punctuation">,</span> <span class="token string">"local"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">BuildProperties</span><span class="token punctuation">(</span>properties<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><blockquote><p>ìœ„ ì½”ë“œì—ì„œ @AutoConfigurationëŠ” ìŠ¤í”„ë§ ë¶€íŠ¸ 2.7 ì—ì„œ ì¶”ê°€ëœ ì–´ë…¸í…Œì´ì…˜ì´ë¯€ë¡œ ì´ì „ ë²„ì „ì´ë¼ë©´ @Importë¥¼ í†µí•´ ìˆ˜ë™ìœ¼ë¡œ ë™ì‘í•˜ë„ë¡ í•´ì•¼í•œë‹¤.</p></blockquote><p>ê·¸ëŸ¬ë©´ ì´ì œ ê°œë°œ í™˜ê²½ì—ì„œëŠ” ProjectInfoAutoConfigurationì— ì˜í•´ BuildPropertiesê°€ ë“±ë¡ë˜ì§€ ì•Šë”ë¼ë„ ì½”ë“œë¡œ ì •ì˜ëœ BuildPropertiesê°€ ë“±ë¡ë˜ì–´ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤. ë¹Œë“œëœ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” ë¹Œë“œ ì •ë³´ APIê°€ ë“±ë¡ë˜ë¯€ë¡œ ì•„ë˜ì™€ ê°™ì´ ë¹Œë“œ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p><pre class="language-powershell" data-language="powershell"><div class="caption"><span>Windows Terminal</span></div><code class="language-powershell"><span class="token comment"># java -jar '-Dspring.profiles.active=prod' .\demo-1.0.0.jar</span><span class="token comment"># /build-info</span><span class="token punctuation">&#123;</span><span class="token string">"name"</span>:<span class="token string">"demo"</span><span class="token punctuation">,</span><span class="token string">"version"</span>:<span class="token string">"local"</span><span class="token punctuation">,</span><span class="token string">"time"</span>:<span class="token string">"2023-03-22T13:13:58.186Z"</span><span class="token punctuation">,</span><span class="token string">"artifact"</span>:<span class="token string">"demo"</span><span class="token punctuation">,</span><span class="token string">"group"</span>:<span class="token string">"kr.kdev"</span><span class="token punctuation">&#125;</span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;ë³¸ ê¸€ì— ëŒ€í•œ ê´€ë ¨ ì½”ë“œëŠ” &lt;a href=&quot;https://github.com/kdevkr/spring-demo&quot;&gt;https://github.com/kdevkr/spring-demo&lt;/a&gt; ì—ì„œ ì°¸ê³ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;
</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>ìŠ¤í”„ë§ ë¶€íŠ¸ ì–¸ë”í† ìš°</title>
    <link href="https://kdevkr.github.io/spring-boot-undertow/"/>
    <id>https://kdevkr.github.io/spring-boot-undertow/</id>
    <published>2023-03-15T15:00:00.000Z</published>
    <updated>2023-07-31T11:10:23.372Z</updated>
    
    <content type="html"><![CDATA[<p>ì¸í…”ë¦¬ì œì´ ë˜ëŠ” <a href="https://start.spring.io/">ìŠ¤í”„ë§ ì´ë‹ˆì…œë¼ì´ì €</a>ë¥¼ í†µí•´ ìŠ¤í”„ë§ ë¶€íŠ¸ í”„ë¡œì íŠ¸ë¥¼ ê°„ë‹¨í•˜ê²Œ ìƒì„±í•  ìˆ˜ ìˆë‹¤. ìŠ¤í”„ë§ ì´ë‹ˆì…œë¼ì´ì €ë¥¼ í†µí•´ ë§Œë“¤ê³ ì í•˜ëŠ” í”„ë¡œì íŠ¸ì—ì„œ í•„ìš”í•œ ëª¨ë“ˆì„ ì‰½ê²Œ ì„ íƒí•  ìˆ˜ ìˆê²Œ ì§€ì›í•˜ì§€ë§Œ ì„¸ë¶€ì ì¸ ëª¨ë“ˆì˜ ì„ íƒì€ ì§€ì›í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë§Œë“¤ì–´ì§„ í”„ë¡œì íŠ¸ë¥¼ ìˆ˜ì •í•´ì•¼í•  í•„ìš”ì„±ì´ ìƒê¸¸ ìˆ˜ ìˆë‹¤. ì•„íŒŒì¹˜ í†°ìº£ì€ ê¸°ë³¸ì ìœ¼ë¡œ ì§€ì›í•˜ëŠ” ê¸°ë³¸ ì»¨í…Œì´ë„ˆë¡œì¨ ì¶©ë¶„íˆ ì…ì¦ëœ ê¸°ìˆ ì´ì§€ë§Œ í˜„ì¬ ì¡°ì§ê³¼ ê°™ì´ ì¼ë¶€ ì‹¤ë¬´ í”„ë¡œì íŠ¸ì—ì„œëŠ” ì–¸ë”í† ìš°ë¥¼ ì‚¬ìš©í•˜ëŠ” í¸ì´ë‹¤.</p><pre class="language-groovy" data-language="groovy"><div class="caption"><span>build.gradle</span></div><code class="language-groovy">configurations<span class="token punctuation">.</span>configureEach <span class="token punctuation">&#123;</span>    exclude group<span class="token punctuation">:</span> <span class="token string">'org.springframework.boot'</span><span class="token punctuation">,</span> module<span class="token punctuation">:</span> <span class="token string">'spring-boot-starter-tomcat'</span><span class="token punctuation">&#125;</span>dependencies <span class="token punctuation">&#123;</span>    implementation <span class="token string">'org.springframework.boot:spring-boot-starter-web'</span>    implementation <span class="token string">'org.springframework.boot:spring-boot-starter-websocket'</span>    implementation <span class="token string">'org.springframework.boot:spring-boot-starter-undertow'</span><span class="token punctuation">&#125;</span></code></pre><blockquote><p>ìœ„ ì˜ˆì‹œì—ì„œ spring-boot-starter-websocket ëª¨ë“ˆì— ì˜í•´ spring-boot-starter-webì€ ëª…ì‹œí•  í•„ìš”ê°€ ì—†ë‹¤.</p></blockquote><h4 id="WebSocketDeploymentInfo-ê²½ê³ -ë¡œê·¸-ì—†ì• ê¸°"><a href="#WebSocketDeploymentInfo-ê²½ê³ -ë¡œê·¸-ì—†ì• ê¸°" class="headerlink" title="WebSocketDeploymentInfo ê²½ê³  ë¡œê·¸ ì—†ì• ê¸°"></a>WebSocketDeploymentInfo ê²½ê³  ë¡œê·¸ ì—†ì• ê¸°</h4><p>spring-boot-starter-websocket ëª¨ë“ˆì„ ì¶”ê°€í•˜ë©´ ì•„ë˜ì²˜ëŸ¼ WebSocketDeploymentInfoê°€ ì„¤ì •ë˜ì§€ ì•Šì•„ ê¸°ë³¸ ë²„í¼ í’€ì´ ì‚¬ìš©ëœë‹¤ëŠ” ê²½ê³  ë¡œê·¸ê°€ ì¶œë ¥ëœë‹¤. ë¡œê·¸ ë ˆë²¨ ì¡°ì •ì„ í†µí•´ ë¬´ì‹œí•´ë„ ë˜ì§€ë§Œ WebServerFactoryCustomizerë¥¼ í†µí•´ì„œ WebSocketDeploymentInfoê°€ ë“±ë¡ë˜ë„ë¡ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.</p><pre class="language-none"><code class="language-none">2023-03-16T21:49:43.249+09:00  WARN 35488 --- [main] io.undertow.websockets.jsr : UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used</code></pre><pre class="language-java" data-language="java"><div class="caption"><span>UndertowWebsocketCustomizer</span></div><code class="language-java"><span class="token annotation punctuation">@Component</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UndertowWebsocketCustomizer</span> <span class="token keyword">implements</span> <span class="token class-name">WebServerFactoryCustomizer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UndertowServletWebServerFactory</span><span class="token punctuation">></span></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">ServerProperties<span class="token punctuation">.</span>Undertow</span> undertow<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">UndertowWebsocketCustomizer</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">ServerProperties</span> serverProperties<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>undertow <span class="token operator">=</span> serverProperties<span class="token punctuation">.</span><span class="token function">getUndertow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">customize</span><span class="token punctuation">(</span><span class="token class-name">UndertowServletWebServerFactory</span> factory<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        factory<span class="token punctuation">.</span><span class="token function">addDeploymentInfoCustomizers</span><span class="token punctuation">(</span>deploymentInfo <span class="token operator">-></span> <span class="token punctuation">&#123;</span>            <span class="token keyword">boolean</span> direct <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>undertow<span class="token punctuation">.</span><span class="token function">getDirectBuffers</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>undertow<span class="token punctuation">.</span><span class="token function">getDirectBuffers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> bufferSize <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>undertow<span class="token punctuation">.</span><span class="token function">getBufferSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>undertow<span class="token punctuation">.</span><span class="token function">getBufferSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token number">1024</span><span class="token punctuation">;</span>            <span class="token class-name">WebSocketDeploymentInfo</span> webSocketDeploymentInfo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebSocketDeploymentInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            webSocketDeploymentInfo<span class="token punctuation">.</span><span class="token function">setBuffers</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DefaultByteBufferPool</span><span class="token punctuation">(</span>direct<span class="token punctuation">,</span> bufferSize<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            deploymentInfo<span class="token punctuation">.</span><span class="token function">addServletContextAttribute</span><span class="token punctuation">(</span><span class="token string">"io.undertow.websockets.jsr.WebSocketDeploymentInfo"</span><span class="token punctuation">,</span> webSocketDeploymentInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><h4 id="HTTPS-í¬íŠ¸ë¡œ-ë¦¬ë‹¤ì´ë ‰íŠ¸"><a href="#HTTPS-í¬íŠ¸ë¡œ-ë¦¬ë‹¤ì´ë ‰íŠ¸" class="headerlink" title="HTTPS í¬íŠ¸ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸"></a>HTTPS í¬íŠ¸ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸</h4><p>ì´ì œëŠ” AWS ELBì™€ ê°™ì€ ë¡œë“œë°¸ëŸ°ì„œ ë˜ëŠ” ì—”ì§„ì—‘ìŠ¤ì™€ ê°™ì€ ì›¹ ì„œë²„ë“¤ì„ í†µí•´ì„œ ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œë¥¼ êµ¬ì„±í•˜ë¯€ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ HTTP&#x2F;2ë¥¼ ì§€ì›í•˜ë„ë¡ êµ¬ë™í•˜ì§€ ì•ŠëŠ” í¸ì´ì§€ë§Œ TLS ì˜¤í”„ë¡œë“œê°€ í•„ìš”í•˜ë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ HTTPë¡œ ì—°ê²°ë˜ì—ˆì„ë•Œ HTTPSë¡œ ì—°ê²°ë˜ë„ë¡ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤.</p><pre class="language-java" data-language="java"><div class="caption"><span>UndertowHttp2Customizer</span></div><code class="language-java"><span class="token annotation punctuation">@Component</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UndertowHttp2Customizer</span>    <span class="token keyword">implements</span> <span class="token class-name">WebServerFactoryCustomizer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UndertowServletWebServerFactory</span><span class="token punctuation">></span></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">ServerProperties</span> serverProperties<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">int</span> httpPort<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">UndertowHttp2Customizer</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">ServerProperties</span> serverProperties<span class="token punctuation">,</span>                                   <span class="token keyword">final</span> <span class="token class-name">Environment</span> environment<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>serverProperties <span class="token operator">=</span> serverProperties<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>httpPort <span class="token operator">=</span> environment<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"server.http-port"</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token number">8080</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">customize</span><span class="token punctuation">(</span><span class="token class-name">UndertowServletWebServerFactory</span> factory<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        factory<span class="token punctuation">.</span><span class="token function">addBuilderCustomizers</span><span class="token punctuation">(</span>builder <span class="token operator">-></span> builder<span class="token punctuation">.</span><span class="token function">addHttpListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>httpPort<span class="token punctuation">,</span> <span class="token string">"0.0.0.0"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        factory<span class="token punctuation">.</span><span class="token function">addDeploymentInfoCustomizers</span><span class="token punctuation">(</span>deploymentInfo <span class="token operator">-></span> deploymentInfo<span class="token punctuation">.</span><span class="token function">addSecurityConstraint</span><span class="token punctuation">(</span>                <span class="token keyword">new</span> <span class="token class-name">SecurityConstraint</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                    <span class="token punctuation">.</span><span class="token function">addWebResourceCollection</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">WebResourceCollection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addUrlPattern</span><span class="token punctuation">(</span><span class="token string">"/*"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                    <span class="token punctuation">.</span><span class="token function">setTransportGuaranteeType</span><span class="token punctuation">(</span><span class="token class-name">TransportGuaranteeType</span><span class="token punctuation">.</span><span class="token constant">CONFIDENTIAL</span><span class="token punctuation">)</span>                    <span class="token punctuation">.</span><span class="token function">setEmptyRoleSemantic</span><span class="token punctuation">(</span><span class="token class-name">SecurityInfo<span class="token punctuation">.</span>EmptyRoleSemantic</span><span class="token punctuation">.</span><span class="token constant">PERMIT</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">.</span><span class="token function">setConfidentialPortManager</span><span class="token punctuation">(</span>exchange <span class="token operator">-></span> serverProperties<span class="token punctuation">.</span><span class="token function">getPort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ì¸í…”ë¦¬ì œì´ ë˜ëŠ” &lt;a href=&quot;https://start.spring.io/&quot;&gt;ìŠ¤í”„ë§ ì´ë‹ˆì…œë¼ì´ì €&lt;/a&gt;ë¥¼ í†µí•´ ìŠ¤í”„ë§ ë¶€íŠ¸ í”„ë¡œì íŠ¸ë¥¼ ê°„ë‹¨í•˜ê²Œ ìƒì„±í•  ìˆ˜ ìˆë‹¤. ìŠ¤í”„ë§ ì´ë‹ˆì…œë¼ì´ì €ë¥¼ í†µí•´ ë§Œë“¤ê³ ì í•˜ëŠ” í”„ë¡œì íŠ¸ì—ì„œ í•„ìš”í•œ ëª¨ë“ˆì„ ì‰½ê²Œ ì„ íƒí•  ìˆ˜</summary>
      
    
    
    
    
    <category term="Spring Boot" scheme="https://kdevkr.github.io/tags/Spring-Boot/"/>
    
    <category term="Undertow" scheme="https://kdevkr.github.io/tags/Undertow/"/>
    
  </entry>
  
</feed>
