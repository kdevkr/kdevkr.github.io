<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.2.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/favicon/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon/favicon-16x16.png"><link rel="mask-icon" href="/images/favicon/favicon.ico" color="#222"><meta name="google-site-verification" content="LMcddVW6xLBS7X1htGQ3duOIEmVp4ljku8sd3UuIcBg"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noto+Sans+KR:300,300italic,400,400italic,700,700italic%7CGmarket+Sans:300,300italic,400,400italic,700,700italic%7CRIDIBatang:300,300italic,400,400italic,700,700italic%7CJetbrains+Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/themes/blue/pace-theme-loading-bar.css"><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script><script class="next-config" data-name="main" type="application/json">{"hostname":"kdevkr.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.11.1","exturl":false,"sidebar":{"position":"left","display":"hide","padding":18,"offset":12,"width":240,"scrollpercent":true,"b2t":true},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":true,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script><meta name="description" content="ì•ˆë…•í•˜ì„¸ìš” Mambo ì…ë‹ˆë‹¤. ì˜¤ëŠ˜ ì•Œì•„ë³¼ ë‚´ìš©ì€ ê·¸ë˜ë“¤ ë¹Œë“œì˜ ë¼ì´í”„ì‚¬ì´í´ì…ë‹ˆë‹¤.  ì–¼ë§ˆì „ì— ë‹¨ì¼ ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡œì íŠ¸ì—ì„œ ë‹¤ì–‘í•œ ë°°í¬ í™˜ê²½ì— ëŒ€í•œ ê¸°ëŠ¥ì„ ë³„ë„ë¡œ ì§€ì›í•´ì•¼í•˜ëŠ” ìš”êµ¬ì‚¬í•­ìœ¼ë¡œ ì¸í•˜ì—¬ ê·¸ë˜ë“¤ ë©€í‹° ëª¨ë“ˆ í”„ë¡œì íŠ¸ë¡œ ì „í™˜í•˜ê²Œ ë˜ë©´ì„œ ë°°í¬ ê³¼ì •ì—ì„œ ë¬¸ì œê°€ ë°œìƒí•˜ì˜€ì—ˆëŠ”ë°ìš”. ê·¸ ë¬¸ì œëŠ” í¬ë¦¬í‹°ì»¬í•œ ì´ìŠˆëŠ” ì•„ë‹ˆì§€ë§Œ íƒœìŠ¤í¬ ìˆ˜í–‰ í›„ ë§Œë“¤ì–´ì§„ ì••ì¶• íŒŒì¼ì— í”„"><meta property="og:type" content="article"><meta property="og:title" content="ê·¸ë˜ë“¤ ë¹Œë“œ ë¼ì´í”„ì‚¬ì´í´"><meta property="og:url" content="https://kdevkr.github.io/gradle-build-lifecycle/index.html"><meta property="og:site_name" content="Mambo"><meta property="og:description" content="ì•ˆë…•í•˜ì„¸ìš” Mambo ì…ë‹ˆë‹¤. ì˜¤ëŠ˜ ì•Œì•„ë³¼ ë‚´ìš©ì€ ê·¸ë˜ë“¤ ë¹Œë“œì˜ ë¼ì´í”„ì‚¬ì´í´ì…ë‹ˆë‹¤.  ì–¼ë§ˆì „ì— ë‹¨ì¼ ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡œì íŠ¸ì—ì„œ ë‹¤ì–‘í•œ ë°°í¬ í™˜ê²½ì— ëŒ€í•œ ê¸°ëŠ¥ì„ ë³„ë„ë¡œ ì§€ì›í•´ì•¼í•˜ëŠ” ìš”êµ¬ì‚¬í•­ìœ¼ë¡œ ì¸í•˜ì—¬ ê·¸ë˜ë“¤ ë©€í‹° ëª¨ë“ˆ í”„ë¡œì íŠ¸ë¡œ ì „í™˜í•˜ê²Œ ë˜ë©´ì„œ ë°°í¬ ê³¼ì •ì—ì„œ ë¬¸ì œê°€ ë°œìƒí•˜ì˜€ì—ˆëŠ”ë°ìš”. ê·¸ ë¬¸ì œëŠ” í¬ë¦¬í‹°ì»¬í•œ ì´ìŠˆëŠ” ì•„ë‹ˆì§€ë§Œ íƒœìŠ¤í¬ ìˆ˜í–‰ í›„ ë§Œë“¤ì–´ì§„ ì••ì¶• íŒŒì¼ì— í”„"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://kdevkr.github.io/images/posts/gradle-build-lifecycle/gradle-01.png"><meta property="og:image" content="https://kdevkr.github.io/images/posts/gradle-build-lifecycle/gradle-02.png"><meta property="og:image" content="https://kdevkr.github.io/images/posts/gradle-build-lifecycle/gradle-03.png"><meta property="article:published_time" content="2021-10-30T00:00:00.000Z"><meta property="article:modified_time" content="2022-09-11T00:00:07.395Z"><meta property="article:author" content="Mambo"><meta property="article:tag" content="Gradle"><meta property="article:tag" content="Lifecycle"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://kdevkr.github.io/images/posts/gradle-build-lifecycle/gradle-01.png"><link rel="canonical" href="https://kdevkr.github.io/gradle-build-lifecycle/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://kdevkr.github.io/gradle-build-lifecycle/","path":"gradle-build-lifecycle/","title":"ê·¸ë˜ë“¤ ë¹Œë“œ ë¼ì´í”„ì‚¬ì´í´"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>ê·¸ë˜ë“¤ ë¹Œë“œ ë¼ì´í”„ì‚¬ì´í´ | Mambo</title><script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"UA-93954323-1","only_pageview":true}</script><script src="/js/third-party/analytics/google-analytics.js"></script><noscript><link rel="stylesheet" href="/css/noscript.css"></noscript><link rel="alternate" href="/atom.xml" title="Mambo" type="application/atom+xml">
<style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}.beian img{display:inline-block!important}</style></head><body itemscope itemtype="http://schema.org/WebPage"><div class="headband"></div><main class="main"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">Mambo</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">Today I Learned ğŸ”¥</p></div><div class="site-nav-right"><div class="toggle popup-trigger"></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fas fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fas fa-archive fa-fw"></i>Archives<span class="badge">73</span></a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fas fa-user fa-fw"></i>About</a></li></ul></nav></div><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">Table of Contents</li><li class="sidebar-nav-overview">Overview</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%EA%B7%B8%EB%9E%98%EB%93%A4-%ED%83%9C%EC%8A%A4%ED%81%AC"><span class="nav-number">1.</span> <span class="nav-text">ê·¸ë˜ë“¤ íƒœìŠ¤í¬</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%ED%83%9C%EC%8A%A4%ED%81%AC-%EA%B2%B0%EA%B3%BC"><span class="nav-number">1.1.</span> <span class="nav-text">íƒœìŠ¤í¬ ê²°ê³¼</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EC%88%98%EB%8F%99-%EB%B0%B0%ED%8F%AC-%ED%99%98%EA%B2%BD%EC%9D%84-%EC%9C%84%ED%95%9C-%ED%83%9C%EC%8A%A4%ED%81%AC"><span class="nav-number">1.2.</span> <span class="nav-text">ìˆ˜ë™ ë°°í¬ í™˜ê²½ì„ ìœ„í•œ íƒœìŠ¤í¬</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EA%B7%B8%EB%9E%98%EB%93%A4-%EB%B9%8C%EB%93%9C-%EB%9D%BC%EC%9D%B4%ED%94%84%EC%82%AC%EC%9D%B4%ED%81%B4"><span class="nav-number">2.</span> <span class="nav-text">ê·¸ë˜ë“¤ ë¹Œë“œ ë¼ì´í”„ì‚¬ì´í´</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EB%B9%8C%EB%93%9C-%EB%8B%A8%EA%B3%84"><span class="nav-number">2.1.</span> <span class="nav-text">ë¹Œë“œ ë‹¨ê³„</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%ED%85%8C%EC%8A%A4%ED%8A%B8%EB%A5%BC-%EC%9C%84%ED%95%9C-%ED%83%9C%EC%8A%A4%ED%81%AC"><span class="nav-number">2.2.</span> <span class="nav-text">í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ íƒœìŠ¤í¬</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%ED%95%B4%EA%B2%B0%EB%B0%A9%EC%95%88"><span class="nav-number">2.3.</span> <span class="nav-text">í•´ê²°ë°©ì•ˆ</span></a></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="Mambo" src="https://avatars1.githubusercontent.com/u/17937604?s=460&v=4"><p class="site-author-name" itemprop="name">Mambo</p><div class="site-description" itemprop="description"></div></div><div class="site-state-wrap site-overview-item animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">73</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-tags"><span class="site-state-item-count">126</span> <span class="site-state-item-name">tags</span></div></nav></div><div class="links-of-author site-overview-item animated"><span class="links-of-author-item"><a href="https://github.com/kdevkr" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;kdevkr" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a> </span><span class="links-of-author-item"><a href="mailto:kdevkr@gmail.com" title="E-Mail â†’ mailto:kdevkr@gmail.com" rel="noopener" target="_blank"><i class="fas fa-envelope fa-fw"></i>E-Mail</a></span></div><div class="cc-license site-overview-item animated" itemprop="license"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.ko" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdn.jsdelivr.net/npm/@creativecommons/vocabulary@2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a></div></div></div><div class="back-to-top animated" role="button" aria-label="Back to top"><i class="fa fa-arrow-up"></i> <span>0%</span></div></div></aside><div class="sidebar-dimmer"></div></header><div class="reading-progress-bar"></div><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en"><link itemprop="mainEntityOfPage" href="https://kdevkr.github.io/gradle-build-lifecycle/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="https://avatars1.githubusercontent.com/u/17937604?s=460&v=4"><meta itemprop="name" content="Mambo"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Mambo"><meta itemprop="description" content=""></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="ê·¸ë˜ë“¤ ë¹Œë“œ ë¼ì´í”„ì‚¬ì´í´ | Mambo"><meta itemprop="description" content=""></span><header class="post-header"><h1 class="post-title" itemprop="name headline">ê·¸ë˜ë“¤ ë¹Œë“œ ë¼ì´í”„ì‚¬ì´í´</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Created: 2021-10-30 00:00:00" itemprop="dateCreated datePublished" datetime="2021-10-30T00:00:00Z">2021-10-30</time></span></div></div></header><div class="post-body" itemprop="articleBody"><p>ì•ˆë…•í•˜ì„¸ìš” Mambo ì…ë‹ˆë‹¤.</p><p>ì˜¤ëŠ˜ ì•Œì•„ë³¼ ë‚´ìš©ì€ ê·¸ë˜ë“¤ ë¹Œë“œì˜ ë¼ì´í”„ì‚¬ì´í´ì…ë‹ˆë‹¤.</p><p>ì–¼ë§ˆì „ì— ë‹¨ì¼ ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡œì íŠ¸ì—ì„œ ë‹¤ì–‘í•œ ë°°í¬ í™˜ê²½ì— ëŒ€í•œ ê¸°ëŠ¥ì„ ë³„ë„ë¡œ ì§€ì›í•´ì•¼í•˜ëŠ” ìš”êµ¬ì‚¬í•­ìœ¼ë¡œ ì¸í•˜ì—¬ ê·¸ë˜ë“¤ ë©€í‹° ëª¨ë“ˆ í”„ë¡œì íŠ¸ë¡œ ì „í™˜í•˜ê²Œ ë˜ë©´ì„œ ë°°í¬ ê³¼ì •ì—ì„œ ë¬¸ì œê°€ ë°œìƒí•˜ì˜€ì—ˆëŠ”ë°ìš”. ê·¸ ë¬¸ì œëŠ” í¬ë¦¬í‹°ì»¬í•œ ì´ìŠˆëŠ” ì•„ë‹ˆì§€ë§Œ íƒœìŠ¤í¬ ìˆ˜í–‰ í›„ ë§Œë“¤ì–´ì§„ ì••ì¶• íŒŒì¼ì— í”„ë¡œì íŠ¸ ë²„ì „ì´ í¬í•¨ë˜ì§€ ì•ŠëŠ” ìƒí™©ì´ì—ˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ë¬¸ì œê°€ ë°œìƒí•œ ì´ìœ ëŠ” ê·¸ë˜ë“¤ íƒœìŠ¤í¬ë¥¼ ì •ì˜í•  ë•Œ <strong>ê·¸ë˜ë“¤ ë¹Œë“œ ë¼ì´í”„ì‚¬ì´í´</strong>ì„ ê³ ë ¤í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</p><h2 id="ê·¸ë˜ë“¤-íƒœìŠ¤í¬"><a href="#ê·¸ë˜ë“¤-íƒœìŠ¤í¬" class="headerlink" title="ê·¸ë˜ë“¤ íƒœìŠ¤í¬"></a>ê·¸ë˜ë“¤ íƒœìŠ¤í¬</h2><p>ë¨¼ì € ê¸°ì¡´ì— ì •ì˜ëœ íƒœìŠ¤í¬ëŠ” <a target="_blank" rel="noopener" href="https://github.com/kdevkr/beanstalk-deploy-sample/blob/main/build.gradle">beanstalk-deploy-sampleì˜ build.gradleì— ì •ì˜ëœ zipBeanstalk íƒœìŠ¤í¬</a>ì™€ ê°™ì´ Zip ìœ í˜•ì˜ íƒœìŠ¤í¬ë¡œ ì‘ì„±ë˜ì–´ìˆìŠµë‹ˆë‹¤.</p><pre class="language-groovy" data-language="groovy"><code class="language-groovy">task <span class="token function">zipBeanstalk</span><span class="token punctuation">(</span>type<span class="token punctuation">:</span> Zip<span class="token punctuation">,</span> dependsOn<span class="token punctuation">:</span> <span class="token string">'procfile'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    from <span class="token punctuation">(</span><span class="token string">'.ebextensions'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> into <span class="token string">'.ebextensions'</span> <span class="token punctuation">&#125;</span>
    from <span class="token punctuation">(</span><span class="token string">'.platform'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> into <span class="token string">'.platform'</span> <span class="token punctuation">&#125;</span>

    from <span class="token punctuation">(</span><span class="token string">'build/libs'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        println bootWar<span class="token punctuation">.</span>archiveName
        <span class="token function">include</span><span class="token punctuation">(</span>bootWar<span class="token punctuation">.</span>archiveName<span class="token punctuation">)</span>
        <span class="token function">include</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"Procfile"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    baseName <span class="token operator">=</span> <span class="token string">'beanstalk'</span>
<span class="token punctuation">&#125;</span></code></pre><p>ìœ„ ìƒ˜í”Œ íƒœìŠ¤í¬ì²˜ëŸ¼ ë‹¨ì¼ ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡œì íŠ¸ì—ì„œ ì •ì˜ëœ íƒœìŠ¤í¬ëŠ” ë¬¸ì œê°€ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ì ìŠµë‹ˆë‹¤. ê·¸ ì´ìœ ëŠ” ë°°í¬ë¥¼ ìœ„í•´ì„œ ì—¬ëŸ¬ê°€ì§€ íƒœìŠ¤í¬ë¥¼ ì •ì˜í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì¸ë°ìš”. ê·¸ëŸ¬ë©´ ìœ„ íƒœìŠ¤í¬ë¥¼ ìˆ˜í–‰í•˜ë©´ ì–´ë–¤ ê²°ê³¼ë¥¼ ì œê³µí•˜ëŠ”ì§€ í•œë²ˆ í™•ì¸í•´ë³¼ê¹Œìš”?</p><h3 id="íƒœìŠ¤í¬-ê²°ê³¼"><a href="#íƒœìŠ¤í¬-ê²°ê³¼" class="headerlink" title="íƒœìŠ¤í¬ ê²°ê³¼"></a>íƒœìŠ¤í¬ ê²°ê³¼</h3><p>í”„ë¡œì íŠ¸ í´ë”ì— ìˆëŠ” Gradle Wrapperë¥¼ ì‚¬ìš©í•˜ì—¬ zipBeanstalk íƒœìŠ¤í¬ë¥¼ ìˆ˜í–‰í•˜ë©´ì„œ í”„ë¡œì íŠ¸ ë²„ì „ì„ ëª…ì‹œí•´ë³´ê² ìŠµë‹ˆë‹¤.</p><pre class="language-sh" data-language="sh"><code class="language-sh">.&#x2F;gradlew clean zipBeanstalk -x test -Pversion&#x3D;1.0.0-hotfix.11</code></pre><p><img data-src="/images/posts/gradle-build-lifecycle/gradle-01.png"></p><p>íŒ¨í‚¤ì§•ëœ WAR íŒŒì¼ê³¼ zipBeanstalk íƒœìŠ¤í¬ì— ì˜í•´ ë§Œë“¤ì–´ì§€ëŠ” ì•„ì¹´ì´ë¸Œ íŒŒì¼ì— í”„ë¡œì íŠ¸ ë²„ì „ì´ í¬í•¨ë¨ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><h3 id="ìˆ˜ë™-ë°°í¬-í™˜ê²½ì„-ìœ„í•œ-íƒœìŠ¤í¬"><a href="#ìˆ˜ë™-ë°°í¬-í™˜ê²½ì„-ìœ„í•œ-íƒœìŠ¤í¬" class="headerlink" title="ìˆ˜ë™ ë°°í¬ í™˜ê²½ì„ ìœ„í•œ íƒœìŠ¤í¬"></a>ìˆ˜ë™ ë°°í¬ í™˜ê²½ì„ ìœ„í•œ íƒœìŠ¤í¬</h3><p>ì‚¬ì‹¤ zipBeanstalk íƒœìŠ¤í¬ëŠ” ì•„ë§ˆì¡´ ì›¹ ì„œë¹„ìŠ¤ì˜ ë¹ˆìŠ¤í†¡ í™˜ê²½ìœ¼ë¡œ ë°°í¬í•˜ê¸° ìœ„í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ ë²ˆë“¤ íŒŒì¼ì„ ë§Œë“œëŠ” íƒœìŠ¤í¬ì…ë‹ˆë‹¤. ë§Œì•½, ìˆ˜ë™ìœ¼ë¡œ ë°°í¬í•˜ì—¬ì•¼í•˜ëŠ” í™˜ê²½ì´ ì¶”ê°€ëœë‹¤ë©´ ë¹ˆìŠ¤í†¡ í™˜ê²½ì—ì„œ ì‚¬ìš©í•˜ëŠ” Procfileê³¼ í™˜ê²½ êµ¬ì„± íŒŒì¼ë“¤ì€ í¬í•¨í•  í•„ìš”ê°€ ì—†ìœ¼ë©° íŠ¹ì • í™˜ê²½ì„ ìœ„í•œ í”„ë¡œí¼í‹° íŒŒì¼ë§Œ ë³„ë„ë¡œ ì¶”ê°€í•˜ë©´ ë©ë‹ˆë‹¤.</p><pre class="language-groovy" data-language="groovy"><code class="language-groovy">task <span class="token function">zipManually</span><span class="token punctuation">(</span>type<span class="token punctuation">:</span> Zip<span class="token punctuation">,</span> dependsOn<span class="token punctuation">:</span> <span class="token string">'bootWar'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    println <span class="token string">'Build Version: '</span> <span class="token operator">+</span> project<span class="token punctuation">.</span>version

    from <span class="token punctuation">(</span><span class="token string">'.conf'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> into <span class="token string">'application-prod.yml'</span><span class="token punctuation">&#125;</span>
    from <span class="token punctuation">(</span><span class="token string">'build/libs'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">include</span><span class="token punctuation">(</span>bootWar<span class="token punctuation">.</span>archiveName<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>

    baseName <span class="token operator">=</span> <span class="token string">'app-bundle'</span>
<span class="token punctuation">&#125;</span></code></pre><p>zipManually íƒœìŠ¤í¬ì—ëŠ” application-prod.ymlì„ íŒ¨í‚¤ì§•ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ WAR íŒŒì¼ê³¼ í•¨ê»˜ í¬í•¨ì‹œí‚¤ë„ë¡ ì •ì˜í–ˆìŠµë‹ˆë‹¤. ì•„ì‹œëŠ” ë¶„ë“¤ë„ ìˆê² ì§€ë§Œ ìŠ¤í”„ë§ ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ <strong>WAR íŒŒì¼ê³¼ ë™ì¼í•œ ìœ„ì¹˜ì— ìˆëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡œí¼í‹° íŒŒì¼</strong>ì„ ì½ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë§Œì•½, ëª¨ë¥´ì‹œëŠ” ë¶„ë“¤ì´ë¼ë©´ í”„ë¡œí¼í‹° êµ¬ì„± ìš°ì„  ìˆœìœ„ì— ëŒ€í•œ ë¬¸ì„œë¥¼ í™•ì¸í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.</p><p>ë™ì¼í•˜ê²Œ zipManually íƒœìŠ¤í¬ë¥¼ ì‹¤í–‰í•´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p><pre class="language-sh" data-language="sh"><code class="language-sh">.&#x2F;gradlew clean zipManually -x test -Pversion&#x3D;1.0.0-hotfix.11

&gt; Configure project :
JDK info: 11
Build Version: 1.0.0-hotfix.11
Build Version: 1.0.0-hotfix.11

&gt; Task :bootBuildInfo
&gt; Task :compileJava UP-TO-DATE
&gt; Task :processResources UP-TO-DATE
&gt; Task :classes
&gt; Task :bootWarMainClassName
&gt; Task :bootWar
&gt; Task :procfile
&gt; Task :zipManually</code></pre><p><img data-src="/images/posts/gradle-build-lifecycle/gradle-02.png"></p><p>zipManually íƒœìŠ¤í¬ ê²°ê³¼ëŠ” ì •ìƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤ë§Œâ€¦ ì´ìƒí•œ ë¶€ë¶„ì„ ëˆˆì¹˜ì±„ì‹ ë¶„ë“¤ì´ ìˆìœ¼ì‹œê² ì£ ? <strong>ë°”ë¡œ Build Versionì´ ë‘ë²ˆ ì¶œë ¥ë˜ì—ˆë‹¤ëŠ” ì </strong>ì¸ë°ìš”. ìš°ë¦¬ëŠ” ë¶„ëª…íˆ ë³„ë„ì˜ íƒœìŠ¤í¬ë¡œ ì •ì˜í•˜ê³  íƒœìŠ¤í¬ ë¸”ë¡ ë‚´ì—ì„œ í˜„ì¬ Build Versionì„ ì¶œë ¥í•˜ë„ë¡ ì‘ì„±í–ˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ Build Version ë²„ì „ì´ ë‘ë²ˆ ì¶œë ¥ë˜ëŠ” ì´ìœ ëŠ” ì´ ê¸€ì˜ ì£¼ìš” ë‚´ìš©ì¸ ê·¸ë˜ë“¤ ë¹Œë“œ ë¼ì´í”„ì‚¬ì´í´ì— ëŒ€í•œ ê°œë…ê³¼ ê´€ë ¨ì´ ìˆìŠµë‹ˆë‹¤.</p><h2 id="ê·¸ë˜ë“¤-ë¹Œë“œ-ë¼ì´í”„ì‚¬ì´í´"><a href="#ê·¸ë˜ë“¤-ë¹Œë“œ-ë¼ì´í”„ì‚¬ì´í´" class="headerlink" title="ê·¸ë˜ë“¤ ë¹Œë“œ ë¼ì´í”„ì‚¬ì´í´"></a>ê·¸ë˜ë“¤ ë¹Œë“œ ë¼ì´í”„ì‚¬ì´í´</h2><p>ì‚¬ì‹¤ ìƒ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ê²½í—˜í•˜ëŠ” ì´ìœ ëŠ” ê·¸ë˜ë“¤ì˜ ë¹Œë“œ ë¼ì´í”„ì‚¬ì´í´ì— ëŒ€í•œ ê°œë…ì„ ëª¨ë¥´ê¸° ë•Œë¬¸ì¸ë°ìš”. 20ë…„ì°¨ì´ì‹  íŒ€ì¥ë‹˜ ì¡°ì°¨ë„ ì˜ ëª¨ë¥´ëŠ” ë¶€ë¶„ì´ì—ˆë‹¤ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¹Œë“œ ë¼ì´í”„ì‚¬ì´í´ ì¡´ì¬ë¥¼ ëª¨ë¥´ëŠ” ìƒí™©ì´ì—ˆê¸°ì— ì´ë ‡ê²Œ ë˜ëŠ” ì´ìœ ë¥¼ ê²€ìƒ‰í•˜ê³  íŒ€ì¥ë‹˜ê»˜ì„œ <a target="_blank" rel="noopener" href="https://stackoverflow.com/a/23485085">Gradle executes all tasks?</a>ì´ë¼ëŠ” ìŠ¤íƒì˜¤ë²„í”Œë¡œìš° ì§ˆë¬¸ì„ ê³µìœ í•´ì£¼ì…¨ìŠµë‹ˆë‹¤.</p><p>ì´ ì§ˆë¬¸ì— ëŒ€í•œ ë‹µë³€ì—ì„œëŠ” ê·¸ë˜ë“¤ì—ëŠ” configuration ë‹¨ê³„ì™€ execution ë‹¨ê³„ê°€ ìˆê³  ì´ê²ƒì€ ì¤‘ìš”í•œ ê°œë…ì´ë¼ê³  ì„¤ëª…í•˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë©´ ê·¸ë˜ë“¤ ê³µì‹ ë¬¸ì„œì— ìˆëŠ” <a target="_blank" rel="noopener" href="https://docs.gradle.org/current/userguide/build_lifecycle.html">Build Lifecycle</a>ë¥¼ ì‚´í´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p><blockquote><p>Gradle builds the complete dependency graph before any task is executed.<br>â€¦ Your build scripts configure this dependency graph.</p></blockquote><p>ê·¸ë˜ë“¤ì€ íƒœìŠ¤í¬ë¥¼ ìˆ˜í–‰í•˜ê¸° ì „ì— ì˜ì¡´ì„± ê·¸ë˜í”„ë¥¼ ë¹Œë“œí•˜ê³  ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ëŠ” ì˜ì¡´ì„± ê·¸ë˜í”„ë¥¼ êµ¬ì„±í•œë‹¤ê³  ì„¤ëª…í•˜ë©° ë¹Œë“œ ë‹¨ê³„ì— ëŒ€í•´ì„œ ì„¤ëª…í•©ë‹ˆë‹¤.</p><h3 id="ë¹Œë“œ-ë‹¨ê³„"><a href="#ë¹Œë“œ-ë‹¨ê³„" class="headerlink" title="ë¹Œë“œ ë‹¨ê³„"></a>ë¹Œë“œ ë‹¨ê³„</h3><p>ê·¸ë˜ë“¤ì˜ ë¹Œë“œ ë‹¨ê³„ëŠ” 3ê°€ì§€ë¡œ êµ¬ë¶„ëœë‹¤ê³  í•˜ë©° ì´ˆê¸°í™”(Initialization), êµ¬ì„±(Configuration), ìˆ˜í–‰(Execution)ì…ë‹ˆë‹¤.</p><blockquote><p><strong>Initialization</strong><br>Gradle supports single and multi-project builds. During the initialization phase, Gradle determines which projects are going to take part in the build, and creates a Project instance for each of these projects.</p><p><strong>Configuration</strong><br>During this phase the project objects are configured. The build scripts of all projects which are part of the build are executed.</p><p><strong>Execution</strong><br>Gradle determines the subset of the tasks, created and configured during the configuration phase, to be executed. The subset is determined by the task name arguments passed to the gradle command and the current directory. Gradle then executes each of the selected tasks.</p></blockquote><p>ì„¸ê°€ì§€ì˜ ë‹¨ê³„ ì¤‘ êµ¬ì„± ë‹¨ê³„ì—ì„œëŠ” ëª¨ë“  í”„ë¡œì íŠ¸ì˜ ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ê°€ ì‹¤í–‰ëœë‹¤ëŠ” ì„¤ëª…ì´ ìˆìŠµë‹ˆë‹¤. ì´ ë¶€ë¶„ì´ ì œê°€ ê²½í—˜í•œ ë¬¸ì œì˜ ì›ì¸ì´ë¼ê³  í•  ìˆ˜ ìˆëŠ”ë° íƒœìŠ¤í¬ ë‚´ì—ì„œ ì‘ì„±í•˜ëŠ” ì½”ë“œëŠ” êµ¬ì„± ë‹¨ê³„ì— í¬í•¨ë˜ë©° doFirstì™€ doLast ë¸”ë¡ì´ ìˆ˜í–‰ ë‹¨ê³„ì— í¬í•¨ë˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</p><p>ì €ë„ ëª¨ë¥´ëŠ” ë¶€ë¶„ì´ì—ˆê³  ìƒê°ë³´ë‹¤ ë§ì€ ë¸”ë¡œê·¸ì—ì„œëŠ” ê·¸ë˜ë“¤ íƒœìŠ¤í¬ ì •ì˜ë¥¼ ì„¤ëª…í•  ë•Œ êµ¬ì„± ë‹¨ê³„ì— í•´ë‹¹ë˜ëŠ” ê³³ì— printlnì„ ì‘ì„±í•˜ëŠ” ì˜ˆì‹œë¥¼ ë³´ì—¬ì£¼ëŠ”ë°ìš”. ìƒê°ë³´ë‹¤ ë§ì€ ë¶„ë“¤ì´ ì´ ê°œë…ì— ëŒ€í•´ì„œ ëª¨ë¥¸ë‹¤ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¬¼ë¡  ë‹¨ì¼ ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡œì íŠ¸ì—ì„œëŠ” ëª°ë¼ë„ ìƒê´€ì—†ë‹¤ê³  í•  ìˆ˜ ìˆê² ë„¤ìš”.</p><h3 id="í…ŒìŠ¤íŠ¸ë¥¼-ìœ„í•œ-íƒœìŠ¤í¬"><a href="#í…ŒìŠ¤íŠ¸ë¥¼-ìœ„í•œ-íƒœìŠ¤í¬" class="headerlink" title="í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ íƒœìŠ¤í¬"></a>í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ íƒœìŠ¤í¬</h3><p>ê·¸ëŸ¬ë©´ ì–´ë–»ê²Œ í•˜ì˜€ê¸°ì— í”„ë¡œì íŠ¸ ë²„ì „ì´ í¬í•¨ë˜ì§€ ì•Šì•˜ì„ ì§€ ë‹¤ìŒì˜ íƒœìŠ¤í¬ë¥¼ ì‚´í´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p><pre class="language-groovy" data-language="groovy"><code class="language-groovy">task <span class="token function">zipBeanstalk</span><span class="token punctuation">(</span>type<span class="token punctuation">:</span> Zip<span class="token punctuation">,</span> dependsOn<span class="token punctuation">:</span> <span class="token string">'procfile'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
task <span class="token function">zipManually</span><span class="token punctuation">(</span>type<span class="token punctuation">:</span> Zip<span class="token punctuation">,</span> dependsOn<span class="token punctuation">:</span> <span class="token string">'bootWar'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

task <span class="token function">k8sbuild</span><span class="token punctuation">(</span>dependsOn<span class="token punctuation">:</span> bootWar<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    project<span class="token punctuation">.</span>version <span class="token string">''</span>
<span class="token punctuation">&#125;</span></code></pre><p>ì¶”ê°€í•œ k8sbuild íƒœìŠ¤í¬ëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ ë°°í¬ í™˜ê²½ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ íŒ¨í‚¤ì§•ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ WAR íŒŒì¼ì— í¬í•¨ë˜ëŠ” í”„ë¡œì íŠ¸ ë²„ì „ì„ ìƒëµí•˜ê¸° ìœ„í•´ì„œ project.versionì„ ë¹ˆ ê°’ìœ¼ë¡œ ì„¤ì •í•˜ë„ë¡ ì‘ì„±í•œê²Œ í™”ê·¼ì´ì—ˆìŠµë‹ˆë‹¤. ì´ ìƒíƒœë¡œ zipManually íƒœìŠ¤í¬ë¥¼ ë‹¤ì‹œ í•œë²ˆ ìˆ˜í–‰í•˜ë©´ ì–´ë–»ê²Œ ë˜ëŠ”ì§€ í™•ì¸í•´ë´…ì‹œë‹¤.</p><pre class="language-sh" data-language="sh"><code class="language-sh">.&#x2F;gradlew clean zipManually -x test -Pversion&#x3D;1.0.0-hotfix.11</code></pre><p><img data-src="/images/posts/gradle-build-lifecycle/gradle-03.png"></p><p>k8sbuild íƒœìŠ¤í¬ì— ì‘ì„±ëœ project.versionì„ ì„¤ì •í•˜ëŠ” í–‰ìœ„ëŠ” êµ¬ì„± ë‹¨ê³„ì— í•´ë‹¹í•˜ê¸° ë•Œë¬¸ì— ëª¨ë“  íƒœìŠ¤í¬ë¥¼ ìˆ˜í–‰í•˜ê¸° ì´ì „ì— ì ìš©ë˜ì–´ zipManually íƒœìŠ¤í¬ë¥¼ ìˆ˜í–‰í–ˆìŒì—ë„ ë¶ˆêµ¬í•˜ê³  í”„ë¡œì íŠ¸ ë²„ì „ì´ í¬í•¨ë˜ì§€ ì•Šì•˜ìŒì„ ë³´ì—¬ì¤ë‹ˆë‹¤.</p><h3 id="í•´ê²°ë°©ì•ˆ"><a href="#í•´ê²°ë°©ì•ˆ" class="headerlink" title="í•´ê²°ë°©ì•ˆ"></a>í•´ê²°ë°©ì•ˆ</h3><p>ê·¸ëŸ¬ë©´ ì–´ë–»ê²Œ í•´ê²°í•˜ëŠ”ê²Œ ì¢‹ì„ì§€ ë°©ì•ˆì„ ì°¾ì•„ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p><h4 id="í”„ë¡œì íŠ¸-ë²„ì „-ì¬ì •ì˜í•˜ëŠ”-ê²½ìš°"><a href="#í”„ë¡œì íŠ¸-ë²„ì „-ì¬ì •ì˜í•˜ëŠ”-ê²½ìš°" class="headerlink" title="í”„ë¡œì íŠ¸ ë²„ì „ ì¬ì •ì˜í•˜ëŠ” ê²½ìš°"></a>í”„ë¡œì íŠ¸ ë²„ì „ ì¬ì •ì˜í•˜ëŠ” ê²½ìš°</h4><p>k8sbuild íƒœìŠ¤í¬ì²˜ëŸ¼ íŠ¹ì • íƒœìŠ¤í¬ì—ì„œ í”„ë¡œì íŠ¸ ë²„ì „ì„ ì¬ì •ì˜ í•˜ê³ ì‹¶ì€ ê²½ìš°ì—ëŠ” doFirstì™€ ê°™ì€ í´ë¡œì €ë¥¼ í™œìš©í•´ì•¼í•©ë‹ˆë‹¤.</p><pre class="language-groovy" data-language="groovy"><code class="language-groovy">task <span class="token function">k8sbuild</span><span class="token punctuation">(</span>dependsOn<span class="token punctuation">:</span> bootWar<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    doFirst <span class="token punctuation">&#123;</span>
        project<span class="token punctuation">.</span>version <span class="token string">''</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre><h4 id="í”„ë¡œì íŠ¸-ë²„ì „ì„-í™•ì¸í•˜ê³ -ì‹¶ì€-ê²½ìš°"><a href="#í”„ë¡œì íŠ¸-ë²„ì „ì„-í™•ì¸í•˜ê³ -ì‹¶ì€-ê²½ìš°" class="headerlink" title="í”„ë¡œì íŠ¸ ë²„ì „ì„ í™•ì¸í•˜ê³  ì‹¶ì€ ê²½ìš°"></a>í”„ë¡œì íŠ¸ ë²„ì „ì„ í™•ì¸í•˜ê³  ì‹¶ì€ ê²½ìš°</h4><p>zipBeanstalkì™€ zipManually íƒœìŠ¤í¬ì²˜ëŸ¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ WARë¡œ íŒ¨í‚¤ì§•í•˜ëŠ” ê²½ìš° í˜„ì¬ í”„ë¡œì íŠ¸ ë²„ì „ì„ ì¶œë ¥í•˜ê³  ì‹¶ì€ ê²½ìš° gradle.taskGraph.whenReadyë¥¼ í™œìš©í•¨ìœ¼ë¡œì¨ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><pre class="language-groovy" data-language="groovy"><code class="language-groovy">task <span class="token function">zipBeanstalk</span><span class="token punctuation">(</span>type<span class="token punctuation">:</span> Zip<span class="token punctuation">,</span> dependsOn<span class="token punctuation">:</span> <span class="token string">'procfile'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    from <span class="token punctuation">(</span><span class="token string">'.ebextensions'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> into <span class="token string">'.ebextensions'</span> <span class="token punctuation">&#125;</span>
    from <span class="token punctuation">(</span><span class="token string">'.platform'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> into <span class="token string">'.platform'</span> <span class="token punctuation">&#125;</span>

    from <span class="token punctuation">(</span><span class="token string">'build/libs'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">include</span><span class="token punctuation">(</span>bootWar<span class="token punctuation">.</span>archiveName<span class="token punctuation">)</span>
        <span class="token function">include</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"Procfile"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    baseName <span class="token operator">=</span> <span class="token string">'beanstalk'</span>
<span class="token punctuation">&#125;</span>

task <span class="token function">zipManually</span><span class="token punctuation">(</span>type<span class="token punctuation">:</span> Zip<span class="token punctuation">,</span> dependsOn<span class="token punctuation">:</span> <span class="token string">'bootWar'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    from <span class="token punctuation">(</span><span class="token string">'.conf'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> into <span class="token string">'application-prod.yml'</span><span class="token punctuation">&#125;</span>
    from <span class="token punctuation">(</span><span class="token string">'build/libs'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">include</span><span class="token punctuation">(</span>bootWar<span class="token punctuation">.</span>archiveName<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>

    baseName <span class="token operator">=</span> <span class="token string">'app-bundle'</span>
<span class="token punctuation">&#125;</span>

gradle<span class="token punctuation">.</span>taskGraph<span class="token punctuation">.</span>whenReady <span class="token punctuation">&#123;</span> graph <span class="token operator">-></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>graph<span class="token punctuation">.</span><span class="token function">hasTask</span><span class="token punctuation">(</span>bootWar<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        println <span class="token string">'Build Version: '</span> <span class="token operator">+</span> project<span class="token punctuation">.</span>version
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre><h4 id="ë¶ˆí•„ìš”í•œ-íŒŒì¼ì„-ì œê±°í•´ì•¼í•˜ëŠ”-ê²½ìš°"><a href="#ë¶ˆí•„ìš”í•œ-íŒŒì¼ì„-ì œê±°í•´ì•¼í•˜ëŠ”-ê²½ìš°" class="headerlink" title="ë¶ˆí•„ìš”í•œ íŒŒì¼ì„ ì œê±°í•´ì•¼í•˜ëŠ” ê²½ìš°"></a>ë¶ˆí•„ìš”í•œ íŒŒì¼ì„ ì œê±°í•´ì•¼í•˜ëŠ” ê²½ìš°</h4><p>ê²½ìš°ì— ë”°ë¼ì„œëŠ” í”„ë¡œì íŠ¸ ë¹Œë“œ ì‹œ íŒ¨í‚¤ì§•ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ WAR íŒŒì¼ì— í¬í•¨ë˜ì§€ ì•Šë„ë¡ í•´ì•¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë¡œì»¬ í™˜ê²½ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡œí¼í‹° íŒŒì¼ì´ë‚˜ íŠ¹ì • ë„ë©”ì¸ì— ëŒ€í•œ ì¸ì¦ì„œ ë˜ëŠ” ì¸ì¦í‚¤ë¥¼ í¬í•¨í•˜ì§€ì•Šë„ë¡ ì œì™¸í•´ì•¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><pre class="language-groovy" data-language="groovy"><code class="language-groovy">gradle<span class="token punctuation">.</span>taskGraph<span class="token punctuation">.</span>whenReady <span class="token punctuation">&#123;</span> graph <span class="token operator">-></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>graph<span class="token punctuation">.</span><span class="token function">hasTask</span><span class="token punctuation">(</span>build_for_customer<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        processResources <span class="token punctuation">&#123;</span>
            <span class="token function">exclude</span><span class="token punctuation">(</span><span class="token string">'**/config/**.yml'</span><span class="token punctuation">)</span>
            <span class="token function">exclude</span><span class="token punctuation">(</span><span class="token string">'**/certs/**'</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre><p>ìœ„ ì˜ˆì‹œëŠ” êµ¬ì„± ë‹¨ê³„ì—ì„œ ì˜ì¡´ì„± ê·¸ë˜í”„ êµ¬ì„±ì´ ì™„ë£Œëœ ì´í›„ì— build_for_customer íƒœìŠ¤í¬ê°€ ìˆ˜í–‰ë˜ëŠ” ê²½ìš°ì— ê³ ê° í™˜ê²½ìœ¼ë¡œ ë°°í¬í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ WAR íŒŒì¼ì— ìì²´ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡œí¼í‹° íŒŒì¼ë“¤ê³¼ ì¸ì¦ì„œë¥¼ í¬í•¨í•˜ì§€ ì•Šë„ë¡ processResourcesë¥¼ ì¬ì •ì˜í•¨ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.</p><p>ê·¸ë˜ë“¤ ë¹Œë“œ ë¼ì´í”„ì‚¬ì´í´ ê°œë…ê³¼ í•¨ê»˜ ê²½í—˜í•˜ì˜€ë˜ ë¬¸ì œì— ëŒ€í•˜ì—¬ ì–´ë–»ê²Œ í•´ê²°í•  ìˆ˜ ìˆëŠ”ì§€ ì•Œì•„ë³´ì•˜ìŠµë‹ˆë‹¤. ì–´ë–¤ ê¸°ìˆ ì„ ì‚¬ìš©í•¨ì— ìˆì–´ì„œ ì£¼ìš” ê°œë…ì„ ì´í•´í•˜ê³  ìˆëŠ” ê²ƒì´ ì¤‘ìš”í•¨ì„ ë‹¤ì‹œí•œë²ˆ ê¹¨ë‹«ê²Œ ë˜ëŠ” ì¢‹ì€ ê²½í—˜ì´ì—ˆìŠµë‹ˆë‹¤. ì—¬ëŸ¬ë¶„ì˜ ê·¸ë˜ë“¤ ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë„ ìˆ˜í–‰ ë‹¨ê³„ì—ì„œ ìˆ˜í–‰ë˜ì–´ì•¼í•  ì½”ë“œë¥¼ êµ¬ì„± ë‹¨ê³„ì—ì„œ ë™ì‘í•˜ë„ë¡ ì‘ì„±ë˜ì§€ ì•Šì•˜ëŠ”ì§€ ê²€í† í•´ë³´ì‹œê¸°ë¥¼ ë°”ëë‹ˆë‹¤.</p><p>ê°ì‚¬í•©ë‹ˆë‹¤.</p></div><footer class="post-footer"><div class="post-tags"><a href="/tags/Gradle/" rel="tag"># Gradle</a> <a href="/tags/Lifecycle/" rel="tag"># Lifecycle</a></div><div class="post-nav"><div class="post-nav-item"><a href="/static-analysis-performed-by-sonarqube-and-github-action/" rel="prev" title="SonarQubeì™€ Github Actionìœ¼ë¡œ ìˆ˜í–‰í•˜ëŠ” ì •ì  ë¶„ì„"><i class="fa fa-chevron-left"></i> SonarQubeì™€ Github Actionìœ¼ë¡œ ìˆ˜í–‰í•˜ëŠ” ì •ì  ë¶„ì„</a></div><div class="post-nav-item"><a href="/gradle-multi-module-project/" rel="next" title="ê·¸ë˜ë“¤ ë©€í‹° ëª¨ë“ˆ í”„ë¡œì íŠ¸">ê·¸ë˜ë“¤ ë©€í‹° ëª¨ë“ˆ í”„ë¡œì íŠ¸ <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments"><script src="https://utteranc.es/client.js" repo="kdevkr/kdevkr.github.io" issue-term="pathname" theme="github-light" crossorigin="anonymous" async></script></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Mambo</span></div><div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a></div></div></footer><script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/@next-theme/pjax@0.5.0/pjax.min.js" integrity="sha256-3NkoLDrmHLTYj7csHIZSr0MHAFTXth7Ua/DDt4MRUAg=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/lozad@1.16.0/dist/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script><script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/next-boot.js"></script><script src="/js/pjax.js"></script><script src="/js/third-party/fancybox.js"></script><script src="/js/third-party/pace.js"></script><script src="https://unpkg.com/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script><script>var options={bottom:"unset",right:"15px",left:"unset",time:"0.5s",mixColor:"transparent",backgroundColor:"transparent",buttonColorDark:"#100f2c",buttonColorLight:"#fff",saveInCookies:!0,label:"ğŸŒ—",autoMatchOsTheme:!0};const darkmode=new Darkmode(options);window.darkmode=darkmode,darkmode.showWidget()</script></body></html>