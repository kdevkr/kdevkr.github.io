---
title: ìì¹´ë¥´íƒ€ ë©”ì¼ í”„ë¡œë°”ì´ë” ì˜¤ë¥˜
date: 2024-09-07T00:00+09:00
tags:
- ë¬¸ì œí•´ê²°
- íŠ¸ëŸ¬ë¸”ìŠˆíŒ…
toc:
  enable: false
---

# ğŸ‘©â€ğŸ’» ì‚¬ìš©ì ë¡œê·¸ì¸ ì‹œ 2ì°¨ ì¸ì¦ ë©”ì¼ì´ ì•ˆì™€ìš”

ê°œë°œì¤‘ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ë¥¼ QAê°€ ë°°í¬í•˜ê³ ë‚˜ì„œ ì‚¬ìš©ì ë¡œê·¸ì¸ ì‹œ **2ì°¨ì¸ì¦ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•œ ì¸ì¦ì½”ë“œ ë©”ì¼ì´ ìˆ˜ì‹ ì´ ì•ˆëœë‹¤**ëŠ” ë²„ê·¸ ë¦¬í¬íŠ¸ë¥¼ í•´ì£¼ì—ˆì–´ìš”. ê°‘ìê¸° ì–´ë–¤ ë¬¸ì œë¡œ ì¸í•´ ì´ë©”ì¼ì´ ë°œì†¡ë˜ì§€ ì•Šì•˜ëŠ”ì§€ì™€ í•´ê²°ê³¼ì •ì— ëŒ€í•´ì„œ ê³µìœ í•´ë³´ë ¤ê³  í•©ë‹ˆë‹¤.

## ë¬¸ì œ ì›ì¸ ë¶„ì„

ë¨¼ì €, í•´ë‹¹ ì„œë²„ì—ëŠ” ì˜ˆì™¸ ìƒí™©ì„ ì¶”ì í•  ìˆ˜ ìˆë„ë¡ Sentryê°€ ë„ì…ë˜ì–´ ìˆëŠ” ìƒíƒœì˜€ìŠµë‹ˆë‹¤. Sentry ì—ì„œëŠ” ìˆ˜ì§‘ëœ ì˜ˆì™¸ê°€ ì—†ì—ˆê¸° ë•Œë¬¸ì— ì¦‰ì‹œ ì•Œì•„ì±„ì§€ ëª»í•˜ëŠ” ìƒí™©ì— í•´ë‹¹í•©ë‹ˆë‹¤. ì•„ë¬´íŠ¼, ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ ë¡œê·¸ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ì„œ ë¦¬ëˆ…ìŠ¤ ì„œë²„ì— ì ‘ì†í•˜ê³  ë„ì»¤ ì»¨í…Œì´ë„ˆì— ê¸°ë¡ëœ ìµœê·¼ ë¡œê·¸ë¥¼ ì‚´í´ë³´ì•˜ìŠµë‹ˆë‹¤.

```sh
# docker compose logs --since '2024-09-06T16:00+09:00' app
docker compose logs --since '5m' app
app | ... caused by: Not provider of jakarta.mail.util.StreamProvider was found
```

> ë„ì»¤ ì»´í¬ì¦ˆì—ì„œ --since ì˜µì…˜ì„ ì‚¬ìš©í•˜ë©´ ì›í•˜ëŠ” ì‹œì ë¶€í„°ì˜ ë¡œê·¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”

ì„œë²„ ë¡œê·¸ì—ëŠ” ìœ„ì™€ ê°™ì´ ìì¹´ë¥´íƒ€ ë©”ì¼ì˜ StreamProviderë¥¼ ì°¾ì„ ìˆ˜ ì—†ë‹¤ëŠ” ì˜¤ë¥˜ ë©”ì‹œì§€ê°€ ë‚¨ì•„ìˆì—ˆëŠ”ë°ìš”. ì²˜ìŒë³´ëŠ” ì˜¤ë¥˜ ë©”ì‹œì§€ ì´ë¯€ë¡œ êµ¬ê¸€ ê²€ìƒ‰ì„ í•´ë³´ë‹ˆ [ìì¹´ë¥´íƒ€ ë©”ì¼ ê´€ë ¨ ê¹ƒí—ˆë¸Œì— ì´ìŠˆë¡œ ë“±ë¡ëœ ë‚´ìš©ì´ ìˆìŒ](https://github.com/jakartaee/mail-api/issues/665)ì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤. ì´ìŠˆ ë‚´ìš©ì€ ì  í‚¨ìŠ¤ í”ŒëŸ¬ê·¸ì¸ì—ì„œ Jakarta Mail API 2.1.1 ì„ ì‚¬ìš©í•˜ë©´ ìœ„ì™€ ë™ì¼í•œ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤. ë™ì¼í•˜ê²Œ ì  í‚¨ìŠ¤ì—ì„œ ë°œìƒí•œ ê²ƒì€ ì•„ë‹ˆì§€ë§Œ [ì‹¤í–‰ê°€ëŠ¥í•œ Jar ì—ì„œ í´ë˜ìŠ¤ë¡œë”ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠëŠ”ë‹¤](https://github.com/spring-projects/spring-boot/issues/39843)ëŠ” ì´ìŠˆë¥¼ ë³´ê²Œë˜ì—ˆê³  ìì¹´ë¥´íƒ€ ë©”ì¼ì— ëŒ€í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë²„ì „ì„ í™•ì¸í•´ë³´ì•˜ìŠµë‹ˆë‹¤.

ì„œë²„ ì• í”Œë¦¬ì¼€ì´ì…˜ì— í•´ë‹¹ë˜ëŠ” [ìŠ¤í”„ë§ ë¶€íŠ¸ 3.1.2ì˜ ì˜ì¡´ì„± ë²„ì „ ì •ë³´](https://docs.spring.io/spring-boot/docs/3.1.2/reference/html/dependency-versions.html)ì—ì„œ ê²€ìƒ‰ì„ í•´ë³´ë‹ˆ ì•„ë˜ì™€ ê°™ì´ íŒŒì•…ë˜ì—ˆìŠµë‹ˆë‹¤.

- org.eclipse.angus:angus-mail:1.1.0
- org.eclipse.angus:angus-activation:2.0.1
- jakarta.mail:jakarta.mail-api:1.1.0
- jakarta.activation:jakarta.activation-api:2.1.2

ìš°ì„  ë³€ê²½ì‚¬í•­ì—ì„œ ì˜ì‹¬ë˜ëŠ” ë¶€ë¶„ì´ ë°œê²¬ë˜ì§€ ì•Šì•˜ê¸°ì— ì˜ì¡´ì„± ë²„ì „ì„ ë³€ê²½í•˜ì—¬ ë°°í¬ë¥¼ ì‹œë„í•´ë³´ì•„ì•¼ í–ˆìŠµë‹ˆë‹¤. build.gradleì— ì•„ë˜ì™€ ê°™ì´ **Jakarta Mail API 2.1.3** ë¥¼ ì¶”ê°€í•˜ê³  ë¹Œë“œ ë° ë°°í¬ë¥¼ ìˆ˜í–‰í•´ë³´ì•˜ìŠµë‹ˆë‹¤.

```groovy build.gradle
ext {
    set('angus-mail.version', '2.0.3') // from 1.1.0
    set('jakarta-mail.version', '2.1.3') // from 2.1.2
}
```

ìƒˆë¡­ê²Œ ë°°í¬ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œë„ ë©”ì¼ì´ ë°œì†¡ë˜ì§€ ì•Šì•˜ê³  ì•„ë˜ì™€ ê°™ì€ **ìƒˆë¡œìš´ ì˜¤ë¥˜ ë©”ì‹œì§€**ê°€ ë‚¨ì•˜ìŠµë‹ˆë‹¤.

```sh
Provider for jakarta.activation.spi.MailcapRegistryProvider cannot be found
```

Jakarta Mail API ë²„ì „ì„ ë³€ê²½í•˜ë©´ **jakarta.activation-api** ë„ ë³€ê²½ë ê±°ë¼ ìƒê°í–ˆëŠ”ë°ìš”. ë””íœë˜ì‹œ íŠ¸ë¦¬ë¥¼ ìì„¸íˆ ì‚´í´ë³´ì§€ ì•Šì€ê²Œ ëŒ€ì‘ ê³¼ì •ì—ì„œì˜ ì‹¤ìˆ˜ì˜€ìŠµë‹ˆë‹¤. ì•„ë˜ì™€ ê°™ì´ **jakarta-activation** ì— ëŒ€í•œ ë²„ì „ì„ ì¶”ê°€ë¡œ ì§€ì •í•˜ê³  ë‹¤ì‹œ ë°°í¬í–ˆìŠµë‹ˆë‹¤.

```groovy build.gradle
ext {
    set('angus-mail.version', '2.0.3')
    set('angus-activation.version', '2.0.2') // from 1.1.0
    set('jakarta-mail.version', '2.1.3')
    set('jakarta-activation.version', '2.1.3') // from 2.1.2
}
```

### ğŸ‘©â€ğŸ’» 2ì°¨ ì¸ì¦ ë©”ì¼ ì œëŒ€ë¡œ ì™€ìš”â€¼

ì¼ë‹¨ ê¸‰í•˜ê²Œ í•´ê²°ì€ ë˜ì—ˆìœ¼ë‹ˆ ë‹¤í–‰ì´ì§€ë§Œ ë” ìì„¸í•œ ë‚´ìš©ì— ëŒ€í•´ì„œ ì‚´í´ë³´ì•„ì•¼ê² ì£ ? ë¨¼ì €, ì˜ì¡´ì„± ë²„ì „ì„ ì˜¬ë¦¬ëŠ” ê²ƒì€ ë§ì€ í…ŒìŠ¤íŠ¸ê°€ í•„ìš”í•œ ìœ„í—˜í•œ ì‘ì—…ì„ì„ ë˜ëŒì•„ë´ì•¼í•©ë‹ˆë‹¤. í•´ë‹¹ í”„ë¡œì íŠ¸ëŠ” ë¦´ë¦¬ì¦ˆí•œ ì œí’ˆì€ ì•„ë‹ˆì—ˆê¸°ì— ìš´ì˜ í™˜ê²½ì´ ì—†ì—ˆê³  ë¬¸ì œê°€ ë°œìƒí–ˆë˜ ê²ƒì€ í…ŒìŠ¤íŠ¸ ì—”ì§€ë‹ˆì–´ê°€ ê¸°ëŠ¥ í™•ì¸í•  ìˆ˜ ìˆëŠ” í…ŒìŠ¤íŠ¸ í™˜ê²½ì´ì—ˆê¸°ì— ê°€ëŠ¥í–ˆìŠµë‹ˆë‹¤.

ë˜í•œ, í•´ë‹¹ ì˜¤ë¥˜ëŠ” ë¡œì»¬ í™˜ê²½ì—ì„œ ì¸í…”ë¦¬ì œì´ IDEë¡œ ì‹¤í–‰ë˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” ë°œìƒí•˜ì§€ ì•Šì•˜ëŠ”ë°ìš”. ì‹¤í–‰ê°€ëŠ¥í•œ Jar ì—ì„œ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤ëŠ” ì •ë³´ëŠ” ë¬¸ì œê°€ í•´ê²°í•˜ê³ ë‚˜ì„œ ë” ìì„¸í•œ ë‚´ìš©ì„ ì°¾ì•„ë³´ê³  ì •ë¦¬í•˜ëŠ” ë‹¨ê³„ì—ì„œ ì•Œê²Œë˜ì—ˆìŠµë‹ˆë‹¤. ë¡œì»¬ì—ì„œ ë¹Œë“œí•˜ê³  ì‹¤í–‰í•´ë³´ì§€ ì•Šì€ ì ‘ê·¼ì— ëŒ€í•´ì„œëŠ” ì•„ì‰¬ìš´ ë¶€ë¶„ìœ¼ë¡œ ìƒê°ë˜ë¯€ë¡œ ê°œì„ í•´ì•¼í•  ë¶€ë¶„ ê°™ìŠµë‹ˆë‹¤.

## ë¬¸ì œ í•´ê²° ì •ë¦¬

> Not provider of jakarta.mail.util.StreamProvider was found
> Provider for jakarta.activation.spi.MailcapRegistryProvider cannot be found

- ìŠ¤í”„ë§ ë¶€íŠ¸ì—ì„œ ForkJoinPoolë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° **Executable Jar** ì—ì„œ í´ë˜ìŠ¤ë¡œë”ê°€ ì˜¬ë°”ë¥´ì§€ ì•Šì„ ìˆ˜ ìˆìŒ
- ë¬¸ì œê°€ ë˜ì—ˆë˜ ì½”ë“œì—ëŠ” **ParallelStream** ì„ ì‚¬ìš©í–ˆê¸°ì— ë‚´ë¶€ì ìœ¼ë¡œ **ForkJoinPool**ì„ í˜¸ì¶œí•˜ëŠ” ìƒíƒœ
- Jakarta Mail 2.1.2 ì´í•˜ ë²„ì „ì—ì„œ í´ë˜ìŠ¤ë¡œë”ê°€ **Jakarta Provider SPI**ë¥¼ ì°¾ì„ ìˆ˜ ì—†ëŠ” ê²°í•¨ì´ ìˆìŒ
- Jakarta Mail 2.1.3 ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” **Angus Mail Provider 2.0.3** ì„ ì¶”ê°€í•´ì•¼í•¨

â€» Angus Mail ì€ Jakarta Mail Specification 2.1+ ì— ëŒ€í•œ êµ¬í˜„ì²´ í”„ë¡œì íŠ¸ë¼ê³  í•´ìš”.

ê°ì‚¬í•©ë‹ˆë‹¤.
