---
title: 자바 개발자가 Go를 배우는 이야기 1탄
date: 2021-02-12
---

![Gopher](../images/logo/gopher.svg#compact)

저는 스프링 프레임워크 기반의 서버 애플리케이션과 Vue 기반의 클라이언트 애플리케이션을 개발하는 풀스택 또는 웹 개발자입니다. 자바는 오래된 역사가 있는 언어인 만큼 많은 개발자들이 애플리케이션을 개발할 때 사용하는 언어 중 하나입니다. [티오베(Tiobe)](https://www.tiobe.com/tiobe-index/)의 언어 인기 순위를 보면 자바는 C 그리고 C++과 더불어 상위권에 위치합니다. 본 글의 제목은 자바 개발자가 Go를 배우는 이야기로 결정했습니다.

> Mambo님! 자바 개발자인데 왜 Go를 배우려고해요?...

저는 중소기업에서 재직중인 개발자이므로 현실적으로 Go를 실무에서 사용하기엔 어려움이 많습니다. 그런데 제가 Go 언어를 배우려고하는 이유는 언제까지 현재 회사에서 일할지는 모르는 것이고 만약, 나중에 Go를 사용하는 회사로 이직하게 된다면 그 회사에서 진행하는 업무에 도움이 될 것입니다.

Go 이외에도 파이썬, 러스트, 타입스크립트 등 떠오르는 언어는 많습니다. 특히나 파이썬의 경우 인공지능 이나 데이터 분석 분야에서 두각을 나타내고 있죠. 러스트는 시스템 프로그래밍 분야에서 관심이 많은 언어인 듯 합니다만 주로 웹 애플리케이션을 개발하는 저로써는 관심 밖의 분야입니다. 이와 달리 Go 언어는 네트워크 또는 웹 애플리케이션 분야에서 점차 많이 사용되는 언어인 것을 체감하고 있습니다.

국내 몇몇의 서비스 기업 뿐만 아니라 클라우드 영역에서 자주 언급되는 [도커](https://github.com/moby/moby) 그리고 [쿠버네티스](https://github.com/kubernetes/kubernetes), 심지어 Git을 위한 오픈소스 리파지토리 서비스를 제공하는 깃허브는 [깃허브 CLI](https://github.com/cli/cli)를 Go로 작성했습니다.

많은 개발자들이 Go 언어를 배우고 싶어하는 언어로 선정하기도 하며 많은 프로젝트들이 Go로 작성되는 것을 보면 웹 분야의 개발자가 충분히 배울 가치가 있다는 언어라고 생각됩니다.

## Go
사실 Go 언어를 처음 들어본 것은 도커와 쿠버네티스가 아닌 [Hugo](https://gohugo.io/)라는 정적 사이트를 만들 수 있는 프레임워크였습니다. 맨 처음 깃허브 블로그를 [지킬(Jekyll)](https://jekyllrb-ko.github.io/)으로 시작해서 현재는 노드 기반의 [Hexo](https://hexo.io/)로 블로그를 운영하고 있습니다. 그때 당시 Go를 알지 못하였으므로 Hugo가 아닌 Hexo로 결정했죠.

> 지금과 달리 Hugo는 Hexo 만큼 많이 사랑받고 있지 않았습니다.

노드 기반의 정적 사이트 도구가 있으므로 Hugo를 선택해서 Go를 배워야할 필요성도 없었습니다. Go를 배우고나서 시간이 된다면 이 블로그 이외에 별도로 작성하고 있는 [mambo-dev.github.io](https://mambo-dev.github.io/docs/)를 Hugo로 전환해볼 수도 있겠습니다.

- [개발자가 가장 배우고 싶은 프로그래밍 언어는 '고(GO)'](https://zdnet.co.kr/view/?no=20200205112108)
- [왜 구글의 프로그래밍 언어 Go가 겁나 핫한건지 5분 설명](https://www.youtube.com/watch?v=VDaMhtWNSQU)

왜 많은 사람들이 Go 언어를 배우려고 하는 걸까요? 저도 그것이 궁금해서 배워볼까하는 마음이 생겨버렸습니다. 그리고 2021년에는 에너지 관련 토이 프로젝트를 진행해보자하는 목표가 있는 만큼 Go 언어를 배울 기회는 지금이라고 생각합니다. 실무에서 주로 사용하는 스프링 프레임워크가 아닌 Go 언어로 웹 애플리케이션을 개발해보려는 이유는 자바와 달리 Go는 **간결한 문법**과 **멀티 프로세스 환경**에서 좀 더 효율적인 성능을 보장한다고 들었기 때문입니다.

예를 들어, Go 언어는 비동기 프로그래밍을 지원하는데 자바가 OS 스레드를 할당받아 사용하는 것과는 달리 Go는 런타임 자체적으로 고루틴(Goruntine)이라는 가상의 스레드를 만들어 관리한다고 하는 부분이 있습니다.

[Goroutines vs Threads | tech.ssut.me](https://tech.ssut.me/goroutine-vs-threads/)

> 실제로 자바로 만들어진 웹 애플리케이션에서 병렬 처리를 위해 스레드를 만들어내면서 심지어는 스레드 풀이 감당하지 못할 만큼 처리되어야하는 작업이 대기하기도 합니다. 이로 인해 발생하는 메모리 부족 현상은 덤으로...

Go 언어가 병렬 프로그래밍 영역에 효율적인 성능을 가지게 된 이유는 이 언어를 고안한 개발자들이 상당한 이력의 시스템 프로그래밍 엔지니어이기 때문일 수 있습니다. 구글의 로버트 그리즈머, 롭 파이크, 켄 톰슨은 C++ 엔지니어로 C++ 언어의 복잡함으로 인해서 이를 대신할 수 있는 언어인 Go를 설계했다고 합니다. 이렇게 설계한 언어는 사실 시스템 프로그래밍과 분산 프로세서 환경을 목적으로 만들어 졌기에 메모리 사용에도 안전성을 가져야하고 네트워크와 병렬 처리가 가능해야 했습니다.

그로 인해 다음과 같은 특징을 가졌다고 해요.

- 정적 타이핑
- 동시성(Concurrency)
- 가비지 컬렉션(GC)
- 빠른 컴파일 속도

C++처럼 정적 타입의 언어이면서 자바의 가비지 컬렉션(GC) 기능을 포함하고 심지어는 다른 컴파일 언어 대비 빠르게 컴파일 되는 속도를 지원하게 됩니다. 그러나 설계 시 시스템 프로그래밍 영역에서 C++을 대체하기 위해 고안되었지만 사실 상 C++ 만큼의 성능을 보장 아니므로 네트워크 또는 분산 환경인 **클라우드 영역**에서 많이 사용되는 듯 합니다.

### 고(Go)? 고랭(Golang)?
고 언어 웹사이트의 도메인은 [golang.org](https://golang.org/)이라서 고(Go)라고도 하고 고랭(Golang)이라고도 부른다고 합니다.

### 고의 마스코트, Gopher
![blog.golang.org/gopher](https://blog.golang.org/gopher/header.jpg)

고퍼(Gopher)는 고 언어를 사용하는 개발자를 지칭한다고 합니다. 그래서 고퍼들의 행사 이름도 [고퍼콘(Gophercon)](https://www.gophercon.com/)입니다.

> 지역별로 고퍼콘 행사가 열리는 듯합니다만 국내에는 없나보네요?

## Go vs Java
저에게 익숙한 자바 프로젝트 구조는 다음과 같습니다. 자바 의존성 라이브러리들을 관리하기 위해 그레이들(Gradle)과 같은 도구를 사용하면 다음과 같은 구조가 만들어집니다.

```sh
src
 ├─ main
 │ ├─ java
 │ └─ resources
gradle
build.gradle
```

일반적으로 자바 코드는 **src/main/java** 경로에 작성하며 테스트 코드는 **src/test/java**에 작성합니다. 반면에 Go는 소스 코드가 작성되어야하는 경로가 GOPATH 라고 하는 환경변수의 `src` 폴더 아래에 위치하게 됩니다. 

> 프로젝트 폴더가 위치해야하는 경로가 강제되어있어 처음에는 많이 불편했습니다. 자바에 찌들어서...

### Go Project Structure
Go의 역사가 자바만큼 오래되지 않으므로 표준으로 보이는 프로젝트 구조가 없습니다. 그래서 2018년에 진행된 고퍼콘에서는 [Kat Zien - How Do You Structure Your Go Apps](https://www.youtube.com/watch?v=oL6JBUk6tj0)처럼 프로젝트 구조에 대해서 다루죠.

그래서 Go 언어 개발팀에서 정의한 표준은 아니지만 쿠버네티스 또는 프로메테우스 같은 프로젝트에서도 사용중인 [표준 프로젝트 레이아웃](https://github.com/golang-standards/project-layout)이 존재합니다.

사실 중요하다고 생각되는 부분이 프로젝트 폴더에서 [src 폴더를 사용하지 않아야 된다](https://github.com/golang-standards/project-layout#directories-you-shouldnt-have)는 부분입니다. 이 부분은 GOPATH와 관련된 내용으로 프로젝트 폴더가 GOPATH의 src 폴더 밑에 위치하기 때문에 src 폴더를 반복하는 것은 좋지 못하다는 내용입니다.

> 처음에는 src/main/java 처럼 src/main/go에 소스 코드를 작성하려고 했죠.

고 모듈이라는 것을 사용하게 되면서 프로젝트 폴더를 굳이 GOPATH에 두지 않아도 상관없게 되었지만 여전히 GOPATH 밑에 프로젝트 폴더를 두는 것이 관행으로 잡힌 듯 합니다.

> 고 모듈을 사용하더라도 외부 의존성 패키지가 다운로드 되는 경로 또한 GOPATH의 pkg 폴더입니다.

저는 프로젝트 폴더는 GOPATH에 위치하게 하고 프로젝트 구조는 학습 시에는 Flat 구조를 실제 토이 프로젝트 진행 시에는 표준 프로젝트 레이아웃인 헥사고날 아키텍처(Hexagonal Architecture)로 구성할 것 입니다.

> 프로젝트마다 약간 다르기는 하지만 헥사고날 아키텍처를 따르는 것을 확인할 수 있을거에요.

### Go IDE
Go로 애플리케이션을 작성할 때 주로 사용하는 통합개발환경(IDE)는 다음과 같습니다.

- GoLand
- VS Code

비쥬얼 스튜디오 코드의 [Go](https://marketplace.visualstudio.com/items?itemName=golang.Go) 플러그인을 사용할 수 있지만 Jetbrains 라이센스가 있다면 [GoLand](https://www.jetbrains.com/ko-kr/go/)가 더 좋은 선택입니다.

> 저는 Jetbrains 기업용 라이센스가 있으므로 GoLand를 사용할거에요

## Installation
[Go 설치 문서](https://golang.org/doc/install)에 따라 Go 바이너리 배포판을 다운로드하고 설치할 수 있습니다. 

> 윈도우 환경의 MSI 파일로 Go를 설치하면 자동으로 시스템 환경 변수에 Go 설치 경로가 포함됩니다.

```ps
PS C:\Users\Mambo> go version
go version go1.15.8 windows/amd64
```

Go 바이너리 배포판을 설치하였습니다. 이어서 자바 개발자가 Go를 배우는 이야기 2탄에서는 Go 언어로 애플리케이션을 작성해보도록 하겠습니다.
감사합니다.