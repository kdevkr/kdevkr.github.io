---
title: 무중단 배포
date: 2022-10-12
tags:
- Zero Downtime
- Beanstalk
---

> 네이버 또는 카카오톡 같은 규모의 컨텐츠 제공자(CP)들은 전기통신사업법 제22조 7에 의거하여 서비스 안정성을 확보해야할 의무가 있다.

작은 규모의 조직에서 웹 애플리케이션으로 구성된 시스템을 개발하고 있지만 위와 같은 대규모 시스템을 다루지 않아서 경험할 수 없는 인프라 지식 중 하나는 운영중인 시스템에 대한 **무중단 배포**이다. 무중단 배포(Zero Downtime Deployment) 방식이란 운영중인 시스템을 이용하는 사용자가 최소한의 다운타임으로 배포 과정에서 서비스를 일시적으로 이용하지 못하는 상황이 최대한 발생하지 않도록 **지속적인 사용자 경험을 제공하기 위한 것**을 말한다.

현재 시스템은 특수한 분야의 기업들이 사용하는 것으로 일반적인 사용자가 이용하는 웹 서비스와는 성격이 다르기 때문에 정기적인 배포 일정으로 미리 시스템 점검을 예고하고 기업 고객들이 이용하지 않을 시간대에 시스템 변경사항을 배포하고 있다. 일부 고객은 보안 레벨 상 자체적으로 시스템에 대한 패치를 수행하고 있으며 우리는 해당 고객의 스테이징 환경에 미리 다음 버전의 시스템을 배포하고 있으므로 다운타임이 발생해도 괜찮은 배포 환경에 있다.

그럼에도 불구하고 무중단 배포에 대해서 미리 학습하고자 하는 것은 **시스템의 운용 특성 상 다운타임을 최소화**하여 기업 고객이 보유한 데이터를 기반으로 **예상하지 못한 위험 감지를 즉각 제공해야할 의무**가 있기 때문이다. 현재 조직이 자체적으로 AWS 클라우드 환경에 구성한 플랫폼은 [AWS Elastic Beanstalk의 Java SE 플랫폼을 사용하여 트래픽 분산 및 오토스케일링이 가능한 환경을 만들어두고 배포](/deploy-application-to-the-aws-elastic-beanstalk-java-se-platform-enviroment/)하고 있다.

[Elastic Beanstalk에서 지원하는 배포 정책](https://docs.aws.amazon.com/ko_kr/elasticbeanstalk/latest/dg/using-features.deploy-existing-version.html)에는 무중단 배포 방식도 포함하고 있으므로 [직접 배포 스크립트를 작성하여 무중단 배포를 수행하는 방법](https://jojoldu.tistory.com/267)을 시도할 필요는 없다. 그렇지만 Beanstalk을 사용하지 않는 환경도 있을 수 있기 때문에 시간이 많다면 [프로세스를 안전하게 종료하는 방법](https://stackoverflow.com/a/41881546)과 함께 무중단 배포를 수행할 수 있는 배포 스크립트를 작성하는 것을 학습해봐도 좋을 듯 하다.

